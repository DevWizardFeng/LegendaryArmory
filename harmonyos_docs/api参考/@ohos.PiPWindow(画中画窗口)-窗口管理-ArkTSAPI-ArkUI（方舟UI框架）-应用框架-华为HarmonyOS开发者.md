<h1 _ngcontent-cqv-c119="" class="doc-title ng-star-inserted" title="@ohos.PiPWindow (画中画窗口)"> @ohos.PiPWindow (画中画窗口) </h1>

<div _ngcontent-cqv-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>该模块提供画中画基础功能，包括判断当前系统是否支持画中画功能，以及创建画中画控制器用于启动或停止画中画等。适用于视频播放、视频通话或视频会议场景下，以小窗（画中画）模式呈现内容。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>        <p>本模块首批接口从API version 11开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p></li>       <li>        <p>在API version 20之前，支持在Phone、Tablet设备使用画中画功能，其他设备不可用；从API version 20开始，支持在Phone、PC/2in1、Tablet设备使用画中画功能，其他设备不可用。</p></li>      </ul>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PiPWindow</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 706px;">     <h2 id="pipwindowispipenabled" device-type="phone,2in1,tablet,wearable,tv">PiPWindow.isPiPEnabled<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipwindowispipenabled" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isPiPEnabled(): boolean</p>     <p>判断当前系统是否支持画中画功能。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">当前系统是否支持画中画功能。true表示支持，false则表示不支持。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">enable</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-title function_">isPiPEnabled</span>();</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'isPipEnabled:'</span> + enable);</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 3651px;">     <h2 id="pipwindowcreate" device-type="phone,2in1,tablet,wearable,tv">PiPWindow.create<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipwindowcreate" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>create(config: PiPConfiguration): Promise&lt;PiPController&gt;</p>     <p>创建画中画控制器，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">config</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipconfiguration">PiPConfiguration</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建画中画控制器的参数。该参数不能为空，并且构造该参数的context和componentController不能为空。构造该参数时，如果指定了templateType，需保证templateType是<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#piptemplatetype">PiPTemplateType</a>类型；如果指定了controlGroups，需保证controlGroups与templateType匹配，详见<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipcontrolgroup12">PiPControlGroup</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipcontroller">PiPController</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回当前创建的画中画控制器。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Params error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types. 3.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.Failed to call the API due to limited device capabilities.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BuilderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 开发者可以通过@Builder装饰器实现布局构建</span></li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildText</span>(<span class="hljs-params">params: Params</span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Text</span>(params.<span class="hljs-property">text</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>  }</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>) <span class="hljs-comment">// 宽度方向充满画中画窗口</span></li><li>  .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>) <span class="hljs-comment">// 高度方向充满画中画窗口</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// 开发者可通过继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TextNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">textNode</span>: <span class="hljs-title class_">BuilderNode</span>&lt;[<span class="hljs-title class_">Params</span>]&gt; | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">message: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = message;</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 通过BuilderNode加载自定义布局</span></li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">context</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BuilderNode</span>(context);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textNode</span>.<span class="hljs-title function_">build</span>(wrapBuilder&lt;[<span class="hljs-title class_">Params</span>]&gt;(buildText), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>));</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">textNode</span>.<span class="hljs-title function_">getFrameNode</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 开发者可自定义该方法实现布局更新</span></li><li>  <span class="hljs-title function_">update</span>(<span class="hljs-params">message: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`update message: <span class="hljs-subst">${message}</span>`</span>);</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">textNode</span> !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">textNode</span>.<span class="hljs-title function_">update</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(message));</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'createPiP'</span>;</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">pipController</span>: <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPController</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">mXComponentController</span>: <span class="hljs-title class_">XComponentController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XComponentController</span>(); <span class="hljs-comment">// 开发者应使用该mXComponentController初始化XComponent: XComponent( {id: 'video', type: 'surface', controller: mXComponentController} )，保证XComponent的内容可以被迁移到画中画窗口。</span></li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">nodeController</span>: <span class="hljs-title class_">TextNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextNodeController</span>(<span class="hljs-string">'this is custom UI'</span>);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">navId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"page_1"</span>; <span class="hljs-comment">// 假设当前页面的导航id为page_1，详见PiPConfiguration定义，具体导航名称由开发者自行定义。</span></li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">contentWidth</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">800</span>; <span class="hljs-comment">// 假设当前内容宽度800px。</span></li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">contentHeight</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">600</span>; <span class="hljs-comment">// 假设当前内容高度600px。</span></li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">para</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt; = { <span class="hljs-string">'PropA'</span>: <span class="hljs-number">47</span> };</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">localStorage</span>: <span class="hljs-title class_">LocalStorage</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalStorage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">para</span>);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">res</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">localStorage</span>.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'PropB'</span>, <span class="hljs-number">121</span>);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">defaultWindowSizeType</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>; <span class="hljs-comment">// 指定画中画第一次拉起窗口为小窗口。</span></li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">config</span>: <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPConfiguration</span> = {</li><li>        <span class="hljs-attr">context</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> <span class="hljs-title class_">Context</span>,</li><li>        <span class="hljs-attr">componentController</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">mXComponentController</span>,</li><li>        <span class="hljs-attr">navigationId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">navId</span>,</li><li>        <span class="hljs-attr">templateType</span>: <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPTemplateType</span>.<span class="hljs-property">VIDEO_PLAY</span>,</li><li>        <span class="hljs-attr">contentWidth</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">contentWidth</span>,</li><li>        <span class="hljs-attr">contentHeight</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">contentHeight</span>,</li><li>        <span class="hljs-attr">controlGroups</span>: [<span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">VideoPlayControlGroup</span>.<span class="hljs-property">VIDEO_PREVIOUS_NEXT</span>],</li><li>        <span class="hljs-attr">customUIController</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeController</span>, <span class="hljs-comment">// 可选，如果需要在画中画显示内容上方展示自定义UI，可设置该参数。</span></li><li>        <span class="hljs-attr">localStorage</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">localStorage</span>, <span class="hljs-comment">// 可选，如果需要跟踪主窗实例，可设置此参数。</span></li><li>        <span class="hljs-attr">defaultWindowSizeType</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">defaultWindowSizeType</span>, <span class="hljs-comment">// 可选，如果需要配置默认启动窗口档位，可设置此参数。</span></li><li>    };</li><li>
</li><li>    <span class="hljs-title function_">createPiP</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">promise</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPController</span>&gt; = <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-title function_">create</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: PiPWindow.PiPController</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span> = data;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating pip controller. Data:<span class="hljs-subst">${data}</span>`</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create pip controller. Cause:<span class="hljs-subst">${err.code}</span>, message:<span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>    }</li><li>
</li><li>    <span class="hljs-comment">//仅用于功能测试，实际开发过程中开发者按功能需求设计组件</span></li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-title class_">RelativeContainer</span>() {</li><li>            <span class="hljs-title class_">Button</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>                .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createPiP</span>();</li><li>                })</li><li>        }</li><li>    }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2520px;">     <h2 id="pipwindowcreate12" device-type="phone,2in1,tablet,wearable,tv">PiPWindow.create<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipwindowcreate12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>create(config: PiPConfiguration, contentNode: typeNode.XComponent): Promise&lt;PiPController&gt;</p>     <p>通过typeNode创建画中画控制器，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">config</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipconfiguration">PiPConfiguration</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建画中画控制器的参数。该参数不能为空，并且构造该参数的context不能为空。构造该参数时，如果指定了templateType，需保证templateType是<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#piptemplatetype">PiPTemplateType</a>类型；如果指定了controlGroups，需保证controlGroups与templateType匹配，详见<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipcontrolgroup12">PiPControlGroup</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">contentNode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#xcomponent12">typeNode.XComponent</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于渲染画中画窗口中的内容。该参数不能为空。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipcontroller">PiPController</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回当前创建的画中画控制器。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Params error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types. 3.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.Failed to call the API due to limited device capabilities.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PiPWindow</span>, typeNode, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>    <span class="hljs-keyword">private</span> message = <span class="hljs-string">'createPiP'</span></li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">pipController</span>: <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPController</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">xComponentController</span>: <span class="hljs-title class_">XComponentController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XComponentController</span>();</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(); <span class="hljs-comment">// 可传入UIContext或在布局中通过this.getUIContext()为context赋有效值</span></li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">contentWidth</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">800</span>; <span class="hljs-comment">// 假设当前内容宽度800px。</span></li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">contentHeight</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">600</span>; <span class="hljs-comment">// 假设当前内容高度600px。</span></li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">config</span>: <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPConfiguration</span> = {</li><li>        <span class="hljs-attr">context</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> <span class="hljs-title class_">Context</span>,</li><li>        <span class="hljs-attr">componentController</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">xComponentController</span>,</li><li>        <span class="hljs-attr">templateType</span>: <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPTemplateType</span>.<span class="hljs-property">VIDEO_PLAY</span>,</li><li>        <span class="hljs-attr">contentWidth</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">contentWidth</span>,</li><li>        <span class="hljs-attr">contentHeight</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">contentHeight</span>,</li><li>    };</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">options</span>: <span class="hljs-title class_">XComponentOptions</span> = {</li><li>        <span class="hljs-attr">type</span>: <span class="hljs-title class_">XComponentType</span>.<span class="hljs-property">SURFACE</span>,</li><li>        <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">xComponentController</span></li><li>    }</li><li>    <span class="hljs-keyword">private</span> xComponent = typeNode.<span class="hljs-title function_">createNode</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, <span class="hljs-string">'XComponent'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>);</li><li>
</li><li>    <span class="hljs-title function_">createPiP</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">promise</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPController</span>&gt; = <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-title function_">create</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">xComponent</span>);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: PiPWindow.PiPController</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span> = data;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating pip controller. Data:<span class="hljs-subst">${data}</span>`</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create pip controller. Cause:<span class="hljs-subst">${err.code}</span>, message:<span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>    }</li><li>
</li><li>    <span class="hljs-comment">//仅用于功能测试，实际开发过程中开发者按功能需求设计组件</span></li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-title class_">RelativeContainer</span>() {</li><li>            <span class="hljs-title class_">Button</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>                .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createPiP</span>();</li><li>                })</li><li>        }</li><li>    }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3474px;">     <h2 id="pipconfiguration" device-type="phone,2in1,tablet,wearable,tv">PiPConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipconfiguration" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>创建画中画控制器时的参数。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">context</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-basecontext">BaseContext</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示上下文环境。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">componentController</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-xcomponent#xcomponentcontroller">XComponentController</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示原始<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-xcomponent">XComponent</a>控制器。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">navigationId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>当前page导航id，不传值则默认不需要缓存页面。</p>          <p>1、UIAbility使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation">Navigation</a>管理页面，需要设置Navigation控件的id属性，并将该id设置给画中画控制器，确保还原场景下能够从画中画窗口恢复到原页面。</p>          <p>2、UIAbility使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-router">Router</a>管理页面时，无需设置navigationId。</p>          <p>3、UIAbility只有单页面时，无需设置navigationId，还原场景下也能够从画中画窗口恢复到原页面。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">templateType</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#piptemplatetype">PiPTemplateType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>模板类型，用以区分视频播放、视频通话或视频会议，不传值则默认为视频播放模板。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">contentWidth</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>原始内容宽度，单位为px。用于确定画中画窗口比例。当<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipwindowcreate12">使用typeNode的方式</a>创建PiPController时，不传值则默认为1920。当<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipwindowcreate">不使用typeNode的方式</a>创建PiPController时，不传值则默认为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-xcomponent">XComponent</a>组件的宽度。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">contentHeight</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>原始内容高度，单位为px。用于确定画中画窗口比例。当<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipwindowcreate12">使用typeNode的方式</a>创建PiPController时，不传值则默认为1080。当<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipwindowcreate">不使用typeNode的方式</a>创建PiPController时，不传值则默认为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-xcomponent">XComponent</a>组件的高度。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">controlGroups<sup>12+</sup></td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipcontrolgroup12">PiPControlGroup</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>画中画控制面板的可选控件组列表，应用可以对此进行配置以决定是否显示。应用未配置时，面板显示基础控件（如视频播放控件组的播放/暂停控件）；应用选择配置时，则最多可以选择三个控件。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">customUIController<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-nodecontroller">NodeController</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>用于实现在画中画界面内容上方展示自定义UI功能，不传值则默认不使用自定义UI功能。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">localStorage<sup>17+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-localstorage" target="_blank">LocalStorage</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>页面级别的UI状态存储单元。多实例下可用来跟踪主窗实例的UI状态存储对象，不传值则无法通过画中画窗口获取主窗的UI状态存储对象。</p>          <p><strong>元服务API：</strong> 从API version 17开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">defaultWindowSizeType<sup>19+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>应用第一次拉起画中画的窗口大小。</p>          <p>0：代表不设置大小。按照上次画中画关闭前的大小启动；</p>          <p>1：代表小窗；</p>          <p>2：代表大窗；</p>          <p>不传值则为默认值0。</p>          <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 735px;">     <h2 id="pipwindowsize15" device-type="phone,2in1,tablet,wearable,tv">PiPWindowSize<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipwindowsize15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>画中画窗口大小。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">width</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">窗口宽度，单位为px，该参数应为正整数，不大于屏幕宽。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">height</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">窗口高度，单位为px，该参数应为正整数，不大于屏幕高。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">scale</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">窗口缩放比，显示大小相对于width和height的缩放比，该参数为浮点数，取值范围大于0.0，小于等于1.0。等于1表示与width和height一样大。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 426px;">     <h2 id="pipwindowinfo15" device-type="phone,2in1,tablet,wearable,tv">PiPWindowInfo<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipwindowinfo15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>画中画窗口信息。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">windowId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">画中画窗口ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">size</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipwindowsize15">PiPWindowSize</a></td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">画中画窗口大小。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 660px;">     <h2 id="piptemplatetype" device-type="phone,2in1,tablet,wearable,tv">PiPTemplateType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="piptemplatetype" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>画中画媒体类型枚举。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">VIDEO_PLAY</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">表示将要切换为画中画播放的媒体类型是视频，系统依此加载视频播放模板。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">VIDEO_CALL</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示将要切换为画中画播放的媒体类型是视频通话，系统依此加载视频通话模板。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">VIDEO_MEETING</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">表示将要切换为画中画播放的媒体类型是视频会议，系统依此加载视频会议模板。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">VIDEO_LIVE</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">表示将要切换为画中画播放的媒体类型是直播，系统依此加载直播模板。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 654px;">     <h2 id="pipstate" device-type="phone,2in1,tablet,wearable,tv">PiPState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipstate" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>画中画生命周期状态枚举。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">ABOUT_TO_START</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示画中画将要启动。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">STARTED</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">表示画中画已经启动。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ABOUT_TO_STOP</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">表示画中画将要停止。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">STOPPED</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">表示画中画已经停止。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ABOUT_TO_RESTORE</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">表示画中画将从小窗播放恢复到原始播放界面。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">表示画中画生命周期执行过程出现了异常。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 662px;">     <h2 id="pipcontrolgroup12" device-type="phone,2in1,tablet,wearable,tv">PiPControlGroup<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipcontrolgroup12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type PiPControlGroup = VideoPlayControlGroup | VideoCallControlGroup | VideoMeetingControlGroup | VideoLiveControlGroup</p>     <p>画中画控制面板的可选控件组列表，应用可以配置是否显示可选控件。默认情况下控制面板只显示基础控件（如视频播放控件组的播放/暂停控件）。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#videoplaycontrolgroup12">VideoPlayControlGroup</a></td>         <td class="cellrowborder" width="50%">视频播放控件组。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#videocallcontrolgroup12">VideoCallControlGroup</a></td>         <td class="cellrowborder" width="50%">视频通话控件组。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#videomeetingcontrolgroup12">VideoMeetingControlGroup</a></td>         <td class="cellrowborder" width="50%">视频会议控件组。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#videolivecontrolgroup12">VideoLiveControlGroup</a></td>         <td class="cellrowborder" width="50%">视频直播控件组。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 570px;">     <h2 id="videoplaycontrolgroup12" device-type="phone,2in1,tablet,wearable,tv">VideoPlayControlGroup<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="videoplaycontrolgroup12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>视频播放控件组枚举。仅当<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#piptemplatetype">PiPTemplateType</a>为VIDEO_PLAY时使用。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">VIDEO_PREVIOUS_NEXT</td>         <td class="cellrowborder" width="33.33333333333333%">101</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>视频上一个/下一个控件组。</p>          <p>与视频快进/后退控件组为互斥控件组。如添加视频快进/后退控件组，则不可添加该控件组。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">FAST_FORWARD_BACKWARD</td>         <td class="cellrowborder" width="33.33333333333333%">102</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>视频快进/后退控件组。</p>          <p>与视频上一个/下一个控件组为互斥控件组。如添加视频上一个/下一个控件组，则不可添加该控件组。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 516px;">     <h2 id="videocallcontrolgroup12" device-type="phone,2in1,tablet,wearable,tv">VideoCallControlGroup<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="videocallcontrolgroup12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>视频通话控件组枚举。仅当<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#piptemplatetype">PiPTemplateType</a> 为VIDEO_CALL时使用。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">MICROPHONE_SWITCH</td>         <td class="cellrowborder" width="33.33333333333333%">201</td>         <td class="cellrowborder" width="33.33333333333333%">打开/关闭麦克风控件组。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">HANG_UP_BUTTON</td>         <td class="cellrowborder" width="33.33333333333333%">202</td>         <td class="cellrowborder" width="33.33333333333333%">挂断控件组。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CAMERA_SWITCH</td>         <td class="cellrowborder" width="33.33333333333333%">203</td>         <td class="cellrowborder" width="33.33333333333333%">打开/关闭摄像头控件组。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MUTE_SWITCH</td>         <td class="cellrowborder" width="33.33333333333333%">204</td>         <td class="cellrowborder" width="33.33333333333333%">静音控件组。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 516px;">     <h2 id="videomeetingcontrolgroup12" device-type="phone,2in1,tablet,wearable,tv">VideoMeetingControlGroup<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="videomeetingcontrolgroup12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>视频会议控件组枚举。仅当<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#piptemplatetype">PiPTemplateType</a> 为VIDEO_MEETING时使用。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">HANG_UP_BUTTON</td>         <td class="cellrowborder" width="33.33333333333333%">301</td>         <td class="cellrowborder" width="33.33333333333333%">挂断控件组。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CAMERA_SWITCH</td>         <td class="cellrowborder" width="33.33333333333333%">302</td>         <td class="cellrowborder" width="33.33333333333333%">打开/关闭摄像头控件组。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MUTE_SWITCH</td>         <td class="cellrowborder" width="33.33333333333333%">303</td>         <td class="cellrowborder" width="33.33333333333333%">静音控件组。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MICROPHONE_SWITCH</td>         <td class="cellrowborder" width="33.33333333333333%">304</td>         <td class="cellrowborder" width="33.33333333333333%">打开/关闭麦克风控件组。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 426px;">     <h2 id="videolivecontrolgroup12" device-type="phone,2in1,tablet,wearable,tv">VideoLiveControlGroup<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="videolivecontrolgroup12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>视频直播控件组枚举。仅当<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#piptemplatetype">PiPTemplateType</a> 为VIDEO_LIVE时使用。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">VIDEO_PLAY_PAUSE</td>         <td class="cellrowborder" width="33.33333333333333%">401</td>         <td class="cellrowborder" width="33.33333333333333%">播放/暂停直播控件组。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MUTE_SWITCH</td>         <td class="cellrowborder" width="33.33333333333333%">402</td>         <td class="cellrowborder" width="33.33333333333333%">静音控件组。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 614px;">     <h2 id="pipactioneventtype" device-type="phone,2in1,tablet,wearable,tv">PiPActionEventType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipactioneventtype" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type PiPActionEventType = PiPVideoActionEvent | PiPCallActionEvent | PiPMeetingActionEvent | PiPLiveActionEvent</p>     <p>画中画控制面板控件动作事件类型，支持以下四种。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipvideoactionevent">PiPVideoActionEvent</a></td>         <td class="cellrowborder" width="50%">视频播放控制面板控件事件类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipcallactionevent">PiPCallActionEvent</a></td>         <td class="cellrowborder" width="50%">视频通话控制面板控件事件类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipmeetingactionevent">PiPMeetingActionEvent</a></td>         <td class="cellrowborder" width="50%">视频会议控制面板控件事件类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipliveactionevent">PiPLiveActionEvent</a></td>         <td class="cellrowborder" width="50%">直播控制面板控件事件类型。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 669px;">     <h2 id="pipvideoactionevent" device-type="phone,2in1,tablet,wearable,tv">PiPVideoActionEvent<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipvideoactionevent" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type PiPVideoActionEvent = 'playbackStateChanged' | 'nextVideo' | 'previousVideo' | 'fastForward' | 'fastBackward'</p>     <p>视频播放控制事件类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">'playbackStateChanged'</td>         <td class="cellrowborder" width="50%">播放状态发生了变化。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'nextVideo'</td>         <td class="cellrowborder" width="50%">播放下一个视频。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'previousVideo'</td>         <td class="cellrowborder" width="50%">播放上一个视频。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'fastForward'<sup>12+</sup></td>         <td class="cellrowborder" width="50%">视频进度快进。从API version 12 开始支持。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'fastBackward'<sup>12+</sup></td>         <td class="cellrowborder" width="50%">视频进度后退。从API version 12 开始支持。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 614px;">     <h2 id="pipcallactionevent" device-type="phone,2in1,tablet,wearable,tv">PiPCallActionEvent<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipcallactionevent" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type PiPCallActionEvent = 'hangUp' | 'micStateChanged' | 'videoStateChanged' | 'voiceStateChanged'</p>     <p>视频通话控制事件类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">'hangUp'</td>         <td class="cellrowborder" width="50%">挂断视频通话。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'micStateChanged'</td>         <td class="cellrowborder" width="50%">打开或关闭麦克风。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'videoStateChanged'</td>         <td class="cellrowborder" width="50%">打开或关闭摄像头。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'voiceStateChanged'<sup>12+</sup></td>         <td class="cellrowborder" width="50%">静音或解除静音。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 614px;">     <h2 id="pipmeetingactionevent" device-type="phone,2in1,tablet,wearable,tv">PiPMeetingActionEvent<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipmeetingactionevent" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type PiPMeetingActionEvent = 'hangUp' | 'voiceStateChanged' | 'videoStateChanged' | 'micStateChanged'</p>     <p>视频会议控制事件类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">'hangUp'</td>         <td class="cellrowborder" width="50%">挂断视频会议。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'voiceStateChanged'</td>         <td class="cellrowborder" width="50%">静音或解除静音。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'videoStateChanged'</td>         <td class="cellrowborder" width="50%">打开或关闭摄像头。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'micStateChanged'<sup>12+</sup></td>         <td class="cellrowborder" width="50%">打开或关闭麦克风。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 504px;">     <h2 id="pipliveactionevent" device-type="phone,2in1,tablet,wearable,tv">PiPLiveActionEvent<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipliveactionevent" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type PiPLiveActionEvent = 'playbackStateChanged' | 'voiceStateChanged'</p>     <p>直播控制事件类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">'playbackStateChanged'</td>         <td class="cellrowborder" width="50%">播放或暂停直播。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'voiceStateChanged'<sup>12+</sup></td>         <td class="cellrowborder" width="50%">静音或解除静音。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 516px;">     <h2 id="pipcontrolstatus12" device-type="phone,2in1,tablet,wearable,tv">PiPControlStatus<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipcontrolstatus12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>控制面板控件状态枚举。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">PLAY</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">播放。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PAUSE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">暂停。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">OPEN</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">打开。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CLOSE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">关闭。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 741px;">     <h2 id="pipcontroltype12" device-type="phone,2in1,tablet,wearable,tv">PiPControlType<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipcontroltype12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>控制面板控件类型枚举。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">VIDEO_PLAY_PAUSE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">播放/暂停控件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">VIDEO_PREVIOUS</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">视频上一个控件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">VIDEO_NEXT</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">视频下一个控件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">FAST_FORWARD</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">视频快进控件</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">FAST_BACKWARD</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">视频快退控件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">HANG_UP_BUTTON</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">挂断控件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MICROPHONE_SWITCH</td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">打开/关闭麦克风控件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CAMERA_SWITCH</td>         <td class="cellrowborder" width="33.33333333333333%">7</td>         <td class="cellrowborder" width="33.33333333333333%">打开/关闭摄像头控件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MUTE_SWITCH</td>         <td class="cellrowborder" width="33.33333333333333%">8</td>         <td class="cellrowborder" width="33.33333333333333%">打开/关闭静音控件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 810px;">     <h2 id="controlpanelactioneventcallback12" device-type="phone,2in1,tablet,wearable,tv">ControlPanelActionEventCallback<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="controlpanelactioneventcallback12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ControlPanelActionEventCallback = (event: PiPActionEventType, status?: number) =&gt; void</p>     <p>描述画中画控制面板控件动作事件回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipactioneventtype">PiPActionEventType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调画中画控制面板控件动作事件类型。</p>          <p>应用依据控件动作事件做相应处理，如触发'playbackStateChanged'事件时，需要开始或停止视频。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">status</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表示可切换状态的控件当前的状态，如具备打开和关闭两种状态的麦克风控件组、摄像头控件组和静音控件组，打开为1，关闭为0。其余控件该参数返回默认值-1。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 858px;">     <h2 id="controleventparam12" device-type="phone,2in1,tablet,wearable,tv">ControlEventParam<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="controleventparam12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>画中画控制面板控件动作回调的参数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">controlType</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipcontroltype12">PiPControlType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">回调画中画控制面板控件动作事件类型。应用依据控件类型做相应处理，如视频模板中暂停/播放控件被点击时，需要开始或停止视频。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">status</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipcontrolstatus12">PiPControlStatus</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示可切换状态的控件当前的状态，如具备打开和关闭两种状态的麦克风控件组、摄像头控件组和静音控件组，打开为PiPControlStatus.PLAY，关闭为PiPControlStatus.PAUSE。如不具备开/关和播放/暂停状态的挂断控件默认返回值为-1。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 278px;">     <h2 id="pipcontroller" device-type="phone,2in1,tablet,wearable,tv">PiPController<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pipcontroller" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>画中画控制器实例。用于启动、停止画中画以及更新回调注册等。</p>     <p>下列API示例中都需先使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipwindowcreate">PiPWindow.create()</a>方法获取到PiPController实例，再通过此实例调用对应方法。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1162px;">     <h3 id="startpip" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">startPiP<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="startpip" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startPiP(): Promise&lt;void&gt;</p>     <p>启动画中画，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300012</td>         <td class="cellrowborder" width="50%">The PiP window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300013</td>         <td class="cellrowborder" width="50%">Failed to create the PiP window.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300014</td>         <td class="cellrowborder" width="50%">PiP internal error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300015</td>         <td class="cellrowborder" width="50%">Repeated PiP operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">//开发者可根据pipController的定义方式自行实现pipController的调用</span></li><li><span class="hljs-keyword">let</span> promise : <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">startPiP</span>();</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in starting pip.`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start pip. Cause:<span class="hljs-subst">${err.code}</span>, message:<span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1099px;">     <h3 id="stoppip" device-type="phone,2in1,tablet,wearable,tv">stopPiP<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stoppip" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopPiP(): Promise&lt;void&gt;</p>     <p>停止画中画，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300011</td>         <td class="cellrowborder" width="50%">Failed to destroy the PiP window.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300012</td>         <td class="cellrowborder" width="50%">The PiP window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300015</td>         <td class="cellrowborder" width="50%">Repeated PiP operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> promise : <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">stopPiP</span>();</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in stopping pip.`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop pip. Cause:<span class="hljs-subst">${err.code}</span>, message:<span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 870px;">     <h3 id="setautostartenabled" device-type="phone,2in1,tablet,wearable,tv">setAutoStartEnabled<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setautostartenabled" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAutoStartEnabled(enable: boolean): void</p>     <p>设置是否在返回桌面时自动启动画中画，默认不自动拉起。</p>     <p>在使用xComponent方案实现画中画功能并结合Navigation进行路由管理时，首次调用setAutoStartEnabled(true)方法，系统会缓存当前应用传入的NavigationId的栈顶信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">如返回桌面时需自动启动画中画，则该参数配置为true，否则为false。若设置中自动启动画中画开关为关闭状态，就算该参数配置为true，应用返回桌面时也不会自动启动画中画窗口。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">enable</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">setAutoStartEnabled</span>(enable);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1062px;">     <h3 id="updatecontentsize" device-type="phone,2in1,tablet,wearable,tv">updateContentSize<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatecontentsize" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateContentSize(width: number, height: number): void</p>     <p>当媒体源切换时，向画中画控制器更新媒体源尺寸信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示媒体内容宽度，必须为大于0的数字，单位为px。用于更新画中画窗口比例。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">height</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示媒体内容高度，必须为大于0的数字，单位为px。用于更新画中画窗口比例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Params error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">540</span>; <span class="hljs-comment">// 假设当前内容宽度变为540px。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">960</span>; <span class="hljs-comment">// 假设当前内容高度变为960px。</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">updateContentSize</span>(width, height);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1182px;">     <h3 id="updatepipcontrolstatus12" device-type="phone,2in1,tablet,wearable,tv">updatePiPControlStatus<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatepipcontrolstatus12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updatePiPControlStatus(controlType: PiPControlType, status: PiPControlStatus): void</p>     <p>更新画中画控制面板控件功能状态。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">controlType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipcontroltype12">PiPControlType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示画中画控制面板控件类型。目前仅支持VIDEO_PLAY_PAUSE、MICROPHONE_SWITCH、CAMERA_SWITCH和MUTE_SWITCH这几种控件类型，传入其他控件类型无效。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">status</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipcontrolstatus12">PiPControlStatus</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示画中画控制面板控件状态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Params error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">controlType</span>: <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPControlType</span> = <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPControlType</span>.<span class="hljs-property">VIDEO_PLAY_PAUSE</span>; <span class="hljs-comment">// 视频播放控制面板中播放/暂停控件。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">status</span>: <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPControlStatus</span> = <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPControlStatus</span>.<span class="hljs-property">PLAY</span>; <span class="hljs-comment">// 视频播放控制面板中播放/暂停控件为播放状态。</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">updatePiPControlStatus</span>(controlType, status);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1442px;">     <h3 id="updatecontentnode18" device-type="phone,2in1,tablet,wearable,tv">updateContentNode<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatecontentnode18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateContentNode(contentNode: typeNode.XComponent): Promise&lt;void&gt;</p>     <p>更新画中画节点内容，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">contentNode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#xcomponent12">typeNode.XComponent</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于渲染画中画窗口中的内容。该参数不能为空。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Params error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300014</td>         <td class="cellrowborder" width="50%">PiP internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { typeNode, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// 可传入UIContext或在布局中通过this.getUIContext()为context赋有效值</span></li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> contentNode = typeNode.<span class="hljs-title function_">createNode</span>(context, <span class="hljs-string">"XComponent"</span>);</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">updateContentNode</span>(contentNode);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to update content node. Cause: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1086px;">     <h3 id="setpipcontrolenabled12" device-type="phone,2in1,tablet,wearable,tv">setPiPControlEnabled<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setpipcontrolenabled12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setPiPControlEnabled(controlType: PiPControlType, enabled: boolean): void</p>     <p>更新控制面板控件使能状态。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">controlType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipcontroltype12">PiPControlType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示画中画控制面板控件类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">enabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示画中画控制面板控件使能状态。true表示控件为可使用状态，false则为禁用状态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Params error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">controlType</span>: <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPControlType</span> = <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPControlType</span>.<span class="hljs-property">VIDEO_PLAY_PAUSE</span>; <span class="hljs-comment">// 视频播放控制面板中播放/暂停控件。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">enabled</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// 视频播放控制面板中播放/暂停控件为禁用状态。</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">setPiPControlEnabled</span>(controlType, enabled);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1212px;">     <h3 id="getpipwindowinfo15" device-type="phone,2in1,tablet,wearable,tv">getPiPWindowInfo<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpipwindowinfo15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPiPWindowInfo(): Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipwindowinfo15">PiPWindowInfo</a>&gt;</p>     <p>获取画中画窗口信息，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipwindowinfo15">PiPWindowInfo</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回当前画中画窗口信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300014</td>         <td class="cellrowborder" width="50%">PiP internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">pipWindowInfo</span>: <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPWindowInfo</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise : <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPWindowInfo</span>&gt; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">getPiPWindowInfo</span>();</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    pipWindowInfo = data;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Success in get pip window info. Info: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get pip window info. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get pip window info. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1284px;">     <h3 id="getpipsettingswitch20" device-type="phone,2in1,tablet,wearable,tv">getPiPSettingSwitch<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpipsettingswitch20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPiPSettingSwitch(): Promise&lt;boolean&gt;</p>     <p>获取设置中自动启动画中画开关的状态，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在Phone设备、Tablet设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回当前自动启动画中画开关状态，true表示开启，false表示关闭。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300014</td>         <td class="cellrowborder" width="50%">PiP internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">pipSwitchStatus</span>: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise : <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">getPiPSettingSwitch</span>();</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    pipSwitchStatus = data;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting pip switch status. switchStatus: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get pip switch status. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get pip switch status. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1443px;">     <h3 id="onstatechange" device-type="phone,2in1,tablet,wearable,tv">on('stateChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onstatechange" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'stateChange', callback: (state: PiPState, reason: string) =&gt; void): void</p>     <p>开启画中画生命周期状态的监听，建议在不需要使用时关闭监听，否则可能存在内存泄漏。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'stateChange'，即画中画生命周期状态变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">function</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调生命周期状态变化事件以及原因。</p>          <p>state：<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipstate">PiPState</a>，表示当前画中画生命周期状态。</p>          <p>reason：string，表示当前生命周期的切换原因。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'stateChange'</span>, <span class="hljs-function">(<span class="hljs-params">state: PiPWindow.PiPState, reason: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">curState</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-keyword">switch</span> (state) {</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPState</span>.<span class="hljs-property">ABOUT_TO_START</span>:</li><li>      curState = <span class="hljs-string">'ABOUT_TO_START'</span>;</li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPState</span>.<span class="hljs-property">STARTED</span>:</li><li>      curState = <span class="hljs-string">'STARTED'</span>;</li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPState</span>.<span class="hljs-property">ABOUT_TO_STOP</span>:</li><li>      curState = <span class="hljs-string">'ABOUT_TO_STOP'</span>;</li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPState</span>.<span class="hljs-property">STOPPED</span>:</li><li>      curState = <span class="hljs-string">'STOPPED'</span>;</li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPState</span>.<span class="hljs-property">ABOUT_TO_RESTORE</span>:</li><li>      curState = <span class="hljs-string">'ABOUT_TO_RESTORE'</span>;</li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPState</span>.<span class="hljs-property">ERROR</span>:</li><li>      curState = <span class="hljs-string">'ERROR'</span>;</li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-attr">default</span>:</li><li>      <span class="hljs-keyword">break</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'stateChange:'</span> + curState + <span class="hljs-string">' reason:'</span> + reason);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 678px;">     <h3 id="offstatechange" device-type="phone,2in1,tablet,wearable,tv">off('stateChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offstatechange" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'stateChange'): void</p>     <p>关闭画中画生命周期状态的监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'stateChange'，即画中画生命周期状态变化事件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'stateChange'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1395px;">     <h3 id="oncontrolpanelactionevent" device-type="phone,2in1,tablet,wearable,tv">on('controlPanelActionEvent')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncontrolpanelactionevent" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'controlPanelActionEvent', callback: ControlPanelActionEventCallback): void</p>     <p>开启画中画控制面板控件动作事件的监听，建议在不需要使用时关闭监听，否则可能存在内存泄漏。推荐使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#oncontrolevent12">on('controlEvent')</a>来开启画中画控制面板控件动作事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'controlPanelActionEvent'，即画中画控制面板控件动作事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#controlpanelactioneventcallback12">ControlPanelActionEventCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">描述画中画控制面板控件动作事件回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'controlPanelActionEvent'</span>, <span class="hljs-function">(<span class="hljs-params">event: PiPWindow.PiPActionEventType, status?: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">switch</span> (event) {</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-string">'playbackStateChanged'</span>:</li><li>      <span class="hljs-keyword">if</span> (status === <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-comment">//停止视频</span></li><li>      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (status === <span class="hljs-number">1</span>) {</li><li>        <span class="hljs-comment">//播放视频</span></li><li>      }</li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-string">'nextVideo'</span>:</li><li>      <span class="hljs-comment">// 切换到下一个视频</span></li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-string">'previousVideo'</span>:</li><li>      <span class="hljs-comment">// 切换到上一个视频</span></li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-string">'fastForward'</span>:</li><li>      <span class="hljs-comment">// 视频进度快进</span></li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-string">'fastBackward'</span>:</li><li>      <span class="hljs-comment">// 视频进度后退</span></li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-attr">default</span>:</li><li>      <span class="hljs-keyword">break</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'registerActionEventCallback, event:'</span> + event);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1347px;">     <h3 id="oncontrolevent12" device-type="phone,2in1,tablet,wearable,tv">on('controlEvent')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncontrolevent12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'controlEvent', callback: Callback&lt;ControlEventParam&gt;): void</p>     <p>开启画中画控制面板控件动作事件的监听，建议在不需要使用时关闭监听，否则可能存在内存泄漏。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'controlEvent'，即画中画控制面板控件动作事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#controleventparam12">ControlEventParam</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">描述画中画控制面板控件动作事件回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'controlEvent'</span>, <span class="hljs-function">(<span class="hljs-params">control</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">switch</span> (control.<span class="hljs-property">controlType</span>) {</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPControlType</span>.<span class="hljs-property">VIDEO_PLAY_PAUSE</span>:</li><li>      <span class="hljs-keyword">if</span> (control.<span class="hljs-property">status</span> === <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPControlStatus</span>.<span class="hljs-property">PAUSE</span>) {</li><li>        <span class="hljs-comment">//停止视频</span></li><li>      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (control.<span class="hljs-property">status</span> === <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPControlStatus</span>.<span class="hljs-property">PLAY</span>) {</li><li>        <span class="hljs-comment">//播放视频</span></li><li>      }</li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPControlType</span>.<span class="hljs-property">VIDEO_NEXT</span>:</li><li>      <span class="hljs-comment">// 切换到下一个视频</span></li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPControlType</span>.<span class="hljs-property">VIDEO_PREVIOUS</span>:</li><li>      <span class="hljs-comment">// 切换到上一个视频</span></li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPControlType</span>.<span class="hljs-property">FAST_FORWARD</span>:</li><li>      <span class="hljs-comment">// 视频进度快进</span></li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-keyword">case</span> <span class="hljs-title class_">PiPWindow</span>.<span class="hljs-property">PiPControlType</span>.<span class="hljs-property">FAST_BACKWARD</span>:</li><li>      <span class="hljs-comment">// 视频进度后退</span></li><li>      <span class="hljs-keyword">break</span>;</li><li>    <span class="hljs-attr">default</span>:</li><li>      <span class="hljs-keyword">break</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'registerControlEventCallback, controlType:'</span> + control.<span class="hljs-property">controlType</span> + <span class="hljs-string">', status'</span> + control.<span class="hljs-property">status</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 702px;">     <h3 id="offcontrolpanelactionevent" device-type="phone,2in1,tablet,wearable,tv">off('controlPanelActionEvent')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcontrolpanelactionevent" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'controlPanelActionEvent'): void</p>     <p>关闭画中画控制面板控件动作事件的监听。推荐使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#offcontrolevent12">off('controlEvent')</a>来关闭画中画控制面板控件动作事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'controlPanelActionEvent'，即画中画控制面板控件动作事件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'controlPanelActionEvent'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 819px;">     <h3 id="offcontrolevent12" device-type="phone,2in1,tablet,wearable,tv">off('controlEvent')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcontrolevent12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'controlEvent', callback?: Callback&lt;ControlEventParam&gt;): void</p>     <p>关闭画中画控制面板控件动作事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'controlEvent'，即画中画控制面板控件动作事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#controleventparam12">ControlEventParam</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">描述画中画控制面板控件动作事件回调。如果不传该参数时，解除type为'controlEvent'的所有回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'controlEvent'</span>, <span class="hljs-function">() =&gt;</span> {});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1316px;">     <h3 id="onpipwindowsizechange15" device-type="phone,2in1,tablet,wearable,tv">on('pipWindowSizeChange')<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onpipwindowsizechange15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'pipWindowSizeChange', callback: Callback&lt;PiPWindowSize&gt;): void</p>     <p>开启画中画窗口尺寸变化事件的监听，建议在不需要使用时关闭监听，否则可能存在内存泄漏。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'pipWindowSizeChange'，即画中画窗口尺寸变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipwindowsize15">PiPWindowSize</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回当前画中画窗口的尺寸。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Params error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300014</td>         <td class="cellrowborder" width="50%">PiP internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'pipWindowSizeChange'</span>, <span class="hljs-function">(<span class="hljs-params">size: PiPWindow.PiPWindowSize</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in enabling the listener for pip window size changes. size: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(size));</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to enable the listener for pip window size changes. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1621px;">     <h3 id="offpipwindowsizechange15" device-type="phone,2in1,tablet,wearable,tv">off('pipWindowSizeChange')<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offpipwindowsizechange15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'pipWindowSizeChange', callback?: Callback&lt;PiPWindowSize&gt;): void</p>     <p>关闭画中画窗口尺寸变化事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'pipWindowSizeChange'，即画中画窗口尺寸变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-pipwindow#pipwindowsize15">PiPWindowSize</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回当前画中画窗口的尺寸。如果传入参数，则关闭该监听。如果未传入参数，解除type为'pipWindowSizeChange'的所有回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Params error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.Failed to call the API due to limited device capabilities.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-cqv-c106="" class="highlight-div"><div _ngcontent-cqv-c106="" class="highlight-div-header"><div _ngcontent-cqv-c106="" class="highlight-div-header-left"><div _ngcontent-cqv-c106="" class="handle-button expand-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cqv-c106="" class="highlight-div-header-right"><div _ngcontent-cqv-c106="" class="handle-button ai-button"></div><div _ngcontent-cqv-c106="" class="handle-button line-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cqv-c106="" class="handle-button theme-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cqv-c106="" class="handle-button copy-button"><div _ngcontent-cqv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cqv-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">size: PiPWindow.PiPWindowSize</span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 通过on接口开启监听</span></li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'pipWindowSizeChange'</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to enable the listener for pip window size changes. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 关闭指定callback的监听</span></li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'pipWindowSizeChange'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">pipController</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'pipWindowSizeChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to disable the listener for pip window size changes. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>