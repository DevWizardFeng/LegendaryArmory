<h1 _ngcontent-iyp-c119="" class="doc-title ng-star-inserted" title="@ohos.advertising (广告服务框架)"> @ohos.advertising (广告服务框架) </h1>

<div _ngcontent-iyp-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>本模块提供广告操作能力，包括请求广告、展示广告。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>本模块首批接口从API version 11开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p> </div></div></div> <div class="tiledSection"><h2 id="导入模块" device-type="phone,tablet,2in1">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-iyp-c106="" class="highlight-div"><div _ngcontent-iyp-c106="" class="highlight-div-header"><div _ngcontent-iyp-c106="" class="highlight-div-header-left"><div _ngcontent-iyp-c106="" class="handle-button expand-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iyp-c106="" class="highlight-div-header-right"><div _ngcontent-iyp-c106="" class="handle-button ai-button"></div><div _ngcontent-iyp-c106="" class="handle-button line-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iyp-c106="" class="handle-button theme-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iyp-c106="" class="handle-button copy-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iyp-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> <span class="">{ </span><span class="">advertising </span><span class="">} </span><span class="hljs-keyword">from</span> <span class=""><span class="hljs-string">'@kit.AdsKit'</span></span><span class="">;</span></li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="showad" device-type="phone,tablet,2in1">advertising.showAd<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showad" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>showAd(ad: Advertisement, options: AdDisplayOptions, context?: common.UIAbilityContext): void</p> <p>展示全屏广告。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.1" width="25%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.2" width="25%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>ad</p> </td> <td class="cellrowborder" width="25%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#advertisement" target="_blank">Advertisement</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告对象。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>options</p> </td> <td class="cellrowborder" width="25%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#addisplayoptions" target="_blank">AdDisplayOptions</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告展示参数。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>context</p> </td> <td class="cellrowborder" width="25%"><p>common.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a></p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>UIAbility的上下文环境，不设置从api: @ohos.app.ability.common中获取。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ads" target="_blank">广告服务框架错误码参考</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.10.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.10.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>Invalid input parameter. Possible causes:</p> <p>1. Mandatory parameters are left unspecified.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>21800001</p> </td> <td class="cellrowborder" width="50%"><p>System internal error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>21800004</p> </td> <td class="cellrowborder" width="50%"><p>Failed to display the ad.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>1. 为了保证广告能正确展示，该接口必须和请求广告接口配套使用。</p> <p>2. 该接口仅支持展示激励广告和插屏广告。</p> </div></div></div> <p><strong>示例：</strong></p> <p>其中context的获取方式参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-context-stage#context的获取方式" target="_blank">各类context的获取方式</a>。</p> <div _ngcontent-iyp-c106="" class="highlight-div"><div _ngcontent-iyp-c106="" class="highlight-div-header"><div _ngcontent-iyp-c106="" class="highlight-div-header-left"><div _ngcontent-iyp-c106="" class="handle-button expand-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iyp-c106="" class="highlight-div-header-right"><div _ngcontent-iyp-c106="" class="handle-button ai-button"></div><div _ngcontent-iyp-c106="" class="handle-button line-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iyp-c106="" class="handle-button theme-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iyp-c106="" class="handle-button copy-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iyp-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { advertising } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AdsKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">showAd</span>(<span class="hljs-params">ad: advertising.Advertisement, context?: common.UIAbilityContext</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 广告展示参数，开发者可根据项目实际情况设置</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">adDisplayOptions</span>: advertising.<span class="hljs-property">AdDisplayOptions</span> = {};</li><li>  <span class="hljs-comment">// 调用全屏广告展示接口</span></li><li>  advertising.<span class="hljs-title function_">showAd</span>(ad, adDisplayOptions, context);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section85125201812" device-type="phone,tablet,2in1">advertising.getAdRequestBody<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section85125201812" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getAdRequestBody(adParams: AdRequestParams[], adOptions: AdOptions): Promise<span style="color: rgb(38,38,38);">&lt;</span><span style="color: rgb(38,38,38);">string</span><span style="color: rgb(38,38,38);">&gt;</span></p> <p>获取广告请求体，使用Promise异步回调（该接口仅对部分系统预置应用开放）。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> <p><strong>设备行为差异：</strong>该接口在Phone、Tablet设备中可正常调用，在其他设备中返回801错误码。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.1" width="25%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.2" width="25%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>adParams</p> </td> <td class="cellrowborder" width="25%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#adrequestparams" target="_blank">AdRequestParams</a>[]</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告请求参数。</p> <p><strong>说明</strong><strong>：</strong>该接口体的adId参数可以为空。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>adOptions</p> </td> <td class="cellrowborder" width="25%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#adoptions" target="_blank">AdOptions</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告配置参数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;string&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回字符类型的广告数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ads" target="_blank">广告服务框架错误码参考</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.12.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.12.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>Invalid input parameter. Possible causes:</p> <p>1. Mandatory parameters are left unspecified.</p> <p>2. Incorrect parameter types.</p> <p>3. Parameter verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>801</p> </td> <td class="cellrowborder" width="50%"><p>Device not supported.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>21800001</p> </td> <td class="cellrowborder" width="50%"><p>System internal error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iyp-c106="" class="highlight-div"><div _ngcontent-iyp-c106="" class="highlight-div-header"><div _ngcontent-iyp-c106="" class="highlight-div-header-left"><div _ngcontent-iyp-c106="" class="handle-button expand-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iyp-c106="" class="highlight-div-header-right"><div _ngcontent-iyp-c106="" class="handle-button ai-button"></div><div _ngcontent-iyp-c106="" class="handle-button line-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iyp-c106="" class="handle-button theme-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iyp-c106="" class="handle-button copy-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iyp-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { advertising } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AdsKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getAdRequestBody</span>(<span class="hljs-params">adRequestParamsArray: advertising.AdRequestParams[]</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 广告配置参数，开发者可根据项目实际情况设置</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">adOptions</span>: advertising.<span class="hljs-property">AdOptions</span> = {};</li><li>  advertising.<span class="hljs-title function_">getAdRequestBody</span>(adRequestParamsArray, adOptions).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Succeeded in getting ad request body. Data is <span class="hljs-subst">${data}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section768811254547" device-type="phone,tablet,2in1">advertising.parseAdResponse<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section768811254547" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>parseAdResponse(adResponse: string, listener: MultiSlotsAdLoadListener, context: common.UIAbilityContext): void</p> <p>解析并处理广告响应体（该接口仅对部分系统预置应用开放）。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> <p><strong>设备行为差异：</strong>该接口在Phone、Tablet设备中可正常调用，在其他设备中返回801错误码。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>adResponse</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告响应体。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>listener</p> </td> <td class="cellrowborder" width="25%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#multislotsadloadlistener" target="_blank">MultiSlotsAdLoadListener</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>请求广告回调监听。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>context</p> </td> <td class="cellrowborder" width="25%"><p>common.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>UIAbility的上下文环境。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ads" target="_blank">广告服务框架错误码参考</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="37.34%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="62.660000000000004%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="37.34%"><p>401</p> </td> <td class="cellrowborder" width="62.660000000000004%"><p>Invalid input parameter. Possible causes:</p> <p>1. Mandatory parameters are left unspecified.</p> <p>2. Incorrect parameter types.</p> <p>3. Parameter verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="37.34%"><p>801</p> </td> <td class="cellrowborder" width="62.660000000000004%"><p>Device not supported.</p> </td> </tr> <tr><td class="cellrowborder" width="37.34%"><p>21800001</p> </td> <td class="cellrowborder" width="62.660000000000004%"><p>System internal error.</p> </td> </tr> <tr><td class="cellrowborder" width="37.34%"><p>21800005</p> </td> <td class="cellrowborder" width="62.660000000000004%"><p>Failed to parse the ad response.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>其中context的获取方式参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-context-stage#context的获取方式" target="_blank">各类context的获取方式</a>。</p> <div _ngcontent-iyp-c106="" class="highlight-div"><div _ngcontent-iyp-c106="" class="highlight-div-header"><div _ngcontent-iyp-c106="" class="highlight-div-header-left"><div _ngcontent-iyp-c106="" class="handle-button expand-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iyp-c106="" class="highlight-div-header-right"><div _ngcontent-iyp-c106="" class="handle-button ai-button"></div><div _ngcontent-iyp-c106="" class="handle-button line-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iyp-c106="" class="handle-button theme-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iyp-c106="" class="handle-button copy-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iyp-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { advertising } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AdsKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">parseAdResponse</span>(<span class="hljs-params">adResponse: <span class="hljs-built_in">string</span>, context: common.UIAbilityContext</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 广告解析处理回调监听</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">multiSlotsAdLoaderListener</span>: advertising.<span class="hljs-property">MultiSlotsAdLoadListener</span> = {</li><li>    <span class="hljs-attr">onAdLoadFailure</span>: <span class="hljs-function">(<span class="hljs-params">errorCode: <span class="hljs-built_in">number</span>, errorMsg: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to load multiSlots ad. Code is <span class="hljs-subst">${errorCode}</span>, message is <span class="hljs-subst">${errorMsg}</span>`</span>);</li><li>    },</li><li>    <span class="hljs-attr">onAdLoadSuccess</span>: <span class="hljs-function">(<span class="hljs-params">ads: <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">Array</span>&lt;advertising.Advertisement&gt;&gt;</span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in loading multiSlots ad'</span>);</li><li>      <span class="hljs-comment">// 保存解析处理完成的广告内容用于展示</span></li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">returnAds</span>: advertising.<span class="hljs-property">Advertisement</span>[] = [];</li><li>      ads.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">adsArray</span>) =&gt;</span> returnAds.<span class="hljs-title function_">push</span>(...adsArray));</li><li>    }</li><li>  };</li><li>  <span class="hljs-comment">// 调用响应体解析接口</span></li><li>  advertising.<span class="hljs-title function_">parseAdResponse</span>(adResponse, multiSlotsAdLoaderListener, context);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section17197727952" device-type="phone,tablet,2in1">advertising.registerWebAdInterface<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17197727952" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>registerWebAdInterface(controller: web_webview.WebviewController, context: common.UIAbilityContext): void</p> <p>注入广告JavaScript对象到Web组件中（该接口仅对部分系统预置应用开放）。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>controller</p> </td> <td class="cellrowborder" width="25%"><p>web_webview.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller" target="_blank">WebviewController</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>Web组件控制器。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>context</p> </td> <td class="cellrowborder" width="25%"><p>common.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>UIAbility的上下文环境。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ads" target="_blank">广告服务框架错误码参考</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>Invalid input parameter. Possible causes:</p> <p>1. Mandatory parameters are left unspecified.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>21800001</p> </td> <td class="cellrowborder" width="50%"><p>System internal error</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iyp-c106="" class="highlight-div"><div _ngcontent-iyp-c106="" class="highlight-div-header"><div _ngcontent-iyp-c106="" class="highlight-div-header-left"><div _ngcontent-iyp-c106="" class="handle-button expand-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iyp-c106="" class="highlight-div-header-right"><div _ngcontent-iyp-c106="" class="handle-button ai-button"></div><div _ngcontent-iyp-c106="" class="handle-button line-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iyp-c106="" class="handle-button theme-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iyp-c106="" class="handle-button copy-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iyp-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { advertising } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AdsKit'</span>;</li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">webViewController</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'registerWebAdInterface'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          advertising.<span class="hljs-title function_">registerWebAdInterface</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">webViewController</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>);</li><li>        })</li><li>      <span class="hljs-comment">// ...</span></li><li>
</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'https://www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">webViewController</span> })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section9437144217414" device-type="phone,tablet,2in1">advertising.registerWebAdInterface<sup>16+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9437144217414" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>registerWebAdInterface(controller: web_webview.WebviewController, context: common.UIAbilityContext, needRefresh: boolean): void</p> <p>注入广告JavaScript对象到Web组件中（该接口仅对部分系统预置应用开放）。</p> <p><strong>元服务API：</strong> 从API version 16开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>controller</p> </td> <td class="cellrowborder" width="25%"><p>web_webview.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller" target="_blank">WebviewController</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>Web组件控制器。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>context</p> </td> <td class="cellrowborder" width="25%"><p>common.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>UIAbility的上下文环境。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>needRefresh</p> </td> <td class="cellrowborder" width="25%"><p>boolean</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>是否需要刷新页面（true: 需要；false: 不需要）。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ads" target="_blank">广告服务框架错误码参考</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>Invalid input parameter. Possible causes: Mandatory parameters are left unspecified.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>21800001</p> </td> <td class="cellrowborder" width="50%"><p>operation javascriptRegister error</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iyp-c106="" class="highlight-div"><div _ngcontent-iyp-c106="" class="highlight-div-header"><div _ngcontent-iyp-c106="" class="highlight-div-header-left"><div _ngcontent-iyp-c106="" class="handle-button expand-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iyp-c106="" class="highlight-div-header-right"><div _ngcontent-iyp-c106="" class="handle-button ai-button"></div><div _ngcontent-iyp-c106="" class="handle-button line-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iyp-c106="" class="handle-button theme-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iyp-c106="" class="handle-button copy-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iyp-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { advertising } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AdsKit'</span>;</li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">webViewController</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-comment">// ...</span></li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'registerWebAdInterface'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          advertising.<span class="hljs-title function_">registerWebAdInterface</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">webViewController</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, <span class="hljs-literal">true</span>);</li><li>        })</li><li>
</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'https://www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">webViewController</span> })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section152851904611" device-type="phone,tablet,2in1">advertising.deleteWebAdInterface<sup>16+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section152851904611" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>deleteWebAdInterface(controller: web_webview.WebviewController, needRefresh: boolean): void</p> <p>删除通过registerWebAdInterface注入的广告JavaScript对象（该接口仅对部分系统预置应用开放）。</p> <p><strong>元服务API：</strong> 从API version  16开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>controller</p> </td> <td class="cellrowborder" width="25%"><p>web_webview.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller" target="_blank">WebviewController</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>Web组件控制器。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>needRefresh</p> </td> <td class="cellrowborder" width="25%"><p>boolean</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>是否需要刷新页面（true: 需要；false: 不需要）。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ads" target="_blank">广告服务框架错误码参考</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>Invalid input parameter. Possible causes: Mandatory parameters are left unspecified.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>21800001</p> </td> <td class="cellrowborder" width="50%"><p>operation javascriptRegister error</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iyp-c106="" class="highlight-div"><div _ngcontent-iyp-c106="" class="highlight-div-header"><div _ngcontent-iyp-c106="" class="highlight-div-header-left"><div _ngcontent-iyp-c106="" class="handle-button expand-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iyp-c106="" class="highlight-div-header-right"><div _ngcontent-iyp-c106="" class="handle-button ai-button"></div><div _ngcontent-iyp-c106="" class="handle-button line-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iyp-c106="" class="handle-button theme-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iyp-c106="" class="handle-button copy-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iyp-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { advertising } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AdsKit'</span>;</li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">webViewController</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'deleteWebAdInterface'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          advertising.<span class="hljs-title function_">deleteWebAdInterface</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">webViewController</span>, <span class="hljs-literal">true</span>);</li><li>        })</li><li>
</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'https://www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">webViewController</span> })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="adloader" device-type="phone,tablet,2in1">AdLoader<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="adloader" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>提供加载广告的功能</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> </div> <div class="tiledSection"><h3 id="section63081439115" device-type="phone,tablet,2in1" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section63081439115" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>constructor(context: common.Context)</p> <p>构造函数。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>context</p> </td> <td class="cellrowborder" width="25%"><p>common.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">Context</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>ability或application的上下文环境。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>其中context的获取方式参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-context-stage#context的获取方式" target="_blank">各类context的获取方式</a>。</p> <div _ngcontent-iyp-c106="" class="highlight-div"><div _ngcontent-iyp-c106="" class="highlight-div-header"><div _ngcontent-iyp-c106="" class="highlight-div-header-left"><div _ngcontent-iyp-c106="" class="handle-button expand-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iyp-c106="" class="highlight-div-header-right"><div _ngcontent-iyp-c106="" class="handle-button ai-button"></div><div _ngcontent-iyp-c106="" class="handle-button line-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iyp-c106="" class="handle-button theme-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iyp-c106="" class="handle-button copy-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iyp-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { advertising } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AdsKit'</span>;</li><li><span class="hljs-comment">// ...</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createAdLoader</span>(<span class="hljs-params">context: common.Context</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">adLoader</span>: advertising.<span class="hljs-property">AdLoader</span> = <span class="hljs-keyword">new</span> advertising.<span class="hljs-title class_">AdLoader</span>(context);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="loadad" device-type="phone,tablet,2in1">loadAd<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadad" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>loadAd(adParam: AdRequestParams, adOptions: AdOptions, listener: AdLoadListener): void</p> <p>请求单广告位广告。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> <p><strong>设备行为差异：</strong>该接口在Phone、Tablet设备中可正常调用，在其他设备中返回801错误码。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>adParam</p> </td> <td class="cellrowborder" width="25%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#adrequestparams" target="_blank">AdRequestParams</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告请求参数。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>adOptions</p> </td> <td class="cellrowborder" width="25%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#adoptions" target="_blank">AdOptions</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告配置参数。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>listener</p> </td> <td class="cellrowborder" width="25%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#adloadlistener" target="_blank">AdLoadListener</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>请求广告回调监听。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ads" target="_blank">广告服务框架错误码参考</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.11.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.11.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>Invalid input parameter. Possible causes:</p> <p>1. Mandatory parameters are left unspecified.</p> <p>2. Incorrect parameter types.</p> <p>3. Parameter verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>801</p> </td> <td class="cellrowborder" width="50%"><p>Device not supported.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>21800001</p> </td> <td class="cellrowborder" width="50%"><p>System internal error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>21800003</p> </td> <td class="cellrowborder" width="50%"><p>Failed to load the ad request.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>其中context的获取方式参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-context-stage#context的获取方式" target="_blank">各类context的获取方式</a>。</p> <div _ngcontent-iyp-c106="" class="highlight-div"><div _ngcontent-iyp-c106="" class="highlight-div-header"><div _ngcontent-iyp-c106="" class="highlight-div-header-left"><div _ngcontent-iyp-c106="" class="handle-button expand-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iyp-c106="" class="highlight-div-header-right"><div _ngcontent-iyp-c106="" class="handle-button ai-button"></div><div _ngcontent-iyp-c106="" class="handle-button line-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iyp-c106="" class="handle-button theme-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iyp-c106="" class="handle-button copy-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iyp-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { advertising } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AdsKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// ...</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">loadAd</span>(<span class="hljs-params">context: common.Context, adRequestParams: advertising.AdRequestParams</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 广告配置参数，开发者可根据项目实际情况设置</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">adOptions</span>: advertising.<span class="hljs-property">AdOptions</span> = {};</li><li>  <span class="hljs-comment">// 广告请求回调监听</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">adLoaderListener</span>: advertising.<span class="hljs-property">AdLoadListener</span> = {</li><li>    <span class="hljs-attr">onAdLoadFailure</span>: <span class="hljs-function">(<span class="hljs-params">errorCode: <span class="hljs-built_in">number</span>, errorMsg: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to load ad. Code is <span class="hljs-subst">${errorCode}</span>, message is <span class="hljs-subst">${errorMsg}</span>`</span>);</li><li>    },</li><li>    <span class="hljs-attr">onAdLoadSuccess</span>: <span class="hljs-function">(<span class="hljs-params">ads: <span class="hljs-built_in">Array</span>&lt;advertising.Advertisement&gt;</span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in loading ad'</span>);</li><li>      <span class="hljs-comment">// 保存请求到的广告内容用于展示</span></li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">returnAds</span>: advertising.<span class="hljs-property">Advertisement</span>[] = ads;</li><li>    }</li><li>  };</li><li>  <span class="hljs-comment">// 创建AdLoader广告对象</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">adLoader</span>: advertising.<span class="hljs-property">AdLoader</span> = <span class="hljs-keyword">new</span> advertising.<span class="hljs-title class_">AdLoader</span>(context);</li><li>  <span class="hljs-comment">// 调用广告请求接口</span></li><li>  adLoader.<span class="hljs-title function_">loadAd</span>(adRequestParams, adOptions, adLoaderListener);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="loadadwithmultislots" device-type="phone,tablet,2in1">loadAdWithMultiSlots<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadadwithmultislots" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>loadAdWithMultiSlots(adParams: AdRequestParams[], adOptions: AdOptions, listener: MultiSlotsAdLoadListener): void</p> <p>请求多广告位广告。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> <p><strong>设备行为差异：</strong>该接口在Phone、Tablet设备中可正常调用，在其他设备中返回801错误码。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.1" width="25%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.2" width="25%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>adParams</p> </td> <td class="cellrowborder" width="25%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#adrequestparams" target="_blank">AdRequestParams</a>[]</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告请求参数。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>adOptions</p> </td> <td class="cellrowborder" width="25%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#adoptions" target="_blank">AdOptions</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告配置参数。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>listener</p> </td> <td class="cellrowborder" width="25%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#multislotsadloadlistener" target="_blank">MultiSlotsAdLoadListener</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>请求广告回调监听。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ads" target="_blank">广告服务框架错误码参考</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>Invalid input parameter. Possible causes:</p> <p>1. Mandatory parameters are left unspecified.</p> <p>2. Incorrect parameter types.</p> <p>3. Parameter verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>801</p> </td> <td class="cellrowborder" width="50%"><p>Device not supported.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>21800001</p> </td> <td class="cellrowborder" width="50%"><p>System internal error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>21800003</p> </td> <td class="cellrowborder" width="50%"><p>Failed to load the ad request.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>其中context的获取方式参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-context-stage#context的获取方式" target="_blank">各类context的获取方式</a>。</p> <div _ngcontent-iyp-c106="" class="highlight-div"><div _ngcontent-iyp-c106="" class="highlight-div-header"><div _ngcontent-iyp-c106="" class="highlight-div-header-left"><div _ngcontent-iyp-c106="" class="handle-button expand-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iyp-c106="" class="highlight-div-header-right"><div _ngcontent-iyp-c106="" class="handle-button ai-button"></div><div _ngcontent-iyp-c106="" class="handle-button line-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iyp-c106="" class="handle-button theme-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iyp-c106="" class="handle-button copy-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iyp-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { advertising } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AdsKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// ...</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">loadAdWithMultiSlots</span>(<span class="hljs-params">context: common.Context, adRequestParamsArray: advertising.AdRequestParams[]</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 广告配置参数，开发者可根据项目实际情况设置</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">adOptions</span>: advertising.<span class="hljs-property">AdOptions</span> = {};</li><li>  <span class="hljs-comment">// 广告请求回调监听</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">multiSlotsAdLoaderListener</span>: advertising.<span class="hljs-property">MultiSlotsAdLoadListener</span> = {</li><li>    <span class="hljs-attr">onAdLoadFailure</span>: <span class="hljs-function">(<span class="hljs-params">errorCode: <span class="hljs-built_in">number</span>, errorMsg: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to load multiSlots ad. Code is <span class="hljs-subst">${errorCode}</span>, message is <span class="hljs-subst">${errorMsg}</span>`</span>);</li><li>    },</li><li>    <span class="hljs-attr">onAdLoadSuccess</span>: <span class="hljs-function">(<span class="hljs-params">ads: <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">Array</span>&lt;advertising.Advertisement&gt;&gt;</span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in loading multiSlots ad'</span>);</li><li>      <span class="hljs-comment">// 保存请求到的广告内容用于展示</span></li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">returnAds</span>: advertising.<span class="hljs-property">Advertisement</span>[] = [];</li><li>      ads.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">adsArray</span>) =&gt;</span> returnAds.<span class="hljs-title function_">push</span>(...adsArray));</li><li>    }</li><li>  };</li><li>  <span class="hljs-comment">// 创建AdLoader广告对象</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">adLoader</span>: advertising.<span class="hljs-property">AdLoader</span> = <span class="hljs-keyword">new</span> advertising.<span class="hljs-title class_">AdLoader</span>(context);</li><li>  <span class="hljs-comment">// 调用广告请求接口</span></li><li>  adLoader.<span class="hljs-title function_">loadAdWithMultiSlots</span>(adRequestParamsArray, adOptions, multiSlotsAdLoaderListener);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="adloadlistener" device-type="phone,tablet,2in1">AdLoadListener<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="adloadlistener" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>单广告位广告请求回调。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> </div> <div class="tiledSection"><h3 id="onadloadfailure" device-type="phone,tablet,2in1" class="firsth2">onAdLoadFailure<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onadloadfailure" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>onAdLoadFailure(errorCode: number, errorMsg: string): void</p> <p>广告请求失败回调。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.1" width="25%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.2" width="25%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>errorCode</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告请求失败的错误码。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>errorMsg</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告请求失败的错误信息。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="onadloadsuccess" device-type="phone,tablet,2in1">onAdLoadSuccess<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onadloadsuccess" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>onAdLoadSuccess(ads: Array&lt;Advertisement&gt;): void</p> <p>广告请求成功后回调。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.1" width="12.76%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.2" width="37.24%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="12.76%"><p>ads</p> </td> <td class="cellrowborder" width="37.24%"><p>Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#advertisement" target="_blank">Advertisement</a>&gt;</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iyp-c106="" class="highlight-div"><div _ngcontent-iyp-c106="" class="highlight-div-header"><div _ngcontent-iyp-c106="" class="highlight-div-header-left"><div _ngcontent-iyp-c106="" class="handle-button expand-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iyp-c106="" class="highlight-div-header-right"><div _ngcontent-iyp-c106="" class="handle-button ai-button"></div><div _ngcontent-iyp-c106="" class="handle-button line-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iyp-c106="" class="handle-button theme-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iyp-c106="" class="handle-button copy-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iyp-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { advertising } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AdsKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">adLoaderListener</span>: advertising.<span class="hljs-property">AdLoadListener</span> = {</li><li>  <span class="hljs-attr">onAdLoadFailure</span>: <span class="hljs-function">(<span class="hljs-params">errorCode: <span class="hljs-built_in">number</span>, errorMsg: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  },</li><li>  <span class="hljs-attr">onAdLoadSuccess</span>: <span class="hljs-function">(<span class="hljs-params">ads: <span class="hljs-built_in">Array</span>&lt;advertising.Advertisement&gt;</span>) =&gt;</span> {</li><li>  }</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="multislotsadloadlistener" device-type="phone,tablet,2in1">MultiSlotsAdLoadListener<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="multislotsadloadlistener" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>多广告位广告请求回调。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> </div> <div class="tiledSection"><h3 id="onadloadfailure-1" device-type="phone,tablet,2in1" class="firsth2">onAdLoadFailure<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onadloadfailure-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>onAdLoadFailure(errorCode: number, errorMsg: string): void</p> <p>多广告位广告请求失败回调。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.1" width="25%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.2" width="25%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>errorCode</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告请求失败的错误码。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>errorMsg</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告请求失败的错误信息。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="onadloadsuccess-1" device-type="phone,tablet,2in1">onAdLoadSuccess<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onadloadsuccess-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>onAdLoadSuccess(adsMap: Map&lt;string, Array&lt;Advertisement&gt;&gt;): void</p> <p>多广告位广告请求成功后回调。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.1" width="14.09%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.2" width="47.11%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.3" width="13.8%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="14.09%"><p>adsMap</p> </td> <td class="cellrowborder" width="47.11%"><p>Map&lt;string, Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#advertisement" target="_blank">Advertisement</a>&gt;&gt;</p> </td> <td class="cellrowborder" width="13.8%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iyp-c106="" class="highlight-div"><div _ngcontent-iyp-c106="" class="highlight-div-header"><div _ngcontent-iyp-c106="" class="highlight-div-header-left"><div _ngcontent-iyp-c106="" class="handle-button expand-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iyp-c106="" class="highlight-div-header-right"><div _ngcontent-iyp-c106="" class="handle-button ai-button"></div><div _ngcontent-iyp-c106="" class="handle-button line-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iyp-c106="" class="handle-button theme-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iyp-c106="" class="handle-button copy-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iyp-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { advertising } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AdsKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">multiSlotsAdLoadListener</span>: advertising.<span class="hljs-property">MultiSlotsAdLoadListener</span> = {</li><li>  <span class="hljs-attr">onAdLoadFailure</span>: <span class="hljs-function">(<span class="hljs-params">errorCode: <span class="hljs-built_in">number</span>, errorMsg: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  },</li><li>  <span class="hljs-attr">onAdLoadSuccess</span>: <span class="hljs-function">(<span class="hljs-params">adsMap: <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">Array</span>&lt;advertising.Advertisement&gt;&gt;</span>) =&gt;</span> {</li><li>  }</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="adinteractionlistener" device-type="phone,tablet,2in1">AdInteractionListener<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="adinteractionlistener" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>广告状态变化回调。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> </div> <div class="tiledSection"><h3 id="onstatuschanged" device-type="phone,tablet,2in1" class="firsth2">onStatusChanged<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onstatuschanged" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>onStatusChanged(status: string, ad: Advertisement, data: string)</p> <p>广告状态回调。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="14.85%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="35.15%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>status</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="14.85%"><p>是</p> </td> <td class="cellrowborder" width="35.15%"><p>广告展示状态。</p> <ul><li>onAdLoad：广告加载成功。</li><li>onAdFail：广告加载失败。</li></ul> <ul><li>onAdOpen：打开广告。</li><li>onAdClick：点击广告。</li><li>onAdClose：关闭广告。</li><li>onMediaProgress：广告播放进度。</li><li>onMediaStart：广告开始播放。</li><li>onMediaPause：广告暂停播放。</li><li>onMediaStop：广告停止播放。</li><li>onMediaComplete：广告播放完成。</li><li>onMediaCountDown：广告倒计时。</li><li>onMediaError：广告播放失败。</li><li>onLandscape：竖屏状态下点击全屏按钮。</li><li>onPortrait：全屏状态下点击返回按钮。</li><li>onBackClicked：点击返回按钮。</li></ul> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>ad</p> </td> <td class="cellrowborder" width="25%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#advertisement" target="_blank">Advertisement</a></p> </td> <td class="cellrowborder" width="14.85%"><p>是</p> </td> <td class="cellrowborder" width="35.15%"><p>发生状态变化的广告内容。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>data</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="14.85%"><p>是</p> </td> <td class="cellrowborder" width="35.15%"><p>扩展信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iyp-c106="" class="highlight-div"><div _ngcontent-iyp-c106="" class="highlight-div-header"><div _ngcontent-iyp-c106="" class="highlight-div-header-left"><div _ngcontent-iyp-c106="" class="handle-button expand-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iyp-c106="" class="highlight-div-header-right"><div _ngcontent-iyp-c106="" class="handle-button ai-button"></div><div _ngcontent-iyp-c106="" class="handle-button line-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iyp-c106="" class="handle-button theme-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iyp-c106="" class="handle-button copy-button"><div _ngcontent-iyp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iyp-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { advertising } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AdsKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">adInteractionListener</span>: advertising.<span class="hljs-property">AdInteractionListener</span> = {</li><li>  <span class="hljs-attr">onStatusChanged</span>: <span class="hljs-function">(<span class="hljs-params">status: <span class="hljs-built_in">string</span>, ad: advertising.Advertisement, data: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  }</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="adoptions" device-type="phone,tablet,2in1">AdOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="adoptions" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>广告配置参数。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.5.1.5.1.1" width="25%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.5.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.5.1.5.1.3" width="24.98%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.5.1.5.1.4" width="25.019999999999996%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>tagForChildProtection</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="24.98%"><p>否</p> </td> <td class="cellrowborder" width="25.019999999999996%"><p>是否希望根据 COPPA 的规定将您的内容视为面向儿童的内容。</p> <ul><li>-1：默认值，不确定。</li></ul> <ul><li>0：不希望。</li></ul> <ul><li>1：希望。</li></ul> <p>默认为-1。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>adContentClassification</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="24.98%"><p>否</p> </td> <td class="cellrowborder" width="25.019999999999996%"><p>设置广告内容分级上限。</p> <ul><li>W：3+,所有受众。</li></ul> <ul><li>PI：7+,家长指导。</li></ul> <ul><li>J：12+,青少年。</li></ul> <ul><li>A：16+/18+，成人受众。</li></ul> <p>不填以业务逻辑为准。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>nonPersonalizedAd</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="24.98%"><p>否</p> </td> <td class="cellrowborder" width="25.019999999999996%"><p>设置是否只请求非个性化广告。</p> <ul><li>0：请求个性化广告与非个性化广告。</li></ul> <ul><li>1：只请求非个性化广告。</li></ul> <p>不填以业务逻辑为准。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>[key: string]</p> </td> <td class="cellrowborder" width="25%"><p>number | boolean | string | undefined</p> </td> <td class="cellrowborder" width="24.98%"><p>否</p> </td> <td class="cellrowborder" width="25.019999999999996%"><p>自定义参数。</p> <ul><li>totalDuration：类型number，单位：s。贴片广告必填自定义参数，用于设置贴片广告展示时长。</li></ul> <ul><li>allowMobileTraffic：类型number。可选自定义参数，设置是否允许使用流量下载广告素材。0：不允许，1：允许,不设置以广告主设置为准。</li></ul> <ul><li>tagForUnderAgeOfPromise：类型number。可选自定义参数，设置未成年保护标签。是否希望按适合未达到法定承诺年龄的欧洲经济区 (EEA) 用户的方式处理该广告请求。-1：默认值，不确定， 0：不希望 ， 1：希望。</li></ul> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="adrequestparams" device-type="phone,tablet,2in1">AdRequestParams<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="adrequestparams" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>广告请求参数。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.5.1.5.1.1" width="25%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.5.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.5.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.5.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>adId</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>广告位ID。</p> <p><strong>说明：</strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-advertising#section85125201812" target="_blank">getAdRequestBody</a>接口可以不传该参数。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>adType</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>请求的广告类型。</p> <ul><li>1：开屏广告。</li><li>3：原生广告。</li><li>7：激励广告。</li><li>8：横幅广告。</li><li>12：插屏广告。</li><li>60：贴片广告。</li></ul> <p>不填默认为原生广告类型。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>adCount</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>请求的广告数量。不填以业务逻辑为准。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>adWidth</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>请求广告时期望的创意宽度，单位vp（横幅广告必填）。不填以业务逻辑为准。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>adHeight</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>请求广告时期望的创意高度，单位vp（横幅广告必填）。不填以业务逻辑为准。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>adSearchKeyword</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>广告关键字。不填默认""。</p> <p><strong>说明：</strong>暂不支持使用。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>[key: string]</p> </td> <td class="cellrowborder" width="25%"><p>number | boolean | string | undefined</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>自定义参数。</p> <ul><li>isPreload：类型boolean，请求贴片广告时，用于区分普通在线请求和素材预加载请求。true：素材预加载请求，false：普通在线请求。默认值false。仅对贴片广告生效，其他广告请求不解析该参数。</li><li>enableDirectReturnVideoAd：类型boolean，原生广告自定义扩展参数，是否直接返回广告，不用等待所有广告素材下载完成。true：不等待广告素材下载完成，展示广告时在线加载素材；false：等待广告素材下载完成，展示广告时从本地缓存中加载素材。如果不填以云侧配置为准。仅对原生广告生效，其他广告请求不解析该参数。</li><li>oaid: 类型string，开放匿名设备标识符，用于精准推送广告。不填无法获取到个性化广告。默认值为""。</li><li>tMax：类型number，交易的最大超时时间（包含网络延迟）单位毫秒。</li><li>cur：类型string，竞价请求支持的币种，支持传多个，用英文逗号分隔。当前支持五种货币：CNY、USD、EUR、GBP、JPY，不填则默认是CNY。</li><li>bidFloor：类型number，实时竞价广告位的底价。</li><li>bidFloorCur：类型string，广告位底价使用的币种。如果bidFloor非空，则bidFloorCur也非空。当前只支持五种货币中的一种：CNY、USD、EUR、GBP、JPY，不填则默认是CNY。</li><li>bpkgName：类型string，广告位禁投的APP包名，支持传多个，用英文逗号分隔。</li><li>orientation ：类型number，媒体请求广告的屏幕方向。1表示竖屏，0表示横屏，不设置则默认为1。当前未上架横屏开屏素材，若设置请求屏幕方向为横屏则不展示开屏广告。如果媒体设置应用固定横屏展示，但该参数未设置或者设置为1，则展示效果会受影响。</li></ul> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="addisplayoptions" device-type="phone,tablet,2in1">AdDisplayOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addisplayoptions" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>广告展示参数。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.24.5.1.5.1.1" width="25%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.5.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.5.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.5.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>customData</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>媒体自定义数据。用于服务端通知媒体服务器某位用户因为与激励视频广告互动而应予以奖励，从而规避欺骗的行为（不填则不会通知）。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>userId</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>媒体自定义用户id。用于服务端通知媒体服务器某位用户因为与激励视频广告互动而应予以奖励，从而规避欺骗的行为（不填则不会通知）。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>useMobileDataReminder</p> </td> <td class="cellrowborder" width="25%"><p>boolean</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>使用移动数据播放视频或下载应用时是否弹框通知用户。</p> <ul><li>true：弹框通知。</li><li>false：不弹框通知。</li><li>该参数依赖流量弹窗功能，当前不支持完整功能的使用，暂不确定默认值。</li></ul> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>mute</p> </td> <td class="cellrowborder" width="25%"><p>boolean</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>广告视频播放是否静音。</p> <ul><li>true：静音播放。</li><li>false：非静音播放。</li></ul> <p>不填以业务逻辑为准。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>audioFocusType</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>视频播放过程中获得音频焦点的场景类型。</p> <ul><li>0：视频播放静音、非静音时都获取焦点。</li><li>1：视频静音播放时不获取焦点。</li><li>2：视频播放静音、非静音时都不获取焦点。</li><li>该接口依赖的相关功能当前不支持使用，暂不确定默认值。</li></ul> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>[key: string]</p> </td> <td class="cellrowborder" width="25%"><p>number | boolean | string | undefined</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>自定义参数。</p> <ul><li>refreshTime：类型number，单位：ms，取值范围[30000, 120000]。AutoAdComponent组件可选自定义参数，用于控制广告的轮播时间间隔。填写了该参数，则广告按照参数配置的时间间隔轮播，否则广告不会轮播，只会展示广告响应中的第一个广告内容。</li></ul> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="advertisement" device-type="phone,tablet,2in1">Advertisement<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="advertisement" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>请求的广告内容。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Advertising.Ads</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.5.1.6.1.1" width="20%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.5.1.6.1.2" width="20%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.5.1.6.1.3" width="20%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.5.1.6.1.4" width="20%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.5.1.6.1.5" width="20%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>adType</p> </td> <td class="cellrowborder" width="20%"><p>number</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>广告类型。</p> <ul><li>1：开屏广告。</li><li>3：原生广告。</li><li>7：激励广告。</li><li>8：横幅广告。</li><li>12：插屏广告。</li><li>60：贴片广告。</li></ul> <p>不填默认为原生广告类型。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>uniqueId</p> </td> <td class="cellrowborder" width="20%"><p>string</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>广告唯一标识。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>rewarded</p> </td> <td class="cellrowborder" width="20%"><p>boolean</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>广告是否获得奖励。</p> <ul><li>true：获得奖励。</li><li>false：没有获得奖励。</li></ul> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>shown</p> </td> <td class="cellrowborder" width="20%"><p>boolean</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>广告是否展示。</p> <ul><li>true：展示。</li><li>false：未展示。</li></ul> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>clicked</p> </td> <td class="cellrowborder" width="20%"><p>boolean</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>广告是否被点击。</p> <ul><li>true：被点击。</li><li>false：未被点击。</li></ul> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>rewardVerifyConfig</p> </td> <td class="cellrowborder" width="20%"><p>Map&lt;string, string&gt;</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>服务器验证参数。</p> <p>{</p> <p>customData: "test",</p> <p>userId: "12345"</p> <p>}</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>[key: string]</p> </td> <td class="cellrowborder" width="20%"><p>Object</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>是</p> </td> <td class="cellrowborder" width="20%"><p>自定义参数。</p> <ul><li>isFullScreen：类型boolean。开屏广告自定义参数，用于标识返回的广告是否为全屏，true为全屏广告，false为半屏广告。</li><li>biddingInfo：类型Object。用于获取实时竞价相关结果。</li><li>biddingInfo.price：类型number。本条广告的eCPM（Effective Cost Per Mille，每一千次展示可以获得的广告收入）。</li><li>biddingInfo.cur:类型string。 本条广告的价格币种。支持币种：CNY、USD、EUR、GBP、JPY。</li><li>biddingInfo.nurl：类型string。媒体回传竞价成功结果的URL。</li><li>biddingInfo.lurl：类型string。媒体回传竞价失败通知其他DSP竞价成功结果的URL。</li></ul> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>