<h1 _ngcontent-ier-c119="" class="doc-title ng-star-inserted" title="@ohos.app.ability.AbilityConstant (Ability相关常量)"> @ohos.app.ability.AbilityConstant (Ability相关常量) </h1>

<div _ngcontent-ier-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>AbilityConstant提供Ability相关的枚举，包括应用启动原因<a href="/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilityconstant#launchreason">LaunchReason</a>、上次退出原因<a href="/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilityconstant#lastexitreason">LastExitReason</a>、迁移结果<a href="/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilityconstant#oncontinueresult">OnContinueResult</a>等。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>        <p>本模块首批接口从API version 9开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p></li>       <li>        <p>本模块接口仅可在Stage模型下使用。</p></li>      </ul>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ier-c106="" class="highlight-div"><div _ngcontent-ier-c106="" class="highlight-div-header"><div _ngcontent-ier-c106="" class="highlight-div-header-left"><div _ngcontent-ier-c106="" class="handle-button expand-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ier-c106="" class="highlight-div-header-right"><div _ngcontent-ier-c106="" class="handle-button ai-button"></div><div _ngcontent-ier-c106="" class="handle-button line-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ier-c106="" class="handle-button theme-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ier-c106="" class="handle-button copy-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ier-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="常量" device-type="phone,2in1,tablet,wearable,tv">常量<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="常量" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力</strong>：SystemCapability.Ability.AbilityBase</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.5.1.1" width="25%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.5.1.3" width="25%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">REASON_MESSAGE_DESKTOP_SHORTCUT<sup>20+</sup></td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">"ReasonMessage_DesktopShortcut"</td>         <td class="cellrowborder" width="25%">通过桌面快捷方式启动。开发者如果从<a href="/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilityconstant#launchparam">LaunchParam</a>的launchReasonMessage属性中获取到该字符串，表示UIAbility是通过点击桌面快捷方式启动的。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="launchparam" device-type="phone,2in1,tablet,wearable,tv">LaunchParam<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="launchparam" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>启动参数，主要包括Ability启动原因以及上次退出原因。Ability启动时由系统自动传入，开发者无需修改。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">launchReason</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilityconstant#launchreason">LaunchReason</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>枚举类型，表示Ability启动原因（如故障恢复拉起、意图调用拉起、元服务分享拉起等），详见<a href="/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilityconstant#launchreason">LaunchReason</a>。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">launchReasonMessage<sup>18+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示Ability启动的详细原因。</p>          <p><strong>元服务API</strong>：从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">lastExitReason</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilityconstant#lastexitreason">LastExitReason</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>枚举类型，表示Ability上次退出原因。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">lastExitMessage<sup>12+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示Ability上次退出的详细原因。</p>          <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">lastExitDetailInfo<sup>18+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilityconstant#lastexitdetailinfo18">LastExitDetailInfo</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示Ability上次退出时的关键运行信息（含进程ID、退出时间戳、RSS内存值等）。</p>          <p><strong>元服务API</strong>：从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="launchreason" device-type="phone,2in1,tablet,wearable,tv">LaunchReason<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="launchreason" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Ability启动原因，该类型为枚举，可配合UIAbility的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability#oncreate">onCreate(want, launchParam)</a>方法根据launchParam.launchReason的不同类型执行相应操作。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">UNKNOWN</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>未知原因。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">START_ABILITY</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext#startability">startAbility</a>接口启动Ability。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CALL</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext#startabilitybycall">startAbilityByCall</a>接口启动Ability。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CONTINUATION</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>跨端迁移启动Ability。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">APP_RECOVERY</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>设置应用恢复后，应用故障时自动恢复启动Ability。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SHARE<sup>10+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>通过元服务分享启动Ability。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">AUTO_STARTUP<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">8</td>         <td class="cellrowborder" width="33.33333333333333%">通过设置开机自启动来启动Ability。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INSIGHT_INTENT<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">9</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>通过洞察意图来启动Ability。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PREPARE_CONTINUATION<sup>12+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">10</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>跨端迁移提前启动Ability。</p>          <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PRELOAD<sup>20+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">11</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表明该UIAbility是通过预加载机制启动的。</p>          <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ier-c106="" class="highlight-div"><div _ngcontent-ier-c106="" class="highlight-div-header"><div _ngcontent-ier-c106="" class="highlight-div-header-left"><div _ngcontent-ier-c106="" class="handle-button expand-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ier-c106="" class="highlight-div-header-right"><div _ngcontent-ier-c106="" class="handle-button ai-button"></div><div _ngcontent-ier-c106="" class="handle-button line-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ier-c106="" class="handle-button theme-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ier-c106="" class="handle-button copy-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ier-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span>, <span class="hljs-title class_">AbilityConstant</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">want: Want, launchParam: AbilityConstant.LaunchParam</span>) {</li><li>    <span class="hljs-keyword">if</span> (launchParam.<span class="hljs-property">launchReason</span> === <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchReason</span>.<span class="hljs-property">START_ABILITY</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'The ability has been started by the way of startAbility.'</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="lastexitreason" device-type="phone,2in1,tablet,wearable,tv">LastExitReason<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="lastexitreason" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Ability上次退出原因，该类型为枚举，可配合UIAbility的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability#oncreate">onCreate()</a>方法根据launchParam.lastExitReason的不同类型执行相应操作。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">UNKNOWN</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>未知原因。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ABILITY_NOT_RESPONDING<sup>(deprecated)</sup></td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>Ability未响应。</p>          <p><strong>说明:</strong> 从API version 9开始支持，从API version 10开始废弃，请使用APP_FREEZE替代。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NORMAL</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>用户主动关闭，应用程序正常退出。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>          <p><strong>说明</strong>：当开发者直接调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-process#processexitdeprecated">process.exit()</a>、内核kill命令等非Ability Kit提供的能力强制退出应用进程时，也会返回NORMAL。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CPP_CRASH<sup>10+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cppcrash-guidelines" target="_blank">进程崩溃</a>导致的应用程序退出。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">JS_ERROR<sup>10+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>当应用存在JS语法错误并未被开发者捕获时，触发JS_ERROR故障，导致应用程序退出。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">APP_FREEZE<sup>10+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/appfreeze-guidelines" target="_blank">应用冻屏</a>导致的应用程序退出。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PERFORMANCE_CONTROL<sup>10+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>因系统性能问题（如设备内存不足）导致的应用程序退出。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>          <p><strong>说明</strong>：该接口即将废弃，建议使用RESOURCE_CONTROL替代。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">RESOURCE_CONTROL<sup>10+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">7</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>系统资源使用不当导致的应用程序退出。具体错误原因可以通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilityconstant#launchparam">LaunchParam.lastExitMessage</a>获取，可能原因如下:</p>          <p>- CPU Highload，CPU高负载。</p>          <p>- CPU_EXT Highload，快速CPU负载检测。</p>          <p>- IO Manage Control，I/O管控。</p>          <p>- App Memory Deterioration，应用内存超限劣化。</p>          <p>- Temperature Control，温度管控。</p>          <p>- Memory Pressure，整机低内存触发按优先级由低到高终止进程。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">UPGRADE<sup>10+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">8</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>应用升级导致的应用程序退出。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">USER_REQUEST<sup>18+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">9</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>应用程序因多任务中心请求而退出。</p>          <p><strong>元服务API</strong>：从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SIGNAL<sup>18+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">10</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>应用程序因收到系统kill指令信号而退出。</p>          <p><strong>元服务API</strong>：从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ier-c106="" class="highlight-div"><div _ngcontent-ier-c106="" class="highlight-div-header"><div _ngcontent-ier-c106="" class="highlight-div-header-left"><div _ngcontent-ier-c106="" class="handle-button expand-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ier-c106="" class="highlight-div-header-right"><div _ngcontent-ier-c106="" class="handle-button ai-button"></div><div _ngcontent-ier-c106="" class="handle-button line-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ier-c106="" class="handle-button theme-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ier-c106="" class="handle-button copy-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ier-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span>, <span class="hljs-title class_">AbilityConstant</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">want: Want, launchParam: AbilityConstant.LaunchParam</span>) {</li><li>    <span class="hljs-keyword">if</span> (launchParam.<span class="hljs-property">lastExitReason</span> === <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LastExitReason</span>.<span class="hljs-property">APP_FREEZE</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'The ability has exit last because the ability was not responding.'</span>);</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (launchParam.<span class="hljs-property">lastExitReason</span> === <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LastExitReason</span>.<span class="hljs-property">RESOURCE_CONTROL</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The ability has exit last because the rss control，the lastExitReason is <span class="hljs-subst">${launchParam.lastExitReason}</span>, the lastExitMessage is <span class="hljs-subst">${launchParam.lastExitMessage}</span>.`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="lastexitdetailinfo18" device-type="phone,2in1,tablet,wearable,tv">LastExitDetailInfo<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="lastexitdetailinfo18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>记录Ability所在进程上次退出时的关键运行信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">pid</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>Ability上次退出所在进程的进程号。</p>          <p><strong>元服务API</strong>：从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">processName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>Ability上次退出所在进程的名称。</p>          <p><strong>元服务API</strong>：从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">uid</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>Ability上次退出所在应用的UID。</p>          <p><strong>元服务API</strong>：从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">exitSubReason</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>Ability上次退出的子原因。</p>          <p><strong>元服务API</strong>：从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">exitMsg</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>Ability上次退出时所在进程被kill的描述信息。</p>          <p><strong>元服务API</strong>：从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">rss</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>Ability上次退出时所在进程实际占用内存大小，单位KB。</p>          <p><strong>元服务API</strong>：从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pss</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>Ability上次退出时所在进程实际使用的物理内存大小，单位KB。</p>          <p><strong>元服务API</strong>：从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">timestamp</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>Ability上次退出时的时间戳。</p>          <p><strong>元服务API</strong>：从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">processState<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-appmanager#processstate10">appManager.ProcessState</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>Ability上次退出时的进程状态。</p>          <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>:</p>     <div _ngcontent-ier-c106="" class="highlight-div"><div _ngcontent-ier-c106="" class="highlight-div-header"><div _ngcontent-ier-c106="" class="highlight-div-header-left"><div _ngcontent-ier-c106="" class="handle-button expand-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ier-c106="" class="highlight-div-header-right"><div _ngcontent-ier-c106="" class="handle-button ai-button"></div><div _ngcontent-ier-c106="" class="handle-button line-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ier-c106="" class="handle-button theme-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ier-c106="" class="handle-button copy-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ier-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span>, <span class="hljs-title class_">AbilityConstant</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">want: Want, launchParam: AbilityConstant.LaunchParam</span>) {</li><li>    <span class="hljs-keyword">if</span> (launchParam.<span class="hljs-property">lastExitDetailInfo</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`pid: <span class="hljs-subst">${launchParam.lastExitDetailInfo.pid}</span></span></li><li><span class="hljs-string">      \n processName: <span class="hljs-subst">${launchParam.lastExitDetailInfo.processName}</span></span></li><li><span class="hljs-string">      \n uid: <span class="hljs-subst">${launchParam.lastExitDetailInfo.uid}</span></span></li><li><span class="hljs-string">      \n exitSubReason: <span class="hljs-subst">${launchParam.lastExitDetailInfo.exitSubReason}</span></span></li><li><span class="hljs-string">      \n exitMsg: <span class="hljs-subst">${launchParam.lastExitDetailInfo.exitMsg}</span></span></li><li><span class="hljs-string">      \n rss: <span class="hljs-subst">${launchParam.lastExitDetailInfo.rss}</span></span></li><li><span class="hljs-string">      \n pss: <span class="hljs-subst">${launchParam.lastExitDetailInfo.pss}</span></span></li><li><span class="hljs-string">      \n timestamp: <span class="hljs-subst">${launchParam.lastExitDetailInfo.timestamp}</span></span></li><li><span class="hljs-string">      \n processState: <span class="hljs-subst">${launchParam.lastExitDetailInfo.processState}</span>.`</span></li><li>      );</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="oncontinueresult" device-type="phone,2in1,tablet,wearable,tv">OnContinueResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncontinueresult" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Ability迁移结果，该类型为枚举，可配合UIAbility的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability#oncontinue">onContinue()</a>方法完成相应的返回。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">AGREE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">表示同意。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">REJECT</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示拒绝：如应用在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability#oncontinue">onContinue</a>中异常会导致迁移以后数据恢复时显示异常，则可以返回REJECT。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MISMATCH</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">表示版本不匹配：迁移发起端应用可以在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability#oncontinue">onContinue</a>中获取到迁移目标端应用的版本号，进行协商后，如果版本不匹配导致无法迁移，可以返回该结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ier-c106="" class="highlight-div"><div _ngcontent-ier-c106="" class="highlight-div-header"><div _ngcontent-ier-c106="" class="highlight-div-header-left"><div _ngcontent-ier-c106="" class="handle-button expand-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ier-c106="" class="highlight-div-header-right"><div _ngcontent-ier-c106="" class="handle-button ai-button"></div><div _ngcontent-ier-c106="" class="handle-button line-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ier-c106="" class="handle-button theme-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ier-c106="" class="handle-button copy-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ier-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">AbilityConstant</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onContinue</span>(<span class="hljs-params">wantParam: Record&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">Object</span>&gt;</span>) {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">OnContinueResult</span>.<span class="hljs-property">AGREE</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="memorylevel" device-type="phone,2in1,tablet,wearable,tv">MemoryLevel<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="memorylevel" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>整机可用内存级别，该类型为枚举，可配合UIAbility的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-ability#abilityonmemorylevel">onMemoryLevel()</a>方法根据level执行不同内存级别的相应操作。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">MEMORY_LEVEL_MODERATE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">整机可用内存适中。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MEMORY_LEVEL_LOW</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">整机可用内存低。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MEMORY_LEVEL_CRITICAL</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">整机可用内存极低。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>不同产品的触发条件可能存在差异。以12G内存的标准设备为例：</p>       <ul>        <li>当整机可用内存下降至1700M~1800M时，会触发取值为0的onMemoryLevel回调，表示当前整机可用内存适中。</li>        <li>当整机可用内存下降至1600M~1700M时，会触发取值为1的onMemoryLevel回调，表示当前整机可用内存偏低。</li>        <li>当整机可用内存下降至1600M以下时，会触发取值为2的onMemoryLevel回调，表示当前整机可用内存很低。</li>       </ul>      </div></div></div>     <p><strong>示例：</strong></p>     <div _ngcontent-ier-c106="" class="highlight-div"><div _ngcontent-ier-c106="" class="highlight-div-header"><div _ngcontent-ier-c106="" class="highlight-div-header-left"><div _ngcontent-ier-c106="" class="handle-button expand-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ier-c106="" class="highlight-div-header-right"><div _ngcontent-ier-c106="" class="handle-button ai-button"></div><div _ngcontent-ier-c106="" class="handle-button line-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ier-c106="" class="handle-button theme-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ier-c106="" class="handle-button copy-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ier-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">AbilityConstant</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onMemoryLevel</span>(<span class="hljs-params">level: AbilityConstant.MemoryLevel</span>) {</li><li>    <span class="hljs-keyword">if</span> (level === <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">MemoryLevel</span>.<span class="hljs-property">MEMORY_LEVEL_CRITICAL</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'The memory of device is critical, please release some memory.'</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="windowmode12" device-type="phone,2in1,tablet,wearable,tv">WindowMode<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="windowmode12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>启动UIAbility时窗口的创建模式，类型为枚举。可配合<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext#startability-2">startAbility</a>方法使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">WINDOW_MODE_FULLSCREEN</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">全屏模式。仅在2in1和Tablet设备上生效。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">WINDOW_MODE_SPLIT_PRIMARY</td>         <td class="cellrowborder" width="33.33333333333333%">100</td>         <td class="cellrowborder" width="33.33333333333333%">支持应用内拉起Ability时设置为分屏，左侧分屏。仅在折叠屏和Tablet设备上生效。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">WINDOW_MODE_SPLIT_SECONDARY</td>         <td class="cellrowborder" width="33.33333333333333%">101</td>         <td class="cellrowborder" width="33.33333333333333%">支持应用内拉起Ability时设置为分屏，右侧分屏。仅在折叠屏和Tablet设备上生效。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ier-c106="" class="highlight-div"><div _ngcontent-ier-c106="" class="highlight-div-header"><div _ngcontent-ier-c106="" class="highlight-div-header-left"><div _ngcontent-ier-c106="" class="handle-button expand-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ier-c106="" class="highlight-div-header-right"><div _ngcontent-ier-c106="" class="handle-button ai-button"></div><div _ngcontent-ier-c106="" class="handle-button line-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ier-c106="" class="handle-button theme-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ier-c106="" class="handle-button copy-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ier-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">StartOptions</span>, <span class="hljs-title class_">Want</span>, <span class="hljs-title class_">AbilityConstant</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EntryAbility'</span></li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">option</span>: <span class="hljs-title class_">StartOptions</span> = {</li><li>  <span class="hljs-attr">windowMode</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">WindowMode</span>.<span class="hljs-property">WINDOW_MODE_SPLIT_PRIMARY</span></li><li>};</li><li>
</li><li><span class="hljs-comment">// 确保从上下文获取到context</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">want: Want, launchParam: AbilityConstant.LaunchParam</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">startAbility</span>(want, option).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed to start ability.'</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start ability with error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onsaveresult" device-type="phone,2in1,tablet,wearable,tv">OnSaveResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onsaveresult" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>保存应用数据的结果，该类型为枚举。配合UIAbility的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability#onsavestate">onSaveState()</a>方法使用，可以实现<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ability-recover-guideline" target="_blank">UIAbility备份恢复</a>。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">ALL_AGREE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">总是同意保存状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CONTINUATION_REJECT</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">拒绝迁移保存状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CONTINUATION_MISMATCH</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">迁移不匹配。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">RECOVERY_AGREE</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">同意恢复保存状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">RECOVERY_REJECT</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">拒绝恢复保存状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ALL_REJECT</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">总是拒绝保存状态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ier-c106="" class="highlight-div"><div _ngcontent-ier-c106="" class="highlight-div-header"><div _ngcontent-ier-c106="" class="highlight-div-header-left"><div _ngcontent-ier-c106="" class="handle-button expand-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ier-c106="" class="highlight-div-header-right"><div _ngcontent-ier-c106="" class="handle-button ai-button"></div><div _ngcontent-ier-c106="" class="handle-button line-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ier-c106="" class="handle-button theme-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ier-c106="" class="handle-button copy-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ier-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">AbilityConstant</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onSaveState</span>(<span class="hljs-params">reason: AbilityConstant.StateType, wantParam: Record&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">Object</span>&gt;</span>) {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">OnSaveResult</span>.<span class="hljs-property">ALL_AGREE</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="statetype" device-type="phone,2in1,tablet,wearable,tv">StateType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="statetype" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>保存应用数据场景原因，该类型为枚举。配合UIAbility的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability#onsavestate">onSaveState()</a>方法使用，可以实现<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ability-recover-guideline" target="_blank">UIAbility备份恢复</a>。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">CONTINUATION</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">应用迁移场景。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">APP_RECOVERY</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">应用故障恢复场景。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ier-c106="" class="highlight-div"><div _ngcontent-ier-c106="" class="highlight-div-header"><div _ngcontent-ier-c106="" class="highlight-div-header-left"><div _ngcontent-ier-c106="" class="handle-button expand-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ier-c106="" class="highlight-div-header-right"><div _ngcontent-ier-c106="" class="handle-button ai-button"></div><div _ngcontent-ier-c106="" class="handle-button line-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ier-c106="" class="handle-button theme-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ier-c106="" class="handle-button copy-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ier-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">AbilityConstant</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onSaveState</span>(<span class="hljs-params">reason: AbilityConstant.StateType, wantParam: Record&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">Object</span>&gt;</span>) {</li><li>    <span class="hljs-keyword">if</span> (reason === <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">StateType</span>.<span class="hljs-property">CONTINUATION</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Save the ability data when the ability continuation.'</span>);</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">OnSaveResult</span>.<span class="hljs-property">ALL_AGREE</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="continuestate10" device-type="phone,2in1,tablet,wearable,tv">ContinueState<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="continuestate10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>流转状态枚举值。用于表示当前应用任务流转的状态。可配合<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext">UIAbilityContext</a>的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext#setmissioncontinuestate10">setMissionContinueState</a>方法进行设置。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">ACTIVE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">指示当前应用任务流转处于激活状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INACTIVE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">指示当前应用任务流转处于未激活状态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ier-c106="" class="highlight-div"><div _ngcontent-ier-c106="" class="highlight-div-header"><div _ngcontent-ier-c106="" class="highlight-div-header-left"><div _ngcontent-ier-c106="" class="handle-button expand-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ier-c106="" class="highlight-div-header-right"><div _ngcontent-ier-c106="" class="handle-button ai-button"></div><div _ngcontent-ier-c106="" class="handle-button line-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ier-c106="" class="handle-button theme-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ier-c106="" class="handle-button copy-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ier-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span>, <span class="hljs-title class_">AbilityConstant</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">want: Want, launchParam: AbilityConstant.LaunchParam</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">setMissionContinueState</span>(<span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">ContinueState</span>.<span class="hljs-property">INACTIVE</span>, <span class="hljs-function">(<span class="hljs-params">result: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`setMissionContinueState: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(result)}</span>`</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="collaborateresult18" device-type="phone,2in1,tablet,wearable,tv">CollaborateResult<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="collaborateresult18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>应用协同状态，该类型为枚举。用于多设备场景下，调用方应用拉起协同方应用时，协同方应用是否接受协同。需要配合UIAbility的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability#oncollaborate18">onCollaborate()</a>方法进行设置。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">ACCEPT</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">接受协同。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">REJECT</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">拒绝协同。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ier-c106="" class="highlight-div"><div _ngcontent-ier-c106="" class="highlight-div-header"><div _ngcontent-ier-c106="" class="highlight-div-header-left"><div _ngcontent-ier-c106="" class="handle-button expand-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ier-c106="" class="highlight-div-header-right"><div _ngcontent-ier-c106="" class="handle-button ai-button"></div><div _ngcontent-ier-c106="" class="handle-button line-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ier-c106="" class="handle-button theme-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ier-c106="" class="handle-button copy-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ier-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">AbilityConstant</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCollaborate</span>(<span class="hljs-params">wantParam: Record&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">Object</span>&gt;</span>) {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">CollaborateResult</span>.<span class="hljs-property">ACCEPT</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="preparetermination15" device-type="phone,2in1,tablet,wearable,tv">PrepareTermination<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="preparetermination15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>应用准备关闭时返回的动作，该类型为枚举。需要配合<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilitystage">AbilityStage</a>的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilitystage#onpreparetermination15">onPrepareTermination</a>或者<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilitystage#onprepareterminationasync15">onPrepareTerminationAsync</a>方法使用。</p>     <p><strong>元服务API</strong>：从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">TERMINATE_IMMEDIATELY</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">表示立即执行结束动作，默认值。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CANCEL</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示取消结束动作。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ier-c106="" class="highlight-div"><div _ngcontent-ier-c106="" class="highlight-div-header"><div _ngcontent-ier-c106="" class="highlight-div-header-left"><div _ngcontent-ier-c106="" class="handle-button expand-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ier-c106="" class="highlight-div-header-right"><div _ngcontent-ier-c106="" class="handle-button ai-button"></div><div _ngcontent-ier-c106="" class="handle-button line-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ier-c106="" class="handle-button theme-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ier-c106="" class="handle-button copy-button"><div _ngcontent-ier-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ier-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">AbilityStage</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbilityStage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">AbilityStage</span> {</li><li>  <span class="hljs-title function_">onPrepareTermination</span>(): <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">PrepareTermination</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'MyAbilityStage.onPrepareTermination is called'</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">PrepareTermination</span>.<span class="hljs-property">CANCEL</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>