<h1 _ngcontent-pta-c119="" class="doc-title ng-star-inserted" title="@ohos.arkui.observer (无感监听)"> @ohos.arkui.observer (无感监听) </h1>

<div _ngcontent-pta-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>提供UI组件行为变化的无感监听能力。推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uiobserver">UIObserver</a>进行组件监听。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <ul><li><p>本模块首批接口从API version 11开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>  </li><li><p>UIObserver仅能监听到本进程内的相关信息，不支持获取跨进程场景的信息。</p>  </li></ul>  </div></div></div>  <div class="tiledSection"><h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="navdestinationstate" device-type="phone,2in1,tablet,wearable,tv">NavDestinationState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="navdestinationstate" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>NavDestination组件状态。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">ON_SHOWN</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">NavDestination组件显示。<strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_HIDDEN</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">NavDestination组件隐藏。<strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_APPEAR<sup>12+</sup></td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">NavDestination从组件树上挂载。<strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_DISAPPEAR<sup>12+</sup></td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">NavDestination从组件树上卸载。<strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_WILL_SHOW<sup>12+</sup></td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">NavDestination组件显示之前。<strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_WILL_HIDE<sup>12+</sup></td> <td class="cellrowborder" width="33.33333333333333%">5</td> <td class="cellrowborder" width="33.33333333333333%">NavDestination组件隐藏之前。<strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_WILL_APPEAR<sup>12+</sup></td> <td class="cellrowborder" width="33.33333333333333%">6</td> <td class="cellrowborder" width="33.33333333333333%">NavDestination挂载到组件树之前。<strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_WILL_DISAPPEAR<sup>12+</sup></td> <td class="cellrowborder" width="33.33333333333333%">7</td> <td class="cellrowborder" width="33.33333333333333%">NavDestination从组件树上卸载之前。<strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_ACTIVE<sup>17+</sup></td> <td class="cellrowborder" width="33.33333333333333%">8</td> <td class="cellrowborder" width="33.33333333333333%">NavDestination组件处于激活态。<strong>元服务API：</strong> 从API version 17开始，该接口支持在元服务中使用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_INACTIVE<sup>17+</sup></td> <td class="cellrowborder" width="33.33333333333333%">9</td> <td class="cellrowborder" width="33.33333333333333%">NavDestination组件处于非激活态。<strong>元服务API：</strong> 从API version 17开始，该接口支持在元服务中使用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_BACKPRESS<sup>12+</sup></td> <td class="cellrowborder" width="33.33333333333333%">100</td> <td class="cellrowborder" width="33.33333333333333%">NavDestination组件返回。<strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="scrolleventtype12" device-type="phone,2in1,tablet,wearable,tv">ScrollEventType<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scrolleventtype12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>滚动事件的类型。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">SCROLL_START</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">滚动事件开始。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCROLL_STOP</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">滚动事件结束。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="routerpagestate" device-type="phone,2in1,tablet,wearable,tv">RouterPageState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="routerpagestate" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>routerPage生命周期触发时对应的状态。RouterPageState用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#routerpageinfo">RouterPageInfo</a>中，作为<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#uiobserveronrouterpageupdate11">routerPageUpdate</a>无感监听的返回值。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">ABOUT_TO_APPEAR</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">page即将显示。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ABOUT_TO_DISAPPEAR</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">page即将销毁。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_PAGE_SHOW</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">page显示。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_PAGE_HIDE</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">page隐藏。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_BACK_PRESS</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">page返回时。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="tabcontentstate12" device-type="phone,2in1,tablet,wearable,tv">TabContentState<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="tabcontentstate12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>TabContent组件的状态。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">ON_SHOW</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">TabContent组件显示。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ON_HIDE</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">TabContent组件隐藏。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="navdestinationinfo" device-type="phone,2in1,tablet,wearable,tv">NavDestinationInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="navdestinationinfo" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>NavDestination组件信息。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">navigationId</td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%"><p>包含NavDestination组件的Navigation组件的id。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">name</td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%"><p>NavDestination组件的名称。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">state</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationstate">NavDestinationState</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%"><p>NavDestination组件的状态。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">index<sup>12+</sup></td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%"><p>NavDestination在页面栈中的索引。 </p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p> 取值范围：[0, +∞)</p> </td> </tr> <tr><td class="cellrowborder" width="20%">param<sup>12+</sup></td> <td class="cellrowborder" width="20%">Object</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%"><p>NavDestination组件的参数。 </p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">navDestinationId<sup>12+</sup></td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%"><p>NavDestination组件的唯一标识ID。 </p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">mode<sup>15+</sup></td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navdestination#navdestinationmode枚举说明11">NavDestinationMode</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%"><p>NavDestination类型。 </p> <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">uniqueId<sup>15+</sup></td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%"><p>NavDestination组件的uniqueId。 </p> <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="navigationinfo12" device-type="phone,2in1,tablet,wearable,tv">NavigationInfo<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="navigationinfo12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Navigation组件信息。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.4.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.9.4.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.4.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.9.4.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.9.4.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">navigationId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%"><p>Navigation组件的id。</p> <p> <strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">pathStack</td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#navpathstack10">NavPathStack</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%"><p>Navigation组件的导航控制器。</p> <p> <strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">uniqueId<sup>20+</sup></td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%"><p>Navigation组件的uniqueId，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-custom-component-api#querynavigationinfo12">queryNavigationInfo</a>获取。</p> <p> <strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="scrolleventinfo12" device-type="phone,2in1,tablet,wearable,tv">ScrollEventInfo<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scrolleventinfo12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>ScrollEvent滚动信息。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.4.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.10.4.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.4.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.10.4.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.10.4.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">id</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%"><p>滚动组件的id。</p> <p> <strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">uniqueId</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%"><p>滚动组件的uniqueId。</p> <p> <strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">scrollEvent</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#scrolleventtype12">ScrollEventType</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%"><p>滚动事件的类型。</p> <p> <strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">offset</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%"><p>滚动组件的当前偏移量。</p> <p> <strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">axis<sup>20+</sup></td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#axis">Axis</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%"><p>滚动组件的滚动方向。</p> <p> <strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="observeroptions12" device-type="phone,2in1,tablet,wearable,tv">ObserverOptions<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="observeroptions12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Observer选项。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">id</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">组件的id。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="routerpageinfo" device-type="phone,2in1,tablet,wearable,tv">RouterPageInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="routerpageinfo" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>RouterPageInfo包含的信息。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">context</td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext">UIAbilityContext</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">触发生命周期的routerPage页面对应的上下文信息。</td> </tr> <tr><td class="cellrowborder" width="20%">index</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%"><p>触发生命周期的routerPage在栈中的位置。</p> <p> 取值范围：[0, +∞)</p> </td> </tr> <tr><td class="cellrowborder" width="20%">name</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">触发生命周期的routerPage页面的名称。</td> </tr> <tr><td class="cellrowborder" width="20%">path</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">触发生命周期的routerPage页面的路径。</td> </tr> <tr><td class="cellrowborder" width="20%">state</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#routerpagestate">RouterPageState</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">触发生命周期的routerPage页面的状态。</td> </tr> <tr><td class="cellrowborder" width="20%">pageId<sup>12+</sup></td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">触发生命周期的routerPage页面的唯一标识。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="densityinfo12" device-type="phone,2in1,tablet,wearable,tv">DensityInfo<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="densityinfo12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>屏幕像素密度变化回调包含的信息。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">context</td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">屏幕像素密度变化时页面对应的上下文信息。</td> </tr> <tr><td class="cellrowborder" width="20%">density</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%"><p>变化后的屏幕像素密度。</p> <p>取值范围：[0, +∞)</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="navdestinationswitchinfo12" device-type="phone,2in1,tablet,wearable,tv">NavDestinationSwitchInfo<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="navdestinationswitchinfo12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Navigation组件页面切换的信息。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">context</td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext">UIAbilityContext</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">触发页面切换的Navigation对应的上下文信息。</td> </tr> <tr><td class="cellrowborder" width="20%">from</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationinfo">NavDestinationInfo</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#navbar12">NavBar</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">页面切换的源页面。</td> </tr> <tr><td class="cellrowborder" width="20%">to</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationinfo">NavDestinationInfo</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#navbar12">NavBar</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">页面切换的目的页面。</td> </tr> <tr><td class="cellrowborder" width="20%">operation</td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#navigationoperation11枚举说明">NavigationOperation</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">页面切换操作类型。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="navdestinationswitchobserveroptions12" device-type="phone,2in1,tablet,wearable,tv">NavDestinationSwitchObserverOptions<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="navdestinationswitchobserveroptions12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Navigation组件页面切换事件的监听选项。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">navigationId</td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">指定需要监听的Navigation的ID。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="tabcontentinfo12" device-type="phone,2in1,tablet,wearable,tv">TabContentInfo<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="tabcontentinfo12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>TabContent页面的切换信息。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">tabContentId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">TabContent组件的id。</td> </tr> <tr><td class="cellrowborder" width="20%">tabContentUniqueId</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">TabContent组件的uniqueId。</td> </tr> <tr><td class="cellrowborder" width="20%">state</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#tabcontentstate12">TabContentState</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">TabContent组件的状态。</td> </tr> <tr><td class="cellrowborder" width="20%">index</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">TabContent组件的下标索引。索引从0开始。</td> </tr> <tr><td class="cellrowborder" width="20%">id</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">Tabs组件的id。</td> </tr> <tr><td class="cellrowborder" width="20%">uniqueId</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">Tabs组件的uniqueId。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="uiobserveronnavdestinationupdate" device-type="phone,2in1,tablet,wearable,tv">uiObserver.on('navDestinationUpdate')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveronnavdestinationupdate" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'navDestinationUpdate', callback: Callback&lt;NavDestinationInfo&gt;): void</p> <p>监听NavDestination组件的状态变化。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'navDestinationUpdate'，即NavDestination组件的状态变化。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationinfo">NavDestinationInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。返回当前的NavDestination组件状态。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-comment">// 演示 uiObserver.on('navDestinationUpdate', callback)</span></li><li><span class="hljs-comment">// uiObserver.off('navDestinationUpdate', callback)</span></li><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PageOne</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"pageOne"</span>)</li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">"pageOne"</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">stack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">PageBuilder</span>(<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>) {</li><li>    <span class="hljs-title class_">PageOne</span>()</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'navDestinationUpdate'</span>, <span class="hljs-function">(<span class="hljs-params">info</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`NavDestination state update <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info)}</span>`</span>);</li><li>    });</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"></span>) {</li><li>    uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'navDestinationUpdate'</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"push"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">pushPath</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"pageOne"</span> });</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">title</span>(<span class="hljs-string">"Navigation"</span>)</li><li>      .<span class="hljs-title function_">navDestination</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">PageBuilder</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserveroffnavdestinationupdate" device-type="phone,2in1,tablet,wearable,tv">uiObserver.off('navDestinationUpdate')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveroffnavdestinationupdate" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'navDestinationUpdate', callback?: Callback&lt;NavDestinationInfo&gt;): void</p> <p>取消监听NavDestination组件的状态变化。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'navDestinationUpdate'，即NavDestination组件的状态变化。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationinfo">NavDestinationInfo</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数。返回当前的NavDestination组件状态。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#uiobserveronnavdestinationupdate">uiObserver.on('navDestinationUpdate')</a>示例。</p> </div>  <div class="tiledSection"><h2 id="uiobserveronnavdestinationupdate-1" device-type="phone,2in1,tablet,wearable,tv">uiObserver.on('navDestinationUpdate')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveronnavdestinationupdate-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'navDestinationUpdate', options: { navigationId: ResourceStr }, callback: Callback&lt;NavDestinationInfo&gt;): void</p> <p>监听NavDestination组件的状态变化。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'navDestinationUpdate'，即NavDestination组件的状态变化。</td> </tr> <tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%">{ navigationId: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a> }</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指定监听的Navigation的id。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationinfo">NavDestinationInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。返回当前的NavDestination组件状态。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-comment">// 演示 uiObserver.on('navDestinationUpdate', navigationId, callback)</span></li><li><span class="hljs-comment">// uiObserver.off('navDestinationUpdate', navigationId, callback)</span></li><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PageOne</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"pageOne"</span>)</li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">"pageOne"</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">stack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">PageBuilder</span>(<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>) {</li><li>    <span class="hljs-title class_">PageOne</span>()</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'navDestinationUpdate'</span>, { <span class="hljs-attr">navigationId</span>: <span class="hljs-string">"testId"</span> }, <span class="hljs-function">(<span class="hljs-params">info</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`NavDestination state update <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info)}</span>`</span>);</li><li>    });</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"></span>) {</li><li>    uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'navDestinationUpdate'</span>, { <span class="hljs-attr">navigationId</span>: <span class="hljs-string">"testId"</span> });</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"push"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">pushPath</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"pageOne"</span> });</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">id</span>(<span class="hljs-string">"testId"</span>)</li><li>      .<span class="hljs-title function_">title</span>(<span class="hljs-string">"Navigation"</span>)</li><li>      .<span class="hljs-title function_">navDestination</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">PageBuilder</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserveroffnavdestinationupdate-1" device-type="phone,2in1,tablet,wearable,tv">uiObserver.off('navDestinationUpdate')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveroffnavdestinationupdate-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'navDestinationUpdate', options: { navigationId: ResourceStr }, callback?: Callback&lt;NavDestinationInfo&gt;): void</p> <p>取消监听NavDestination组件的状态变化。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'navDestinationUpdate'，即NavDestination组件的状态变化。</td> </tr> <tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%">{ navigationId: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a> }</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指定监听的Navigation的id。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationinfo">NavDestinationInfo</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数。返回当前的NavDestination组件状态。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#uiobserveronnavdestinationupdate-1">uiObserver.on('navDestinationUpdate')</a>示例。</p> </div>  <div class="tiledSection"><h2 id="uiobserveronscrollevent12" device-type="phone,2in1,tablet,wearable,tv">uiObserver.on('scrollEvent')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveronscrollevent12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'scrollEvent', callback: Callback&lt;ScrollEventInfo&gt;): void</p> <p>监听所有滚动组件滚动事件的开始和结束。滚动组件包括<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list">List</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-grid">Grid</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll">Scroll</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-waterflow">WaterFlow</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-arclist">ArcList</a>。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'scrollEvent'，即滚动事件的开始和结束。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#scrolleventinfo12">ScrollEventInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。返回滚动事件的信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#uiobserveroffscrollevent12-1">uiObserver.off('scrollEvent')</a>示例。</p> </div>  <div class="tiledSection"><h2 id="uiobserveroffscrollevent12" device-type="phone,2in1,tablet,wearable,tv">uiObserver.off('scrollEvent')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveroffscrollevent12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'scrollEvent', callback?: Callback&lt;ScrollEventInfo&gt;): void</p> <p>取消监听所有滚动组件滚动事件的开始和结束。滚动组件包括<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list">List</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-grid">Grid</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll">Scroll</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-waterflow">WaterFlow</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-arclist">ArcList</a>。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'scrollEvent'，即滚动事件的开始和结束。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#scrolleventinfo12">ScrollEventInfo</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数。返回滚动事件的信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#uiobserveroffscrollevent12-1">uiObserver.off('scrollEvent')</a>示例。</p> </div>  <div class="tiledSection"><h2 id="uiobserveronscrollevent12-1" device-type="phone,2in1,tablet,wearable,tv">uiObserver.on('scrollEvent')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveronscrollevent12-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'scrollEvent', options: ObserverOptions, callback: Callback&lt;ScrollEventInfo&gt;): void</p> <p>监听指定id的滚动组件滚动事件的开始和结束。滚动组件包括<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list">List</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-grid">Grid</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll">Scroll</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-waterflow">WaterFlow</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-arclist">ArcList</a>。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'scrollEvent'，即滚动事件的开始和结束。</td> </tr> <tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#observeroptions12">ObserverOptions</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指定监听的滚动组件的id。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#scrolleventinfo12">ScrollEventInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。返回滚动事件的信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#uiobserveroffscrollevent12-1">uiObserver.off('scrollEvent')</a>示例。</p> </div>  <div class="tiledSection"><h2 id="uiobserveroffscrollevent12-1" device-type="phone,2in1,tablet,wearable,tv">uiObserver.off('scrollEvent')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveroffscrollevent12-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'scrollEvent', options: ObserverOptions, callback?: Callback&lt;ScrollEventInfo&gt;): void</p> <p>取消监听指定id的滚动组件滚动事件的开始和结束。滚动组件包括<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list">List</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-grid">Grid</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll">Scroll</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-waterflow">WaterFlow</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-arclist">ArcList</a>。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'scrollEvent'，即滚动事件的开始和结束。</td> </tr> <tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#observeroptions12">ObserverOptions</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指定监听的滚动组件的id。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#scrolleventinfo12">ScrollEventInfo</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数。返回滚动事件的信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-attr">options</span>: uiObserver.<span class="hljs-property">ObserverOptions</span> = { <span class="hljs-attr">id</span>: <span class="hljs-string">'testId'</span> };</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">arr</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Scroll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>          <span class="hljs-title class_">Column</span>() {</li><li>            <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>              <span class="hljs-title class_">Text</span>(item.<span class="hljs-title function_">toString</span>())</li><li>                .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>                .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFFFFFF</span>)</li><li>                .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">15</span>)</li><li>                .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>                .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>                .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>            }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> item)</li><li>          }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">id</span>(<span class="hljs-string">'testId'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'80%'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>
</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'UIObserver on'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'scrollEvent'</span>, <span class="hljs-function">(<span class="hljs-params">info</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`scrollEventInfo <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info)}</span>`</span>);</li><li>            });</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'UIObserver off'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'scrollEvent'</span>);</li><li>          })</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'UIObserverWithId on'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'scrollEvent'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>, <span class="hljs-function">(<span class="hljs-params">info</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`scrollEventInfo <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info)}</span>`</span>);</li><li>            });</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'UIObserverWithId off'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'scrollEvent'</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>);</li><li>          })</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserveronrouterpageupdate11" device-type="phone,2in1,tablet,wearable,tv">uiObserver.on('routerPageUpdate')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveronrouterpageupdate11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'routerPageUpdate', context: UIAbilityContext | UIContext, callback: Callback&lt;RouterPageInfo&gt;): void</p> <p>监听router中page页面的状态变化。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'routerPageUpdate'，即router中page页面的状态变化。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext">UIAbilityContext</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">上下文信息，用以指定监听页面的范围。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#routerpageinfo">RouterPageInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。携带pageInfo，返回当前的page页面状态。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// used in UIAbility</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span>, <span class="hljs-variable language_">window</span>, uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 注册监听，范围是abilityContext内的page</span></li><li>    uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'routerPageUpdate'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, <span class="hljs-function">(<span class="hljs-params">info: uiObserver.RouterPageInfo</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`[uiObserver][abilityContext] got info: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info)}</span>`</span>)</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>      windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">windowInfo</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = data;</li><li>        <span class="hljs-comment">// 获取UIContext实例</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = windowInfo.<span class="hljs-title function_">getUIContext</span>();</li><li>        <span class="hljs-comment">// 注册监听，范围是uiContext内的page</span></li><li>        uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'routerPageUpdate'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>, <span class="hljs-function">(<span class="hljs-params">info: uiObserver.RouterPageInfo</span>)=&gt;</span>{</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`[uiObserver][uiContext] got info: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info)}</span>`</span>)</li><li>        })</li><li>      })</li><li>    });</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// ... other function in EntryAbility</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserveroffrouterpageupdate11" device-type="phone,2in1,tablet,wearable,tv">uiObserver.off('routerPageUpdate')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveroffrouterpageupdate11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'routerPageUpdate', context: UIAbilityContext | UIContext, callback?: Callback&lt;RouterPageInfo&gt;): void</p> <p>取消监听router中page页面的状态变化。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'routerPageUpdate'，即router中page页面的状态变化。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext">UIAbilityContext</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">上下文信息，用以指定监听页面的范围。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#routerpageinfo">RouterPageInfo</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">需要被注销的回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// used in UIAbility</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { uiObserver, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// 实际使用前uiContext需要被赋值。参见示例uiObserver.on('routerPageUpdate')</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">onDestroy</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 注销当前abilityContext上的所有routerPageUpdate监听</span></li><li>    uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'routerPageUpdate'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onWindowStageDestroy</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 注销在uiContext上的所有routerPageUpdate监听</span></li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>) {</li><li>      uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'routerPageUpdate'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// ... other function in EntryAbility</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserverondensityupdate12" device-type="phone,2in1,tablet,wearable,tv">uiObserver.on('densityUpdate')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserverondensityupdate12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'densityUpdate', context: UIContext, callback: Callback&lt;DensityInfo&gt;): void</p> <p>监听屏幕像素密度变化。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'densityUpdate'，即屏幕像素密度变化。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">上下文信息，用以指定监听页面的范围。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#densityinfo12">DensityInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。携带densityInfo，返回变化后的屏幕像素密度。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">density</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'未注册监听'</span>;</li><li>
</li><li>  densityUpdateCallback = <span class="hljs-function">(<span class="hljs-params">info: uiObserver.DensityInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">density</span> = info.<span class="hljs-property">density</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-string">'变化后的DPI：'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">density</span>.<span class="hljs-title function_">toString</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'注册屏幕像素密度变化监听'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-string">'已注册监听'</span></li><li>          uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'densityUpdate'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-variable language_">this</span>.<span class="hljs-property">densityUpdateCallback</span>);</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserveroffdensityupdate12" device-type="phone,2in1,tablet,wearable,tv">uiObserver.off('densityUpdate')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveroffdensityupdate12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'densityUpdate', context: UIContext, callback?: Callback&lt;DensityInfo&gt;): void</p> <p>取消监听屏幕像素密度的变化。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'densityUpdate'，即屏幕像素密度变化。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">上下文信息，用以指定监听页面的范围。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#densityinfo12">DensityInfo</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">需要被注销的回调函数。若不指定具体的回调函数，则注销指定UIContext下所有densityUpdate事件监听。</td> </tr>  </tbody></table></div> </div> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uiObserver, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">density</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'未注册监听'</span></li><li>
</li><li>  densityUpdateCallback = <span class="hljs-function">(<span class="hljs-params">info: uiObserver.DensityInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">density</span> = info.<span class="hljs-property">density</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-string">'变化后的DPI：'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">density</span>.<span class="hljs-title function_">toString</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'注册屏幕像素密度变化监听'</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">10</span> })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-string">'已注册监听'</span></li><li>          uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'densityUpdate'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-variable language_">this</span>.<span class="hljs-property">densityUpdateCallback</span>);</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'解除注册屏幕像素密度变化监听'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-string">'未注册监听'</span></li><li>          uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'densityUpdate'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-variable language_">this</span>.<span class="hljs-property">densityUpdateCallback</span>);</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserveronwilldraw12" device-type="phone,2in1,tablet,wearable,tv">uiObserver.on('willDraw')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveronwilldraw12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'willDraw', context: UIContext, callback: Callback&lt;void&gt;): void</p> <p>监听每一帧绘制指令下发情况。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'willDraw'，即是否将要绘制。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">上下文信息，用以指定监听页面的范围。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  willDrawCallback = <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"willDraw指令下发"</span>);</li><li>  }</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'注册绘制指令下发监听'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'willDraw'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-variable language_">this</span>.<span class="hljs-property">willDrawCallback</span>);</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserveroffwilldraw12" device-type="phone,2in1,tablet,wearable,tv">uiObserver.off('willDraw')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveroffwilldraw12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'willDraw', context: UIContext, callback?: Callback&lt;void&gt;): void</p> <p>取消监听每一帧绘制指令下发情况。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'willDraw'，即是否将要绘制。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">上下文信息，用以指定监听页面的范围。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">需要被注销的回调函数。</td> </tr>  </tbody></table></div> </div> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  willDrawCallback = <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"willDraw指令下发"</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'注册绘制指令下发监听'</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">10</span> })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'willDraw'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-variable language_">this</span>.<span class="hljs-property">willDrawCallback</span>);</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'解除注册绘制指令下发监听'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'willDraw'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-variable language_">this</span>.<span class="hljs-property">willDrawCallback</span>);</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserverondidlayout12" device-type="phone,2in1,tablet,wearable,tv">uiObserver.on('didLayout')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserverondidlayout12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'didLayout', context: UIContext, callback: Callback&lt;void&gt;): void</p> <p>监听每一帧布局完成情况。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'didLayout'，即是否布局完成。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">上下文信息，用以指定监听页面的范围。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  didLayoutCallback = <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Layout布局完成"</span>);</li><li>  }</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'注册布局完成监听'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'didLayout'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-variable language_">this</span>.<span class="hljs-property">didLayoutCallback</span>);</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserveroffdidlayout12" device-type="phone,2in1,tablet,wearable,tv">uiObserver.off('didLayout')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveroffdidlayout12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'didLayout', context: UIContext, callback?: Callback&lt;void&gt;): void</p> <p>取消监听每一帧布局完成情况。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'didLayout'，即是否布局完成。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">上下文信息，用以指定监听页面的范围。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">需要被注销的回调函数。</td> </tr>  </tbody></table></div> </div> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  didLayoutCallback = <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Layout布局完成"</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'注册布局完成监听'</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">10</span> })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'didLayout'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-variable language_">this</span>.<span class="hljs-property">didLayoutCallback</span>);</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'解除布局完成监听'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'didLayout'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-variable language_">this</span>.<span class="hljs-property">didLayoutCallback</span>);</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserveronnavdestinationswitch12" device-type="phone,2in1,tablet,wearable,tv">uiObserver.on('navDestinationSwitch')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveronnavdestinationswitch12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'navDestinationSwitch', context: UIAbilityContext | UIContext, callback: Callback&lt;NavDestinationSwitchInfo&gt;): void</p> <p>监听Navigation的页面切换事件。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'navDestinationSwitch'，即Navigation的页面切换事件。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext">UIAbilityContext</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">上下文信息，用以指定监听页面切换事件的范围。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationswitchinfo12">NavDestinationSwitchInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。携带NavDestinationSwitchInfo，返回页面切换事件的信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-comment">// 演示 uiObserver.on('navDestinationSwitch', UIAbilityContext, callback)</span></li><li><span class="hljs-comment">// uiObserver.off('navDestinationSwitch', UIAbilityContext, callback)</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { uiObserver, <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.PerformanceAnalysisKit"</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callbackFunc</span>(<span class="hljs-params">info: uiObserver.NavDestinationSwitchInfo</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`testTag navDestinationSwitch from: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info.<span class="hljs-keyword">from</span>)}</span> to: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info.to)}</span>`</span>)</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-built_in">void</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onCreate'</span>);</li><li>    uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'navDestinationSwitch'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, callbackFunc);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onDestroy</span>(): <span class="hljs-built_in">void</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onDestroy'</span>);</li><li>    uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'navDestinationSwitch'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, callbackFunc);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// Main window is created, set main page for this ability</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onWindowStageCreate'</span>);</li><li>
</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err) ?? <span class="hljs-string">''</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in loading the content. Data: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data) ?? <span class="hljs-string">''</span>);</li><li>    });</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onWindowStageDestroy</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// Main window is destroyed, release UI related resources</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onWindowStageDestroy'</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onForeground</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// Ability has brought to foreground</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onForeground'</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onBackground</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// Ability has back to background</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onBackground'</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-comment">// 演示 uiObserver.on('navDestinationSwitch', UIContext, callback)</span></li><li><span class="hljs-comment">// uiObserver.off('navDestinationSwitch', UIContext, callback)</span></li><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PageOne</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"pageOne"</span>)</li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">"pageOne"</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callbackFunc</span>(<span class="hljs-params">info: uiObserver.NavDestinationSwitchInfo</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`testTag navDestinationSwitch from: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info.<span class="hljs-keyword">from</span>)}</span> to: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info.to)}</span>`</span>)</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">stack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">PageBuilder</span>(<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>) {</li><li>    <span class="hljs-title class_">PageOne</span>()</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'navDestinationSwitch'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), callbackFunc)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"></span>) {</li><li>    uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'navDestinationSwitch'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), callbackFunc)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"push"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">pushPath</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"pageOne"</span> });</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">title</span>(<span class="hljs-string">"Navigation"</span>)</li><li>      .<span class="hljs-title function_">navDestination</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">PageBuilder</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserveroffnavdestinationswitch12" device-type="phone,2in1,tablet,wearable,tv">uiObserver.off('navDestinationSwitch')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveroffnavdestinationswitch12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'navDestinationSwitch', context: UIAbilityContext | UIContext, callback?: Callback&lt;NavDestinationSwitchInfo&gt;): void</p> <p>取消监听Navigation的页面切换事件。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'navDestinationSwitch'，即Navigation的页面切换事件。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext">UIAbilityContext</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">上下文信息，用以指定监听页面切换事件的范围。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationswitchinfo12">NavDestinationSwitchInfo</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">需要被注销的回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#uiobserveronnavdestinationswitch12">uiObserver.on('navDestinationSwitch')</a>示例。</p> </div>  <div class="tiledSection"><h2 id="uiobserveronnavdestinationswitch12-1" device-type="phone,2in1,tablet,wearable,tv">uiObserver.on('navDestinationSwitch')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveronnavdestinationswitch12-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'navDestinationSwitch', context: UIAbilityContext | UIContext, observerOptions: NavDestinationSwitchObserverOptions, callback: Callback&lt;NavDestinationSwitchInfo&gt;): void</p> <p>监听Navigation的页面切换事件。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'navDestinationSwitch'，即Navigation的页面切换事件。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext">UIAbilityContext</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">上下文信息，用以指定监听页面切换事件的范围。</td> </tr> <tr><td class="cellrowborder" width="25%">observerOptions</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationswitchobserveroptions12">NavDestinationSwitchObserverOptions</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听选项。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationswitchinfo12">NavDestinationSwitchInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。携带NavDestinationSwitchInfo，返回页面切换事件的信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-comment">// 演示 uiObserver.on('navDestinationSwitch', UIAbilityContext, NavDestinationSwitchObserverOptions, callback)</span></li><li><span class="hljs-comment">// uiObserver.off('navDestinationSwitch', UIAbilityContext, NavDestinationSwitchObserverOptions, callback)</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { uiObserver, <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.PerformanceAnalysisKit"</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callbackFunc</span>(<span class="hljs-params">info: uiObserver.NavDestinationSwitchInfo</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`testTag navDestinationSwitch from: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info.<span class="hljs-keyword">from</span>)}</span> to: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info.to)}</span>`</span>)</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-built_in">void</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onCreate'</span>);</li><li>    uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'navDestinationSwitch'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, {</li><li>      <span class="hljs-attr">navigationId</span>: <span class="hljs-string">"myNavId"</span></li><li>    }, callbackFunc);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onDestroy</span>(): <span class="hljs-built_in">void</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onDestroy'</span>);</li><li>    uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'navDestinationSwitch'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, {</li><li>      <span class="hljs-attr">navigationId</span>: <span class="hljs-string">"myNavId"</span></li><li>    }, callbackFunc);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// Main window is created, set main page for this ability</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onWindowStageCreate'</span>);</li><li>
</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err) ?? <span class="hljs-string">''</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in loading the content. Data: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data) ?? <span class="hljs-string">''</span>);</li><li>    });</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onWindowStageDestroy</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// Main window is destroyed, release UI related resources</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onWindowStageDestroy'</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onForeground</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// Ability has brought to foreground</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onForeground'</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onBackground</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// Ability has back to background</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onBackground'</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-comment">// 演示 uiObserver.on('navDestinationSwitch', UIContext, NavDestinationSwitchObserverOptions, callback)</span></li><li><span class="hljs-comment">// uiObserver.off('navDestinationSwitch', UIContext, NavDestinationSwitchObserverOptions, callback)</span></li><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PageOne</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"pageOne"</span>)</li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">"pageOne"</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callbackFunc</span>(<span class="hljs-params">info: uiObserver.NavDestinationSwitchInfo</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`testTag navDestinationSwitch from: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info.<span class="hljs-keyword">from</span>)}</span> to: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info.to)}</span>`</span>)</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">stack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">PageBuilder</span>(<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>) {</li><li>    <span class="hljs-title class_">PageOne</span>()</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'navDestinationSwitch'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), { <span class="hljs-attr">navigationId</span>: <span class="hljs-string">"myNavId"</span> }, callbackFunc)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"></span>) {</li><li>    uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'navDestinationSwitch'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), { <span class="hljs-attr">navigationId</span>: <span class="hljs-string">"myNavId"</span> }, callbackFunc)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"push"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">pushPath</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"pageOne"</span> });</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">id</span>(<span class="hljs-string">"myNavId"</span>)</li><li>      .<span class="hljs-title function_">title</span>(<span class="hljs-string">"Navigation"</span>)</li><li>      .<span class="hljs-title function_">navDestination</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">PageBuilder</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserveroffnavdestinationswitch12-1" device-type="phone,2in1,tablet,wearable,tv">uiObserver.off('navDestinationSwitch')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserveroffnavdestinationswitch12-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'navDestinationSwitch', context: UIAbilityContext | UIContext, observerOptions: NavDestinationSwitchObserverOptions, callback?: Callback&lt;NavDestinationSwitchInfo&gt;): void</p> <p>取消监听Navigation的页面切换事件。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'navDestinationSwitch'，即Navigation的页面切换事件。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext">UIAbilityContext</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">上下文信息，用以指定监听页面切换事件的范围。</td> </tr> <tr><td class="cellrowborder" width="25%">observerOptions</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationswitchobserveroptions12">NavDestinationSwitchObserverOptions</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听选项。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationswitchinfo12">NavDestinationSwitchInfo</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">需要被注销的回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#uiobserveronnavdestinationswitch12-1">uiObserver.on('navDestinationSwitch')</a>接口示例。</p> </div>  <div class="tiledSection"><h2 id="uiobserverontabcontentupdate12" device-type="phone,2in1,tablet,wearable,tv">uiObserver.on('tabContentUpdate')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserverontabcontentupdate12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'tabContentUpdate', callback: Callback&lt;TabContentInfo&gt;): void</p> <p>监听TabContent页面的切换事件。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'tabContentUpdate'，即TabContent页面的切换事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#tabcontentinfo12">TabContentInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。携带TabContentInfo，返回TabContent页面切换事件的信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callbackFunc</span>(<span class="hljs-params">info: uiObserver.TabContentInfo</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`tabContentUpdate <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info)}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TabsExample</span> {</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'tabContentUpdate'</span>, callbackFunc);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(): <span class="hljs-built_in">void</span> {</li><li>    uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'tabContentUpdate'</span>, callbackFunc);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Tabs</span>() {</li><li>        <span class="hljs-title class_">TabContent</span>() {</li><li>          <span class="hljs-title class_">Column</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#00CB87'</span>)</li><li>        }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">'green'</span>).<span class="hljs-title function_">id</span>(<span class="hljs-string">'tabContentId0'</span>)</li><li>
</li><li>        <span class="hljs-title class_">TabContent</span>() {</li><li>          <span class="hljs-title class_">Column</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#007DFF'</span>)</li><li>        }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">'blue'</span>).<span class="hljs-title function_">id</span>(<span class="hljs-string">'tabContentId1'</span>)</li><li>
</li><li>        <span class="hljs-title class_">TabContent</span>() {</li><li>          <span class="hljs-title class_">Column</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#FFBF00'</span>)</li><li>        }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">'yellow'</span>).<span class="hljs-title function_">id</span>(<span class="hljs-string">'tabContentId2'</span>)</li><li>
</li><li>        <span class="hljs-title class_">TabContent</span>() {</li><li>          <span class="hljs-title class_">Column</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#E67C92'</span>)</li><li>        }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">'pink'</span>).<span class="hljs-title function_">id</span>(<span class="hljs-string">'tabContentId3'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">360</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">296</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#F1F3F5'</span>)</li><li>      .<span class="hljs-title function_">id</span>(<span class="hljs-string">'tabsId'</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserverofftabcontentupdate12" device-type="phone,2in1,tablet,wearable,tv">uiObserver.off('tabContentUpdate')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserverofftabcontentupdate12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'tabContentUpdate', callback?: Callback&lt;TabContentInfo&gt;): void</p> <p>取消监听TabContent页面的切换事件。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'tabContentUpdate'，即TabContent页面的切换事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#tabcontentinfo12">TabContentInfo</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">需要被注销的回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#uiobserverontabcontentupdate12">uiObserver.on('tabContentUpdate')</a>接口示例。</p> </div>  <div class="tiledSection"><h2 id="uiobserverontabcontentupdate12-1" device-type="phone,2in1,tablet,wearable,tv">uiObserver.on('tabContentUpdate')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserverontabcontentupdate12-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'tabContentUpdate', options: ObserverOptions, callback: Callback&lt;TabContentInfo&gt;): void</p> <p>监听指定Tabs组件id的TabContent页面切换事件。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'tabContentUpdate'，即TabContent页面的切换事件。</td> </tr> <tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#observeroptions12">ObserverOptions</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指定监听的Tabs组件的id。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#tabcontentinfo12">TabContentInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。携带TabContentInfo，返回TabContent页面切换事件的信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pta-c106="" class="highlight-div"><div _ngcontent-pta-c106="" class="highlight-div-header"><div _ngcontent-pta-c106="" class="highlight-div-header-left"><div _ngcontent-pta-c106="" class="handle-button expand-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pta-c106="" class="highlight-div-header-right"><div _ngcontent-pta-c106="" class="handle-button ai-button"></div><div _ngcontent-pta-c106="" class="handle-button line-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pta-c106="" class="handle-button theme-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pta-c106="" class="handle-button copy-button"><div _ngcontent-pta-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pta-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callbackFunc</span>(<span class="hljs-params">info: uiObserver.TabContentInfo</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`tabContentUpdate <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(info)}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TabsExample</span> {</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'tabContentUpdate'</span>, { <span class="hljs-attr">id</span>: <span class="hljs-string">'tabsId'</span> }, callbackFunc);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(): <span class="hljs-built_in">void</span> {</li><li>    uiObserver.<span class="hljs-title function_">off</span>(<span class="hljs-string">'tabContentUpdate'</span>, { <span class="hljs-attr">id</span>: <span class="hljs-string">'tabsId'</span> }, callbackFunc);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Tabs</span>() {</li><li>        <span class="hljs-title class_">TabContent</span>() {</li><li>          <span class="hljs-title class_">Column</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#00CB87'</span>)</li><li>        }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">'green'</span>).<span class="hljs-title function_">id</span>(<span class="hljs-string">'tabContentId0'</span>)</li><li>
</li><li>        <span class="hljs-title class_">TabContent</span>() {</li><li>          <span class="hljs-title class_">Column</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#007DFF'</span>)</li><li>        }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">'blue'</span>).<span class="hljs-title function_">id</span>(<span class="hljs-string">'tabContentId1'</span>)</li><li>
</li><li>        <span class="hljs-title class_">TabContent</span>() {</li><li>          <span class="hljs-title class_">Column</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#FFBF00'</span>)</li><li>        }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">'yellow'</span>).<span class="hljs-title function_">id</span>(<span class="hljs-string">'tabContentId2'</span>)</li><li>
</li><li>        <span class="hljs-title class_">TabContent</span>() {</li><li>          <span class="hljs-title class_">Column</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#E67C92'</span>)</li><li>        }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">'pink'</span>).<span class="hljs-title function_">id</span>(<span class="hljs-string">'tabContentId3'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">360</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">296</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#F1F3F5'</span>)</li><li>      .<span class="hljs-title function_">id</span>(<span class="hljs-string">'tabsId'</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="uiobserverofftabcontentupdate12-1" device-type="phone,2in1,tablet,wearable,tv">uiObserver.off('tabContentUpdate')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uiobserverofftabcontentupdate12-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'tabContentUpdate', options: ObserverOptions, callback?: Callback&lt;TabContentInfo&gt;): void</p> <p>取消监听指定Tabs组件id的TabContent页面切换事件。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">监听事件，固定为'tabContentUpdate'，即TabContent页面的切换事件。</td> </tr> <tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#observeroptions12">ObserverOptions</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指定监听的Tabs组件的id。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#tabcontentinfo12">TabContentInfo</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">需要被注销的回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#uiobserverontabcontentupdate12-1">uiObserver.on('tabContentUpdate')</a>接口示例。</p> </div> </div> <div></div></div>