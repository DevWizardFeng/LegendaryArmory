<h1 _ngcontent-uvr-c119="" class="doc-title ng-star-inserted" title="@ohos.bluetooth (蓝牙)"> @ohos.bluetooth (蓝牙) </h1>

<div _ngcontent-uvr-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;"> <div><p>蓝牙模块提供了基础的传统蓝牙能力以及BLE的扫描、广播等功能。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>本模块首批接口从API version 7开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p> <p>从API Version 9 开始，该接口不再维护，推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-ble">@ohos.bluetooth.ble</a>等相关profile接口。</p>  </div></div></div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;"><h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> bluetooth <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.bluetooth'</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 750px;"><h2 id="bluetoothenablebluetooth8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.enableBluetooth<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothenablebluetooth8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>enableBluetooth(): boolean</p> <p>开启蓝牙。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagerenablebluetoothdeprecated">bluetoothManager.enableBluetooth</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">打开蓝牙，成功返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> enable : boolean = bluetooth.<span class="hljs-title function_">enableBluetooth</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 750px;"><h2 id="bluetoothdisablebluetooth8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.disableBluetooth<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothdisablebluetooth8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>disableBluetooth(): boolean</p> <p>关闭蓝牙。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagerdisablebluetoothdeprecated">bluetoothManager.disableBluetooth</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">关闭蓝牙，成功返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> disable : boolean = bluetooth.<span class="hljs-title function_">disableBluetooth</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 750px;"><h2 id="bluetoothgetlocalname8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.getLocalName<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothgetlocalname8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getLocalName(): string</p> <p>获取蓝牙本地设备名称。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagergetlocalnamedeprecated">bluetoothManager.getLocalName</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">string</td> <td class="cellrowborder" width="50%">蓝牙本地设备名称。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> localName : string = bluetooth.<span class="hljs-title function_">getLocalName</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 750px;"><h2 id="bluetoothgetstatedeprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.getState<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothgetstatedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getState(): BluetoothState</p> <p>获取蓝牙开关状态。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagergetstatedeprecated">bluetoothManager.getState</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bluetoothstatedeprecated">BluetoothState</a></td> <td class="cellrowborder" width="50%">表示蓝牙开关状态。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> state : bluetooth.<span class="hljs-property">BluetoothState</span> = bluetooth.<span class="hljs-title function_">getState</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 750px;"><h2 id="bluetoothgetbtconnectionstatedeprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.getBtConnectionState<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothgetbtconnectionstatedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getBtConnectionState(): ProfileConnectionState</p> <p>获取蓝牙本端的Profile连接状态，例如：任意一个支持的Profile连接状态为已连接，则此接口返回状态为已连接。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagergetbtconnectionstatedeprecated">bluetoothManager.getBtConnectionState</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#profileconnectionstatedeprecated">ProfileConnectionState</a></td> <td class="cellrowborder" width="50%">表示蓝牙设备的Profile连接状态。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> connectionState : bluetooth.<span class="hljs-property">ProfileConnectionState</span> = bluetooth.<span class="hljs-title function_">getBtConnectionState</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 925px;"><h2 id="bluetoothsetlocalname8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.setLocalName<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothsetlocalname8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setLocalName(name: string): boolean</p> <p>设置蓝牙本地设备名称。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagersetlocalnamedeprecated">bluetoothManager.setLocalName</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">name</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要设置的蓝牙名称，最大长度为248字节数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">设置蓝牙本地设备名称，成功返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> ret : boolean = bluetooth.<span class="hljs-title function_">setLocalName</span>(<span class="hljs-string">'device_name'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 997px;"><h2 id="bluetoothpairdevicedeprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.pairDevice<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothpairdevicedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>pairDevice(deviceId: string): boolean</p> <p>发起蓝牙配对。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagerpairdevicedeprecated">bluetoothManager.pairDevice</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">deviceId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示配对的远端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">发起蓝牙配对，成功返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 实际的地址可由扫描流程获取</span></li><li><span class="hljs-keyword">let</span> result : boolean = bluetooth.<span class="hljs-title function_">pairDevice</span>(<span class="hljs-string">"XX:XX:XX:XX:XX:XX"</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 949px;"><h2 id="bluetoothgetprofileconnstate8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.getProfileConnState<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothgetprofileconnstate8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getProfileConnState(profileId: ProfileId): ProfileConnectionState</p> <p>依据ProfileId获取指定profile的连接状态。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagergetprofileconnectionstatedeprecated">bluetoothManager.getProfileConnectionState</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">profileId</td> <td class="cellrowborder" width="25%">ProfileId</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示profile的枚举值，例如：PROFILE_A2DP_SOURCE。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#profileconnectionstatedeprecated">ProfileConnectionState</a></td> <td class="cellrowborder" width="50%">profile的连接状态。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> result : bluetooth.<span class="hljs-property">ProfileConnectionState</span> = bluetooth.<span class="hljs-title function_">getProfileConnState</span>(bluetooth.<span class="hljs-property">ProfileId</span>.<span class="hljs-property">PROFILE_A2DP_SOURCE</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 949px;"><h2 id="bluetoothgetremotedevicename8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.getRemoteDeviceName<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothgetremotedevicename8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRemoteDeviceName(deviceId: string): string</p> <p>获取对端蓝牙设备的名称。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagergetremotedevicenamedeprecated">bluetoothManager.getRemoteDeviceName</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">deviceId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示远程设备的地址，例如："XX:XX:XX:XX:XX:XX"。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">string</td> <td class="cellrowborder" width="50%">以字符串格式返回设备名称。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> remoteDeviceName : string = bluetooth.<span class="hljs-title function_">getRemoteDeviceName</span>(<span class="hljs-string">"XX:XX:XX:XX:XX:XX"</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 949px;"><h2 id="bluetoothgetremotedeviceclass8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.getRemoteDeviceClass<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothgetremotedeviceclass8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRemoteDeviceClass(deviceId: string): DeviceClass</p> <p>获取对端蓝牙设备的类别。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagergetremotedeviceclassdeprecated">bluetoothManager.getRemoteDeviceClass</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">deviceId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示远程设备的地址，例如："XX:XX:XX:XX:XX:XX"。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#deviceclassdeprecated">DeviceClass</a></td> <td class="cellrowborder" width="50%">远程设备的类别。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> remoteDeviceClass : bluetooth.<span class="hljs-property">DeviceClass</span> = bluetooth.<span class="hljs-title function_">getRemoteDeviceClass</span>(<span class="hljs-string">"XX:XX:XX:XX:XX:XX"</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 750px;"><h2 id="bluetoothgetpaireddevices8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.getPairedDevices<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothgetpaireddevices8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPairedDevices(): Array&lt;string&gt;</p> <p>获取蓝牙配对列表。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagergetpaireddevicesdeprecated">bluetoothManager.getPairedDevices</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Array&lt;string&gt;</td> <td class="cellrowborder" width="50%">已配对蓝牙设备的地址列表。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> devices : <span class="hljs-title class_">Array</span>&lt;string&gt; = bluetooth.<span class="hljs-title function_">getPairedDevices</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1042px;"><h2 id="bluetoothsetbluetoothscanmodedeprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.setBluetoothScanMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothsetbluetoothscanmodedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setBluetoothScanMode(mode: ScanMode, duration: number): boolean</p> <p>设置蓝牙扫描模式，可以被远端设备发现。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagersetbluetoothscanmodedeprecated">bluetoothManager.setBluetoothScanMode</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">mode</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#scanmodedeprecated">ScanMode</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">蓝牙扫描模式。</td> </tr> <tr><td class="cellrowborder" width="25%">duration</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设备可被发现的持续时间，单位为毫秒；设置为0则持续可发现。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">设置蓝牙扫描，成功返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 设置为可连接可发现才可被远端设备扫描到，可以连接。</span></li><li><span class="hljs-keyword">let</span> result : boolean = bluetooth.<span class="hljs-title function_">setBluetoothScanMode</span>(bluetooth.<span class="hljs-property">ScanMode</span></li><li>    .<span class="hljs-property">SCAN_MODE_CONNECTABLE_GENERAL_DISCOVERABLE</span>, <span class="hljs-number">100</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 750px;"><h2 id="bluetoothgetbluetoothscanmode8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.getBluetoothScanMode<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothgetbluetoothscanmode8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getBluetoothScanMode(): ScanMode</p> <p>获取蓝牙扫描模式。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagergetbluetoothscanmodedeprecated">bluetoothManager.getBluetoothScanMode</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#scanmodedeprecated">ScanMode</a></td> <td class="cellrowborder" width="50%">蓝牙扫描模式。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> scanMode : bluetooth.<span class="hljs-property">ScanMode</span> = bluetooth.<span class="hljs-title function_">getBluetoothScanMode</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 870px;"><h2 id="bluetoothstartbluetoothdiscovery8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.startBluetoothDiscovery<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothstartbluetoothdiscovery8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startBluetoothDiscovery(): boolean</p> <p>开启蓝牙扫描，可以发现远端设备。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagerstartbluetoothdiscoverydeprecated">bluetoothManager.startBluetoothDiscovery</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH 和 ohos.permission.LOCATION</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">开启蓝牙扫描，成功返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> deviceId : <span class="hljs-title class_">Array</span>&lt;string&gt;;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : <span class="hljs-built_in">Array</span>&lt;string&gt;</span>) {</li><li>    deviceId = data;</li><li>}</li><li>bluetooth.<span class="hljs-title function_">on</span>(<span class="hljs-string">'bluetoothDeviceFind'</span>, onReceiveEvent);</li><li><span class="hljs-keyword">let</span> result : boolean = bluetooth.<span class="hljs-title function_">startBluetoothDiscovery</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 750px;"><h2 id="bluetoothstopbluetoothdiscovery8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.stopBluetoothDiscovery<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothstopbluetoothdiscovery8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopBluetoothDiscovery(): boolean</p> <p>关闭蓝牙扫描。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagerstopbluetoothdiscoverydeprecated">bluetoothManager.stopBluetoothDiscovery</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">关闭蓝牙扫描，成功返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> result : boolean = bluetooth.<span class="hljs-title function_">stopBluetoothDiscovery</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1138px;"><h2 id="bluetoothsetdevicepairingconfirmation8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.setDevicePairingConfirmation<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothsetdevicepairingconfirmation8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDevicePairingConfirmation(device: string, accept: boolean): boolean</p> <p>设置设备配对请求确认。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagersetdevicepairingconfirmationdeprecated">bluetoothManager.setDevicePairingConfirmation</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.MANAGE_BLUETOOTH（该权限仅系统应用可申请）</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">device</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示远端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td> </tr> <tr><td class="cellrowborder" width="25%">accept</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">接受配对请求设置为true，否则设置为false。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">设置设备配对确认，成功返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 订阅“pinRequired”配对请求事件，收到远端配对请求后设置配对确认</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceivePinRequiredEvent</span>(<span class="hljs-params">data : bluetooth.PinRequiredParam</span>) { <span class="hljs-comment">// data为配对请求的入参，配对请求参数</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'pin required  = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>    bluetooth.<span class="hljs-title function_">setDevicePairingConfirmation</span>(data.<span class="hljs-property">deviceId</span>, <span class="hljs-literal">true</span>);</li><li>}</li><li>bluetooth.<span class="hljs-title function_">on</span>(<span class="hljs-string">"pinRequired"</span>, onReceivePinRequiredEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1063px;"><h2 id="bluetoothonbluetoothdevicefind8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.on('bluetoothDeviceFind')<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothonbluetoothdevicefind8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'bluetoothDeviceFind', callback: Callback&lt;Array&lt;string&gt;&gt;): void</p> <p>订阅蓝牙设备发现上报事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanageronbluetoothdevicefinddeprecated">bluetoothManager.on('bluetoothDeviceFind')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"bluetoothDeviceFind"字符串，表示蓝牙设备发现事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;Array&lt;string&gt;&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，发现的设备集合。回调函数由用户创建通过该接口注册。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : <span class="hljs-built_in">Array</span>&lt;string&gt;</span>) { <span class="hljs-comment">// data为蓝牙设备地址集合</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bluetooth device find = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>bluetooth.<span class="hljs-title function_">on</span>(<span class="hljs-string">'bluetoothDeviceFind'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1111px;"><h2 id="bluetoothoffbluetoothdevicefind8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.off('bluetoothDeviceFind')<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothoffbluetoothdevicefind8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'bluetoothDeviceFind', callback?: Callback&lt;Array&lt;string&gt;&gt;): void</p> <p>取消订阅蓝牙设备发现上报事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanageroffbluetoothdevicefinddeprecated">bluetoothManager.off('bluetoothDeviceFind')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"bluetoothDeviceFind"字符串，表示蓝牙设备发现事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;Array&lt;string&gt;&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消订阅蓝牙设备发现事件上报。不填该参数则取消订阅该type对应的所有回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : <span class="hljs-built_in">Array</span>&lt;string&gt;</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bluetooth device find = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>bluetooth.<span class="hljs-title function_">on</span>(<span class="hljs-string">'bluetoothDeviceFind'</span>, onReceiveEvent);</li><li>bluetooth.<span class="hljs-title function_">off</span>(<span class="hljs-string">'bluetoothDeviceFind'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1015px;"><h2 id="bluetoothonpinrequired8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.on('pinRequired')<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothonpinrequired8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'pinRequired', callback: Callback&lt;PinRequiredParam&gt;): void</p> <p>订阅远端蓝牙设备的配对请求事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanageronpinrequireddeprecated">bluetoothManager.on('pinRequired')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"pinRequired"字符串，表示配对请求事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#pinrequiredparamdeprecated">PinRequiredParam</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，配对请求。回调函数由用户创建通过该接口注册。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : bluetooth.PinRequiredParam</span>) { <span class="hljs-comment">// data为配对请求参数</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'pin required = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>bluetooth.<span class="hljs-title function_">on</span>(<span class="hljs-string">'pinRequired'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1063px;"><h2 id="bluetoothoffpinrequired8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.off('pinRequired')<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothoffpinrequired8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'pinRequired', callback?: Callback&lt;PinRequiredParam&gt;): void</p> <p>取消订阅远端蓝牙设备的配对请求事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanageroffpinrequireddeprecated">bluetoothManager.off('pinRequired')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"pinRequired"字符串，表示配对请求事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#pinrequiredparamdeprecated">PinRequiredParam</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消订阅蓝牙配对请求事件上报，入参为配对请求参数。不填该参数则取消订阅该type对应的所有回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : bluetooth.PinRequiredParam</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'pin required = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>bluetooth.<span class="hljs-title function_">on</span>(<span class="hljs-string">'pinRequired'</span>, onReceiveEvent);</li><li>bluetooth.<span class="hljs-title function_">off</span>(<span class="hljs-string">'pinRequired'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1039px;"><h2 id="bluetoothonbondstatechangedeprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.on('bondStateChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothonbondstatechangedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'bondStateChange', callback: Callback&lt;BondStateParam&gt;): void</p> <p>订阅蓝牙配对状态改变事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanageronbondstatechangedeprecated">bluetoothManager.on('bondStateChange')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"bondStateChange"字符串，表示蓝牙配对状态改变事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bondstateparamdeprecated">BondStateParam</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，配对的状态。回调函数由用户创建通过该接口注册。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : bluetooth.BondStateParam</span>) { <span class="hljs-comment">// data为回调函数入参，表示配对的状态</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'pair state = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>bluetooth.<span class="hljs-title function_">on</span>(<span class="hljs-string">'bondStateChange'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1087px;"><h2 id="bluetoothoffbondstatechange8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.off('bondStateChange')<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothoffbondstatechange8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'bondStateChange', callback?: Callback&lt;BondStateParam&gt;): void</p> <p>取消订阅蓝牙配对状态改变事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanageroffbondstatechangedeprecated">bluetoothManager.off('bondStateChange')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"bondStateChange"字符串，表示蓝牙配对状态改变事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bondstateparamdeprecated">BondStateParam</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消订阅蓝牙配对状态改变事件上报。不填该参数则取消订阅该type对应的所有回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : bluetooth.BondStateParam</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bond state = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>bluetooth.<span class="hljs-title function_">on</span>(<span class="hljs-string">'bondStateChange'</span>, onReceiveEvent);</li><li>bluetooth.<span class="hljs-title function_">off</span>(<span class="hljs-string">'bondStateChange'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1015px;"><h2 id="bluetoothonstatechange8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.on('stateChange')<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothonstatechange8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'stateChange', callback: Callback&lt;BluetoothState&gt;): void</p> <p>订阅蓝牙连接状态改变事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanageronstatechangedeprecated">bluetoothManager.on('stateChange')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"stateChange"字符串，表示蓝牙状态改变事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bluetoothstatedeprecated">BluetoothState</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，蓝牙状态。回调函数由用户创建通过该接口注册。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : bluetooth.BluetoothState</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bluetooth state = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>bluetooth.<span class="hljs-title function_">on</span>(<span class="hljs-string">'stateChange'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1063px;"><h2 id="bluetoothoffstatechange8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.off('stateChange')<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothoffstatechange8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'stateChange', callback?: Callback&lt;BluetoothState&gt;): void</p> <p>取消订阅蓝牙连接状态改变事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanageroffstatechangedeprecated">bluetoothManager.off('stateChange')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"stateChange"字符串，表示蓝牙状态改变事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bluetoothstatedeprecated">BluetoothState</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消订阅蓝牙状态改变事件上报。不填该参数则取消订阅该type对应的所有回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : bluetooth.BluetoothState</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bluetooth state = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>bluetooth.<span class="hljs-title function_">on</span>(<span class="hljs-string">'stateChange'</span>, onReceiveEvent);</li><li>bluetooth.<span class="hljs-title function_">off</span>(<span class="hljs-string">'stateChange'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1108px;"><h2 id="bluetoothspplisten8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.sppListen<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothspplisten8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sppListen(name: string, option: SppOption, callback: AsyncCallback&lt;number&gt;): void</p> <p>创建一个服务端监听Socket。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagerspplistendeprecated">bluetoothManager.sppListen</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">name</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">服务的名称。</td> </tr> <tr><td class="cellrowborder" width="25%">option</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#sppoptiondeprecated">SppOption</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">spp监听配置参数。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，服务端Socket的id。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.base'</span>;</li><li><span class="hljs-keyword">let</span> serverNumber = -<span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">serverSocket</span>(<span class="hljs-params">code : BusinessError, number : number</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth error code: '</span> + code.<span class="hljs-property">code</span>);</li><li>  <span class="hljs-keyword">if</span> (code.<span class="hljs-property">code</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth serverSocket Number: '</span> + number);</li><li>    serverNumber = number;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> sppOption : bluetooth.<span class="hljs-property">SppOption</span> = {<span class="hljs-attr">uuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">secure</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">type</span>: <span class="hljs-number">0</span>};</li><li>bluetooth.<span class="hljs-title function_">sppListen</span>(<span class="hljs-string">'server1'</span>, sppOption, serverSocket);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1183px;"><h2 id="bluetoothsppaccept8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.sppAccept<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothsppaccept8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sppAccept(serverSocket: number, callback: AsyncCallback&lt;number&gt;): void</p> <p>服务端监听socket等待客户端连接。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagersppacceptdeprecated">bluetoothManager.sppAccept</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">serverSocket</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">服务端socket的id。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，客户端socket的id。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.base'</span>;</li><li><span class="hljs-keyword">let</span> serverNumber = -<span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">serverSocket</span>(<span class="hljs-params">code : BusinessError, number : number</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth error code: '</span> + code.<span class="hljs-property">code</span>);</li><li>  <span class="hljs-keyword">if</span> (code.<span class="hljs-property">code</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth serverSocket Number: '</span> + number);</li><li>    serverNumber = number;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">let</span> clientNumber = -<span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">acceptClientSocket</span>(<span class="hljs-params">code : BusinessError, number : number</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth error code: '</span> + code.<span class="hljs-property">code</span>);</li><li>  <span class="hljs-keyword">if</span> (code.<span class="hljs-property">code</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth clientSocket Number: '</span> + number);</li><li>    <span class="hljs-comment">// 获取的clientNumber用作服务端后续读/写操作socket的id。</span></li><li>    clientNumber = number;</li><li>  }</li><li>}</li><li>bluetooth.<span class="hljs-title function_">sppAccept</span>(serverNumber, acceptClientSocket);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1156px;"><h2 id="bluetoothsppconnectdeprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.sppConnect<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothsppconnectdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sppConnect(device: string, option: SppOption, callback: AsyncCallback&lt;number&gt;): void</p> <p>客户端向远端设备发起spp连接。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagersppconnectdeprecated">bluetoothManager.sppConnect</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">device</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">对端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td> </tr> <tr><td class="cellrowborder" width="25%">option</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#sppoptiondeprecated">SppOption</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">spp客户端连接配置参数。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，客户端socket的id。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> clientNumber = -<span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">clientSocket</span>(<span class="hljs-params">code : BusinessError, number : number</span>) {</li><li>  <span class="hljs-keyword">if</span> (code == <span class="hljs-literal">null</span> || code.<span class="hljs-property">code</span> != <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth serverSocket Number: '</span> + number);</li><li>  <span class="hljs-comment">// 获取的clientNumber用作客户端后续读/写操作socket的id。</span></li><li>  clientNumber = number;</li><li>}</li><li><span class="hljs-keyword">let</span> sppOption : bluetooth.<span class="hljs-property">SppOption</span> = {<span class="hljs-attr">uuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">secure</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">type</span>: <span class="hljs-number">0</span>};</li><li>bluetooth.<span class="hljs-title function_">sppConnect</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>, sppOption, clientSocket);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 898px;"><h2 id="bluetoothsppcloseserversocket8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.sppCloseServerSocket<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothsppcloseserversocket8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sppCloseServerSocket(socket: number): void</p> <p>关闭服务端监听Socket，入参socket由sppListen接口返回。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagersppcloseserversocketdeprecated">bluetoothManager.sppCloseServerSocket</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">socket</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">服务端监听socket的id。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.base'</span>;</li><li><span class="hljs-keyword">let</span> serverNumber = -<span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">serverSocket</span>(<span class="hljs-params">code : BusinessError, number : number</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth error code: '</span> + code.<span class="hljs-property">code</span>);</li><li>  <span class="hljs-keyword">if</span> (code.<span class="hljs-property">code</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth serverSocket Number: '</span> + number);</li><li>    serverNumber = number;</li><li>  }</li><li>}</li><li>bluetooth.<span class="hljs-title function_">sppCloseServerSocket</span>(serverNumber);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 922px;"><h2 id="bluetoothsppcloseclientsocket8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.sppCloseClientSocket<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothsppcloseclientsocket8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sppCloseClientSocket(socket: number): void</p> <p>关闭客户端socket，入参socket由sppAccept或sppConnect接口获取。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagersppcloseclientsocketdeprecated">bluetoothManager.sppCloseClientSocket</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">socket</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">客户端socket的id。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> clientNumber = -<span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">clientSocket</span>(<span class="hljs-params">code : BusinessError, number : number</span>) {</li><li>  <span class="hljs-keyword">if</span> (code == <span class="hljs-literal">null</span> || code.<span class="hljs-property">code</span> != <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth serverSocket Number: '</span> + number);</li><li>  <span class="hljs-comment">// 获取的clientNumber用作客户端后续读/写操作socket的id。</span></li><li>  clientNumber = number;</li><li>}</li><li>bluetooth.<span class="hljs-title function_">sppCloseClientSocket</span>(clientNumber);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1330px;"><h2 id="bluetoothsppwrite8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.sppWrite<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothsppwrite8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sppWrite(clientSocket: number, data: ArrayBuffer): boolean</p> <p>通过socket向远端发送数据，入参clientSocket由sppAccept或sppConnect接口获取 。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagersppwritedeprecated">bluetoothManager.sppWrite</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">clientSocket</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">客户端socket的id。</td> </tr> <tr><td class="cellrowborder" width="25%">data</td> <td class="cellrowborder" width="25%">ArrayBuffer</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">写入的数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">写数据操作，成功返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> clientNumber = -<span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">clientSocket</span>(<span class="hljs-params">code : BusinessError, number : number</span>) {</li><li>  <span class="hljs-keyword">if</span> (code == <span class="hljs-literal">null</span> || code.<span class="hljs-property">code</span> != <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth serverSocket Number: '</span> + number);</li><li>  <span class="hljs-comment">// 获取的clientNumber用作客户端后续读/写操作socket的id。</span></li><li>  clientNumber = number;</li><li>}</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li>data[<span class="hljs-number">0</span>] = <span class="hljs-number">123</span>;</li><li><span class="hljs-keyword">let</span> ret : boolean = bluetooth.<span class="hljs-title function_">sppWrite</span>(clientNumber, arrayBuffer);</li><li><span class="hljs-keyword">if</span> (ret) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'spp write successfully'</span>);</li><li>} <span class="hljs-keyword">else</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'spp write failed'</span>);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1252px;"><h2 id="bluetoothonsppread8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.on('sppRead')<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothonsppread8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'sppRead', clientSocket: number, callback: Callback&lt;ArrayBuffer&gt;): void</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanageronsppreaddeprecated">bluetoothManager.on('sppRead')</a>替代。</p>  </div></div></div> <p>订阅spp读请求事件，入参clientSocket由sppAccept或sppConnect接口获取。</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"sppRead"字符串，表示spp读请求事件。</td> </tr> <tr><td class="cellrowborder" width="25%">clientSocket</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">客户端socket的id。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;ArrayBuffer&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，读取到的数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> clientNumber = -<span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">clientSocket</span>(<span class="hljs-params">code : BusinessError, number : number</span>) {</li><li>  <span class="hljs-keyword">if</span> (code == <span class="hljs-literal">null</span> || code.<span class="hljs-property">code</span> != <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth serverSocket Number: '</span> + number);</li><li>  <span class="hljs-comment">// 获取的clientNumber用作客户端后续读/写操作socket的id。</span></li><li>  clientNumber = number;</li><li>}</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">dataRead</span>(<span class="hljs-params">dataBuffer : <span class="hljs-built_in">ArrayBuffer</span></span>) {</li><li>  <span class="hljs-keyword">let</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(dataBuffer);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth data is: '</span> + data[<span class="hljs-number">0</span>]);</li><li>}</li><li>bluetooth.<span class="hljs-title function_">on</span>(<span class="hljs-string">'sppRead'</span>, clientNumber, dataRead);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;"><h2 id="bluetoothoffsppread8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.off('sppRead')<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothoffsppread8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'sppRead', clientSocket: number, callback?: Callback&lt;ArrayBuffer&gt;): void</p> <p>取消订阅spp读请求事件，入参clientSocket由sppAccept或sppConnect接口获取。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanageroffsppreaddeprecated">bluetoothManager.off('sppRead')</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"sppRead"字符串，表示spp读请求事件。</td> </tr> <tr><td class="cellrowborder" width="25%">clientSocket</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">客户端Socket的id。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;ArrayBuffer&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消订阅spp读请求事件上报。不填该参数则取消订阅该type对应的所有回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> clientNumber = -<span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">clientSocket</span>(<span class="hljs-params">code : BusinessError, number : number</span>) {</li><li>  <span class="hljs-keyword">if</span> (code == <span class="hljs-literal">null</span> || code.<span class="hljs-property">code</span> != <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth serverSocket Number: '</span> + number);</li><li>  <span class="hljs-comment">// 获取的clientNumber用作客户端后续读/写操作socket的id。</span></li><li>  clientNumber = number;</li><li>}</li><li>bluetooth.<span class="hljs-title function_">off</span>(<span class="hljs-string">'sppRead'</span>, clientNumber);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 925px;"><h2 id="bluetoothgetprofile8deprecated" device-type="phone,2in1,tablet,wearable,tv">bluetooth.getProfile<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothgetprofile8deprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getProfile(profileId: ProfileId): A2dpSourceProfile | HandsFreeAudioGatewayProfile</p> <p>通过ProfileId，获取profile的对象实例。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothmanagergetprofileinstancedeprecated">bluetoothManager.getProfileInstance</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">profileId</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#profileiddeprecated">ProfileId</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示profile的枚举值，例如：PROFILE_A2DP_SOURCE。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#a2dpsourceprofile">A2dpSourceProfile</a> | <a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#handsfreeaudiogatewayprofile">HandsFreeAudioGatewayProfile</a></td> <td class="cellrowborder" width="50%">对应的profile的对象实例，当前支持A2dpSourceProfile， HandsFreeAudioGatewayProfile。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> a2dpSrc : bluetooth.<span class="hljs-property">A2dpSourceProfile</span> = bluetooth.<span class="hljs-title function_">getProfile</span>(bluetooth.<span class="hljs-property">ProfileId</span>.<span class="hljs-property">PROFILE_A2DP_SOURCE</span>) <span class="hljs-keyword">as</span> bluetooth.<span class="hljs-property">A2dpSourceProfile</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 146px;"><h2 id="ble" device-type="phone,2in1,tablet,wearable,tv">BLE<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ble" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection" style="contain-intrinsic-size: auto 702px;"><h3 id="creategattserverdeprecated" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">createGattServer<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="creategattserverdeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createGattServer(): GattServer</p> <p>创建一个可使用的GattServer实例。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#creategattserverdeprecated">bluetoothManager.BLE.createGattServer</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.38.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#gattserver">GattServer</a></td> <td class="cellrowborder" width="50%">server端类，使用server端方法之前需要创建该类的实例进行操作。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 917px;"><h3 id="creategattclientdevicedeprecated" device-type="phone,2in1,tablet,wearable,tv">createGattClientDevice<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="creategattclientdevicedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createGattClientDevice(deviceId: string): GattClientDevice</p> <p>创建一个可使用的GattClientDevice实例。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#creategattclientdevicedeprecated">bluetoothManager.BLE.createGattClientDevice</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">deviceId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">对端设备地址， 例如："XX:XX:XX:XX:XX:XX"。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.39.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.39.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#gattclientdevice">GattClientDevice</a></td> <td class="cellrowborder" width="50%">client端类，使用client端方法之前需要创建该类的实例进行操作。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 742px;"><h3 id="getconnectedbledevicesdeprecated" device-type="phone,2in1,tablet,wearable,tv">getConnectedBLEDevices<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getconnectedbledevicesdeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getConnectedBLEDevices(): Array&lt;string&gt;</p> <p>获取和当前设备连接的BLE设备。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#getconnectedbledevicesdeprecated">bluetoothManager.BLE.getConnectedBLEDevices</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.40.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Array&lt;string&gt;</td> <td class="cellrowborder" width="50%">返回当前设备作为Server端时连接BLE设备地址集合。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> result : <span class="hljs-title class_">Array</span>&lt;string&gt; = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">getConnectedBLEDevices</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1367px;"><h3 id="startblescandeprecated" device-type="phone,2in1,tablet,wearable,tv">startBLEScan<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="startblescandeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startBLEScan(filters: Array&lt;ScanFilter&gt;, options?: ScanOptions): void</p> <p>发起BLE扫描流程。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#startblescandeprecated">bluetoothManager.BLE.startBLEScan</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH 和 ohos.permission.MANAGE_BLUETOOTH（该权限仅系统应用可申请） 和 ohos.permission.LOCATION</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">filters</td> <td class="cellrowborder" width="25%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#scanfilterdeprecated">ScanFilter</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示扫描结果过滤策略集合，如果不使用过滤的方式，该参数设置为null。</td> </tr> <tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#scanoptionsdeprecated">ScanOptions</a></td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示扫描的参数配置，可选参数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : <span class="hljs-built_in">Array</span>&lt;bluetooth.ScanResult&gt;</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'BLE scan device find result = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">"BLEDeviceFind"</span>, onReceiveEvent);</li><li><span class="hljs-keyword">let</span> scanOptions : bluetooth.<span class="hljs-property">ScanOptions</span> = {</li><li>    <span class="hljs-attr">interval</span>: <span class="hljs-number">500</span>,</li><li>    <span class="hljs-attr">dutyMode</span>: bluetooth.<span class="hljs-property">ScanDuty</span>.<span class="hljs-property">SCAN_MODE_LOW_POWER</span>,</li><li>    <span class="hljs-attr">matchMode</span>: bluetooth.<span class="hljs-property">MatchMode</span>.<span class="hljs-property">MATCH_MODE_AGGRESSIVE</span>,</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> scanFilter : bluetooth.<span class="hljs-property">ScanFilter</span> = {</li><li>    <span class="hljs-attr">deviceId</span>:<span class="hljs-string">"XX:XX:XX:XX:XX:XX"</span>,</li><li>    <span class="hljs-attr">name</span>:<span class="hljs-string">"test"</span>,</li><li>    <span class="hljs-attr">serviceUuid</span>:<span class="hljs-string">"00001888-0000-1000-8000-00805f9b34fb"</span></li><li>}</li><li>bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">startBLEScan</span>(</li><li>    [scanFilter], scanOptions</li><li>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 667px;"><h3 id="stopblescandeprecated" device-type="phone,2in1,tablet,wearable,tv">stopBLEScan<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopblescandeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopBLEScan(): void</p> <p>停止BLE扫描流程。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#stopblescandeprecated">bluetoothManager.BLE.stopBLEScan</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li>bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">stopBLEScan</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1031px;"><h3 id="onbledevicefinddeprecated" device-type="phone,2in1,tablet,wearable,tv">on('BLEDeviceFind')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onbledevicefinddeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'BLEDeviceFind', callback: Callback&lt;Array&lt;ScanResult&gt;&gt;): void</p> <p>订阅BLE设备发现上报事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#onbledevicefinddeprecated">bluetoothManager.BLE.on('BLEDeviceFind')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"BLEDeviceFind"字符串，表示BLE设备发现事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#scanresultdeprecated">ScanResult</a>&gt;&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，发现的设备集合。回调函数由用户创建通过该接口注册。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : <span class="hljs-built_in">Array</span>&lt;bluetooth.ScanResult&gt;</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bluetooth device find = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'BLEDeviceFind'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1079px;"><h3 id="offbledevicefinddeprecated" device-type="phone,2in1,tablet,wearable,tv">off('BLEDeviceFind')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offbledevicefinddeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'BLEDeviceFind', callback?: Callback&lt;Array&lt;ScanResult&gt;&gt;): void</p> <p>取消订阅BLE设备发现上报事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#offbledevicefinddeprecated">bluetoothManager.BLE.off('BLEDeviceFind')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"BLEDeviceFind"字符串，表示BLE设备发现事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#scanresultdeprecated">ScanResult</a>&gt;&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消订阅BLE设备发现事件上报。不填该参数则取消订阅该type对应的所有回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : <span class="hljs-built_in">Array</span>&lt;bluetooth.ScanResult&gt;</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bluetooth device find = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'BLEDeviceFind'</span>, onReceiveEvent);</li><li>bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'BLEDeviceFind'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 182px;"><h2 id="baseprofile" device-type="phone,2in1,tablet,wearable,tv">BaseProfile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="baseprofile" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>profile基类。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 774px;"><h3 id="getconnectiondevices8deprecated" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">getConnectionDevices<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getconnectiondevices8deprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getConnectionDevices(): Array&lt;string&gt;</p> <p>获取已连接设备列表。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#getconnectiondevicesdeprecated">bluetoothManager.BaseProfile.getConnectionDevices</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.46.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Array&lt;string&gt;</td> <td class="cellrowborder" width="50%">返回已连接设备的地址列表。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> a2dpSrc : bluetooth.<span class="hljs-property">A2dpSourceProfile</span> = bluetooth.<span class="hljs-title function_">getProfile</span>(bluetooth.<span class="hljs-property">ProfileId</span>.<span class="hljs-property">PROFILE_A2DP_SOURCE</span>) <span class="hljs-keyword">as</span> bluetooth.<span class="hljs-property">A2dpSourceProfile</span>;</li><li><span class="hljs-keyword">let</span> retArray : <span class="hljs-title class_">Array</span>&lt;string&gt; = a2dpSrc.<span class="hljs-title function_">getConnectionDevices</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 917px;"><h3 id="getdevicestate8deprecated" device-type="phone,2in1,tablet,wearable,tv">getDeviceState<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdevicestate8deprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDeviceState(device: string): ProfileConnectionState</p> <p>获取设备profile的连接状态。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#getdevicestatedeprecated">bluetoothManager.BaseProfile.getDeviceState</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">device</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">远端设备地址。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.47.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.47.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#profileconnectionstatedeprecated">ProfileConnectionState</a></td> <td class="cellrowborder" width="50%">返回profile的连接状态。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> a2dpSrc : bluetooth.<span class="hljs-property">A2dpSourceProfile</span> = bluetooth.<span class="hljs-title function_">getProfile</span>(bluetooth.<span class="hljs-property">ProfileId</span>.<span class="hljs-property">PROFILE_A2DP_SOURCE</span>) <span class="hljs-keyword">as</span> bluetooth.<span class="hljs-property">A2dpSourceProfile</span>;</li><li><span class="hljs-keyword">let</span> ret : bluetooth.<span class="hljs-property">ProfileConnectionState</span> = a2dpSrc.<span class="hljs-title function_">getDeviceState</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 182px;"><h2 id="a2dpsourceprofile" device-type="phone,2in1,tablet,wearable,tv">A2dpSourceProfile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="a2dpsourceprofile" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>使用A2dpSourceProfile方法之前需要创建该类的实例进行操作，通过getProfile()方法构造此实例。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 901px;"><h3 id="connect8deprecated" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">connect<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connect8deprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>connect(device: string): boolean</p> <p>发起设备的A2dp服务连接请求。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#connectdeprecated">bluetoothManager.A2dpSourceProfile.connect</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">device</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">远端设备地址。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">成功返回true，失败返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> a2dpSrc : bluetooth.<span class="hljs-property">A2dpSourceProfile</span> = bluetooth.<span class="hljs-title function_">getProfile</span>(bluetooth.<span class="hljs-property">ProfileId</span>.<span class="hljs-property">PROFILE_A2DP_SOURCE</span>) <span class="hljs-keyword">as</span> bluetooth.<span class="hljs-property">A2dpSourceProfile</span>;</li><li><span class="hljs-keyword">let</span> ret : boolean = a2dpSrc.<span class="hljs-title function_">connect</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 917px;"><h3 id="disconnect8deprecated" device-type="phone,2in1,tablet,wearable,tv">disconnect<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="disconnect8deprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>disconnect(device: string): boolean</p> <p>断开设备的a2dp服务连接。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#disconnectdeprecated">bluetoothManager.A2dpSourceProfile.disconnect</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">device</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">远端设备地址。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.50.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.50.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">成功返回true，失败返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> a2dpSrc : bluetooth.<span class="hljs-property">A2dpSourceProfile</span> = bluetooth.<span class="hljs-title function_">getProfile</span>(bluetooth.<span class="hljs-property">ProfileId</span>.<span class="hljs-property">PROFILE_A2DP_SOURCE</span>) <span class="hljs-keyword">as</span> bluetooth.<span class="hljs-property">A2dpSourceProfile</span>;</li><li><span class="hljs-keyword">let</span> ret : boolean = a2dpSrc.<span class="hljs-title function_">disconnect</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1031px;"><h3 id="onconnectionstatechange8deprecated" device-type="phone,2in1,tablet,wearable,tv">on('connectionStateChange')<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onconnectionstatechange8deprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'connectionStateChange', callback: Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#statechangeparamdeprecated">StateChangeParam</a>&gt;): void</p> <p>订阅a2dp连接状态变化事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#onconnectionstatechangedeprecated">bluetoothManager.A2dpSourceProfile.on('connectionStateChange')</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"connectionStateChange"字符串，表示连接状态变化事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#statechangeparamdeprecated">StateChangeParam</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : bluetooth.StateChangeParam</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'a2dp state = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> a2dpSrc : bluetooth.<span class="hljs-property">A2dpSourceProfile</span> = bluetooth.<span class="hljs-title function_">getProfile</span>(bluetooth.<span class="hljs-property">ProfileId</span>.<span class="hljs-property">PROFILE_A2DP_SOURCE</span>) <span class="hljs-keyword">as</span> bluetooth.<span class="hljs-property">A2dpSourceProfile</span>;</li><li>a2dpSrc.<span class="hljs-title function_">on</span>(<span class="hljs-string">'connectionStateChange'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1055px;"><h3 id="offconnectionstatechange8deprecated" device-type="phone,2in1,tablet,wearable,tv">off('connectionStateChange')<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offconnectionstatechange8deprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'connectionStateChange', callback?: Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#statechangeparamdeprecated">StateChangeParam</a>&gt;): void</p> <p>取消订阅a2dp连接状态变化事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#offconnectionstatechangedeprecated">bluetoothManager.A2dpSourceProfile.off('connectionStateChange')</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"connectionStateChange"字符串，表示连接状态变化事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#statechangeparamdeprecated">StateChangeParam</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示回调函数的入参。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : bluetooth.StateChangeParam</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'a2dp state = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> a2dpSrc : bluetooth.<span class="hljs-property">A2dpSourceProfile</span> = bluetooth.<span class="hljs-title function_">getProfile</span>(bluetooth.<span class="hljs-property">ProfileId</span>.<span class="hljs-property">PROFILE_A2DP_SOURCE</span>) <span class="hljs-keyword">as</span> bluetooth.<span class="hljs-property">A2dpSourceProfile</span>;</li><li>a2dpSrc.<span class="hljs-title function_">on</span>(<span class="hljs-string">'connectionStateChange'</span>, onReceiveEvent);</li><li>a2dpSrc.<span class="hljs-title function_">off</span>(<span class="hljs-string">'connectionStateChange'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 893px;"><h3 id="getplayingstate8deprecated" device-type="phone,2in1,tablet,wearable,tv">getPlayingState<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getplayingstate8deprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPlayingState(device: string): PlayingState</p> <p>获取设备的播放状态。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#getplayingstatedeprecated">bluetoothManager.A2dpSourceProfile.getPlayingState</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">device</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">远端设备地址。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#playingstatedeprecated">PlayingState</a></td> <td class="cellrowborder" width="50%">远端设备的播放状态。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> a2dpSrc : bluetooth.<span class="hljs-property">A2dpSourceProfile</span> = bluetooth.<span class="hljs-title function_">getProfile</span>(bluetooth.<span class="hljs-property">ProfileId</span>.<span class="hljs-property">PROFILE_A2DP_SOURCE</span>) <span class="hljs-keyword">as</span> bluetooth.<span class="hljs-property">A2dpSourceProfile</span>;</li><li><span class="hljs-keyword">let</span> state : bluetooth.<span class="hljs-property">PlayingState</span> = a2dpSrc.<span class="hljs-title function_">getPlayingState</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 182px;"><h2 id="handsfreeaudiogatewayprofile" device-type="phone,2in1,tablet,wearable,tv">HandsFreeAudioGatewayProfile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="handsfreeaudiogatewayprofile" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>使用HandsFreeAudioGatewayProfile方法之前需要创建该类的实例进行操作，通过getProfile()方法构造此实例。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 949px;"><h3 id="connect8deprecated-1" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">connect<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connect8deprecated-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>connect(device: string): boolean</p> <p>连接设备的HFP服务。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#connect">bluetoothManager.HandsFreeAudioGatewayProfile.connect</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">device</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">远端设备地址。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">成功返回true，失败返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> hfpAg : bluetooth.<span class="hljs-property">HandsFreeAudioGatewayProfile</span>= bluetooth.<span class="hljs-title function_">getProfile</span>(bluetooth.<span class="hljs-property">ProfileId</span></li><li>    .<span class="hljs-property">PROFILE_HANDS_FREE_AUDIO_GATEWAY</span>);</li><li><span class="hljs-keyword">let</span> ret : boolean = hfpAg.<span class="hljs-title function_">connect</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 965px;"><h3 id="disconnect8deprecated-1" device-type="phone,2in1,tablet,wearable,tv">disconnect<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="disconnect8deprecated-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>disconnect(device: string): boolean</p> <p>断开连接设备的HFP服务。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#disconnectdeprecated-1">bluetoothManager.HandsFreeAudioGatewayProfile.disconnect</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.56.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.56.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.56.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.56.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">device</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">远端设备地址。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.56.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.56.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">成功返回true，失败返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> hfpAg : bluetooth.<span class="hljs-property">HandsFreeAudioGatewayProfile</span> = bluetooth.<span class="hljs-title function_">getProfile</span>(bluetooth.<span class="hljs-property">ProfileId</span></li><li>    .<span class="hljs-property">PROFILE_HANDS_FREE_AUDIO_GATEWAY</span>);</li><li><span class="hljs-keyword">let</span> ret : boolean = hfpAg.<span class="hljs-title function_">disconnect</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1055px;"><h3 id="onconnectionstatechange8deprecated-1" device-type="phone,2in1,tablet,wearable,tv">on('connectionStateChange')<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onconnectionstatechange8deprecated-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'connectionStateChange', callback: Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#statechangeparamdeprecated">StateChangeParam</a>&gt;): void</p> <p>订阅HFP连接状态变化事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#onconnectionstatechangedeprecated-1">bluetoothManager.HandsFreeAudioGatewayProfile.on('connectionStateChange')</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"connectionStateChange"字符串，表示连接状态变化事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#statechangeparamdeprecated">StateChangeParam</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : bluetooth.StateChangeParam</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'hfp state = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> hfpAg : bluetooth.<span class="hljs-property">HandsFreeAudioGatewayProfile</span>= bluetooth.<span class="hljs-title function_">getProfile</span>(bluetooth.<span class="hljs-property">ProfileId</span></li><li>    .<span class="hljs-property">PROFILE_HANDS_FREE_AUDIO_GATEWAY</span>);</li><li>hfpAg.<span class="hljs-title function_">on</span>(<span class="hljs-string">'connectionStateChange'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1079px;"><h3 id="offconnectionstatechange8deprecated-1" device-type="phone,2in1,tablet,wearable,tv">off('connectionStateChange')<sup>8+</sup><sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offconnectionstatechange8deprecated-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'connectionStateChange', callback?: Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#statechangeparamdeprecated">StateChangeParam</a>&gt;): void</p> <p>取消订阅HFP连接状态变化事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#offconnectionstatechangedeprecated-1">bluetoothManager.HandsFreeAudioGatewayProfile.off('connectionStateChange')</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"connectionStateChange"字符串，表示连接状态变化事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#statechangeparamdeprecated">StateChangeParam</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示回调函数的入参。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data : bluetooth.StateChangeParam</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'hfp state = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> hfpAg : bluetooth.<span class="hljs-property">HandsFreeAudioGatewayProfile</span>= bluetooth.<span class="hljs-title function_">getProfile</span>(bluetooth.<span class="hljs-property">ProfileId</span></li><li>    .<span class="hljs-property">PROFILE_HANDS_FREE_AUDIO_GATEWAY</span>);</li><li>hfpAg.<span class="hljs-title function_">on</span>(<span class="hljs-string">'connectionStateChange'</span>, onReceiveEvent);</li><li>hfpAg.<span class="hljs-title function_">off</span>(<span class="hljs-string">'connectionStateChange'</span>, onReceiveEvent);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 182px;"><h2 id="gattserver" device-type="phone,2in1,tablet,wearable,tv">GattServer<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gattserver" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>server端类，使用server端方法之前需要创建该类的实例进行操作，通过createGattServer()方法构造此实例。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1900px;"><h3 id="startadvertisingdeprecated" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">startAdvertising<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="startadvertisingdeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startAdvertising(setting: AdvertiseSetting, advData: AdvertiseData, advResponse?: AdvertiseData): void</p> <p>开始发送BLE广播。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#startadvertisingdeprecated">bluetoothManager.GattServer.startAdvertising</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">setting</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#advertisesettingdeprecated">AdvertiseSetting</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">BLE广播的相关参数。</td> </tr> <tr><td class="cellrowborder" width="25%">advData</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#advertisedatadeprecated">AdvertiseData</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">BLE广播包内容。</td> </tr> <tr><td class="cellrowborder" width="25%">advResponse</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#advertisedatadeprecated">AdvertiseData</a></td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">BLE回复扫描请求回复响应。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> manufactureValueBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">4</span>);</li><li>manufactureValueBuffer[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</li><li>manufactureValueBuffer[<span class="hljs-number">1</span>] = <span class="hljs-number">2</span>;</li><li>manufactureValueBuffer[<span class="hljs-number">2</span>] = <span class="hljs-number">3</span>;</li><li>manufactureValueBuffer[<span class="hljs-number">3</span>] = <span class="hljs-number">4</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> serviceValueBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">4</span>);</li><li>serviceValueBuffer[<span class="hljs-number">0</span>] = <span class="hljs-number">4</span>;</li><li>serviceValueBuffer[<span class="hljs-number">1</span>] = <span class="hljs-number">6</span>;</li><li>serviceValueBuffer[<span class="hljs-number">2</span>] = <span class="hljs-number">7</span>;</li><li>serviceValueBuffer[<span class="hljs-number">3</span>] = <span class="hljs-number">8</span>;</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'manufactureValueBuffer = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(manufactureValueBuffer));</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'serviceValueBuffer = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(serviceValueBuffer));</li><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li><span class="hljs-keyword">let</span> setting : bluetooth.<span class="hljs-property">AdvertiseSetting</span> = {</li><li>    <span class="hljs-attr">interval</span>:<span class="hljs-number">150</span>,</li><li>    <span class="hljs-attr">txPower</span>:<span class="hljs-number">60</span>,</li><li>    <span class="hljs-attr">connectable</span>:<span class="hljs-literal">true</span>,</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> manufactureData : bluetooth.<span class="hljs-property">ManufactureData</span> = {</li><li>    <span class="hljs-attr">manufactureId</span>:<span class="hljs-number">4567</span>,</li><li>    <span class="hljs-attr">manufactureValue</span>:manufactureValueBuffer.<span class="hljs-property">buffer</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> serviceData : bluetooth.<span class="hljs-property">ServiceData</span> = {</li><li>    <span class="hljs-attr">serviceUuid</span>:<span class="hljs-string">"00001888-0000-1000-8000-00805f9b34fb"</span>,</li><li>    <span class="hljs-attr">serviceValue</span>:serviceValueBuffer.<span class="hljs-property">buffer</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> advData : bluetooth.<span class="hljs-property">AdvertiseData</span> = {</li><li>    <span class="hljs-attr">serviceUuids</span>:[<span class="hljs-string">"00001889-0000-1000-8000-00805f9b34fb"</span>],</li><li>    <span class="hljs-attr">manufactureData</span>:[manufactureData],</li><li>    <span class="hljs-attr">serviceData</span>:[serviceData],</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> advResponse : bluetooth.<span class="hljs-property">AdvertiseData</span> = {</li><li>    <span class="hljs-attr">serviceUuids</span>:[<span class="hljs-string">"00001889-0000-1000-8000-00805f9b34fb"</span>],</li><li>    <span class="hljs-attr">manufactureData</span>:[manufactureData],</li><li>    <span class="hljs-attr">serviceData</span>:[serviceData],</li><li>}</li><li>gattServer.<span class="hljs-title function_">startAdvertising</span>(setting, advData, advResponse);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 691px;"><h3 id="stopadvertisingdeprecated" device-type="phone,2in1,tablet,wearable,tv">stopAdvertising<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopadvertisingdeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopAdvertising(): void</p> <p>停止发送BLE广播。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#stopadvertisingdeprecated">bluetoothManager.GattServer.stopAdvertising</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.DISCOVER_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> server : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>server.<span class="hljs-title function_">stopAdvertising</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1637px;"><h3 id="addservicedeprecated" device-type="phone,2in1,tablet,wearable,tv">addService<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addservicedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addService(service: GattService): boolean</p> <p>server端添加服务。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#addservicedeprecated">bluetoothManager.GattServer.addService</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">service</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#gattservicedeprecated">GattService</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">服务端的service数据。BLE广播的相关参数</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.62.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.62.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">添加服务操作，成功返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 创建descriptors</span></li><li><span class="hljs-keyword">let</span> descriptors : <span class="hljs-title class_">Array</span>&lt;bluetooth.<span class="hljs-property">BLEDescriptor</span>&gt; = [];</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> descV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li>descV[<span class="hljs-number">0</span>] = <span class="hljs-number">11</span>;</li><li><span class="hljs-keyword">let</span> descriptor : bluetooth.<span class="hljs-property">BLEDescriptor</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">descriptorUuid</span>: <span class="hljs-string">'00002902-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">descriptorValue</span>: arrayBuffer};</li><li>descriptors[<span class="hljs-number">0</span>] = descriptor;</li><li>
</li><li><span class="hljs-comment">// 创建characteristics</span></li><li><span class="hljs-keyword">let</span> characteristics : <span class="hljs-title class_">Array</span>&lt;bluetooth.<span class="hljs-property">BLECharacteristic</span>&gt; = [];</li><li><span class="hljs-keyword">let</span> arrayBufferC = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> cccV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBufferC);</li><li>cccV[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> characteristic : bluetooth.<span class="hljs-property">BLECharacteristic</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">characteristicValue</span>: arrayBufferC, <span class="hljs-attr">descriptors</span>:descriptors};</li><li><span class="hljs-keyword">let</span> characteristicN : bluetooth.<span class="hljs-property">BLECharacteristic</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001821-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">characteristicValue</span>: arrayBufferC, <span class="hljs-attr">descriptors</span>:descriptors};</li><li>characteristics[<span class="hljs-number">0</span>] = characteristic;</li><li>
</li><li><span class="hljs-comment">// 创建gattService</span></li><li><span class="hljs-keyword">let</span> gattService : bluetooth.<span class="hljs-property">GattService</span> = {<span class="hljs-attr">serviceUuid</span>:<span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">isPrimary</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">characteristics</span>:characteristics, <span class="hljs-attr">includeServices</span>:[]};</li><li>
</li><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li><span class="hljs-keyword">let</span> ret : boolean = gattServer.<span class="hljs-title function_">addService</span>(gattService);</li><li><span class="hljs-keyword">if</span> (ret) {</li><li>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"add service successfully"</span>);</li><li>} <span class="hljs-keyword">else</span> {</li><li>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"add service failed"</span>);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 965px;"><h3 id="removeservicedeprecated" device-type="phone,2in1,tablet,wearable,tv">removeService<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removeservicedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeService(serviceUuid: string): boolean</p> <p>删除已添加的服务。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#removeservicedeprecated">bluetoothManager.GattServer.removeService</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">serviceUuid</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">service的UUID，例如“00001810-0000-1000-8000-00805F9B34FB”。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.63.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.63.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">删除服务操作，成功返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> server : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>server.<span class="hljs-title function_">removeService</span>(<span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 595px;"><h3 id="closedeprecated" device-type="phone,2in1,tablet,wearable,tv">close<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(): void</p> <p>关闭服务端功能，去注册server在协议栈的注册，调用该接口后<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#gattserver">GattServer</a>实例将不能再使用。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#closedeprecated">bluetoothManager.GattServer.close</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> server : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>server.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1370px;"><h3 id="notifycharacteristicchangeddeprecated" device-type="phone,2in1,tablet,wearable,tv">notifyCharacteristicChanged<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="notifycharacteristicchangeddeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>notifyCharacteristicChanged(deviceId: string, notifyCharacteristic: NotifyCharacteristic): boolean</p> <p>server端特征值发生变化时，主动通知已连接的client设备。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#notifycharacteristicchangeddeprecated">bluetoothManager.GattServer.notifyCharacteristicChanged</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.65.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">deviceId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">接收通知的client端设备地址，例如“XX:XX:XX:XX:XX:XX”。</td> </tr> <tr><td class="cellrowborder" width="25%">notifyCharacteristic</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#notifycharacteristicdeprecated">NotifyCharacteristic</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">通知的特征值数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.65.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.65.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">通知操作，成功返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 创建descriptors</span></li><li><span class="hljs-keyword">let</span> descriptors : <span class="hljs-title class_">Array</span>&lt;bluetooth.<span class="hljs-property">BLEDescriptor</span>&gt; = [];</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> descV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li>descV[<span class="hljs-number">0</span>] = <span class="hljs-number">11</span>;</li><li><span class="hljs-keyword">let</span> descriptor : bluetooth.<span class="hljs-property">BLEDescriptor</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">descriptorUuid</span>: <span class="hljs-string">'00002902-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">descriptorValue</span>: arrayBuffer};</li><li>descriptors[<span class="hljs-number">0</span>] = descriptor;</li><li><span class="hljs-keyword">let</span> arrayBufferC = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> characteristic : bluetooth.<span class="hljs-property">BLECharacteristic</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">characteristicValue</span>: arrayBufferC, <span class="hljs-attr">descriptors</span>:descriptors};</li><li><span class="hljs-keyword">let</span> notifyCharacteristic : bluetooth.<span class="hljs-property">NotifyCharacteristic</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001821-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">characteristicValue</span>: characteristic.<span class="hljs-property">characteristicValue</span>, <span class="hljs-attr">confirm</span>: <span class="hljs-literal">false</span>};</li><li><span class="hljs-keyword">let</span> server : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>server.<span class="hljs-title function_">notifyCharacteristicChanged</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>, notifyCharacteristic);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1325px;"><h3 id="sendresponsedeprecated" device-type="phone,2in1,tablet,wearable,tv">sendResponse<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendresponsedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendResponse(serverResponse: ServerResponse): boolean</p> <p>server端回复client端的读写请求。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#sendresponsedeprecated">bluetoothManager.GattServer.sendResponse</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">serverResponse</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#serverresponsedeprecated">ServerResponse</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">server端回复的响应数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.66.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.66.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">回复响应操作，成功返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* send response */</span></li><li><span class="hljs-keyword">let</span> arrayBufferCCC = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> cccValue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBufferCCC);</li><li>cccValue[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> serverResponse : bluetooth.<span class="hljs-property">ServerResponse</span> = {</li><li>    <span class="hljs-string">"deviceId"</span>: <span class="hljs-string">"XX:XX:XX:XX:XX:XX"</span>,</li><li>    <span class="hljs-string">"transId"</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-string">"status"</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-string">"offset"</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-string">"value"</span>: arrayBufferCCC,</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li><span class="hljs-keyword">let</span> ret : boolean = gattServer.<span class="hljs-title function_">sendResponse</span>(serverResponse);</li><li><span class="hljs-keyword">if</span> (ret) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth sendResponse successfully'</span>);</li><li>} <span class="hljs-keyword">else</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth sendResponse failed'</span>);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1463px;"><h3 id="oncharacteristicreaddeprecated" device-type="phone,2in1,tablet,wearable,tv">on('characteristicRead')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncharacteristicreaddeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'characteristicRead', callback: Callback&lt;CharacteristicReadReq&gt;): void</p> <p>server端订阅特征值读请求事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#oncharacteristicreaddeprecated">bluetoothManager.GattServer.on('characteristicRead')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.67.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"characteristicRead"字符串，表示特征值读请求事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#characteristicreadreqdeprecated">CharacteristicReadReq</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，client端发送的读请求数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> arrayBufferCCC = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> cccValue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBufferCCC);</li><li>cccValue[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">ReadCharacteristicReq</span>(<span class="hljs-params">CharacteristicReadReq : bluetooth.CharacteristicReadReq</span>) {</li><li>  <span class="hljs-keyword">let</span> deviceId : string = <span class="hljs-title class_">CharacteristicReadReq</span>.<span class="hljs-property">deviceId</span>;</li><li>  <span class="hljs-keyword">let</span> transId : number = <span class="hljs-title class_">CharacteristicReadReq</span>.<span class="hljs-property">transId</span>;</li><li>  <span class="hljs-keyword">let</span> offset : number = <span class="hljs-title class_">CharacteristicReadReq</span>.<span class="hljs-property">offset</span>;</li><li>  <span class="hljs-keyword">let</span> characteristicUuid : string = <span class="hljs-title class_">CharacteristicReadReq</span>.<span class="hljs-property">characteristicUuid</span>;</li><li>
</li><li>  <span class="hljs-keyword">let</span> serverResponse : bluetooth.<span class="hljs-property">ServerResponse</span> = {<span class="hljs-attr">deviceId</span>: deviceId, <span class="hljs-attr">transId</span>: transId, <span class="hljs-attr">status</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">offset</span>: offset, <span class="hljs-attr">value</span>:arrayBufferCCC};</li><li>
</li><li>  <span class="hljs-keyword">let</span> ret : boolean = gattServer.<span class="hljs-title function_">sendResponse</span>(serverResponse);</li><li>  <span class="hljs-keyword">if</span> (ret) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth sendResponse successfully'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth sendResponse failed'</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>gattServer.<span class="hljs-title function_">on</span>(<span class="hljs-string">"characteristicRead"</span>, <span class="hljs-title class_">ReadCharacteristicReq</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1031px;"><h3 id="offcharacteristicreaddeprecated" device-type="phone,2in1,tablet,wearable,tv">off('characteristicRead')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcharacteristicreaddeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'characteristicRead', callback?: Callback&lt;CharacteristicReadReq&gt;): void</p> <p>server端取消订阅特征值读请求事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#offcharacteristicreaddeprecated">bluetoothManager.GattServer.off('characteristicRead')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.68.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.68.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.68.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.68.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"characteristicRead"字符串，表示特征值读请求事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#characteristicreadreqdeprecated">CharacteristicReadReq</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消订阅特征值读请求事件上报。不填该参数则取消订阅该type对应的所有回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>gattServer.<span class="hljs-title function_">off</span>(<span class="hljs-string">"characteristicRead"</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1535px;"><h3 id="oncharacteristicwritedeprecated" device-type="phone,2in1,tablet,wearable,tv">on('characteristicWrite')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncharacteristicwritedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'characteristicWrite', callback: Callback&lt;CharacteristicWriteReq&gt;): void</p> <p>server端订阅特征值写请求事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#oncharacteristicwritedeprecated">bluetoothManager.GattServer.on('characteristicWrite')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.69.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"characteristicWrite"字符串，表示特征值写请求事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#characteristicwritereqdeprecated">CharacteristicWriteReq</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，client端发送的写请求数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> arrayBufferCCC = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> cccValue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBufferCCC);</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">WriteCharacteristicReq</span>(<span class="hljs-params">CharacteristicWriteReq : bluetooth.CharacteristicWriteReq</span>) {</li><li>  <span class="hljs-keyword">let</span> deviceId : string = <span class="hljs-title class_">CharacteristicWriteReq</span>.<span class="hljs-property">deviceId</span>;</li><li>  <span class="hljs-keyword">let</span> transId : number = <span class="hljs-title class_">CharacteristicWriteReq</span>.<span class="hljs-property">transId</span>;</li><li>  <span class="hljs-keyword">let</span> offset : number = <span class="hljs-title class_">CharacteristicWriteReq</span>.<span class="hljs-property">offset</span>;</li><li>  <span class="hljs-keyword">let</span> isPrep : boolean = <span class="hljs-title class_">CharacteristicWriteReq</span>.<span class="hljs-property">isPrep</span>;</li><li>  <span class="hljs-keyword">let</span> needRsp : boolean = <span class="hljs-title class_">CharacteristicWriteReq</span>.<span class="hljs-property">needRsp</span>;</li><li>  <span class="hljs-keyword">let</span> value =  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBufferCCC);</li><li>  <span class="hljs-keyword">let</span> characteristicUuid : string = <span class="hljs-title class_">CharacteristicWriteReq</span>.<span class="hljs-property">characteristicUuid</span>;</li><li>
</li><li>  cccValue.<span class="hljs-title function_">set</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(value));</li><li>  <span class="hljs-keyword">let</span> serverResponse : bluetooth.<span class="hljs-property">ServerResponse</span> = {<span class="hljs-attr">deviceId</span>: deviceId, <span class="hljs-attr">transId</span>: transId, <span class="hljs-attr">status</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">offset</span>: offset, <span class="hljs-attr">value</span>:arrayBufferCCC};</li><li>
</li><li>  <span class="hljs-keyword">let</span> ret : boolean = gattServer.<span class="hljs-title function_">sendResponse</span>(serverResponse);</li><li>  <span class="hljs-keyword">if</span> (ret) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth sendResponse successfully'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth sendResponse failed'</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>gattServer.<span class="hljs-title function_">on</span>(<span class="hljs-string">"characteristicWrite"</span>, <span class="hljs-title class_">WriteCharacteristicReq</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1031px;"><h3 id="offcharacteristicwritedeprecated" device-type="phone,2in1,tablet,wearable,tv">off('characteristicWrite')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcharacteristicwritedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'characteristicWrite', callback?: Callback&lt;CharacteristicWriteReq&gt;): void</p> <p>server端取消订阅特征值写请求事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#offcharacteristicwritedeprecated">bluetoothManager.GattServer.off('characteristicWrite')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.70.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"characteristicWrite"字符串，表示特征值写请求事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#characteristicwritereqdeprecated">CharacteristicWriteReq</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消订阅特征值写请求事件上报。不填该参数则取消订阅该type对应的所有回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>gattServer.<span class="hljs-title function_">off</span>(<span class="hljs-string">"characteristicWrite"</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1439px;"><h3 id="ondescriptorreaddeprecated" device-type="phone,2in1,tablet,wearable,tv">on('descriptorRead')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondescriptorreaddeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'descriptorRead', callback: Callback&lt;DescriptorReadReq&gt;): void</p> <p>server端订阅描述符读请求事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#ondescriptorreaddeprecated">bluetoothManager.GattServer.on('descriptorRead')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"descriptorRead"字符串，表示描述符读请求事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#descriptorreadreqdeprecated">DescriptorReadReq</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，client端发送的读请求数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> arrayBufferDesc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> descValue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBufferDesc);</li><li>descValue[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">ReadDescriptorReq</span>(<span class="hljs-params">DescriptorReadReq : bluetooth.DescriptorReadReq</span>) {</li><li>  <span class="hljs-keyword">let</span> deviceId : string = <span class="hljs-title class_">DescriptorReadReq</span>.<span class="hljs-property">deviceId</span>;</li><li>  <span class="hljs-keyword">let</span> transId : number = <span class="hljs-title class_">DescriptorReadReq</span>.<span class="hljs-property">transId</span>;</li><li>  <span class="hljs-keyword">let</span> offset : number = <span class="hljs-title class_">DescriptorReadReq</span>.<span class="hljs-property">offset</span>;</li><li>  <span class="hljs-keyword">let</span> descriptorUuid : string = <span class="hljs-title class_">DescriptorReadReq</span>.<span class="hljs-property">descriptorUuid</span>;</li><li>
</li><li>  <span class="hljs-keyword">let</span> serverResponse : bluetooth.<span class="hljs-property">ServerResponse</span> = {<span class="hljs-attr">deviceId</span>: deviceId, <span class="hljs-attr">transId</span>: transId, <span class="hljs-attr">status</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">offset</span>: offset, <span class="hljs-attr">value</span>:arrayBufferDesc};</li><li>
</li><li>  <span class="hljs-keyword">let</span> ret : boolean = gattServer.<span class="hljs-title function_">sendResponse</span>(serverResponse);</li><li>  <span class="hljs-keyword">if</span> (ret) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth sendResponse successfully'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth sendResponse failed'</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>gattServer.<span class="hljs-title function_">on</span>(<span class="hljs-string">"descriptorRead"</span>, <span class="hljs-title class_">ReadDescriptorReq</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1007px;"><h3 id="offdescriptorreaddeprecated" device-type="phone,2in1,tablet,wearable,tv">off('descriptorRead')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offdescriptorreaddeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'descriptorRead', callback?: Callback&lt;DescriptorReadReq&gt;): void</p> <p>server端取消订阅描述符读请求事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#offdescriptorreaddeprecated">bluetoothManager.GattServer.off('descriptorRead')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"descriptorRead"字符串，表示描述符读请求事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#descriptorreadreqdeprecated">DescriptorReadReq</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消订阅描述符读请求事件上报。不填该参数则取消订阅该type对应的所有回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>gattServer.<span class="hljs-title function_">off</span>(<span class="hljs-string">"descriptorRead"</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1487px;"><h3 id="ondescriptorwritedeprecated" device-type="phone,2in1,tablet,wearable,tv">on('descriptorWrite')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondescriptorwritedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'descriptorWrite', callback: Callback&lt;DescriptorWriteReq&gt;): void</p> <p>server端订阅描述符写请求事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#ondescriptorwritedeprecated">bluetoothManager.GattServer.on('descriptorWrite')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.73.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"descriptorWrite"字符串，表示描述符写请求事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#descriptorwritereqdeprecated">DescriptorWriteReq</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，client端发送的写请求数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> arrayBufferDesc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> descValue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBufferDesc);</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">WriteDescriptorReq</span>(<span class="hljs-params">DescriptorWriteReq : bluetooth.DescriptorWriteReq</span>) {</li><li>  <span class="hljs-keyword">let</span> deviceId : string = <span class="hljs-title class_">DescriptorWriteReq</span>.<span class="hljs-property">deviceId</span>;</li><li>  <span class="hljs-keyword">let</span> transId : number = <span class="hljs-title class_">DescriptorWriteReq</span>.<span class="hljs-property">transId</span>;</li><li>  <span class="hljs-keyword">let</span> offset : number = <span class="hljs-title class_">DescriptorWriteReq</span>.<span class="hljs-property">offset</span>;</li><li>  <span class="hljs-keyword">let</span> isPrep : boolean = <span class="hljs-title class_">DescriptorWriteReq</span>.<span class="hljs-property">isPrep</span>;</li><li>  <span class="hljs-keyword">let</span> needRsp : boolean = <span class="hljs-title class_">DescriptorWriteReq</span>.<span class="hljs-property">needRsp</span>;</li><li>  <span class="hljs-keyword">let</span> value = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBufferDesc);</li><li>  <span class="hljs-keyword">let</span> descriptorUuid : string = <span class="hljs-title class_">DescriptorWriteReq</span>.<span class="hljs-property">descriptorUuid</span>;</li><li>
</li><li>  descValue.<span class="hljs-title function_">set</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(value));</li><li>  <span class="hljs-keyword">let</span> serverResponse : bluetooth.<span class="hljs-property">ServerResponse</span> = {<span class="hljs-attr">deviceId</span>: deviceId, <span class="hljs-attr">transId</span>: transId, <span class="hljs-attr">status</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">offset</span>: offset, <span class="hljs-attr">value</span>:arrayBufferDesc};</li><li>
</li><li>  <span class="hljs-keyword">let</span> ret : boolean = gattServer.<span class="hljs-title function_">sendResponse</span>(serverResponse);</li><li>  <span class="hljs-keyword">if</span> (ret) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth sendResponse successfully'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth sendResponse failed'</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>gattServer.<span class="hljs-title function_">on</span>(<span class="hljs-string">"descriptorWrite"</span>, <span class="hljs-title class_">WriteDescriptorReq</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1007px;"><h3 id="offdescriptorwritedeprecated" device-type="phone,2in1,tablet,wearable,tv">off('descriptorWrite')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offdescriptorwritedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'descriptorWrite', callback?: Callback&lt;DescriptorWriteReq&gt;): void</p> <p>server端取消订阅描述符写请求事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#offdescriptorwritedeprecated">bluetoothManager.GattServer.off('descriptorWrite')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"descriptorWrite"字符串，表示描述符写请求事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#descriptorwritereqdeprecated">DescriptorWriteReq</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消订阅描述符写请求事件上报。不填该参数则取消订阅该type对应的所有回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>gattServer.<span class="hljs-title function_">off</span>(<span class="hljs-string">"descriptorWrite"</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1127px;"><h3 id="onconnectstatechangedeprecated" device-type="phone,2in1,tablet,wearable,tv">on('connectStateChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onconnectstatechangedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'connectStateChange', callback: Callback&lt;BLEConnectChangedState&gt;): void</p> <p>server端订阅BLE连接状态变化事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#onconnectstatechangedeprecated">bluetoothManager.GattServer.on('connectStateChange')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.75.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.75.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.75.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.75.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"connectStateChange"字符串，表示BLE连接状态变化事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bleconnectchangedstatedeprecated">BLEConnectChangedState</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示回调函数的入参，连接状态。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">Connected</span>(<span class="hljs-params">BLEConnectChangedState : bluetooth.BLEConnectChangedState</span>) {</li><li>  <span class="hljs-keyword">let</span> deviceId : string = <span class="hljs-title class_">BLEConnectChangedState</span>.<span class="hljs-property">deviceId</span>;</li><li>  <span class="hljs-keyword">let</span> status : bluetooth.<span class="hljs-property">ProfileConnectionState</span> = <span class="hljs-title class_">BLEConnectChangedState</span>.<span class="hljs-property">state</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>gattServer.<span class="hljs-title function_">on</span>(<span class="hljs-string">"connectStateChange"</span>, <span class="hljs-title class_">Connected</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1055px;"><h3 id="offconnectstatechangedeprecated" device-type="phone,2in1,tablet,wearable,tv">off('connectStateChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offconnectstatechangedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'connectStateChange', callback?: Callback&lt;BLEConnectChangedState&gt;): void</p> <p>server端取消订阅BLE连接状态变化事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#offconnectstatechangedeprecated">bluetoothManager.GattServer.off('connectStateChange')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"connectStateChange"字符串，表示BLE连接状态变化事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bleconnectchangedstatedeprecated">BLEConnectChangedState</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消订阅BLE连接状态变化事件。不填该参数则取消订阅该type对应的所有回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> gattServer : bluetooth.<span class="hljs-property">GattServer</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattServer</span>();</li><li>gattServer.<span class="hljs-title function_">off</span>(<span class="hljs-string">"connectStateChange"</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 182px;"><h2 id="gattclientdevice" device-type="phone,2in1,tablet,wearable,tv">GattClientDevice<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gattclientdevice" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>client端类，使用client端方法之前需要创建该类的实例进行操作，通过createGattClientDevice(deviceId: string)方法构造此实例。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 750px;"><h3 id="connectdeprecated" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">connect<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectdeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>connect(): boolean</p> <p>client端发起连接远端蓝牙低功耗设备。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#connectdeprecated-1">bluetoothManager.GattClientDevice.connect</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.78.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.78.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">连接操作成功返回true，操作失败返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li><span class="hljs-keyword">let</span> ret : boolean = device.<span class="hljs-title function_">connect</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 766px;"><h3 id="disconnectdeprecated" device-type="phone,2in1,tablet,wearable,tv">disconnect<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="disconnectdeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>disconnect(): boolean</p> <p>client端断开与远端蓝牙低功耗设备的连接。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#disconnectdeprecated-2">bluetoothManager.GattClientDevice.disconnect</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.79.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.79.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">断开连接操作，成功返回true，操作失败返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li><span class="hljs-keyword">let</span> ret : boolean = device.<span class="hljs-title function_">disconnect</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 766px;"><h3 id="closedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">close<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closedeprecated-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(): boolean</p> <p>关闭客户端功能，注销client在协议栈的注册，调用该接口后<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#gattclientdevice">GattClientDevice</a>实例将不能再使用。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#closedeprecated-1">bluetoothManager.GattClientDevice.close</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.80.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.80.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">关闭操作，成功返回true，操作失败返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li><span class="hljs-keyword">let</span> ret : boolean = device.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1202px;"><h3 id="getservicesdeprecated" device-type="phone,2in1,tablet,wearable,tv">getServices<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getservicesdeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getServices(callback: AsyncCallback&lt;Array&lt;GattService&gt;&gt;): void</p> <p>client端获取蓝牙低功耗设备的所有服务，即服务发现 。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#getservicesdeprecated">bluetoothManager.GattClientDevice.getServices</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.81.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.81.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.81.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.81.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#gattservicedeprecated">GattService</a>&gt;&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">client进行服务发现，通过注册回调函数获取。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.base'</span>;</li><li><span class="hljs-comment">// callback 模式</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getServices</span>(<span class="hljs-params">code : BusinessError, gattServices : <span class="hljs-built_in">Array</span>&lt;bluetooth.GattService&gt;</span>) {</li><li>  <span class="hljs-keyword">if</span> (code.<span class="hljs-property">code</span> == <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth code is '</span> + code.<span class="hljs-property">code</span>);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"bluetooth services size is "</span>, gattServices.<span class="hljs-property">length</span>);</li><li>
</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; gattServices.<span class="hljs-property">length</span>; i++) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth serviceUuid is '</span> + gattServices[i].<span class="hljs-property">serviceUuid</span>);</li><li>      }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li>device.<span class="hljs-title function_">connect</span>();</li><li>device.<span class="hljs-title function_">getServices</span>(getServices);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 862px;"><h3 id="getservicesdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">getServices<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getservicesdeprecated-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getServices(): Promise&lt;Array&lt;GattService&gt;&gt;</p> <p>client端获取蓝牙低功耗设备的所有服务，即服务发现。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#getservicesdeprecated-1">bluetoothManager.GattClientDevice.getServices</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.82.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.82.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#gattservicedeprecated">GattService</a>&gt;&gt;</td> <td class="cellrowborder" width="50%">client进行服务发现，通过promise形式获取。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Promise 模式</span></li><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span>= bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li>device.<span class="hljs-title function_">connect</span>();</li><li>device.<span class="hljs-title function_">getServices</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result : <span class="hljs-built_in">Array</span>&lt;bluetooth.GattService&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"getServices successfully:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1559px;"><h3 id="readcharacteristicvaluedeprecated" device-type="phone,2in1,tablet,wearable,tv">readCharacteristicValue<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readcharacteristicvaluedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readCharacteristicValue(characteristic: BLECharacteristic, callback: AsyncCallback&lt;BLECharacteristic&gt;): void</p> <p>client端读取蓝牙低功耗设备特定服务的特征值。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#readcharacteristicvaluedeprecated">bluetoothManager.GattClientDevice.readCharacteristicValue</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">characteristic</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#blecharacteristicdeprecated">BLECharacteristic</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待读取的特征值。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#blecharacteristicdeprecated">BLECharacteristic</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">client读取特征值，通过注册回调函数获取。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.base'</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">readCcc</span>(<span class="hljs-params">code : BusinessError, BLECharacteristic : bluetooth.BLECharacteristic</span>) {</li><li>  <span class="hljs-keyword">if</span> (code.<span class="hljs-property">code</span> != <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth characteristic uuid: '</span> + <span class="hljs-title class_">BLECharacteristic</span>.<span class="hljs-property">characteristicUuid</span>);</li><li>  <span class="hljs-keyword">let</span> value = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-title class_">BLECharacteristic</span>.<span class="hljs-property">characteristicValue</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth characteristic value: '</span> + value[<span class="hljs-number">0</span>] +<span class="hljs-string">','</span>+ value[<span class="hljs-number">1</span>]+<span class="hljs-string">','</span>+ value[<span class="hljs-number">2</span>]+<span class="hljs-string">','</span>+ value[<span class="hljs-number">3</span>]);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li><span class="hljs-keyword">let</span> descriptors : <span class="hljs-title class_">Array</span>&lt;bluetooth.<span class="hljs-property">BLEDescriptor</span>&gt; = [];</li><li><span class="hljs-keyword">let</span> bufferDesc : <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> descV : <span class="hljs-title class_">Uint8Array</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(bufferDesc);</li><li>descV[<span class="hljs-number">0</span>] = <span class="hljs-number">11</span>;</li><li><span class="hljs-keyword">let</span> descriptor : bluetooth.<span class="hljs-property">BLEDescriptor</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li><span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>,</li><li><span class="hljs-attr">descriptorUuid</span>: <span class="hljs-string">'00002903-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">descriptorValue</span>: bufferDesc};</li><li>descriptors[<span class="hljs-number">0</span>] = descriptor;</li><li>
</li><li><span class="hljs-keyword">let</span> bufferCCC = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> cccV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(bufferCCC);</li><li>cccV[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> characteristic : bluetooth.<span class="hljs-property">BLECharacteristic</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li><span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>,</li><li><span class="hljs-attr">characteristicValue</span>: bufferCCC, <span class="hljs-attr">descriptors</span>:descriptors};</li><li>
</li><li>device.<span class="hljs-title function_">readCharacteristicValue</span>(characteristic, readCcc);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1325px;"><h3 id="readcharacteristicvaluedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readCharacteristicValue<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readcharacteristicvaluedeprecated-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readCharacteristicValue(characteristic: BLECharacteristic): Promise&lt;BLECharacteristic&gt;</p> <p>client端读取蓝牙低功耗设备特定服务的特征值。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#readcharacteristicvaluedeprecated-1">bluetoothManager.GattClientDevice.readCharacteristicValue</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">characteristic</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#blecharacteristicdeprecated">BLECharacteristic</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待读取的特征值。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.84.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.84.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#blecharacteristicdeprecated">BLECharacteristic</a>&gt;</td> <td class="cellrowborder" width="50%">client读取特征值，通过promise形式获取。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li><span class="hljs-keyword">let</span> descriptors : <span class="hljs-title class_">Array</span>&lt;bluetooth.<span class="hljs-property">BLEDescriptor</span>&gt; = [];</li><li><span class="hljs-keyword">let</span> bufferDesc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> descV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(bufferDesc);</li><li>descV[<span class="hljs-number">0</span>] = <span class="hljs-number">11</span>;</li><li><span class="hljs-keyword">let</span> descriptor : bluetooth.<span class="hljs-property">BLEDescriptor</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li><span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>,</li><li><span class="hljs-attr">descriptorUuid</span>: <span class="hljs-string">'00002903-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">descriptorValue</span>: bufferDesc};</li><li>descriptors[<span class="hljs-number">0</span>] = descriptor;</li><li>
</li><li><span class="hljs-keyword">let</span> bufferCCC = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> cccV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(bufferCCC);</li><li>cccV[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> characteristic : bluetooth.<span class="hljs-property">BLECharacteristic</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li><span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>,</li><li><span class="hljs-attr">characteristicValue</span>: bufferCCC, <span class="hljs-attr">descriptors</span>:descriptors};</li><li>
</li><li>device.<span class="hljs-title function_">readCharacteristicValue</span>(characteristic);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1319px;"><h3 id="readdescriptorvaluedeprecated" device-type="phone,2in1,tablet,wearable,tv">readDescriptorValue<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readdescriptorvaluedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readDescriptorValue(descriptor: BLEDescriptor, callback: AsyncCallback&lt;BLEDescriptor&gt;): void</p> <p>client端读取蓝牙低功耗设备特定的特征包含的描述符。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#readdescriptorvaluedeprecated">bluetoothManager.GattClientDevice.readDescriptorValue</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.85.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.85.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.85.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.85.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">descriptor</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bledescriptordeprecated">BLEDescriptor</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待读取的描述符。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bledescriptordeprecated">BLEDescriptor</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">client读取描述符，通过注册回调函数获取。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.base'</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">readDesc</span>(<span class="hljs-params">code : BusinessError, BLEDescriptor : bluetooth.BLEDescriptor</span>) {</li><li>  <span class="hljs-keyword">if</span> (code.<span class="hljs-property">code</span> != <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth descriptor uuid: '</span> + <span class="hljs-title class_">BLEDescriptor</span>.<span class="hljs-property">descriptorUuid</span>);</li><li>  <span class="hljs-keyword">let</span> value = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-title class_">BLEDescriptor</span>.<span class="hljs-property">descriptorValue</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth descriptor value: '</span> + value[<span class="hljs-number">0</span>] +<span class="hljs-string">','</span>+ value[<span class="hljs-number">1</span>]+<span class="hljs-string">','</span>+ value[<span class="hljs-number">2</span>]+<span class="hljs-string">','</span>+ value[<span class="hljs-number">3</span>]);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li><span class="hljs-keyword">let</span> bufferDesc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> descV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(bufferDesc);</li><li>descV[<span class="hljs-number">0</span>] = <span class="hljs-number">11</span>;</li><li><span class="hljs-keyword">let</span> descriptor : bluetooth.<span class="hljs-property">BLEDescriptor</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">descriptorUuid</span>: <span class="hljs-string">'00002903-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">descriptorValue</span>: bufferDesc};</li><li>device.<span class="hljs-title function_">readDescriptorValue</span>(descriptor, readDesc);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1085px;"><h3 id="readdescriptorvaluedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readDescriptorValue<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readdescriptorvaluedeprecated-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readDescriptorValue(descriptor: BLEDescriptor): Promise&lt;BLEDescriptor&gt;</p> <p>client端读取蓝牙低功耗设备特定的特征包含的描述符。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#readdescriptorvaluedeprecated-1">bluetoothManager.GattClientDevice.readDescriptorValue</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">descriptor</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bledescriptordeprecated">BLEDescriptor</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待读取的描述符。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.86.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.86.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bledescriptordeprecated">BLEDescriptor</a>&gt;</td> <td class="cellrowborder" width="50%">client读取描述符，通过promise形式获取。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li><span class="hljs-keyword">let</span> bufferDesc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> descV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(bufferDesc);</li><li>descV[<span class="hljs-number">0</span>] = <span class="hljs-number">11</span>;</li><li><span class="hljs-keyword">let</span> descriptor : bluetooth.<span class="hljs-property">BLEDescriptor</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">descriptorUuid</span>: <span class="hljs-string">'00002903-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">descriptorValue</span>: bufferDesc};</li><li>device.<span class="hljs-title function_">readDescriptorValue</span>(descriptor);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1445px;"><h3 id="writecharacteristicvaluedeprecated" device-type="phone,2in1,tablet,wearable,tv">writeCharacteristicValue<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writecharacteristicvaluedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeCharacteristicValue(characteristic: BLECharacteristic): boolean</p> <p>client端向低功耗蓝牙设备写入特定的特征值。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#writecharacteristicvaluedeprecated">bluetoothManager.GattClientDevice.writeCharacteristicValue</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.87.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.87.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.87.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.87.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">characteristic</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#blecharacteristicdeprecated">BLECharacteristic</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">蓝牙设备特征对应的二进制值及其它参数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.87.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.87.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">写特征值操作成功返回true，操作失败返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li><span class="hljs-keyword">let</span> descriptors : <span class="hljs-title class_">Array</span>&lt;bluetooth.<span class="hljs-property">BLEDescriptor</span>&gt; = [];</li><li><span class="hljs-keyword">let</span> bufferDesc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> descV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(bufferDesc);</li><li>descV[<span class="hljs-number">0</span>] = <span class="hljs-number">11</span>;</li><li><span class="hljs-keyword">let</span> descriptor : bluetooth.<span class="hljs-property">BLEDescriptor</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">descriptorUuid</span>: <span class="hljs-string">'00002903-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">descriptorValue</span>: bufferDesc};</li><li>descriptors[<span class="hljs-number">0</span>] = descriptor;</li><li>
</li><li><span class="hljs-keyword">let</span> bufferCCC = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> cccV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(bufferCCC);</li><li>cccV[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> characteristic : bluetooth.<span class="hljs-property">BLECharacteristic</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicValue</span>: bufferCCC, <span class="hljs-attr">descriptors</span>:descriptors};</li><li><span class="hljs-keyword">let</span> retWriteCcc : boolean = device.<span class="hljs-title function_">writeCharacteristicValue</span>(characteristic);</li><li><span class="hljs-keyword">if</span> (retWriteCcc) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'write characteristic successfully'</span>);</li><li>} <span class="hljs-keyword">else</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'write characteristic failed'</span>);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1229px;"><h3 id="writedescriptorvaluedeprecated" device-type="phone,2in1,tablet,wearable,tv">writeDescriptorValue<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writedescriptorvaluedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeDescriptorValue(descriptor: BLEDescriptor): boolean</p> <p>client端向低功耗蓝牙设备特定的描述符写入二进制数据。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#writedescriptorvaluedeprecated">bluetoothManager.GattClientDevice.writeDescriptorValue</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.88.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.88.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.88.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.88.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">descriptor</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bledescriptordeprecated">BLEDescriptor</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">蓝牙设备描述符的二进制值及其它参数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.88.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.88.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">写描述符操作成功返回true，操作失败返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li><span class="hljs-keyword">let</span> bufferDesc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> descV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(bufferDesc);</li><li>descV[<span class="hljs-number">0</span>] = <span class="hljs-number">22</span>;</li><li><span class="hljs-keyword">let</span> descriptor : bluetooth.<span class="hljs-property">BLEDescriptor</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">descriptorUuid</span>: <span class="hljs-string">'00002903-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">descriptorValue</span>: bufferDesc};</li><li><span class="hljs-keyword">let</span> retWriteDesc : boolean = device.<span class="hljs-title function_">writeDescriptorValue</span>(descriptor);</li><li><span class="hljs-keyword">if</span> (retWriteDesc) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth write descriptor successfully'</span>);</li><li>} <span class="hljs-keyword">else</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth write descriptor failed'</span>);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 917px;"><h3 id="setblemtusizedeprecated" device-type="phone,2in1,tablet,wearable,tv">setBLEMtuSize<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setblemtusizedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setBLEMtuSize(mtu: number): boolean</p> <p>client协商远端蓝牙低功耗设备的最大传输单元（Maximum Transmission Unit, MTU），调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#connectdeprecated">connect</a>接口连接成功后才能使用。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#setblemtusizedeprecated">bluetoothManager.GattClientDevice.setBLEMtuSize</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.89.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.89.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.89.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.89.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">mtu</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设置范围为22~512字节。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.89.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.89.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">MTU协商操作成功返回true，操作失败返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li>device.<span class="hljs-title function_">setBLEMtuSize</span>(<span class="hljs-number">128</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1298px;"><h3 id="setnotifycharacteristicchangeddeprecated" device-type="phone,2in1,tablet,wearable,tv">setNotifyCharacteristicChanged<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setnotifycharacteristicchangeddeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setNotifyCharacteristicChanged(characteristic: BLECharacteristic, enable: boolean): boolean</p> <p>向服务端发送设置通知此特征值请求。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#setnotifycharacteristicchangeddeprecated">bluetoothManager.GattClientDevice.setNotifyCharacteristicChanged</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.90.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.90.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.90.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.90.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">characteristic</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#blecharacteristicdeprecated">BLECharacteristic</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">蓝牙低功耗特征。</td> </tr> <tr><td class="cellrowborder" width="25%">enable</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">启用接收notify设置为true，否则设置为false。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.90.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.90.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">设置操作成功返回true，操作失败返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 创建descriptors</span></li><li><span class="hljs-keyword">let</span> descriptors : <span class="hljs-title class_">Array</span>&lt;bluetooth.<span class="hljs-property">BLEDescriptor</span>&gt; = [];</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> descV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li>descV[<span class="hljs-number">0</span>] = <span class="hljs-number">11</span>;</li><li><span class="hljs-keyword">let</span> descriptor : bluetooth.<span class="hljs-property">BLEDescriptor</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">descriptorUuid</span>: <span class="hljs-string">'00002902-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">descriptorValue</span>: arrayBuffer};</li><li>descriptors[<span class="hljs-number">0</span>] = descriptor;</li><li><span class="hljs-keyword">let</span> arrayBufferC = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> characteristic : bluetooth.<span class="hljs-property">BLECharacteristic</span> = {<span class="hljs-attr">serviceUuid</span>: <span class="hljs-string">'00001810-0000-1000-8000-00805F9B34FB'</span>,</li><li>  <span class="hljs-attr">characteristicUuid</span>: <span class="hljs-string">'00001820-0000-1000-8000-00805F9B34FB'</span>, <span class="hljs-attr">characteristicValue</span>: arrayBufferC, <span class="hljs-attr">descriptors</span>:descriptors};</li><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li>device.<span class="hljs-title function_">setNotifyCharacteristicChanged</span>(characteristic, <span class="hljs-literal">false</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1127px;"><h3 id="onblecharacteristicchangedeprecated" device-type="phone,2in1,tablet,wearable,tv">on('BLECharacteristicChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onblecharacteristicchangedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'BLECharacteristicChange', callback: Callback&lt;BLECharacteristic&gt;): void</p> <p>订阅蓝牙低功耗设备的特征值变化事件。需要先调用setNotifyCharacteristicChanged接口才能接收server端的通知。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#onblecharacteristicchangedeprecated">bluetoothManager.GattClientDevice.on('BLECharacteristicChange')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.91.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.91.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.91.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.91.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"BLECharacteristicChange"字符串，表示特征值变化事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#blecharacteristicdeprecated">BLECharacteristic</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示蓝牙低功耗设备的特征值变化事件的回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">CharacteristicChange</span>(<span class="hljs-params">CharacteristicChangeReq : bluetooth.BLECharacteristic</span>) {</li><li>  <span class="hljs-keyword">let</span> serviceUuid : string = <span class="hljs-title class_">CharacteristicChangeReq</span>.<span class="hljs-property">serviceUuid</span>;</li><li>  <span class="hljs-keyword">let</span> characteristicUuid : string = <span class="hljs-title class_">CharacteristicChangeReq</span>.<span class="hljs-property">characteristicUuid</span>;</li><li>  <span class="hljs-keyword">let</span> value = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-title class_">CharacteristicChangeReq</span>.<span class="hljs-property">characteristicValue</span>);</li><li>}</li><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li>device.<span class="hljs-title function_">on</span>(<span class="hljs-string">'BLECharacteristicChange'</span>, <span class="hljs-title class_">CharacteristicChange</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1055px;"><h3 id="offblecharacteristicchangedeprecated" device-type="phone,2in1,tablet,wearable,tv">off('BLECharacteristicChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offblecharacteristicchangedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'BLECharacteristicChange', callback?: Callback&lt;BLECharacteristic&gt;): void</p> <p>取消订阅蓝牙低功耗设备的特征值变化事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#offblecharacteristicchangedeprecated">bluetoothManager.GattClientDevice.off('BLECharacteristicChange')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.92.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.92.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.92.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.92.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"BLECharacteristicChange"字符串，表示特征值变化事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#blecharacteristicdeprecated">BLECharacteristic</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消订阅蓝牙低功耗设备的特征值变化事件。不填该参数则取消订阅该type对应的所有回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li>device.<span class="hljs-title function_">off</span>(<span class="hljs-string">'BLECharacteristicChange'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1103px;"><h3 id="onbleconnectionstatechangedeprecated" device-type="phone,2in1,tablet,wearable,tv">on('BLEConnectionStateChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onbleconnectionstatechangedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'BLEConnectionStateChange', callback: Callback&lt;BLEConnectChangedState&gt;): void</p> <p>client端订阅蓝牙低功耗设备的连接状态变化事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#onbleconnectionstatechangedeprecated">bluetoothManager.GattClientDevice.on('BLEConnectionStateChange')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.93.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.93.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.93.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.93.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"BLEConnectionStateChange"字符串，表示连接状态变化事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bleconnectchangedstatedeprecated">BLEConnectChangedState</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示连接状态，已连接或断开。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">ConnectStateChanged</span>(<span class="hljs-params">state : bluetooth.BLEConnectChangedState</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bluetooth connect state changed'</span>);</li><li>  <span class="hljs-keyword">let</span> connectState : bluetooth.<span class="hljs-property">ProfileConnectionState</span> = state.<span class="hljs-property">state</span>;</li><li>}</li><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li>device.<span class="hljs-title function_">on</span>(<span class="hljs-string">'BLEConnectionStateChange'</span>, <span class="hljs-title class_">ConnectStateChanged</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1055px;"><h3 id="offbleconnectionstatechangedeprecated" device-type="phone,2in1,tablet,wearable,tv">off('BLEConnectionStateChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offbleconnectionstatechangedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'BLEConnectionStateChange', callback?: Callback&lt;BLEConnectChangedState&gt;): void</p> <p>取消订阅蓝牙低功耗设备的连接状态变化事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#offbleconnectionstatechangedeprecated">bluetoothManager.GattClientDevice.off('BLEConnectionStateChange')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.94.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.94.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.94.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.94.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">填写"BLEConnectionStateChange"字符串，表示连接状态变化事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bleconnectchangedstatedeprecated">BLEConnectChangedState</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消订阅蓝牙低功耗设备的连接状态变化事件。不填该参数则取消订阅该type对应的所有回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> device : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li>device.<span class="hljs-title function_">off</span>(<span class="hljs-string">'BLEConnectionStateChange'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1034px;"><h3 id="getdevicenamedeprecated" device-type="phone,2in1,tablet,wearable,tv">getDeviceName<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdevicenamedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDeviceName(callback: AsyncCallback&lt;string&gt;): void</p> <p>client获取远端蓝牙低功耗设备名。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#getdevicenamedeprecated">bluetoothManager.GattClientDevice.getDeviceName</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.95.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.95.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.95.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.95.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">client获取对端server设备名，通过注册回调函数获取。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.base'</span>;</li><li><span class="hljs-comment">// callback</span></li><li><span class="hljs-keyword">let</span> gattClient : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">"XX:XX:XX:XX:XX:XX"</span>);</li><li><span class="hljs-keyword">let</span> deviceName : <span class="hljs-keyword">void</span> = gattClient.<span class="hljs-title function_">getDeviceName</span>(<span class="hljs-function">(<span class="hljs-params">err : BusinessError, data : string</span>)=&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'device name err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'device name'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 862px;"><h3 id="getdevicenamedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">getDeviceName<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdevicenamedeprecated-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDeviceName(): Promise&lt;string&gt;</p> <p>client获取远端蓝牙低功耗设备名。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#getdevicenamedeprecated-1">bluetoothManager.GattClientDevice.getDeviceName</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.96.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.96.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;string&gt;</td> <td class="cellrowborder" width="50%">client获取对端server设备名，通过promise形式获取。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// promise</span></li><li><span class="hljs-keyword">let</span> gattClient : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">"XX:XX:XX:XX:XX:XX"</span>);</li><li>gattClient.<span class="hljs-title function_">getDeviceName</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'device name'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1010px;"><h3 id="getrssivaluedeprecated" device-type="phone,2in1,tablet,wearable,tv">getRssiValue<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getrssivaluedeprecated" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRssiValue(callback: AsyncCallback&lt;number&gt;): void</p> <p>client获取远端蓝牙低功耗设备的信号强度 (Received Signal Strength Indication, RSSI)，调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#connectdeprecated">connect</a>接口连接成功后才能使用。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#getrssivaluedeprecated">bluetoothManager.GattClientDevice.getRssiValue</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.97.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.97.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.97.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.97.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">返回信号强度，单位 dBm，通过注册回调函数获取。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p>无</p> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.base'</span>;</li><li><span class="hljs-comment">// callback</span></li><li><span class="hljs-keyword">let</span> gattClient : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">"XX:XX:XX:XX:XX:XX"</span>);</li><li><span class="hljs-keyword">let</span> ret : boolean = gattClient.<span class="hljs-title function_">connect</span>();</li><li>gattClient.<span class="hljs-title function_">getRssiValue</span>(<span class="hljs-function">(<span class="hljs-params">err : BusinessError, data : number</span>)=&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'rssi err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'rssi value'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 838px;"><h3 id="getrssivaluedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">getRssiValue<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getrssivaluedeprecated-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRssiValue(): Promise&lt;number&gt;</p> <p>client获取远端蓝牙低功耗设备的信号强度 (Received Signal Strength Indication, RSSI)，调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#connectdeprecated">connect</a>接口连接成功后才能使用。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#getrssivaluedeprecated-1">bluetoothManager.GattClientDevice.getRssiValue</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.USE_BLUETOOTH</p> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.98.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.98.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;number&gt;</td> <td class="cellrowborder" width="50%">返回信号强度，单位 dBm，通过promise形式获取。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uvr-c106="" class="highlight-div"><div _ngcontent-uvr-c106="" class="highlight-div-header"><div _ngcontent-uvr-c106="" class="highlight-div-header-left"><div _ngcontent-uvr-c106="" class="handle-button expand-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvr-c106="" class="highlight-div-header-right"><div _ngcontent-uvr-c106="" class="handle-button ai-button"></div><div _ngcontent-uvr-c106="" class="handle-button line-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvr-c106="" class="handle-button theme-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvr-c106="" class="handle-button copy-button"><div _ngcontent-uvr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvr-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// promise</span></li><li><span class="hljs-keyword">let</span> gattClient : bluetooth.<span class="hljs-property">GattClientDevice</span> = bluetooth.<span class="hljs-property">BLE</span>.<span class="hljs-title function_">createGattClientDevice</span>(<span class="hljs-string">"XX:XX:XX:XX:XX:XX"</span>);</li><li>gattClient.<span class="hljs-title function_">getRssiValue</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data : number</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'rssi'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 746px;"><h2 id="scanmodedeprecated" device-type="phone,2in1,tablet,wearable,tv">ScanMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanmodedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，扫描模式。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#scanmodedeprecated">bluetoothManager.ScanMode</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.99.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.99.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.99.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_NONE</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">没有扫描模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_CONNECTABLE</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">可连接扫描模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_GENERAL_DISCOVERABLE</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">general发现模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_LIMITED_DISCOVERABLE</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">limited发现模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_CONNECTABLE_GENERAL_DISCOVERABLE</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">可连接general发现模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_CONNECTABLE_LIMITED_DISCOVERABLE</td> <td class="cellrowborder" width="33.33333333333333%">5</td> <td class="cellrowborder" width="33.33333333333333%">可连接limited发现模式。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 515px;"><h2 id="bondstatedeprecated" device-type="phone,2in1,tablet,wearable,tv">BondState<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bondstatedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，配对状态。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bondstatedeprecated">bluetoothManager.BondState</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.100.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.100.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.100.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">BOND_STATE_INVALID</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">无效的配对。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">BOND_STATE_BONDING</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">正在配对。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">BOND_STATE_BONDED</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">已配对。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 515px;"><h2 id="sppoptiondeprecated" device-type="phone,2in1,tablet,wearable,tv">SppOption<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sppoptiondeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述spp的配置参数。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#sppoptiondeprecated">bluetoothManager.SppOption</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.101.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.101.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.101.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.101.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.101.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">uuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">spp单据的uuid。</td> </tr> <tr><td class="cellrowborder" width="20%">secure</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是否是安全通道。</td> </tr> <tr><td class="cellrowborder" width="20%">type</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#spptypedeprecated">SppType</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">Spp链路类型。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 425px;"><h2 id="spptypedeprecated" device-type="phone,2in1,tablet,wearable,tv">SppType<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="spptypedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，Spp链路类型。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#spptypedeprecated">bluetoothManager.SppType</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.102.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.102.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.102.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">SPP_RFCOMM</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示rfcomm链路类型。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 752px;"><h2 id="gattservicedeprecated" device-type="phone,2in1,tablet,wearable,tv">GattService<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gattservicedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述service的接口参数定义。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#gattservicedeprecated">bluetoothManager.GattService</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.103.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.103.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.103.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.103.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.103.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">serviceUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定服务（service）的UUID，例如：00001888-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">isPrimary</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">如果是主服务设置为true，否则设置为false。</td> </tr> <tr><td class="cellrowborder" width="20%">characteristics</td> <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#blecharacteristicdeprecated">BLECharacteristic</a>&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">当前服务包含的特征列表。</td> </tr> <tr><td class="cellrowborder" width="20%">includeServices</td> <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#gattservicedeprecated">GattService</a>&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">当前服务依赖的其它服务。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 824px;"><h2 id="blecharacteristicdeprecated" device-type="phone,2in1,tablet,wearable,tv">BLECharacteristic<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="blecharacteristicdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述characteristic的接口参数定义 。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#blecharacteristicdeprecated">bluetoothManager.BLECharacteristic</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.104.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.104.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.104.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.104.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.104.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">serviceUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定服务（service）的UUID，例如：00001888-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">characteristicUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定特征（characteristic）的UUID，例如：00002a11-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">characteristicValue</td> <td class="cellrowborder" width="20%">ArrayBuffer</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特征对应的二进制值。</td> </tr> <tr><td class="cellrowborder" width="20%">descriptors</td> <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#bledescriptordeprecated">BLEDescriptor</a>&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定特征的描述符列表。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 896px;"><h2 id="bledescriptordeprecated" device-type="phone,2in1,tablet,wearable,tv">BLEDescriptor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bledescriptordeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述descriptor的接口参数定义 。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bledescriptordeprecated">bluetoothManager.BLEDescriptor</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.105.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.105.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.105.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.105.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.105.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">serviceUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定服务（service）的UUID，例如：00001888-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">characteristicUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定特征（characteristic）的UUID，例如：00002a11-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">descriptorUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">描述符（descriptor）的UUID，例如：00002902-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">descriptorValue</td> <td class="cellrowborder" width="20%">ArrayBuffer</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">描述符对应的二进制值。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 920px;"><h2 id="notifycharacteristicdeprecated" device-type="phone,2in1,tablet,wearable,tv">NotifyCharacteristic<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="notifycharacteristicdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述server端特征值变化时发送的特征通知参数定义。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#notifycharacteristicdeprecated">bluetoothManager.NotifyCharacteristic</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.106.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.106.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.106.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.106.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.106.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">serviceUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定服务（service）的UUID，例如：00001888-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">characteristicUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定特征（characteristic）的UUID，例如：00002a11-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">characteristicValue</td> <td class="cellrowborder" width="20%">ArrayBuffer</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特征对应的二进制值。</td> </tr> <tr><td class="cellrowborder" width="20%">confirm</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">如果是notification则对端回复确认设置为true，如果是indication则对端不需要回复确认设置为false。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1109px;"><h2 id="characteristicreadreqdeprecated" device-type="phone,2in1,tablet,wearable,tv">CharacteristicReadReq<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="characteristicreadreqdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述server端订阅后收到的特征值读请求事件参数结构。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#characteristicreadrequestdeprecated">bluetoothManager.CharacteristicReadRequest</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.107.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.107.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.107.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.107.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.107.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">deviceId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示发送特征值读请求的远端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td> </tr> <tr><td class="cellrowborder" width="20%">transId</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示读请求的传输ID，server端回复响应时需填写相同的传输ID。</td> </tr> <tr><td class="cellrowborder" width="20%">offset</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示读特征值数据的起始位置。例如：k表示从第k个字节开始读，server端回复响应时需填写相同的offset。</td> </tr> <tr><td class="cellrowborder" width="20%">characteristicUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定特征（characteristic）的UUID，例如：00002a11-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">serviceUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定服务（service）的UUID，例如：00001888-0000-1000-8000-00805f9b34fb。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1364px;"><h2 id="characteristicwritereqdeprecated" device-type="phone,2in1,tablet,wearable,tv">CharacteristicWriteReq<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="characteristicwritereqdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述server端订阅后收到的特征值写请求事件参数结构。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#characteristicwriterequestdeprecated">bluetoothManager.CharacteristicWriteRequest</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.108.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.108.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.108.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.108.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.108.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">deviceId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示发送特征值写请求的远端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td> </tr> <tr><td class="cellrowborder" width="20%">transId</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示写请求的传输ID，server端回复响应时需填写相同的传输ID。</td> </tr> <tr><td class="cellrowborder" width="20%">offset</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示写特征值数据的起始位置。例如：k表示从第k个字节开始写，server端回复响应时需填写相同的offset。</td> </tr> <tr><td class="cellrowborder" width="20%">isPrep</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示写请求是否立即执行。true表示立即执行。</td> </tr> <tr><td class="cellrowborder" width="20%">needRsp</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示是否要给client端回复响应。true表示需要回复。</td> </tr> <tr><td class="cellrowborder" width="20%">value</td> <td class="cellrowborder" width="20%">ArrayBuffer</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示写入的描述符二进制数据。</td> </tr> <tr><td class="cellrowborder" width="20%">characteristicUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定特征（characteristic）的UUID，例如：00002a11-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">serviceUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定服务（service）的UUID，例如：00001888-0000-1000-8000-00805f9b34fb。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1274px;"><h2 id="descriptorreadreqdeprecated" device-type="phone,2in1,tablet,wearable,tv">DescriptorReadReq<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="descriptorreadreqdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述server端订阅后收到的描述符读请求事件参数结构。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#descriptorreadrequestdeprecated">bluetoothManager.DescriptorReadRequest</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.109.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.109.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.109.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.109.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.109.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">deviceId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示发送描述符读请求的远端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td> </tr> <tr><td class="cellrowborder" width="20%">transId</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示读请求的传输ID，server端回复响应时需填写相同的传输ID。</td> </tr> <tr><td class="cellrowborder" width="20%">offset</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示读描述符数据的起始位置。例如：k表示从第k个字节开始读，server端回复响应时需填写相同的offset。</td> </tr> <tr><td class="cellrowborder" width="20%">descriptorUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示描述符（descriptor）的UUID，例如：00002902-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">characteristicUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定特征（characteristic）的UUID，例如：00002a11-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">serviceUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定服务（service）的UUID，例如：00001888-0000-1000-8000-00805f9b34fb。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1481px;"><h2 id="descriptorwritereqdeprecated" device-type="phone,2in1,tablet,wearable,tv">DescriptorWriteReq<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="descriptorwritereqdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述server端订阅后收到的描述符写请求事件参数结构。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#descriptorwriterequestdeprecated">bluetoothManager.DescriptorWriteRequest</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.110.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.110.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.110.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.110.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.110.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">deviceId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示发送描述符写请求的远端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td> </tr> <tr><td class="cellrowborder" width="20%">transId</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示写请求的传输ID，server端回复响应时需填写相同的传输ID。</td> </tr> <tr><td class="cellrowborder" width="20%">offset</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示写描述符数据的起始位置。例如：k表示从第k个字节开始写，server端回复响应时需填写相同的offset。</td> </tr> <tr><td class="cellrowborder" width="20%">isPrep</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示写请求是否立即执行。</td> </tr> <tr><td class="cellrowborder" width="20%">needRsp</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示是否要给client端回复响应。</td> </tr> <tr><td class="cellrowborder" width="20%">value</td> <td class="cellrowborder" width="20%">ArrayBuffer</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示写入的描述符二进制数据。</td> </tr> <tr><td class="cellrowborder" width="20%">descriptorUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示描述符（descriptor）的UUID，例如：00002902-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">characteristicUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定特征（characteristic）的UUID，例如：00002a11-0000-1000-8000-00805f9b34fb。</td> </tr> <tr><td class="cellrowborder" width="20%">serviceUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">特定服务（service）的UUID，例如：00001888-0000-1000-8000-00805f9b34fb。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 893px;"><h2 id="serverresponsedeprecated" device-type="phone,2in1,tablet,wearable,tv">ServerResponse<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="serverresponsedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述server端回复client端读/写请求的响应参数结构。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#serverresponsedeprecated">bluetoothManager.ServerResponse</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">deviceId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示远端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td> </tr> <tr><td class="cellrowborder" width="20%">transId</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示请求的传输ID，与订阅的读/写请求事件携带的ID保持一致。</td> </tr> <tr><td class="cellrowborder" width="20%">status</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示响应的状态，设置为0即可，表示正常。</td> </tr> <tr><td class="cellrowborder" width="20%">offset</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示请求的读/写起始位置，与订阅的读/写请求事件携带的offset保持一致。</td> </tr> <tr><td class="cellrowborder" width="20%">value</td> <td class="cellrowborder" width="20%">ArrayBuffer</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示回复响应的二进制数据。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 566px;"><h2 id="bleconnectchangedstatedeprecated" device-type="phone,2in1,tablet,wearable,tv">BLEConnectChangedState<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bleconnectchangedstatedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述Gatt profile连接状态 。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bleconnectchangedstatedeprecated">bluetoothManager.BLEConnectChangedState</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.112.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.112.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.112.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.112.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.112.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">deviceId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示远端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td> </tr> <tr><td class="cellrowborder" width="20%">state</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#profileconnectionstatedeprecated">ProfileConnectionState</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示BLE连接状态的枚举。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 560px;"><h2 id="profileconnectionstatedeprecated" device-type="phone,2in1,tablet,wearable,tv">ProfileConnectionState<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="profileconnectionstatedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，蓝牙设备的profile连接状态。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#profileconnectionstatedeprecated">bluetoothManager.ProfileConnectionState</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.113.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.113.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.113.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">STATE_DISCONNECTED</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示profile已断连。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">STATE_CONNECTING</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示profile正在连接。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">STATE_CONNECTED</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示profile已连接。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">STATE_DISCONNECTING</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">表示profile正在断连。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 707px;"><h2 id="scanfilterdeprecated" device-type="phone,2in1,tablet,wearable,tv">ScanFilter<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanfilterdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>扫描过滤参数。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#scanfilterdeprecated">bluetoothManager.ScanFilter</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.114.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.114.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.114.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.114.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.114.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">deviceId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示过滤的BLE设备地址，例如："XX:XX:XX:XX:XX:XX"。</td> </tr> <tr><td class="cellrowborder" width="20%">name</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示过滤的BLE设备名。</td> </tr> <tr><td class="cellrowborder" width="20%">serviceUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示过滤包含该UUID服务的设备，例如：00001888-0000-1000-8000-00805f9b34fb。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 683px;"><h2 id="scanoptionsdeprecated" device-type="phone,2in1,tablet,wearable,tv">ScanOptions<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanoptionsdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>扫描的配置参数。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#scanoptionsdeprecated">bluetoothManager.ScanOptions</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.115.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.115.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.115.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.115.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.115.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">interval</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示扫描结果上报延迟时间，默认值为0。</td> </tr> <tr><td class="cellrowborder" width="20%">dutyMode</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#scandutydeprecated">ScanDuty</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示扫描模式，默认值为SCAN_MODE_LOW_POWER。</td> </tr> <tr><td class="cellrowborder" width="20%">matchMode</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#matchmodedeprecated">MatchMode</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示硬件的过滤匹配模式，默认值为MATCH_MODE_AGGRESSIVE。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 515px;"><h2 id="scandutydeprecated" device-type="phone,2in1,tablet,wearable,tv">ScanDuty<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scandutydeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，扫描模式。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#scandutydeprecated">bluetoothManager.ScanDuty</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.116.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.116.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.116.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_LOW_POWER</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示低功耗模式，默认值。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_BALANCED</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示均衡模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_LOW_LATENCY</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示低延迟模式。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 542px;"><h2 id="matchmodedeprecated" device-type="phone,2in1,tablet,wearable,tv">MatchMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="matchmodedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，硬件过滤匹配模式。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#matchmodedeprecated">bluetoothManager.MatchMode</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.117.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.117.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.117.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">MATCH_MODE_AGGRESSIVE</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示硬件上报扫描结果门限较低，比如扫描到的功率较低或者一段时间扫描到的次数较少也触发上报，默认值。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">MATCH_MODE_STICKY</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示硬件上报扫描结果门限较高，更高的功率门限以及扫描到多次才会上报。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 635px;"><h2 id="scanresultdeprecated" device-type="phone,2in1,tablet,wearable,tv">ScanResult<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanresultdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>扫描结果上报数据。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#scanresultdeprecated">bluetoothManager.ScanResult</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.118.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.118.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.118.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.118.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.118.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">deviceId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示扫描到的设备地址，例如："XX:XX:XX:XX:XX:XX"。</td> </tr> <tr><td class="cellrowborder" width="20%">rssi</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示扫描到的设备的rssi值。</td> </tr> <tr><td class="cellrowborder" width="20%">data</td> <td class="cellrowborder" width="20%">ArrayBuffer</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示扫描到的设备发送的广播包。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 695px;"><h2 id="bluetoothstatedeprecated" device-type="phone,2in1,tablet,wearable,tv">BluetoothState<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothstatedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，蓝牙开关状态。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bluetoothstatedeprecated">bluetoothManager.BluetoothState</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.119.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.119.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.119.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">STATE_OFF</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示蓝牙已关闭。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">STATE_TURNING_ON</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示蓝牙正在打开。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">STATE_ON</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示蓝牙已打开。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">STATE_TURNING_OFF</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">表示蓝牙正在关闭。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">STATE_BLE_TURNING_ON</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">表示蓝牙正在打开LE-only模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">STATE_BLE_ON</td> <td class="cellrowborder" width="33.33333333333333%">5</td> <td class="cellrowborder" width="33.33333333333333%">表示蓝牙正处于LE-only模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">STATE_BLE_TURNING_OFF</td> <td class="cellrowborder" width="33.33333333333333%">6</td> <td class="cellrowborder" width="33.33333333333333%">表示蓝牙正在关闭LE-only模式。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 755px;"><h2 id="advertisesettingdeprecated" device-type="phone,2in1,tablet,wearable,tv">AdvertiseSetting<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="advertisesettingdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述蓝牙低功耗设备发送广播的参数。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#advertisesettingdeprecated">bluetoothManager.AdvertiseSetting</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.120.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.120.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.120.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.120.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.120.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">interval</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示广播间隔，最小值设置32个slot表示20ms，最大值设置16384个slot，默认值设置为1600个slot表示1s。</td> </tr> <tr><td class="cellrowborder" width="20%">txPower</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示发送功率，最小值设置-127，最大值设置1，默认值设置-7，单位dbm。</td> </tr> <tr><td class="cellrowborder" width="20%">connectable</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示是否是可连接广播，默认值设置为true。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 587px;"><h2 id="advertisedatadeprecated" device-type="phone,2in1,tablet,wearable,tv">AdvertiseData<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="advertisedatadeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述BLE广播数据包的内容。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#advertisedatadeprecated">bluetoothManager.AdvertiseData</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.121.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.121.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.121.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.121.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.121.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">serviceUuids</td> <td class="cellrowborder" width="20%">Array&lt;string&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示要广播的服务 UUID 列表。</td> </tr> <tr><td class="cellrowborder" width="20%">manufactureData</td> <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#manufacturedatadeprecated">ManufactureData</a>&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示要广播的广播的制造商信息列表。</td> </tr> <tr><td class="cellrowborder" width="20%">serviceData</td> <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#servicedatadeprecated">ServiceData</a>&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示要广播的服务数据列表。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 518px;"><h2 id="manufacturedatadeprecated" device-type="phone,2in1,tablet,wearable,tv">ManufactureData<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="manufacturedatadeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述BLE广播数据包的内容。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#manufacturedatadeprecated">bluetoothManager.ManufactureData</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.122.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.122.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.122.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.122.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.122.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">manufactureId</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示制造商的ID，由蓝牙SIG分配。</td> </tr> <tr><td class="cellrowborder" width="20%">manufactureValue</td> <td class="cellrowborder" width="20%">ArrayBuffer</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示制造商发送的制造商数据。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 470px;"><h2 id="servicedatadeprecated" device-type="phone,2in1,tablet,wearable,tv">ServiceData<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="servicedatadeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述广播包中服务数据内容。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#servicedatadeprecated">bluetoothManager.ServiceData</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.123.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.123.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.123.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.123.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.123.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">serviceUuid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示服务的UUID。</td> </tr> <tr><td class="cellrowborder" width="20%">serviceValue</td> <td class="cellrowborder" width="20%">ArrayBuffer</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示服务数据。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 494px;"><h2 id="pinrequiredparamdeprecated" device-type="phone,2in1,tablet,wearable,tv">PinRequiredParam<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pinrequiredparamdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述配对请求参数。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#pinrequiredparamdeprecated">bluetoothManager.PinRequiredParam</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.124.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.124.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.124.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.124.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.124.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">deviceId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示要配对的设备ID。</td> </tr> <tr><td class="cellrowborder" width="20%">pinCode</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示要配对的密钥。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 518px;"><h2 id="bondstateparamdeprecated" device-type="phone,2in1,tablet,wearable,tv">BondStateParam<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bondstateparamdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述配对状态参数。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#bondstateparamdeprecated">bluetoothManager.BondStateParam</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">deviceId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示要配对的设备ID。</td> </tr> <tr><td class="cellrowborder" width="20%">state</td> <td class="cellrowborder" width="20%">BondState</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示配对设备的状态。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 494px;"><h2 id="statechangeparamdeprecated" device-type="phone,2in1,tablet,wearable,tv">StateChangeParam<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="statechangeparamdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述profile状态改变参数。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#statechangeparamdeprecated">bluetoothManager.StateChangeParam</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.126.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.126.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.126.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.126.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.126.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">deviceId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示蓝牙设备地址。</td> </tr> <tr><td class="cellrowborder" width="20%">state</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#profileconnectionstatedeprecated">ProfileConnectionState</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示蓝牙设备的profile连接状态。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 563px;"><h2 id="deviceclassdeprecated" device-type="phone,2in1,tablet,wearable,tv">DeviceClass<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="deviceclassdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述蓝牙设备的类别。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#deviceclassdeprecated">bluetoothManager.DeviceClass</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.127.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.127.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.127.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.127.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.127.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">majorClass</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#majorclassdeprecated">MajorClass</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示蓝牙设备主要类别的枚举。</td> </tr> <tr><td class="cellrowborder" width="20%">majorMinorClass</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth#majorminorclassdeprecated">MajorMinorClass</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示主要次要蓝牙设备类别的枚举。</td> </tr> <tr><td class="cellrowborder" width="20%">classOfDevice</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示设备类别。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 875px;"><h2 id="majorclassdeprecated" device-type="phone,2in1,tablet,wearable,tv">MajorClass<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="majorclassdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，蓝牙设备主要类别。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#majorclassdeprecated">bluetoothManager.MajorClass</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.128.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.128.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.128.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">MAJOR_MISC</td> <td class="cellrowborder" width="33.33333333333333%">0x0000</td> <td class="cellrowborder" width="33.33333333333333%">表示杂项设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">MAJOR_COMPUTER</td> <td class="cellrowborder" width="33.33333333333333%">0x0100</td> <td class="cellrowborder" width="33.33333333333333%">表示计算机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">MAJOR_PHONE</td> <td class="cellrowborder" width="33.33333333333333%">0x0200</td> <td class="cellrowborder" width="33.33333333333333%">表示手机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">MAJOR_NETWORKING</td> <td class="cellrowborder" width="33.33333333333333%">0x0300</td> <td class="cellrowborder" width="33.33333333333333%">表示网络设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">MAJOR_AUDIO_VIDEO</td> <td class="cellrowborder" width="33.33333333333333%">0x0400</td> <td class="cellrowborder" width="33.33333333333333%">表示音频和视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">MAJOR_PERIPHERAL</td> <td class="cellrowborder" width="33.33333333333333%">0x0500</td> <td class="cellrowborder" width="33.33333333333333%">表示外围设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">MAJOR_IMAGING</td> <td class="cellrowborder" width="33.33333333333333%">0x0600</td> <td class="cellrowborder" width="33.33333333333333%">表示成像设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">MAJOR_WEARABLE</td> <td class="cellrowborder" width="33.33333333333333%">0x0700</td> <td class="cellrowborder" width="33.33333333333333%">表示可穿戴设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">MAJOR_TOY</td> <td class="cellrowborder" width="33.33333333333333%">0x0800</td> <td class="cellrowborder" width="33.33333333333333%">表示玩具设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">MAJOR_HEALTH</td> <td class="cellrowborder" width="33.33333333333333%">0x0900</td> <td class="cellrowborder" width="33.33333333333333%">表示健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">MAJOR_UNCATEGORIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x1F00</td> <td class="cellrowborder" width="33.33333333333333%">表示未分类设备。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 4394px;"><h2 id="majorminorclassdeprecated" device-type="phone,2in1,tablet,wearable,tv">MajorMinorClass<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="majorminorclassdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，主要次要蓝牙设备类别。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#majorminorclassdeprecated">bluetoothManager.MajorMinorClass</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.129.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.129.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.129.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">COMPUTER_UNCATEGORIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x0100</td> <td class="cellrowborder" width="33.33333333333333%">表示未分类计算机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">COMPUTER_DESKTOP</td> <td class="cellrowborder" width="33.33333333333333%">0x0104</td> <td class="cellrowborder" width="33.33333333333333%">表示台式计算机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">COMPUTER_SERVER</td> <td class="cellrowborder" width="33.33333333333333%">0x0108</td> <td class="cellrowborder" width="33.33333333333333%">表示服务器设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">COMPUTER_LAPTOP</td> <td class="cellrowborder" width="33.33333333333333%">0x010C</td> <td class="cellrowborder" width="33.33333333333333%">表示便携式计算机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">COMPUTER_HANDHELD_PC_PDA</td> <td class="cellrowborder" width="33.33333333333333%">0x0110</td> <td class="cellrowborder" width="33.33333333333333%">表示手持式计算机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">COMPUTER_PALM_SIZE_PC_PDA</td> <td class="cellrowborder" width="33.33333333333333%">0x0114</td> <td class="cellrowborder" width="33.33333333333333%">表示掌上电脑设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">COMPUTER_WEARABLE</td> <td class="cellrowborder" width="33.33333333333333%">0x0118</td> <td class="cellrowborder" width="33.33333333333333%">表示可穿戴计算机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">COMPUTER_TABLET</td> <td class="cellrowborder" width="33.33333333333333%">0x011C</td> <td class="cellrowborder" width="33.33333333333333%">表示平板电脑设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PHONE_UNCATEGORIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x0200</td> <td class="cellrowborder" width="33.33333333333333%">表示未分类手机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PHONE_CELLULAR</td> <td class="cellrowborder" width="33.33333333333333%">0x0204</td> <td class="cellrowborder" width="33.33333333333333%">表示便携式手机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PHONE_CORDLESS</td> <td class="cellrowborder" width="33.33333333333333%">0x0208</td> <td class="cellrowborder" width="33.33333333333333%">表示无线电话设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PHONE_SMART</td> <td class="cellrowborder" width="33.33333333333333%">0x020C</td> <td class="cellrowborder" width="33.33333333333333%">表示智能手机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PHONE_MODEM_OR_GATEWAY</td> <td class="cellrowborder" width="33.33333333333333%">0x0210</td> <td class="cellrowborder" width="33.33333333333333%">表示调制解调器或网关手机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PHONE_ISDN</td> <td class="cellrowborder" width="33.33333333333333%">0x0214</td> <td class="cellrowborder" width="33.33333333333333%">表示ISDN手机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">NETWORK_FULLY_AVAILABLE</td> <td class="cellrowborder" width="33.33333333333333%">0x0300</td> <td class="cellrowborder" width="33.33333333333333%">表示网络完全可用设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">NETWORK_1_TO_17_UTILIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x0320</td> <td class="cellrowborder" width="33.33333333333333%">表示使用网络1到17设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">NETWORK_17_TO_33_UTILIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x0340</td> <td class="cellrowborder" width="33.33333333333333%">表示使用网络17到33设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">NETWORK_33_TO_50_UTILIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x0360</td> <td class="cellrowborder" width="33.33333333333333%">表示使用网络33到50设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">NETWORK_60_TO_67_UTILIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x0380</td> <td class="cellrowborder" width="33.33333333333333%">表示使用网络60到67设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">NETWORK_67_TO_83_UTILIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x03A0</td> <td class="cellrowborder" width="33.33333333333333%">表示使用网络67到83设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">NETWORK_83_TO_99_UTILIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x03C0</td> <td class="cellrowborder" width="33.33333333333333%">表示使用网络83到99设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">NETWORK_NO_SERVICE</td> <td class="cellrowborder" width="33.33333333333333%">0x03E0</td> <td class="cellrowborder" width="33.33333333333333%">表示网络无服务设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_UNCATEGORIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x0400</td> <td class="cellrowborder" width="33.33333333333333%">表示未分类音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_WEARABLE_HEADSET</td> <td class="cellrowborder" width="33.33333333333333%">0x0404</td> <td class="cellrowborder" width="33.33333333333333%">表示可穿戴式音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_HANDSFREE</td> <td class="cellrowborder" width="33.33333333333333%">0x0408</td> <td class="cellrowborder" width="33.33333333333333%">表示免提音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_MICROPHONE</td> <td class="cellrowborder" width="33.33333333333333%">0x0410</td> <td class="cellrowborder" width="33.33333333333333%">表示麦克风音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_LOUDSPEAKER</td> <td class="cellrowborder" width="33.33333333333333%">0x0414</td> <td class="cellrowborder" width="33.33333333333333%">表示扬声器音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_HEADPHONES</td> <td class="cellrowborder" width="33.33333333333333%">0x0418</td> <td class="cellrowborder" width="33.33333333333333%">表示头戴式音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_PORTABLE_AUDIO</td> <td class="cellrowborder" width="33.33333333333333%">0x041C</td> <td class="cellrowborder" width="33.33333333333333%">表示便携式音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_CAR_AUDIO</td> <td class="cellrowborder" width="33.33333333333333%">0x0420</td> <td class="cellrowborder" width="33.33333333333333%">表示汽车音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_SET_TOP_BOX</td> <td class="cellrowborder" width="33.33333333333333%">0x0424</td> <td class="cellrowborder" width="33.33333333333333%">表示机顶盒音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_HIFI_AUDIO</td> <td class="cellrowborder" width="33.33333333333333%">0x0428</td> <td class="cellrowborder" width="33.33333333333333%">表示高保真音响设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_VCR</td> <td class="cellrowborder" width="33.33333333333333%">0x042C</td> <td class="cellrowborder" width="33.33333333333333%">表示录像机音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_VIDEO_CAMERA</td> <td class="cellrowborder" width="33.33333333333333%">0x0430</td> <td class="cellrowborder" width="33.33333333333333%">表示照相机音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_CAMCORDER</td> <td class="cellrowborder" width="33.33333333333333%">0x0434</td> <td class="cellrowborder" width="33.33333333333333%">表示摄像机音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_VIDEO_MONITOR</td> <td class="cellrowborder" width="33.33333333333333%">0x0438</td> <td class="cellrowborder" width="33.33333333333333%">表示监视器音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_VIDEO_DISPLAY_AND_LOUDSPEAKER</td> <td class="cellrowborder" width="33.33333333333333%">0x043C</td> <td class="cellrowborder" width="33.33333333333333%">表示视频显示器和扬声器设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_VIDEO_CONFERENCING</td> <td class="cellrowborder" width="33.33333333333333%">0x0440</td> <td class="cellrowborder" width="33.33333333333333%">表示音频视频会议设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUDIO_VIDEO_VIDEO_GAMING_TOY</td> <td class="cellrowborder" width="33.33333333333333%">0x0448</td> <td class="cellrowborder" width="33.33333333333333%">表示游戏玩具音频视频设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_NON_KEYBOARD_NON_POINTING</td> <td class="cellrowborder" width="33.33333333333333%">0x0500</td> <td class="cellrowborder" width="33.33333333333333%">表示非键盘非指向外围设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_KEYBOARD</td> <td class="cellrowborder" width="33.33333333333333%">0x0540</td> <td class="cellrowborder" width="33.33333333333333%">表示外设键盘设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_POINTING_DEVICE</td> <td class="cellrowborder" width="33.33333333333333%">0x0580</td> <td class="cellrowborder" width="33.33333333333333%">表示定点装置外围设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_KEYBOARD_POINTING</td> <td class="cellrowborder" width="33.33333333333333%">0x05C0</td> <td class="cellrowborder" width="33.33333333333333%">表示键盘指向外围设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_UNCATEGORIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x0500</td> <td class="cellrowborder" width="33.33333333333333%">表示未分类外围设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_JOYSTICK</td> <td class="cellrowborder" width="33.33333333333333%">0x0504</td> <td class="cellrowborder" width="33.33333333333333%">表示周边操纵杆设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_GAMEPAD</td> <td class="cellrowborder" width="33.33333333333333%">0x0508</td> <td class="cellrowborder" width="33.33333333333333%">表示周边游戏板设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_REMOTE_CONTROL</td> <td class="cellrowborder" width="33.33333333333333%">0x05C0</td> <td class="cellrowborder" width="33.33333333333333%">表示远程控制外围设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_SENSING_DEVICE</td> <td class="cellrowborder" width="33.33333333333333%">0x0510</td> <td class="cellrowborder" width="33.33333333333333%">表示外围传感设备设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_DIGITIZER_TABLET</td> <td class="cellrowborder" width="33.33333333333333%">0x0514</td> <td class="cellrowborder" width="33.33333333333333%">表示外围数字化仪平板电脑设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_CARD_READER</td> <td class="cellrowborder" width="33.33333333333333%">0x0518</td> <td class="cellrowborder" width="33.33333333333333%">表示外围读卡器设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_DIGITAL_PEN</td> <td class="cellrowborder" width="33.33333333333333%">0x051C</td> <td class="cellrowborder" width="33.33333333333333%">表示外设数码笔设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_SCANNER_RFID</td> <td class="cellrowborder" width="33.33333333333333%">0x0520</td> <td class="cellrowborder" width="33.33333333333333%">表示射频识别扫描仪外围设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PERIPHERAL_GESTURAL_INPUT</td> <td class="cellrowborder" width="33.33333333333333%">0x0522</td> <td class="cellrowborder" width="33.33333333333333%">表示手势输入外围设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">IMAGING_UNCATEGORIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x0600</td> <td class="cellrowborder" width="33.33333333333333%">表示未分类的图像设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">IMAGING_DISPLAY</td> <td class="cellrowborder" width="33.33333333333333%">0x0610</td> <td class="cellrowborder" width="33.33333333333333%">表示图像显示设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">IMAGING_CAMERA</td> <td class="cellrowborder" width="33.33333333333333%">0x0620</td> <td class="cellrowborder" width="33.33333333333333%">表示成像照相机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">IMAGING_SCANNER</td> <td class="cellrowborder" width="33.33333333333333%">0x0640</td> <td class="cellrowborder" width="33.33333333333333%">表示成像扫描仪设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">IMAGING_PRINTER</td> <td class="cellrowborder" width="33.33333333333333%">0x0680</td> <td class="cellrowborder" width="33.33333333333333%">表示成像打印机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">WEARABLE_UNCATEGORIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x0700</td> <td class="cellrowborder" width="33.33333333333333%">表示未分类的可穿戴设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">WEARABLE_WRIST_WATCH</td> <td class="cellrowborder" width="33.33333333333333%">0x0704</td> <td class="cellrowborder" width="33.33333333333333%">表示可穿戴腕表设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">WEARABLE_PAGER</td> <td class="cellrowborder" width="33.33333333333333%">0x0708</td> <td class="cellrowborder" width="33.33333333333333%">表示可穿戴寻呼机设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">WEARABLE_JACKET</td> <td class="cellrowborder" width="33.33333333333333%">0x070C</td> <td class="cellrowborder" width="33.33333333333333%">表示夹克可穿戴设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">WEARABLE_HELMET</td> <td class="cellrowborder" width="33.33333333333333%">0x0710</td> <td class="cellrowborder" width="33.33333333333333%">表示可穿戴头盔设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">WEARABLE_GLASSES</td> <td class="cellrowborder" width="33.33333333333333%">0x0714</td> <td class="cellrowborder" width="33.33333333333333%">表示可穿戴眼镜设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">TOY_UNCATEGORIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x0800</td> <td class="cellrowborder" width="33.33333333333333%">表示未分类的玩具设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">TOY_ROBOT</td> <td class="cellrowborder" width="33.33333333333333%">0x0804</td> <td class="cellrowborder" width="33.33333333333333%">表示玩具机器人设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">TOY_VEHICLE</td> <td class="cellrowborder" width="33.33333333333333%">0x0808</td> <td class="cellrowborder" width="33.33333333333333%">表示玩具车设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">TOY_DOLL_ACTION_FIGURE</td> <td class="cellrowborder" width="33.33333333333333%">0x080C</td> <td class="cellrowborder" width="33.33333333333333%">表示人形娃娃玩具设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">TOY_CONTROLLER</td> <td class="cellrowborder" width="33.33333333333333%">0x0810</td> <td class="cellrowborder" width="33.33333333333333%">表示玩具控制器设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">TOY_GAME</td> <td class="cellrowborder" width="33.33333333333333%">0x0814</td> <td class="cellrowborder" width="33.33333333333333%">表示玩具游戏设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_UNCATEGORIZED</td> <td class="cellrowborder" width="33.33333333333333%">0x0900</td> <td class="cellrowborder" width="33.33333333333333%">表示未分类健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_BLOOD_PRESSURE</td> <td class="cellrowborder" width="33.33333333333333%">0x0904</td> <td class="cellrowborder" width="33.33333333333333%">表示血压健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_THERMOMETER</td> <td class="cellrowborder" width="33.33333333333333%">0x0908</td> <td class="cellrowborder" width="33.33333333333333%">表示温度计健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_WEIGHING</td> <td class="cellrowborder" width="33.33333333333333%">0x090C</td> <td class="cellrowborder" width="33.33333333333333%">表示体重健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_GLUCOSE</td> <td class="cellrowborder" width="33.33333333333333%">0x0910</td> <td class="cellrowborder" width="33.33333333333333%">表示葡萄糖健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_PULSE_OXIMETER</td> <td class="cellrowborder" width="33.33333333333333%">0x0914</td> <td class="cellrowborder" width="33.33333333333333%">表示脉搏血氧仪健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_PULSE_RATE</td> <td class="cellrowborder" width="33.33333333333333%">0x0918</td> <td class="cellrowborder" width="33.33333333333333%">表示脉搏率健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_DATA_DISPLAY</td> <td class="cellrowborder" width="33.33333333333333%">0x091C</td> <td class="cellrowborder" width="33.33333333333333%">表示数据显示健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_STEP_COUNTER</td> <td class="cellrowborder" width="33.33333333333333%">0x0920</td> <td class="cellrowborder" width="33.33333333333333%">表示阶梯计数器健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_BODY_COMPOSITION_ANALYZER</td> <td class="cellrowborder" width="33.33333333333333%">0x0924</td> <td class="cellrowborder" width="33.33333333333333%">表示身体成分分析仪健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_PEAK_FLOW_MOITOR</td> <td class="cellrowborder" width="33.33333333333333%">0x0928</td> <td class="cellrowborder" width="33.33333333333333%">表示湿度计健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_MEDICATION_MONITOR</td> <td class="cellrowborder" width="33.33333333333333%">0x092C</td> <td class="cellrowborder" width="33.33333333333333%">表示药物监视仪健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_KNEE_PROSTHESIS</td> <td class="cellrowborder" width="33.33333333333333%">0x0930</td> <td class="cellrowborder" width="33.33333333333333%">表示膝盖假肢健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_ANKLE_PROSTHESIS</td> <td class="cellrowborder" width="33.33333333333333%">0x0934</td> <td class="cellrowborder" width="33.33333333333333%">表示脚踝假肢健康设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_GENERIC_HEALTH_MANAGER</td> <td class="cellrowborder" width="33.33333333333333%">0x0938</td> <td class="cellrowborder" width="33.33333333333333%">表示通用健康管理设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HEALTH_PERSONAL_MOBILITY_DEVICE</td> <td class="cellrowborder" width="33.33333333333333%">0x093C</td> <td class="cellrowborder" width="33.33333333333333%">表示个人移动健康设备。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 470px;"><h2 id="playingstatedeprecated" device-type="phone,2in1,tablet,wearable,tv">PlayingState<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="playingstatedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，蓝牙A2DP 播放状态。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#playingstatedeprecated">bluetoothManager.PlayingState</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.130.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.130.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.130.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">STATE_NOT_PLAYING</td> <td class="cellrowborder" width="33.33333333333333%">0x0000</td> <td class="cellrowborder" width="33.33333333333333%">表示未播放。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">STATE_PLAYING</td> <td class="cellrowborder" width="33.33333333333333%">0x0001</td> <td class="cellrowborder" width="33.33333333333333%">表示正在播放。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 494px;"><h2 id="profileiddeprecated" device-type="phone,2in1,tablet,wearable,tv">ProfileId<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="profileiddeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>蓝牙profile枚举，API9新增PROFILE_HID_HOST，PROFILE_PAN_NETWORK。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetoothmanager#profileiddeprecated">bluetoothManager.ProfileId</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.131.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.131.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.131.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">PROFILE_A2DP_SOURCE</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示A2DP profile。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PROFILE_HANDS_FREE_AUDIO_GATEWAY</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">表示HFP profile。</td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>