<h1 _ngcontent-ban-c119="" class="doc-title ng-star-inserted" title="@ohos.bluetooth.connection (蓝牙connection模块)"> @ohos.bluetooth.connection (蓝牙connection模块) </h1>

<div _ngcontent-ban-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>connection模块提供了蓝牙设备的配对、连接及状态查询等能力。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 10开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 425px;">     <h2 id="profileconnectionstate" device-type="phone,2in1,tablet,wearable,tv">ProfileConnectionState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="profileconnectionstate" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ProfileConnectionState = constant.ProfileConnectionState</p>     <p>蓝牙设备的Profile协议连接状态。Profile协议包括A2DP（Advanced Audio Distribution Profile）、HFP（Hands-Free Profile）和HID（Human Interface Device）等。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#profileconnectionstate">constant.ProfileConnectionState</a></td>         <td class="cellrowborder" width="50%">蓝牙设备的Profile协议连接状态。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 401px;">     <h2 id="profileid" device-type="phone,2in1,tablet,wearable,tv">ProfileId<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="profileid" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ProfileId = constant.ProfileId</p>     <p>枚举，蓝牙Profile协议。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#profileid">constant.ProfileId</a></td>         <td class="cellrowborder" width="50%">蓝牙Profile协议的枚举。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 401px;">     <h2 id="profileuuids12" device-type="phone,2in1,tablet,wearable,tv">ProfileUuids<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="profileuuids12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ProfileUuids = constant.ProfileUuids</p>     <p>蓝牙Profile协议的UUID。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#profileuuids12">constant.ProfileUuids</a></td>         <td class="cellrowborder" width="50%">蓝牙Profile协议的UUID。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 401px;">     <h2 id="majorclass" device-type="phone,2in1,tablet,wearable,tv">MajorClass<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="majorclass" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type MajorClass = constant.MajorClass</p>     <p>蓝牙设备的主要类型。蓝牙标准协议字段。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#majorclass">constant.MajorClass</a></td>         <td class="cellrowborder" width="50%">蓝牙设备的主要类型。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 401px;">     <h2 id="majorminorclass" device-type="phone,2in1,tablet,wearable,tv">MajorMinorClass<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="majorminorclass" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type MajorMinorClass = constant.MajorMinorClass</p>     <p>蓝牙设备的子类型，在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#majorclass">MajorClass</a>基础上进一步细分的类型。蓝牙标准协议字段。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#majorminorclass">constant.MajorMinorClass</a></td>         <td class="cellrowborder" width="50%">蓝牙设备的子类型。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 401px;">     <h2 id="bluetoothaddress21" device-type="phone,2in1,tablet,wearable,tv">BluetoothAddress<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothaddress21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type BluetoothAddress = common.BluetoothAddress</p>     <p>描述蓝牙设备地址信息的参数结构，包括地址与地址类型。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-common#bluetoothaddress">common.BluetoothAddress</a></td>         <td class="cellrowborder" width="50%">蓝牙设备的地址信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1665px;">     <h2 id="connectionpairdevice" device-type="phone,2in1,tablet,wearable,tv">connection.pairDevice<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionpairdevice" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>pairDevice(deviceId: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>主动发起与对端蓝牙设备的配对流程。使用Callback异步回调。</p>     <ul>      <li>若开发者不知道目标设备的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-common#bluetoothaddresstype">地址类型</a>，建议调用此接口发起配对。</li>      <li>蓝牙配对状态通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectiononbondstatechange">on('bondStateChange')</a>的回调结果获取。</li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要配对的对端蓝牙设备地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当配对成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// callback</span></li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">pairDevice</span>(<span class="hljs-string">'11:22:33:44:55:66'</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'pairDevice, device name err:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1815px;">     <h2 id="connectionpairdevice-1" device-type="phone,2in1,tablet,wearable,tv">connection.pairDevice<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionpairdevice-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>pairDevice(deviceId: string): Promise&lt;void&gt;</p>     <p>主动发起与对端蓝牙设备的配对流程。使用Promise异步回调。</p>     <ul>      <li>若开发者不知道目标设备的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-common#bluetoothaddresstype">地址类型</a>，建议调用此接口发起配对。</li>      <li>蓝牙配对状态通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectiononbondstatechange">on('bondStateChange')</a>的回调结果获取。</li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要配对的对端蓝牙设备地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// promise</span></li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">pairDevice</span>(<span class="hljs-string">'11:22:33:44:55:66'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'pairDevice'</span>);</li><li>    }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'pairDevice: errCode:'</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">',errMessage'</span> + error.<span class="hljs-property">message</span>);</li><li>    })</li><li>
</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1736px;">     <h2 id="connectionpairdevice21" device-type="phone,2in1,tablet,wearable,tv">connection.pairDevice<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionpairdevice21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>pairDevice(deviceId: BluetoothAddress): Promise&lt;void&gt;</p>     <p>主动发起与对端蓝牙设备的配对流程。使用Promise异步回调。</p>     <ul>      <li>若开发者已知目标设备的MAC地址及<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-common#bluetoothaddresstype">地址类型</a>，建议调用此接口发起配对。</li>      <li>蓝牙配对状态通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectiononbondstatechange">on('bondStateChange')</a>的回调结果获取。</li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-common#bluetoothaddress">BluetoothAddress</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要配对的对端蓝牙设备地址信息，包括地址与地址类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li><span class="hljs-comment">// promise</span></li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">btAddr</span>: common.<span class="hljs-property">BluetoothAddress</span> = {</li><li>        <span class="hljs-string">"address"</span>: <span class="hljs-string">'11:22:33:44:55:66'</span>, <span class="hljs-comment">// 目标设备的实际MAC地址或虚拟MAC地址</span></li><li>        <span class="hljs-string">"addressType"</span>: common.<span class="hljs-property">BluetoothAddressType</span>.<span class="hljs-property">REAL</span>, <span class="hljs-comment">// 相应的地址类型</span></li><li>    }</li><li>    connection.<span class="hljs-title function_">pairDevice</span>(btAddr).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'pairDevice'</span>);</li><li>    }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage'</span> + error.<span class="hljs-property">message</span>);</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1615px;">     <h2 id="connectiongetremotedevicename" device-type="phone,2in1,tablet,wearable,tv">connection.getRemoteDeviceName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetremotedevicename" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRemoteDeviceName(deviceId: string): string</p>     <p>获取对端蓝牙设备的名称。</p>     <ul>      <li>从API version 21开始，此接口支持使用对端设备的实际MAC地址获取设备名称。</li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示对端设备的地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">以字符串格式返回设备名称。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">remoteDeviceName</span>: string = connection.<span class="hljs-title function_">getRemoteDeviceName</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1924px;">     <h2 id="connectiongetremotedevicename16" device-type="phone,2in1,tablet,wearable,tv">connection.getRemoteDeviceName<sup>16+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetremotedevicename16" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRemoteDeviceName(deviceId: string, alias?: boolean): string</p>     <p>获取对端蓝牙设备的名称，其中alias为可选参数。</p>     <ul>      <li>从API version 21开始，此接口支持使用对端设备的实际MAC地址获取设备名称。</li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>元服务API</strong>：从API version 16开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示对端设备的地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">alias</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>表示是否获取对端蓝牙设备别名。</p>          <p>- 如果携带alias，则根据alias判断是否获取对端蓝牙设备别名：true表示获取对端蓝牙设备别名，false表示获取对端蓝牙设备原始名称。</p>          <p>- 如果未携带alias，则默认值为true，返回对端蓝牙设备别名。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">以字符串格式返回设备名称。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Failed to obtain the name or alias of the peer Bluetooth device.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">remoteDeviceName</span>: string = connection.<span class="hljs-title function_">getRemoteDeviceName</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>, <span class="hljs-literal">true</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1496px;">     <h2 id="connectiongetremotedeviceclass" device-type="phone,2in1,tablet,wearable,tv">connection.getRemoteDeviceClass<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetremotedeviceclass" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRemoteDeviceClass(deviceId: string): DeviceClass</p>     <p>获取对端蓝牙设备的类别。</p>     <ul>      <li>从API version 18开始，此接口不再校验ohos.permission.ACCESS_BLUETOOTH权限。</li>      <li>从API version 21开始，此接口支持使用对端设备的实际MAC地址获取设备类别信息。</li>     </ul>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示对端设备的地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#deviceclass">DeviceClass</a></td>         <td class="cellrowborder" width="50%">对端设备的类别。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">remoteDeviceClass</span>: connection.<span class="hljs-property">DeviceClass</span> = connection.<span class="hljs-title function_">getRemoteDeviceClass</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1361px;">     <h2 id="connectiongetremotedevicetransport20" device-type="phone,2in1,tablet,wearable,tv">connection.getRemoteDeviceTransport<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetremotedevicetransport20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRemoteDeviceTransport(deviceId: string): BluetoothTransport</p>     <p>获取对端蓝牙设备的传输类型。</p>     <ul>      <li>从API version 21开始，此接口支持使用对端设备的实际MAC地址获取设备的传输类型。</li>     </ul>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示对端设备的地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#bluetoothtransport">BluetoothTransport</a></td>         <td class="cellrowborder" width="50%">对端设备的传输类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Get transport failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">transport</span>: connection.<span class="hljs-property">BluetoothTransport</span> = connection.<span class="hljs-title function_">getRemoteDeviceTransport</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1545px;">     <h2 id="connectiongetremoteprofileuuids12" device-type="phone,2in1,tablet,wearable,tv">connection.getRemoteProfileUuids<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetremoteprofileuuids12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRemoteProfileUuids(deviceId: string, callback: AsyncCallback&lt;Array&lt;ProfileUuids&gt;&gt;): void</p>     <p>获取对端蓝牙设备的Profile协议能力，通过UUID区分。使用Callback异步回调。</p>     <ul>      <li>建议仅对已配对的设备调用该方法。</li>      <li>从API version 21开始，此接口支持使用对端设备的实际MAC地址获取Profile协议能力。</li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示对端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#profileuuids12">ProfileUuids</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当获取UUID成功，err为undefined，获取到的是Profile协议能力集合；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">getRemoteProfileUuids</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;connection.ProfileUuids&gt;</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getRemoteProfileUuids, err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err) + <span class="hljs-string">', data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1647px;">     <h2 id="connectiongetremoteprofileuuids12-1" device-type="phone,2in1,tablet,wearable,tv">connection.getRemoteProfileUuids<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetremoteprofileuuids12-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRemoteProfileUuids(deviceId: string): Promise&lt;Array&lt;ProfileUuids&gt;&gt;</p>     <p>获取对端蓝牙设备的Profile协议能力，通过UUID区分。使用Promise异步回调。</p>     <ul>      <li>建议仅对已配对的设备调用该方法。</li>      <li>从API version 21开始，此接口支持使用对端设备的实际MAC地址获取Profile协议能力。</li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示对端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#profileuuids12">ProfileUuids</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回支持的Profile协议能力集合。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">getRemoteProfileUuids</span>(<span class="hljs-string">'XX:XX:XX:XX:XX:XX'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getRemoteProfileUuids'</span>);</li><li>    }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getRemoteProfileUuids: errCode'</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1162px;">     <h2 id="connectiongetlocalname" device-type="phone,2in1,tablet,wearable,tv">connection.getLocalName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetlocalname" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getLocalName(): string</p>     <p>获取本机蓝牙设备的名称。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">本机蓝牙设备名称。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">localName</span>: string = connection.<span class="hljs-title function_">getLocalName</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1481px;">     <h2 id="connectiongetpaireddevices" device-type="phone,2in1,tablet,wearable,tv">connection.getPairedDevices<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetpaireddevices" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPairedDevices(): Array&lt;string&gt;</p>     <p>获取已配对蓝牙设备的地址集合。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="50%">          <p>已配对蓝牙设备的地址集合。</p>          <p>基于信息安全考虑，此处获取的设备地址为虚拟MAC地址。</p>          <p>- 已配对的地址不会变更。</p>          <p>- 若该设备重启蓝牙开关，重新获取到的虚拟地址会立即变更。</p>          <p>- 若取消配对，蓝牙子系统会根据该地址的实际使用情况，决策后续变更时机；若其他应用正在使用该地址，则不会立刻变更。</p>          <p>- 若要持久化保存该地址，可使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-access#accessaddpersistentdeviceid16">access.addPersistentDeviceId</a>方法。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">devices</span>: <span class="hljs-title class_">Array</span>&lt;string&gt; = connection.<span class="hljs-title function_">getPairedDevices</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1639px;">     <h2 id="connectiongetpairstate11" device-type="phone,2in1,tablet,wearable,tv">connection.getPairState<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetpairstate11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPairState(deviceId: string): BondState</p>     <p>获取对端蓝牙设备的配对状态信息。</p>     <ul>      <li>从API version 21开始，此接口支持使用对端设备的实际MAC地址获取配对状态信息。</li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示对端设备的地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#bondstate">BondState</a></td>         <td class="cellrowborder" width="50%">表示设备的蓝牙配对状态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">res</span>: connection.<span class="hljs-property">BondState</span> = connection.<span class="hljs-title function_">getPairState</span>(<span class="hljs-string">"XX:XX:XX:XX:XX:XX"</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getPairState: '</span> + res);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1934px;">     <h2 id="connectiongetprofileconnectionstate" device-type="phone,2in1,tablet,wearable,tv">connection.getProfileConnectionState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetprofileconnectionstate" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getProfileConnectionState(profileId?: ProfileId): ProfileConnectionState</p>     <p>获取蓝牙Profile协议的连接状态，其中ProfileId为可选参数。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">profileId</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#profileid">ProfileId</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>表示Profile协议的枚举值。如果携带ProfileId，则返回指定Profile协议的连接状态。如果未携带ProfileId，则检查所有支持的Profile连接状态，按如下优先级顺序检查并返回：</p>          <p>- 存在已连接的Profile协议，则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#profileconnectionstate">STATE_CONNECTED</a>。</p>          <p>- 存在正在连接的Profile协议，则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#profileconnectionstate">STATE_CONNECTING</a>。</p>          <p>- 存在正在断连的Profile协议，则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#profileconnectionstate">STATE_DISCONNECTING</a>。</p>          <p>- 以上条件均不满足，则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#profileconnectionstate">STATE_DISCONNECTED</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#profileconnectionstate">ProfileConnectionState</a></td>         <td class="cellrowborder" width="50%">Profile协议的连接状态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900004</td>         <td class="cellrowborder" width="50%">Profile not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { constant } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: connection.<span class="hljs-property">ProfileConnectionState</span> = connection.<span class="hljs-title function_">getProfileConnectionState</span>(constant.<span class="hljs-property">ProfileId</span>.<span class="hljs-property">PROFILE_A2DP_SOURCE</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1609px;">     <h2 id="connectionsetdevicepairingconfirmation" device-type="phone,2in1,tablet,wearable,tv">connection.setDevicePairingConfirmation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionsetdevicepairingconfirmation" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDevicePairingConfirmation(deviceId: string, accept: boolean): void</p>     <p>收到对端蓝牙设备的配对请求事件后，确认请求结果。</p>     <ul>      <li>对端蓝牙的配对请求通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectiononpinrequired">on('pinRequired')</a>的回调结果获取。</li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH 和 ohos.permission.MANAGE_BLUETOOTH（该权限仅系统应用可申请）</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示对端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accept</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">是否接受对端设备的配对请求。true表示接受，false表示不接受。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// 订阅“pinRequired”配对请求事件，收到对端配对请求后设置配对确认。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceivePinRequiredEvent</span>(<span class="hljs-params">data: connection.PinRequiredParam</span>) { <span class="hljs-comment">// data为配对请求的入参，配对请求参数。</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'pin required  = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>    connection.<span class="hljs-title function_">setDevicePairingConfirmation</span>(data.<span class="hljs-property">deviceId</span>, <span class="hljs-literal">true</span>);</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">on</span>(<span class="hljs-string">'pinRequired'</span>, onReceivePinRequiredEvent);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1630px;">     <h2 id="connectionsetdevicepincode" device-type="phone,2in1,tablet,wearable,tv">connection.setDevicePinCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionsetdevicepincode" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDevicePinCode(deviceId: string, code: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>蓝牙配对时，弹框提示用户输入个人身份识别码（Personal identification number，PIN），调用此接口设置PIN码，完成蓝牙配对。使用Callback异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示对端设备MAC地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用户输入的PIN码，该字符串的字符个数范围为(0, 16]，例如："12345"。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，当设置PinCode成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// callback</span></li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">setDevicePinCode</span>(<span class="hljs-string">'11:22:33:44:55:66'</span>, <span class="hljs-string">'12345'</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setDevicePinCode,device name err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1756px;">     <h2 id="connectionsetdevicepincode-1" device-type="phone,2in1,tablet,wearable,tv">connection.setDevicePinCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionsetdevicepincode-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDevicePinCode(deviceId: string, code: string): Promise&lt;void&gt;</p>     <p>蓝牙配对时，弹框提示用户输入PIN码，调用此接口请求用户输入PIN码，完成蓝牙配对。使用Promise异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示对端设备MAC地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用户输入的PIN码，该字符串的字符个数范围为(0, 16]，例如："12345"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// promise</span></li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">setDevicePinCode</span>(<span class="hljs-string">'11:22:33:44:55:66'</span>, <span class="hljs-string">'12345'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setDevicePinCode'</span>);</li><li>    }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'setDevicePinCode: errCode:'</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">',errMessage'</span> + error.<span class="hljs-property">message</span>);</li><li>    })</li><li>
</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1440px;">     <h2 id="connectionsetlocalnamedeprecated" device-type="phone,2in1,tablet,wearable,tv">connection.setLocalName<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionsetlocalnamedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setLocalName(name: string): void</p>     <p>设置本机蓝牙设备名称，不能设置为空字符串。如果设为空字符串会失败。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 10开始支持，从API version 12开始废弃，不再提供替代接口。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要设置的蓝牙名称，名称长度范围：(0, 248]，单位：Byte。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">setLocalName</span>(<span class="hljs-string">'device_name'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1585px;">     <h2 id="connectionsetbluetoothscanmode" device-type="phone,2in1,tablet,wearable,tv">connection.setBluetoothScanMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionsetbluetoothscanmode" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setBluetoothScanMode(mode: ScanMode, duration: number): void</p>     <p>设置蓝牙扫描模式，决定本机设备是否可被连接，或者可被发现。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#scanmode">ScanMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">蓝牙扫描模式。当扫描模式为SCAN_MODE_GENERAL_DISCOVERABLE时，超出duration持续时间(不为0)，扫描模式会重新设置为SCAN_MODE_CONNECTABLE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">duration</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设备可被发现的持续时间，单位：ms。设置为0则表示持续可发现。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 设置为可连接可发现才可被对端设备扫描到，可以连接。</span></li><li>    connection.<span class="hljs-title function_">setBluetoothScanMode</span>(connection.<span class="hljs-property">ScanMode</span>.<span class="hljs-property">SCAN_MODE_CONNECTABLE_GENERAL_DISCOVERABLE</span>, <span class="hljs-number">100</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1217px;">     <h2 id="connectiongetbluetoothscanmode" device-type="phone,2in1,tablet,wearable,tv">connection.getBluetoothScanMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetbluetoothscanmode" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getBluetoothScanMode(): ScanMode</p>     <p>获取蓝牙扫描模式。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#scanmode">ScanMode</a></td>         <td class="cellrowborder" width="50%">蓝牙扫描模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scanMode</span>: connection.<span class="hljs-property">ScanMode</span> = connection.<span class="hljs-title function_">getBluetoothScanMode</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1382px;">     <h2 id="connectionstartbluetoothdiscovery" device-type="phone,2in1,tablet,wearable,tv">connection.startBluetoothDiscovery<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionstartbluetoothdiscovery" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startBluetoothDiscovery(): void</p>     <p>开启蓝牙扫描，发现对端蓝牙设备。</p>     <ul>      <li>       <p>该接口支持发现传统蓝牙设备和低功耗蓝牙设备，整个蓝牙扫描过程大约持续12s。</p></li>      <li>       <p>扫描结果可通过API version 10开始支持的<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectiononbluetoothdevicefind">connection.on('bluetoothDeviceFind')</a>或者API version 18开始支持的<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionondiscoveryresult18">connection.on('discoveryResult')</a>的回调函数获取到。推荐使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionondiscoveryresult18">connection.on('discoveryResult')</a>，该方式可以获取到更多设备信息。</p></li>      <li>       <p>若在扫描过程中，请勿重复调用该方法（可使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionisbluetoothdiscovering11">connection.isBluetoothDiscovering</a>判断蓝牙当前是否处于扫描过程中）。</p></li>      <li>       <p>调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionstopbluetoothdiscovery">connection.stopBluetoothDiscovery</a>可以停止该方法开启的扫描流程，扫描停止后，才能开启下一次蓝牙扫描。</p></li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;string&gt;</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data length'</span> + data.<span class="hljs-property">length</span>);</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">on</span>(<span class="hljs-string">'bluetoothDeviceFind'</span>, onReceiveEvent);</li><li>    connection.<span class="hljs-title function_">startBluetoothDiscovery</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1206px;">     <h2 id="connectionstopbluetoothdiscovery" device-type="phone,2in1,tablet,wearable,tv">connection.stopBluetoothDiscovery<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionstopbluetoothdiscovery" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopBluetoothDiscovery(): void</p>     <p>关闭蓝牙扫描。</p>     <ul>      <li>       <p>关闭的扫描是由<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionstartbluetoothdiscovery">connection.startBluetoothDiscovery</a>触发的。</p></li>      <li>       <p>当应用不再需要扫描设备时，需主动调用该方法关闭扫描。</p></li>      <li>       <p>若不在扫描过程中，请勿重复调用该方法（可使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionisbluetoothdiscovering11">connection.isBluetoothDiscovering</a>判断蓝牙当前是否处于扫描过程中）。</p></li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">stopBluetoothDiscovery</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1265px;">     <h2 id="connectionisbluetoothdiscovering11" device-type="phone,2in1,tablet,wearable,tv">connection.isBluetoothDiscovering<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionisbluetoothdiscovering11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isBluetoothDiscovering(): boolean</p>     <p>判断本机蓝牙设备是否处于设备扫描状态。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">是否开启蓝牙发现。true表示正在发起设备扫描，false表示未发起设备扫描。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">res</span>: boolean = connection.<span class="hljs-title function_">isBluetoothDiscovering</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'isBluetoothDiscovering: '</span> + res);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1750px;">     <h2 id="connectionsetremotedevicename12" device-type="phone,2in1,tablet,wearable,tv">connection.setRemoteDeviceName<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionsetremotedevicename12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setRemoteDeviceName(deviceId: string, name: string): Promise&lt;void&gt;</p>     <p>设置对端蓝牙设备的名称，不能设置为空字符串。如果设为空字符串会失败。使用Promise异步回调。</p>     <ul>      <li>建议仅对已配对的设备调用该方法。</li>      <li>从API version 21开始，此接口支持使用对端设备的实际MAC地址进行名称设置。</li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示对端设备MAC地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">修改对端设备名称，名称长度范围：(0, 64]，单位：Byte。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// promise</span></li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">setRemoteDeviceName</span>(<span class="hljs-string">'11:22:33:44:55:66'</span>, <span class="hljs-string">'RemoteDeviceName'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setRemoteDeviceName success'</span>);</li><li>    }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'setRemoteDeviceName: errCode: '</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">',errMessage'</span> + error.<span class="hljs-property">message</span>);</li><li>    })</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1585px;">     <h2 id="connectiongetremotedevicebatteryinfo12" device-type="phone,2in1,tablet,wearable,tv">connection.getRemoteDeviceBatteryInfo<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetremotedevicebatteryinfo12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRemoteDeviceBatteryInfo(deviceId: string): Promise&lt;BatteryInfo&gt;</p>     <p>获取对端蓝牙设备的电量信息。使用Promise异步回调。</p>     <ul>      <li>对端蓝牙设备的电量信息变更通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectiononbatterychange12">on('batteryChange')</a>的回调结果获取。</li>      <li>从API version 21开始，此接口支持使用对端设备的实际MAC地址获取电量信息。</li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示对端蓝牙设备的MAC地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#batteryinfo12">BatteryInfo</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回电量信息对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// promise</span></li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">getRemoteDeviceBatteryInfo</span>(<span class="hljs-string">'11:22:33:AA:BB:FF'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: connection.BatteryInfo</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getRemoteDeviceBatteryInfo success, DeviceType:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1269px;">     <h2 id="connectiononbatterychange12" device-type="phone,2in1,tablet,wearable,tv">connection.on('batteryChange')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiononbatterychange12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'batteryChange', callback: Callback&lt;BatteryInfo&gt;): void</p>     <p>订阅对端设备的电量信息变化事件。使用Callback异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'batteryChange'，表示对端设备的电量信息变化事件。当该设备通知电量变化时，会触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#batteryinfo12">BatteryInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定订阅的回调函数，返回电量信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onReceiveEvent</span>: <span class="hljs-function">(<span class="hljs-params">data: connection.BatteryInfo</span>) =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-function">(<span class="hljs-params">data: connection.BatteryInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'BatteryInfo = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">on</span>(<span class="hljs-string">'batteryChange'</span>, onReceiveEvent);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1389px;">     <h2 id="connectionoffbatterychange12" device-type="phone,2in1,tablet,wearable,tv">connection.off('batteryChange')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionoffbatterychange12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'batteryChange', callback?: Callback&lt;BatteryInfo&gt;): void</p>     <p>取消订阅对端设备的电量信息变化事件。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'batteryChange'，表示对端设备的电量信息变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#batteryinfo12">BatteryInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定取消订阅的回调函数通知。</p>          <p>若传参，则需与<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectiononbatterychange12">connection.on('batteryChange')</a>中的回调函数一致；若无传参，则取消订阅该type对应的所有回调函数通知。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onReceiveEvent</span>: <span class="hljs-function">(<span class="hljs-params">data: connection.BatteryInfo</span>) =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-function">(<span class="hljs-params">data: connection.BatteryInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'BatteryInfo = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">on</span>(<span class="hljs-string">'batteryChange'</span>, onReceiveEvent);</li><li>    connection.<span class="hljs-title function_">off</span>(<span class="hljs-string">'batteryChange'</span>, onReceiveEvent);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2067px;">     <h2 id="connectiononbluetoothdevicefind" device-type="phone,2in1,tablet,wearable,tv">connection.on('bluetoothDeviceFind')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiononbluetoothdevicefind" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'bluetoothDeviceFind', callback: Callback&lt;Array&lt;string&gt;&gt;): void</p>     <p>订阅蓝牙设备扫描结果上报事件。使用Callback异步回调。</p>     <ul>      <li>       <p>可扫描到的设备类型包括传统蓝牙设备和低功耗蓝牙设备。</p></li>      <li>       <p>该上报方式只支持获取设备地址信息。</p></li>      <li>推荐使用API version 18开始支持的<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionondiscoveryresult18">connection.on('discoveryResult')</a>扫描上报方式，可获取到更多设备信息，包括设备地址、设备信号强度、设备名称和设备类型。</li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'bluetoothDeviceFind'，表示蓝牙设备扫描结果上报事件。当调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionstartbluetoothdiscovery">connection.startBluetoothDiscovery</a>后，开始设备扫描，若扫描到设备，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定订阅的回调函数，会携带扫描到的设备地址集合。</p>          <p>基于信息安全考虑，此处获取的设备地址为虚拟MAC地址。</p>          <p>- 已配对的地址不会变更。</p>          <p>- 若该设备重启蓝牙开关，重新获取到的虚拟地址会立即变更。</p>          <p>- 若取消配对，蓝牙子系统会根据该地址的实际使用情况，决策后续变更时机；若其他应用正在使用该地址，则不会立刻变更。</p>          <p>- 若要持久化保存该地址，可使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-access#accessaddpersistentdeviceid16">access.addPersistentDeviceId</a>方法。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;string&gt;</span>) { <span class="hljs-comment">// data为蓝牙设备地址集合。</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bluetooth device find = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">on</span>(<span class="hljs-string">'bluetoothDeviceFind'</span>, onReceiveEvent);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1516px;">     <h2 id="connectionoffbluetoothdevicefind" device-type="phone,2in1,tablet,wearable,tv">connection.off('bluetoothDeviceFind')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionoffbluetoothdevicefind" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'bluetoothDeviceFind', callback?: Callback&lt;Array&lt;string&gt;&gt;): void</p>     <p>取消订阅蓝牙设备扫描结果上报事件。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'bluetoothDeviceFind'，表示蓝牙设备扫描结果上报事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定取消订阅的回调函数通知。</p>          <p>若传参，则需与<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectiononbluetoothdevicefind">connection.on('bluetoothDeviceFind')</a>中的回调函数一致；若无传参，则取消订阅该type对应的所有回调函数通知。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;string&gt;</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bluetooth device find = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">on</span>(<span class="hljs-string">'bluetoothDeviceFind'</span>, onReceiveEvent);</li><li>    connection.<span class="hljs-title function_">off</span>(<span class="hljs-string">'bluetoothDeviceFind'</span>, onReceiveEvent);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1499px;">     <h2 id="connectiononbondstatechange" device-type="phone,2in1,tablet,wearable,tv">connection.on('bondStateChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiononbondstatechange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'bondStateChange', callback: Callback&lt;BondStateParam&gt;): void</p>     <p>订阅蓝牙配对状态变化事件。使用Callback异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>事件回调类型，支持的事件为'bondStateChange'，表示蓝牙配对状态变化事件。</p>          <p>当调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionpairdevice">connection.pairDevice</a>发起主动配对，或者本机设备收到其他设备的配对请求时，触发该事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#bondstateparam">BondStateParam</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定订阅的回调函数，会携带配对状态结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data: connection.BondStateParam</span>) { <span class="hljs-comment">// data为回调函数入参，表示配对的状态。</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'pair state = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">on</span>(<span class="hljs-string">'bondStateChange'</span>, onReceiveEvent);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1547px;">     <h2 id="connectionoffbondstatechange" device-type="phone,2in1,tablet,wearable,tv">connection.off('bondStateChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionoffbondstatechange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'bondStateChange', callback?: Callback&lt;BondStateParam&gt;): void</p>     <p>取消订阅蓝牙配对状态变化事件。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'bondStateChange'，表示蓝牙配对状态变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#bondstateparam">BondStateParam</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定取消订阅的回调函数通知。</p>          <p>若传参，则需与<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectiononbondstatechange">connection.on('bondStateChange')</a>中的回调函数一致；若无传参，则取消订阅该type对应的所有回调函数通知。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data: connection.BondStateParam</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bond state = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">on</span>(<span class="hljs-string">'bondStateChange'</span>, onReceiveEvent);</li><li>    connection.<span class="hljs-title function_">off</span>(<span class="hljs-string">'bondStateChange'</span>, onReceiveEvent);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1499px;">     <h2 id="connectiononpinrequired" device-type="phone,2in1,tablet,wearable,tv">connection.on('pinRequired')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiononpinrequired" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'pinRequired', callback: Callback&lt;PinRequiredParam&gt;): void</p>     <p>订阅配对请求事件。使用Callback异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>事件回调类型，支持的事件为'pinRequired'，表示配对请求事件。</p>          <p>当调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionpairdevice">connection.pairDevice</a>发起主动配对，或者本机设备收到其他设备的配对请求时，触发该事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#pinrequiredparam">PinRequiredParam</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定订阅的回调函数，会携带配对请求。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data: connection.PinRequiredParam</span>) { <span class="hljs-comment">// data为配对请求参数。</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'pin required = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">on</span>(<span class="hljs-string">'pinRequired'</span>, onReceiveEvent);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1523px;">     <h2 id="connectionoffpinrequired" device-type="phone,2in1,tablet,wearable,tv">connection.off('pinRequired')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionoffpinrequired" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'pinRequired', callback?: Callback&lt;PinRequiredParam&gt;): void</p>     <p>取消订阅配对请求事件。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'pinRequired'，表示配对请求事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#pinrequiredparam">PinRequiredParam</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定取消订阅的回调函数通知。</p>          <p>若传参，则需与<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectiononpinrequired">connection.on('pinRequired')</a>中的回调函数一致；若无传参，则取消订阅该type对应的所有回调函数通知。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onReceiveEvent</span>(<span class="hljs-params">data: connection.PinRequiredParam</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'pin required = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">on</span>(<span class="hljs-string">'pinRequired'</span>, onReceiveEvent);</li><li>    connection.<span class="hljs-title function_">off</span>(<span class="hljs-string">'pinRequired'</span>, onReceiveEvent);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1579px;">     <h2 id="connectionondiscoveryresult18" device-type="phone,2in1,tablet,wearable,tv">connection.on('discoveryResult')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionondiscoveryresult18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'discoveryResult', callback: Callback&lt;Array&lt;DiscoveryResult&gt;&gt;): void</p>     <p>订阅蓝牙设备扫描结果上报事件。使用Callback异步回调。</p>     <ul>      <li>       <p>可扫描到的设备类型包括传统蓝牙设备和低功耗蓝牙设备。</p></li>      <li>该上报方式支持获取设备地址、设备信号强度、设备名称和设备类型。</li>     </ul>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'discoveryResult'，表示蓝牙设备扫描结果上报事件。当调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionstartbluetoothdiscovery">connection.startBluetoothDiscovery</a>后，开始设备扫描，若扫描到设备，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#discoveryresult18">DiscoveryResult</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定订阅的回调函数，会携带扫描结果的集合。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onReceiveEvent</span>: <span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;connection.DiscoveryResult&gt;</span>) =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;connection.DiscoveryResult&gt;</span>) =&gt;</span> { <span class="hljs-comment">// data为蓝牙设备扫描结果集合。</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bluetooth device find = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">on</span>(<span class="hljs-string">'discoveryResult'</span>, onReceiveEvent);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1420px;">     <h2 id="connectionoffdiscoveryresult18" device-type="phone,2in1,tablet,wearable,tv">connection.off('discoveryResult')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionoffdiscoveryresult18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'discoveryResult', callback?: Callback&lt;Array&lt;DiscoveryResult&gt;&gt;): void</p>     <p>取消订阅蓝牙设备发现上报事件。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'discoveryResult'，表示蓝牙设备扫描结果上报事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#discoveryresult18">DiscoveryResult</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定取消订阅的回调函数通知。</p>          <p>若传参，则需与<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionondiscoveryresult18">connection.on('discoveryResult')</a>中的回调函数一致；若无传参，则取消订阅该type对应的所有回调函数通知。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onReceiveEvent</span>: <span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;connection.DiscoveryResult&gt;</span>) =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;connection.DiscoveryResult&gt;</span>) =&gt;</span> { <span class="hljs-comment">// data为蓝牙设备扫描结果集合。</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bluetooth device find = '</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">on</span>(<span class="hljs-string">'discoveryResult'</span>, onReceiveEvent);</li><li>    connection.<span class="hljs-title function_">off</span>(<span class="hljs-string">'discoveryResult'</span>, onReceiveEvent);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1560px;">     <h2 id="connectiongetlastconnectiontime15" device-type="phone,2in1,tablet,wearable,tv">connection.getLastConnectionTime<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetlastconnectiontime15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getLastConnectionTime(deviceId: string): Promise&lt;number&gt;</p>     <p>获取对端蓝牙设备最近一次连接的时间点。使用Promise异步回调。</p>     <ul>      <li>从API version 21开始，此接口支持使用对端设备的实际MAC地址获取最近一次连接时间。</li>     </ul>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示远端设备MAC地址。例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回对端蓝牙设备最近一次连接的时间点，格式为秒级的UNIX时间戳。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// promise</span></li><li><span class="hljs-keyword">try</span> {</li><li>    connection.<span class="hljs-title function_">getLastConnectionTime</span>(<span class="hljs-string">'11:22:33:44:55:66'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">time: number</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`connectionTime: <span class="hljs-subst">${time}</span>`</span>);</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1745px;">     <h2 id="connectionconnectallowedprofiles16" device-type="phone,2in1,tablet,wearable,tv">connection.connectAllowedProfiles<sup>16+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionconnectallowedprofiles16" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>connectAllowedProfiles(deviceId: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>连接对端设备支持的profile（只包括A2DP、HFP和HID）。使用Callback异步回调。</p>     <ul>      <li>需先调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionpairdevice">connection.pairDevice</a>发起配对，且仅允许在每次发起配对后30s内调用此接口一次。</li>      <li>当配对成功后，建议先调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectiongetremoteprofileuuids12">getRemoteProfileUuids</a>主动查询目标设备支持的profile能力。若存在应用需要的能力，才调用此接口。</li>      <li>从API version 21开始，此接口支持使用对端设备的实际MAC地址进行profile连接。</li>     </ul>     <p><strong>需要权限：</strong>: ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力：</strong>: SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示需要连接的对端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当发起连接成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  connection.<span class="hljs-title function_">connectAllowedProfiles</span>(<span class="hljs-string">'68:13:24:79:4C:8C'</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'connectAllowedProfiles'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1775px;">     <h2 id="connectionconnectallowedprofiles16-1" device-type="phone,2in1,tablet,wearable,tv">connection.connectAllowedProfiles<sup>16+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionconnectallowedprofiles16-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>connectAllowedProfiles(deviceId: string): Promise&lt;void&gt;</p>     <p>连接对端设备支持的profile（只包括A2DP、HFP和HID）。使用Promise异步回调。</p>     <ul>      <li>需先调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectionpairdevice">connection.pairDevice</a>发起配对，且仅允许在每次发起配对后30s内调用此接口一次。</li>      <li>当配对成功后，建议先调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#connectiongetremoteprofileuuids12">getRemoteProfileUuids</a>主动查询目标设备支持的profile能力。若存在应用需要的能力，才调用此接口。</li>      <li>从API version 21开始，此接口支持使用对端设备的实际MAC地址进行profile连接。</li>     </ul>     <p><strong>需要权限：</strong>: ohos.permission.ACCESS_BLUETOOTH</p>     <p><strong>系统能力：</strong>: SystemCapability.Communication.Bluetooth.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示需要连接的对端设备地址，例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bluetoothmanager">蓝牙服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900001</td>         <td class="cellrowborder" width="50%">Service stopped.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900003</td>         <td class="cellrowborder" width="50%">Bluetooth disabled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2900099</td>         <td class="cellrowborder" width="50%">Operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ban-c106="" class="highlight-div"><div _ngcontent-ban-c106="" class="highlight-div-header"><div _ngcontent-ban-c106="" class="highlight-div-header-left"><div _ngcontent-ban-c106="" class="handle-button expand-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ban-c106="" class="highlight-div-header-right"><div _ngcontent-ban-c106="" class="handle-button ai-button"></div><div _ngcontent-ban-c106="" class="handle-button line-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ban-c106="" class="handle-button theme-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ban-c106="" class="handle-button copy-button"><div _ngcontent-ban-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ban-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span>, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  connection.<span class="hljs-title function_">connectAllowedProfiles</span>(<span class="hljs-string">'68:13:24:79:4C:8C'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'connectAllowedProfiles'</span>);</li><li>    }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'connectAllowedProfiles:errCode'</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + err.<span class="hljs-property">message</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 447px;">     <h2 id="bondstateparam" device-type="phone,2in1,tablet,wearable,tv">BondStateParam<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bondstateparam" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述配对状态结果的参数结构。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">deviceId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">配对中的对端设备地址。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">state</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#bondstate">BondState</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">配对状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">cause<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#unbondcause12">UnbondCause</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">配对失败的原因。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 402px;">     <h2 id="pinrequiredparam" device-type="phone,2in1,tablet,wearable,tv">PinRequiredParam<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pinrequiredparam" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述配对请求的参数结构。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">deviceId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">要配对的对端设备地址。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pinCode</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">配对过程中的密钥。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 711px;">     <h2 id="deviceclass" device-type="phone,2in1,tablet,wearable,tv">DeviceClass<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="deviceclass" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述蓝牙设备的类型。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">majorClass</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#majorclass">MajorClass</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">主要类型。是蓝牙标准协议中定义的类型字段。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">majorMinorClass</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#majorminorclass">MajorMinorClass</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">子类型，是在主要类型上基础上进一步细分的类型。是蓝牙标准协议中定义的类型字段。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">classOfDevice</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备类型。是蓝牙标准协议中定义的类型字段，包含了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#majorclass">MajorClass</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-constant#majorminorclass">MajorMinorClass</a>和支持的主要服务这三种设备信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1155px;">     <h2 id="batteryinfo12" device-type="phone,2in1,tablet,wearable,tv">BatteryInfo<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="batteryinfo12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述设备的电量信息。</p>     <p>只有支持蓝牙标准协议定义的电量信息AT（Attention）命令（包括：+XEVENT和IPHONEACCEV）的设备才支持上报有效的电量信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">batteryLevel</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示设备的电量值。</p>          <p>如果该值为-1，表示没有电量信息。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">leftEarBatteryLevel</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>若是蓝牙耳机设备类型，表示左侧耳机的电量值。</p>          <p>如果该值为-1，表示没有电量信息。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">leftEarChargeState</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#devicechargestate12">DeviceChargeState</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">若是蓝牙耳机设备类型，表示左侧耳机的充电状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">rightEarBatteryLevel</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>若是蓝牙耳机设备类型，表示右侧耳机的电量值。</p>          <p>如果该值为-1，表示没有电量信息。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">rightEarChargeState</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#devicechargestate12">DeviceChargeState</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">若是蓝牙耳机设备类型，表示右侧耳机的充电状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">boxBatteryLevel</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>若是蓝牙耳机设备类型，表示耳机仓的电量值。</p>          <p>如果值该为-1，表示没有电量信息。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">boxChargeState</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#devicechargestate12">DeviceChargeState</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">若是蓝牙耳机设备类型，表示耳机仓的充电状态。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 612px;">     <h2 id="bluetoothtransport" device-type="phone,2in1,tablet,wearable,tv">BluetoothTransport<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothtransport" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，表示设备传输类型。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">TRANSPORT_BR_EDR</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">传统蓝牙（Basic Rate/Enhanced Data Rate，BR/EDR）设备传输方式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TRANSPORT_LE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">低功耗蓝牙（Bluetooth Low Energy，BLE）设备传输方式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TRANSPORT_DUAL<sup>20+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">同时支持传统蓝牙（BR/EDR）和低功耗蓝牙（BLE）的双模设备传输方式。设备可以根据需要选择使用传统蓝牙（BR/EDR）或低功耗蓝牙（BLE）进行通信。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TRANSPORT_UNKNOWN<sup>20+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">未知的设备传输方式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 654px;">     <h2 id="scanmode" device-type="phone,2in1,tablet,wearable,tv">ScanMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanmode" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，表示扫描模式。该模式决定设备是否可被发现或可被连接。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_NONE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">不可发现、不可连接模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_CONNECTABLE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">可连接模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_GENERAL_DISCOVERABLE</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">通用可发现模式，可被长时间发现。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_LIMITED_DISCOVERABLE</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">有限可发现模式，持续一定时间。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_CONNECTABLE_GENERAL_DISCOVERABLE</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">可连接及通用可发现模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SCAN_MODE_CONNECTABLE_LIMITED_DISCOVERABLE</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">可连接及有限可发现模式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 471px;">     <h2 id="bondstate" device-type="phone,2in1,tablet,wearable,tv">BondState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bondstate" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，配对状态。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">BOND_STATE_INVALID</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">未配对状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BOND_STATE_BONDING</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">配对中的状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BOND_STATE_BONDED</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">已配对状态。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 657px;">     <h2 id="unbondcause12" device-type="phone,2in1,tablet,wearable,tv">UnbondCause<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unbondcause12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，配对失败原因。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.54.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">USER_REMOVED</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">用户主动移除设备。若配对状态<a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#bondstate">BondState</a>是已配对，也表示配对成功。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">REMOTE_DEVICE_DOWN</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">对端设备不在线。例如：对端设备蓝牙是关闭的。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">AUTH_FAILURE</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">鉴权失败。例如：两端设备密钥不匹配。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">AUTH_REJECTED</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">鉴权被拒绝。例如：对端设备拒绝了配对请求。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INTERNAL_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">内部错误。例如：设备不支持配对、配对过程超时等异常。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 564px;">     <h2 id="devicechargestate12" device-type="phone,2in1,tablet,wearable,tv">DeviceChargeState<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="devicechargestate12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，表示设备当前的充电状态。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">DEVICE_NORMAL_CHARGE_NOT_CHARGED</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">不支持超级快充能力的设备当前处于未充电状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DEVICE_NORMAL_CHARGE_IN_CHARGING</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">不支持超级快充能力的设备当前处于充电状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DEVICE_SUPER_CHARGE_NOT_CHARGED</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">支持超级快充能力的设备当前处于未充电状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DEVICE_SUPER_CHARGE_IN_CHARGING</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">支持超级快充能力的设备当前处于充电状态。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 948px;">     <h2 id="discoveryresult18" device-type="phone,2in1,tablet,wearable,tv">DiscoveryResult<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="discoveryresult18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>扫描到设备后，上报的扫描结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.Bluetooth.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">deviceId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>扫描到的设备地址。</p>          <p>基于信息安全考虑，此处获取的设备地址为虚拟MAC地址。</p>          <p>- 已配对的地址不会变更。</p>          <p>- 若该设备重启蓝牙开关，重新获取到的虚拟地址会立即变更。</p>          <p>- 若取消配对，蓝牙子系统会根据该地址的实际使用情况，决策后续变更时机；若其他应用正在使用该地址，则不会立刻变更。</p>          <p>- 若要持久化保存该地址，可使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-access#accessaddpersistentdeviceid16">access.addPersistentDeviceId</a>方法。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">rssi</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">扫描到的设备信号强度，单位：dBm。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">deviceName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">扫描到的设备名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">deviceClass</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-bluetooth-connection#deviceclass">DeviceClass</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">扫描到的设备类型。</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>