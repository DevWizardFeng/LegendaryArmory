<h1 _ngcontent-ohs-c119="" class="doc-title ng-star-inserted" title="@ohos.commonEventManager (公共事件模块)"> @ohos.commonEventManager (公共事件模块) </h1>

<div _ngcontent-ohs-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>本模块提供了公共事件相关的能力，包括发布公共事件、订阅公共事件、以及退订公共事件。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 9开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ohs-c106="" class="highlight-div"><div _ngcontent-ohs-c106="" class="highlight-div-header"><div _ngcontent-ohs-c106="" class="highlight-div-header-left"><div _ngcontent-ohs-c106="" class="handle-button expand-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ohs-c106="" class="highlight-div-header-right"><div _ngcontent-ohs-c106="" class="handle-button ai-button"></div><div _ngcontent-ohs-c106="" class="handle-button line-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ohs-c106="" class="handle-button theme-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ohs-c106="" class="handle-button copy-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ohs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { commonEventManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="support" device-type="phone,2in1,tablet,wearable,tv">Support<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="support" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>系统公共事件是指由系统服务或系统应用发布的事件，订阅这些公共事件需要特定的权限、使用相应的值，详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/commoneventmanager-definitions">系统定义的公共事件</a>。</p>    </div>    <div class="tiledSection">     <h2 id="commoneventmanagerpublish" device-type="phone,2in1,tablet,wearable,tv">commonEventManager.publish<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commoneventmanagerpublish" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>publish(event: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>发布公共事件。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Notification.CommonEvent</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要发送的公共事件。详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/commoneventmanager-definitions">系统公共事件定义</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当公共事件发布成功时，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-commoneventservice">事件错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1500003</td>         <td class="cellrowborder" width="50%">The common event sending frequency too high.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500007</td>         <td class="cellrowborder" width="50%">Failed to send the message to the common event service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500008</td>         <td class="cellrowborder" width="50%">Failed to initialize the common event service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500009</td>         <td class="cellrowborder" width="50%">Failed to obtain system parameters.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ohs-c106="" class="highlight-div"><div _ngcontent-ohs-c106="" class="highlight-div-header"><div _ngcontent-ohs-c106="" class="highlight-div-header-left"><div _ngcontent-ohs-c106="" class="handle-button expand-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ohs-c106="" class="highlight-div-header-right"><div _ngcontent-ohs-c106="" class="handle-button ai-button"></div><div _ngcontent-ohs-c106="" class="handle-button line-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ohs-c106="" class="handle-button theme-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ohs-c106="" class="handle-button copy-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ohs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 发布公共事件</span></li><li><span class="hljs-keyword">try</span> {</li><li>  commonEventManager.<span class="hljs-title function_">publish</span>(<span class="hljs-string">'event'</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to publish common event. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in publishing common event.`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to publish common event. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="commoneventmanagerpublish-1" device-type="phone,2in1,tablet,wearable,tv">commonEventManager.publish<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commoneventmanagerpublish-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>publish(event: string, options: CommonEventPublishData, callback: AsyncCallback&lt;void&gt;): void</p>     <p>发布公共事件。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Notification.CommonEvent</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要发布的公共事件。详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/commoneventmanager-definitions">系统公共事件定义</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventpublishdata">CommonEventPublishData</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示发布公共事件的属性。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当公共事件发布成功时，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-commoneventservice">事件错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1500003</td>         <td class="cellrowborder" width="50%">The common event sending frequency too high.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500007</td>         <td class="cellrowborder" width="50%">Failed to send the message to the common event service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500008</td>         <td class="cellrowborder" width="50%">Failed to initialize the common event service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500009</td>         <td class="cellrowborder" width="50%">Failed to obtain system parameters.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ohs-c106="" class="highlight-div"><div _ngcontent-ohs-c106="" class="highlight-div-header"><div _ngcontent-ohs-c106="" class="highlight-div-header-left"><div _ngcontent-ohs-c106="" class="handle-button expand-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ohs-c106="" class="highlight-div-header-right"><div _ngcontent-ohs-c106="" class="handle-button ai-button"></div><div _ngcontent-ohs-c106="" class="handle-button line-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ohs-c106="" class="handle-button theme-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ohs-c106="" class="handle-button copy-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ohs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 公共事件相关信息，以发布有序公共事件为例</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: commonEventManager.<span class="hljs-property">CommonEventPublishData</span> = {</li><li>  <span class="hljs-attr">code</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">data</span>: <span class="hljs-string">'initial data'</span>,</li><li>  <span class="hljs-attr">isOrdered</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// 有序公共事件</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// 发布公共事件</span></li><li><span class="hljs-keyword">try</span> {</li><li>  commonEventManager.<span class="hljs-title function_">publish</span>(<span class="hljs-string">'event'</span>, options, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to publish common event. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in publishing common event.`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to publish common event. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="commoneventmanagercreatesubscriber" device-type="phone,2in1,tablet,wearable,tv">commonEventManager.createSubscriber<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commoneventmanagercreatesubscriber" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createSubscriber(subscribeInfo: CommonEventSubscribeInfo, callback: AsyncCallback&lt;CommonEventSubscriber&gt;): void</p>     <p>创建订阅者。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Notification.CommonEvent</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">subscribeInfo</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventsubscribeinfo">CommonEventSubscribeInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示订阅信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventsubscriber">CommonEventSubscriber</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当公共事件订阅者创建成功时，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified.</p>          <p>2. Incorrect parameter types.</p>          <p>3. Parameter verification failed.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ohs-c106="" class="highlight-div"><div _ngcontent-ohs-c106="" class="highlight-div-header"><div _ngcontent-ohs-c106="" class="highlight-div-header-left"><div _ngcontent-ohs-c106="" class="handle-button expand-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ohs-c106="" class="highlight-div-header-right"><div _ngcontent-ohs-c106="" class="handle-button ai-button"></div><div _ngcontent-ohs-c106="" class="handle-button line-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ohs-c106="" class="handle-button theme-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ohs-c106="" class="handle-button copy-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ohs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 定义订阅者，用于保存创建成功的订阅者对象，后续使用其完成订阅及退订的动作</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">subscriber</span>: commonEventManager.<span class="hljs-property">CommonEventSubscriber</span>;</li><li><span class="hljs-comment">// 订阅者信息</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">subscribeInfo</span>: commonEventManager.<span class="hljs-property">CommonEventSubscribeInfo</span> = {</li><li>  <span class="hljs-attr">events</span>: [<span class="hljs-string">'event'</span>]</li><li>};</li><li>
</li><li><span class="hljs-comment">// 创建订阅者</span></li><li><span class="hljs-keyword">try</span> {</li><li>  commonEventManager.<span class="hljs-title function_">createSubscriber</span>(subscribeInfo,</li><li>    <span class="hljs-function">(<span class="hljs-params">err: BusinessError, commonEventSubscriber: commonEventManager.CommonEventSubscriber</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span>(!err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating subscriber.`</span>);</li><li>        subscriber = commonEventSubscriber;</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create subscriber. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create subscriber. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="commoneventmanagercreatesubscriber-1" device-type="phone,2in1,tablet,wearable,tv">commonEventManager.createSubscriber<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commoneventmanagercreatesubscriber-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createSubscriber(subscribeInfo: CommonEventSubscribeInfo): Promise&lt;CommonEventSubscriber&gt;</p>     <p>创建订阅者。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Notification.CommonEvent</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">subscribeInfo</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventsubscribeinfo">CommonEventSubscribeInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示订阅信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventsubscriber">CommonEventSubscriber</a>&gt;</td>         <td class="cellrowborder" width="50%">以Promise形式返回订阅者对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified.</p>          <p>2. Incorrect parameter types.</p>          <p>3. Parameter verification failed.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ohs-c106="" class="highlight-div"><div _ngcontent-ohs-c106="" class="highlight-div-header"><div _ngcontent-ohs-c106="" class="highlight-div-header-left"><div _ngcontent-ohs-c106="" class="handle-button expand-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ohs-c106="" class="highlight-div-header-right"><div _ngcontent-ohs-c106="" class="handle-button ai-button"></div><div _ngcontent-ohs-c106="" class="handle-button line-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ohs-c106="" class="handle-button theme-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ohs-c106="" class="handle-button copy-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ohs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 定义订阅者，用于保存创建成功的订阅者对象，后续使用其完成订阅及退订的动作</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">subscriber</span>: commonEventManager.<span class="hljs-property">CommonEventSubscriber</span>;</li><li><span class="hljs-comment">// 订阅者信息</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">subscribeInfo</span>: commonEventManager.<span class="hljs-property">CommonEventSubscribeInfo</span> = {</li><li>  <span class="hljs-attr">events</span>: [<span class="hljs-string">'event'</span>]</li><li>};</li><li><span class="hljs-comment">// 创建订阅者</span></li><li>commonEventManager.<span class="hljs-title function_">createSubscriber</span>(subscribeInfo).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">commonEventSubscriber: commonEventManager.CommonEventSubscriber</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating subscriber.`</span>);</li><li>  subscriber = commonEventSubscriber;</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create subscriber. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="commoneventmanagercreatesubscribersync10" device-type="phone,2in1,tablet,wearable,tv">commonEventManager.createSubscriberSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commoneventmanagercreatesubscribersync10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createSubscriberSync(subscribeInfo: CommonEventSubscribeInfo): CommonEventSubscriber</p>     <p>createSubscriber的同步接口。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Notification.CommonEvent</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">subscribeInfo</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventsubscribeinfo">CommonEventSubscribeInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示订阅信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventsubscriber">CommonEventSubscriber</a></td>         <td class="cellrowborder" width="50%">返回订阅者对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified.</p>          <p>2. Incorrect parameter types.</p>          <p>3. Parameter verification failed.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ohs-c106="" class="highlight-div"><div _ngcontent-ohs-c106="" class="highlight-div-header"><div _ngcontent-ohs-c106="" class="highlight-div-header-left"><div _ngcontent-ohs-c106="" class="handle-button expand-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ohs-c106="" class="highlight-div-header-right"><div _ngcontent-ohs-c106="" class="handle-button ai-button"></div><div _ngcontent-ohs-c106="" class="handle-button line-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ohs-c106="" class="handle-button theme-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ohs-c106="" class="handle-button copy-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ohs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 定义订阅者，用于保存创建成功的订阅者对象，后续使用其完成订阅及退订的动作</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">subscriber</span>: commonEventManager.<span class="hljs-property">CommonEventSubscriber</span>;</li><li><span class="hljs-comment">// 订阅者信息</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">subscribeInfo</span>: commonEventManager.<span class="hljs-property">CommonEventSubscribeInfo</span> = {</li><li>  <span class="hljs-attr">events</span>: [<span class="hljs-string">'event'</span>]</li><li>};</li><li><span class="hljs-comment">// 创建订阅者</span></li><li><span class="hljs-keyword">try</span> {</li><li>  subscriber = commonEventManager.<span class="hljs-title function_">createSubscriberSync</span>(subscribeInfo);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create subscriber. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="commoneventmanagersubscribe" device-type="phone,2in1,tablet,wearable,tv">commonEventManager.subscribe<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commoneventmanagersubscribe" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>subscribe(subscriber: CommonEventSubscriber, callback: AsyncCallback&lt;CommonEventData&gt;): void</p>     <p>订阅公共事件。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Notification.CommonEvent</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">subscriber</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventsubscriber">CommonEventSubscriber</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示订阅者对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventdata">CommonEventData</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当公共事件订阅成功后，事件触发时执行的回调函数；否则订阅失败时，err为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-commoneventservice">事件错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500007</td>         <td class="cellrowborder" width="50%">Failed to send the message to the common event service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500008</td>         <td class="cellrowborder" width="50%">Failed to initialize the common event service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500010</td>         <td class="cellrowborder" width="50%">The count of subscriber exceed system specification.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ohs-c106="" class="highlight-div"><div _ngcontent-ohs-c106="" class="highlight-div-header"><div _ngcontent-ohs-c106="" class="highlight-div-header-left"><div _ngcontent-ohs-c106="" class="handle-button expand-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ohs-c106="" class="highlight-div-header-right"><div _ngcontent-ohs-c106="" class="handle-button ai-button"></div><div _ngcontent-ohs-c106="" class="handle-button line-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ohs-c106="" class="handle-button theme-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ohs-c106="" class="handle-button copy-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ohs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 定义订阅者，用于保存创建成功的订阅者对象，后续使用其完成订阅及退订的动作</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">subscriber</span>: commonEventManager.<span class="hljs-property">CommonEventSubscriber</span>;</li><li><span class="hljs-comment">// 订阅者信息</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">subscribeInfo</span>: commonEventManager.<span class="hljs-property">CommonEventSubscribeInfo</span> = {</li><li>  <span class="hljs-attr">events</span>: [<span class="hljs-string">'event'</span>]</li><li>};</li><li>
</li><li><span class="hljs-comment">// 创建订阅者</span></li><li><span class="hljs-keyword">try</span> {</li><li>  commonEventManager.<span class="hljs-title function_">createSubscriber</span>(subscribeInfo,</li><li>    <span class="hljs-function">(<span class="hljs-params">err: BusinessError, commonEventSubscriber: commonEventManager.CommonEventSubscriber</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span>(!err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating subscriber.`</span>);</li><li>        subscriber = commonEventSubscriber;</li><li>        <span class="hljs-comment">// 订阅公共事件</span></li><li>        <span class="hljs-keyword">try</span> {</li><li>          commonEventManager.<span class="hljs-title function_">subscribe</span>(subscriber, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: commonEventManager.CommonEventData</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (err) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to subscribe. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>              <span class="hljs-keyword">return</span>;</li><li>            }</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing, data is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>          });</li><li>        } <span class="hljs-keyword">catch</span> (error) {</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to subscribe. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        }</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create subscriber. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create subscriber. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="commoneventmanagerunsubscribe" device-type="phone,2in1,tablet,wearable,tv">commonEventManager.unsubscribe<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commoneventmanagerunsubscribe" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unsubscribe(subscriber: CommonEventSubscriber, callback?: AsyncCallback&lt;void&gt;): void</p>     <p>取消订阅公共事件。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Notification.CommonEvent</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">subscriber</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventsubscriber">CommonEventSubscriber</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示订阅者对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当取消公共事件订阅成功时，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-commoneventservice">事件错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified.</p>          <p>2. Incorrect parameter types.</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500007</td>         <td class="cellrowborder" width="50%">Failed to send the message to the common event service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500008</td>         <td class="cellrowborder" width="50%">Failed to initialize the common event service.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ohs-c106="" class="highlight-div"><div _ngcontent-ohs-c106="" class="highlight-div-header"><div _ngcontent-ohs-c106="" class="highlight-div-header-left"><div _ngcontent-ohs-c106="" class="handle-button expand-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ohs-c106="" class="highlight-div-header-right"><div _ngcontent-ohs-c106="" class="handle-button ai-button"></div><div _ngcontent-ohs-c106="" class="handle-button line-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ohs-c106="" class="handle-button theme-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ohs-c106="" class="handle-button copy-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ohs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 定义订阅者，用于保存创建成功的订阅者对象，后续使用其完成订阅及退订的动作</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">subscriber</span>: commonEventManager.<span class="hljs-property">CommonEventSubscriber</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-comment">// 订阅者信息</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">subscribeInfo</span>: commonEventManager.<span class="hljs-property">CommonEventSubscribeInfo</span> = {</li><li>  <span class="hljs-attr">events</span>: [<span class="hljs-string">'event'</span>]</li><li>};</li><li>
</li><li><span class="hljs-comment">// 创建订阅者</span></li><li><span class="hljs-keyword">try</span> {</li><li>  commonEventManager.<span class="hljs-title function_">createSubscriber</span>(subscribeInfo,</li><li>    <span class="hljs-function">(<span class="hljs-params">err: BusinessError, commonEventSubscriber: commonEventManager.CommonEventSubscriber</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span>(!err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating subscriber.`</span>);</li><li>        subscriber = commonEventSubscriber;</li><li>        <span class="hljs-comment">// 订阅公共事件</span></li><li>        <span class="hljs-keyword">try</span> {</li><li>          commonEventManager.<span class="hljs-title function_">subscribe</span>(subscriber, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: commonEventManager.CommonEventData</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (err) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to subscribe. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>              <span class="hljs-keyword">return</span>;</li><li>            }</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing, data is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>          });</li><li>        } <span class="hljs-keyword">catch</span> (error) {</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to subscribe. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        }</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create subscriber. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create subscriber. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 取消订阅公共事件</span></li><li><span class="hljs-comment">// 等待异步接口subscribe执行完毕，开发者根据实际业务选择是否需要添加setTimeout</span></li><li><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    commonEventManager.<span class="hljs-title function_">unsubscribe</span>(subscriber, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unsubscribe. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-comment">// subscriber不再使用时需要将其置为undefined，避免内存泄露</span></li><li>      subscriber = <span class="hljs-literal">undefined</span>;</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in unsubscribing.`</span>);</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unsubscribe. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}, <span class="hljs-number">500</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="commoneventmanagersubscribetoevent20" device-type="phone,2in1,tablet,wearable,tv">commonEventManager.subscribeToEvent<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commoneventmanagersubscribetoevent20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>subscribeToEvent(subscriber: CommonEventSubscriber, callback: Callback&lt;CommonEventData&gt;): Promise&lt;void&gt;</p>     <p>订阅公共事件，并返回订阅成功或失败信息。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Notification.CommonEvent</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">subscriber</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventsubscriber">CommonEventSubscriber</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示订阅者对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventdata">CommonEventData</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示接收公共事件数据的回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-commoneventservice">事件错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500007</td>         <td class="cellrowborder" width="50%">Failed to send the message to the common event service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500008</td>         <td class="cellrowborder" width="50%">Failed to initialize the common event service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1500010</td>         <td class="cellrowborder" width="50%">The count of subscriber exceed system specification.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ohs-c106="" class="highlight-div"><div _ngcontent-ohs-c106="" class="highlight-div-header"><div _ngcontent-ohs-c106="" class="highlight-div-header-left"><div _ngcontent-ohs-c106="" class="handle-button expand-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ohs-c106="" class="highlight-div-header-right"><div _ngcontent-ohs-c106="" class="handle-button ai-button"></div><div _ngcontent-ohs-c106="" class="handle-button line-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ohs-c106="" class="handle-button theme-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ohs-c106="" class="handle-button copy-button"><div _ngcontent-ohs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ohs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 定义订阅者，用于保存创建成功的订阅者对象，后续使用其完成订阅及退订的动作</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">subscriber</span>: commonEventManager.<span class="hljs-property">CommonEventSubscriber</span>;</li><li><span class="hljs-comment">// 订阅者信息</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">subscribeInfo</span>: commonEventManager.<span class="hljs-property">CommonEventSubscribeInfo</span> = {</li><li>  <span class="hljs-attr">events</span>: [<span class="hljs-string">"event"</span>]</li><li>};</li><li>
</li><li><span class="hljs-comment">// 创建订阅者</span></li><li><span class="hljs-keyword">try</span> {</li><li>  commonEventManager.<span class="hljs-title function_">createSubscriber</span>(subscribeInfo,</li><li>    <span class="hljs-function">(<span class="hljs-params">err: BusinessError, commonEventSubscriber: commonEventManager.CommonEventSubscriber</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create subscriber. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating subscriber.`</span>);</li><li>        subscriber = commonEventSubscriber;</li><li>        <span class="hljs-comment">// 订阅公共事件</span></li><li>        <span class="hljs-keyword">try</span> {</li><li>          commonEventManager.<span class="hljs-title function_">subscribeToEvent</span>(subscriber, <span class="hljs-function">(<span class="hljs-params">data: commonEventManager.CommonEventData</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded to receive common event, data is `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>          }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded to subscribe.`</span>);</li><li>          }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to subscribe. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          });</li><li>        } <span class="hljs-keyword">catch</span> (error) {</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to subscribe. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        }</li><li>      }</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create subscriber. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="commoneventdata10" device-type="phone,2in1,tablet,wearable,tv">CommonEventData<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commoneventdata10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CommonEventData = _CommonEventData</p>     <p>表示公共事件的数据。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Notification.CommonEvent</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventdata">_CommonEventData</a></td>         <td class="cellrowborder" width="50%">表示公共事件的数据。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="commoneventsubscriber10" device-type="phone,2in1,tablet,wearable,tv">CommonEventSubscriber<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commoneventsubscriber10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CommonEventSubscriber = _CommonEventSubscriber</p>     <p>描述公共事件的订阅者。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Notification.CommonEvent</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventsubscriber">_CommonEventSubscriber</a></td>         <td class="cellrowborder" width="50%">描述公共事件的订阅者。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="commoneventsubscribeinfo10" device-type="phone,2in1,tablet,wearable,tv">CommonEventSubscribeInfo<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commoneventsubscribeinfo10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CommonEventSubscribeInfo = _CommonEventSubscribeInfo</p>     <p>用于表示订阅者的信息。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Notification.CommonEvent</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventsubscribeinfo">_CommonEventSubscribeInfo</a></td>         <td class="cellrowborder" width="50%">用于表示订阅者的信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="commoneventpublishdata10" device-type="phone,2in1,tablet,wearable,tv">CommonEventPublishData<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commoneventpublishdata10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CommonEventPublishData = _CommonEventPublishData</p>     <p>描述公共事件内容和属性。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Notification.CommonEvent</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-commonevent-commoneventpublishdata">_CommonEventPublishData</a></td>         <td class="cellrowborder" width="50%">描述公共事件内容和属性。</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>