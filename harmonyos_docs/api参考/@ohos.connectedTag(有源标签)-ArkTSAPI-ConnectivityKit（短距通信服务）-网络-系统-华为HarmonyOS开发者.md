<h1 _ngcontent-kjh-c119="" class="doc-title ng-star-inserted" title="@ohos.connectedTag (有源标签)"> @ohos.connectedTag (有源标签) </h1>

<div _ngcontent-kjh-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>本模块提供有源标签的使用，包括初始化有源标签芯片、读取有源标签内容、写入内容到有源标签等。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 8开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="2in1">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-kjh-c106="" class="highlight-div"><div _ngcontent-kjh-c106="" class="highlight-div-header"><div _ngcontent-kjh-c106="" class="highlight-div-header-left"><div _ngcontent-kjh-c106="" class="handle-button expand-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kjh-c106="" class="highlight-div-header-right"><div _ngcontent-kjh-c106="" class="handle-button ai-button"></div><div _ngcontent-kjh-c106="" class="handle-button line-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kjh-c106="" class="handle-button theme-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kjh-c106="" class="handle-button copy-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kjh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connectedTag } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="connectedtaginitdeprecated" device-type="2in1">connectedTag.init<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtaginitdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>init(): boolean</p>     <p>初始化有源标签芯片。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-connectedtag#connectedtaginitialize9">initialize</a>替代。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.NFC_TAG</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.ConnectedTag</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.3.1.1" width="50%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.3.1.2" width="50%"><strong>说明</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>true：初始化成功。</p>          <p>false：初始化失败。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="connectedtaginitialize9" device-type="2in1">connectedTag.initialize<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtaginitialize9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>initialize(): void</p>     <p>初始化有源标签芯片。</p>     <p><strong>需要权限：</strong> ohos.permission.NFC_TAG</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.ConnectedTag</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3200101</td>         <td class="cellrowborder" width="50%">Connected NFC tag running state is abnormal in service.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="connectedtaguninitdeprecated" device-type="2in1">connectedTag.uninit<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtaguninitdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>uninit(): boolean</p>     <p>卸载有源标签芯片资源。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-connectedtag#connectedtaguninitialize9">uninitialize</a>替代。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.NFC_TAG</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.ConnectedTag</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%"><strong>说明</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>true：卸载操作成功。</p>          <p>false：卸载操作失败。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="connectedtaguninitialize9" device-type="2in1">connectedTag.uninitialize<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtaguninitialize9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>uninitialize(): void</p>     <p>卸载有源标签芯片资源。</p>     <p><strong>需要权限:</strong> ohos.permission.NFC_TAG</p>     <p><strong>系统能力:</strong> SystemCapability.Communication.ConnectedTag</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3200101</td>         <td class="cellrowborder" width="50%">Connected NFC tag running state is abnormal in service.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="connectedtagreadndeftagdeprecated" device-type="2in1">connectedTag.readNdefTag<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtagreadndeftagdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>readNdefTag(): Promise&lt;string&gt;</p>     <p>读取有源标签内容，使用promise方式作为异步方法。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 8 开始支持，从 API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-connectedtag#connectedtagread9">connectedTag.read</a>替代。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.NFC_TAG</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.ConnectedTag</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.1" width="50%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.2" width="50%"><strong>说明</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;string&gt;</td>         <td class="cellrowborder" width="50%">返回读取有源标签内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kjh-c106="" class="highlight-div"><div _ngcontent-kjh-c106="" class="highlight-div-header"><div _ngcontent-kjh-c106="" class="highlight-div-header-left"><div _ngcontent-kjh-c106="" class="handle-button expand-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kjh-c106="" class="highlight-div-header-right"><div _ngcontent-kjh-c106="" class="handle-button ai-button"></div><div _ngcontent-kjh-c106="" class="handle-button line-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kjh-c106="" class="handle-button theme-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kjh-c106="" class="handle-button copy-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kjh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connectedTag } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connectedTag.<span class="hljs-title function_">readNdefTag</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connectedTag readNdefTag Promise data = "</span> + data);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>)=&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"connectedTag readNdefTag Promise err: "</span> + err);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="connectedtagread9" device-type="2in1">connectedTag.read<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtagread9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>read(): Promise&lt;number[]&gt;</p>     <p>读取有源标签内容，使用promise方式作为异步方法。</p>     <p><strong>需要权限：</strong> ohos.permission.NFC_TAG</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.ConnectedTag</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%"><strong>说明</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number[]&gt;</td>         <td class="cellrowborder" width="50%">返回读取有源标签内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3200101</td>         <td class="cellrowborder" width="50%">Connected NFC tag running state is abnormal in service.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kjh-c106="" class="highlight-div"><div _ngcontent-kjh-c106="" class="highlight-div-header"><div _ngcontent-kjh-c106="" class="highlight-div-header-left"><div _ngcontent-kjh-c106="" class="handle-button expand-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kjh-c106="" class="highlight-div-header-right"><div _ngcontent-kjh-c106="" class="handle-button ai-button"></div><div _ngcontent-kjh-c106="" class="handle-button line-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kjh-c106="" class="handle-button theme-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kjh-c106="" class="handle-button copy-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kjh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connectedTag } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connectedTag.<span class="hljs-title function_">read</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connectedTag read Promise data = "</span> + data);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>)=&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"connectedTag read Promise err: "</span> + err);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="connectedtagreadndeftagdeprecated-1" device-type="2in1">connectedTag.readNdefTag<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtagreadndeftagdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>readNdefTag(callback: AsyncCallback&lt;string&gt;): void</p>     <p>读取有源标签内容，使用AsyncCallback方式作为异步方法。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 8 开始支持，从 API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-connectedtag#connectedtagread9">connectedTag.read</a>替代。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.NFC_TAG</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.ConnectedTag</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.1" width="25%"><strong>参数名</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.2" width="25%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.3" width="25%"><strong>必填</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.4" width="25%"><strong>说明</strong></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">读取有源标签内容回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kjh-c106="" class="highlight-div"><div _ngcontent-kjh-c106="" class="highlight-div-header"><div _ngcontent-kjh-c106="" class="highlight-div-header-left"><div _ngcontent-kjh-c106="" class="handle-button expand-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kjh-c106="" class="highlight-div-header-right"><div _ngcontent-kjh-c106="" class="handle-button ai-button"></div><div _ngcontent-kjh-c106="" class="handle-button line-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kjh-c106="" class="handle-button theme-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kjh-c106="" class="handle-button copy-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kjh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connectedTag } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li>
</li><li>connectedTag.<span class="hljs-title function_">readNdefTag</span>(<span class="hljs-function">(<span class="hljs-params">err, data</span>)=&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"connectedTag readNdefTag AsyncCallback err: "</span> + err);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connectedTag readNdefTag AsyncCallback data: "</span> + data);</li><li>    }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="connectedtagread9-1" device-type="2in1">connectedTag.read<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtagread9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>read(callback: AsyncCallback&lt;number[]&gt;): void</p>     <p>读取有源标签内容，使用AsyncCallback方式作为异步方法。</p>     <p><strong>需要权限：</strong> ohos.permission.NFC_TAG</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.ConnectedTag</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%"><strong>参数名</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%"><strong>必填</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%"><strong>说明</strong></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number[]&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">读取有源标签内容回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3200101</td>         <td class="cellrowborder" width="50%">Connected NFC tag running state is abnormal in service.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kjh-c106="" class="highlight-div"><div _ngcontent-kjh-c106="" class="highlight-div-header"><div _ngcontent-kjh-c106="" class="highlight-div-header-left"><div _ngcontent-kjh-c106="" class="handle-button expand-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kjh-c106="" class="highlight-div-header-right"><div _ngcontent-kjh-c106="" class="handle-button ai-button"></div><div _ngcontent-kjh-c106="" class="handle-button line-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kjh-c106="" class="handle-button theme-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kjh-c106="" class="handle-button copy-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kjh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connectedTag } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li>
</li><li>connectedTag.<span class="hljs-title function_">read</span>(<span class="hljs-function">(<span class="hljs-params">err, data</span>)=&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"connectedTag read AsyncCallback err: "</span> + err);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connectedTag read AsyncCallback data: "</span> + data);</li><li>    }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="connectedtagwritendeftagdeprecated" device-type="2in1">connectedTag.writeNdefTag<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtagwritendeftagdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>writeNdefTag(data: string): Promise&lt;void&gt;</p>     <p>写入内容到有源标签，使用promise方式作为异步方法。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 8 开始支持，从 API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-connectedtag#connectedtagwrite9">connectedTag.write</a>替代。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.NFC_TAG</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.ConnectedTag</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%"><strong>参数名</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%"><strong>必填</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%"><strong>说明</strong></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">有源标签内容, 最大长度为1024个字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%"><strong>说明</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kjh-c106="" class="highlight-div"><div _ngcontent-kjh-c106="" class="highlight-div-header"><div _ngcontent-kjh-c106="" class="highlight-div-header-left"><div _ngcontent-kjh-c106="" class="handle-button expand-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kjh-c106="" class="highlight-div-header-right"><div _ngcontent-kjh-c106="" class="handle-button ai-button"></div><div _ngcontent-kjh-c106="" class="handle-button line-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kjh-c106="" class="handle-button theme-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kjh-c106="" class="handle-button copy-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kjh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connectedTag } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> rawData = <span class="hljs-string">"010203"</span>; <span class="hljs-comment">// change it to be correct.</span></li><li>connectedTag.<span class="hljs-title function_">writeNdefTag</span>(rawData).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connectedTag.writeNdefTag Promise success."</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>)=&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"connectedTag.writeNdefTag Promise err: "</span> + err);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="connectedtagwrite9" device-type="2in1">connectedTag.write<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtagwrite9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>write(data: number[]): Promise&lt;void&gt;</p>     <p>写入内容到有源标签，使用promise方式作为异步方法。</p>     <p><strong>需要权限：</strong> ohos.permission.NFC_TAG</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.ConnectedTag</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%"><strong>参数名</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%"><strong>必填</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%"><strong>说明</strong></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">有源标签内容, 由十六进制数字组成。范围：0x00至0xFF。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%"><strong>说明</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>The parameter check failed. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified.</p>          <p>2. Incorrect parameters types.</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3200101</td>         <td class="cellrowborder" width="50%">Connected NFC tag running state is abnormal in service.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kjh-c106="" class="highlight-div"><div _ngcontent-kjh-c106="" class="highlight-div-header"><div _ngcontent-kjh-c106="" class="highlight-div-header-left"><div _ngcontent-kjh-c106="" class="handle-button expand-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kjh-c106="" class="highlight-div-header-right"><div _ngcontent-kjh-c106="" class="handle-button ai-button"></div><div _ngcontent-kjh-c106="" class="handle-button line-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kjh-c106="" class="handle-button theme-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kjh-c106="" class="handle-button copy-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kjh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connectedTag } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> rawData = [<span class="hljs-number">0x01</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x03</span>]; <span class="hljs-comment">// change it to be correct.</span></li><li>connectedTag.<span class="hljs-title function_">write</span>(rawData).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connectedTag.writeNdefTag Promise success."</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>)=&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"connectedTag.writeNdefTag Promise err: "</span> + err);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="connectedtagwritendeftagdeprecated-1" device-type="2in1">connectedTag.writeNdefTag<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtagwritendeftagdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>writeNdefTag(data: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>写入内容到有源标签，使用AsyncCallback方式作为异步方法。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 8 开始支持，从 API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-connectedtag#connectedtagwrite9">connectedTag.write</a>替代。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.NFC_TAG</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.ConnectedTag</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.1" width="25%"><strong>参数名</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.2" width="25%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.3" width="25%"><strong>必填</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.4" width="25%"><strong>说明</strong></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">有源标签内容, 最大长度为1024个字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">读取有源标签内容回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kjh-c106="" class="highlight-div"><div _ngcontent-kjh-c106="" class="highlight-div-header"><div _ngcontent-kjh-c106="" class="highlight-div-header-left"><div _ngcontent-kjh-c106="" class="handle-button expand-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kjh-c106="" class="highlight-div-header-right"><div _ngcontent-kjh-c106="" class="handle-button ai-button"></div><div _ngcontent-kjh-c106="" class="handle-button line-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kjh-c106="" class="handle-button theme-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kjh-c106="" class="handle-button copy-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kjh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connectedTag } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> rawData = <span class="hljs-string">"010203"</span>; <span class="hljs-comment">// change it to be correct.</span></li><li>connectedTag.<span class="hljs-title function_">writeNdefTag</span>(rawData, <span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"connectedTag.writeNdefTag AsyncCallback err: "</span> + err);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connectedTag.writeNdefTag AsyncCallback success."</span>);</li><li>    }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="connectedtagwrite9-1" device-type="2in1">connectedTag.write<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtagwrite9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>write(data: number[], callback: AsyncCallback&lt;void&gt;): void</p>     <p>写入内容到有源标签，使用AsyncCallback方式作为异步方法。</p>     <p><strong>需要权限：</strong> ohos.permission.NFC_TAG</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.ConnectedTag</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%"><strong>参数名</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%"><strong>必填</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%"><strong>说明</strong></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">有源标签内容, 由十六进制数字组成。范围：0x00至0xFF。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">读取有源标签内容回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>The parameter check failed. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified.</p>          <p>2. Incorrect parameters types.</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3200101</td>         <td class="cellrowborder" width="50%">Connected NFC tag running state is abnormal in service.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kjh-c106="" class="highlight-div"><div _ngcontent-kjh-c106="" class="highlight-div-header"><div _ngcontent-kjh-c106="" class="highlight-div-header-left"><div _ngcontent-kjh-c106="" class="handle-button expand-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kjh-c106="" class="highlight-div-header-right"><div _ngcontent-kjh-c106="" class="handle-button ai-button"></div><div _ngcontent-kjh-c106="" class="handle-button line-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kjh-c106="" class="handle-button theme-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kjh-c106="" class="handle-button copy-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kjh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connectedTag } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> rawData = [<span class="hljs-number">0x01</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x03</span>]; <span class="hljs-comment">// change it to be correct.</span></li><li>connectedTag.<span class="hljs-title function_">write</span>(rawData, <span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"connectedTag.writeNdefTag AsyncCallback err: "</span> + err);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connectedTag.writeNdefTag AsyncCallback success."</span>);</li><li>    }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="connectedtagonnotify" device-type="2in1">connectedTag.on('notify')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtagonnotify" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>on(type: "notify", callback: Callback&lt;number&gt;): void</p>     <p>注册NFC场强状态事件。</p>     <p><strong>需要权限</strong>：ohos.permission.NFC_TAG</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.ConnectedTag</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%"><strong>参数名</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%"><strong>必填</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%"><strong>说明</strong></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">固定填"notify"字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">状态改变回调函数，返回值参见<a href="/consumer/cn/doc/harmonyos-references/js-apis-connectedtag#nfcrftype">NfcRfType</a>。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="connectedtagoffnotify" device-type="2in1">connectedTag.off('notify')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectedtagoffnotify" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>off(type: "notify", callback?: Callback&lt;number&gt;): void</p>     <p>取消NFC场强状态事件的注册。</p>     <p><strong>需要权限</strong>：ohos.permission.NFC_TAG</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.ConnectedTag</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="25%"><strong>参数名</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="25%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="25%"><strong>必填</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="25%"><strong>说明</strong></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">固定填"notify"字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">状态改变回调函数。如果callback不填，将“去注册”该事件关联的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kjh-c106="" class="highlight-div"><div _ngcontent-kjh-c106="" class="highlight-div-header"><div _ngcontent-kjh-c106="" class="highlight-div-header-left"><div _ngcontent-kjh-c106="" class="handle-button expand-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kjh-c106="" class="highlight-div-header-right"><div _ngcontent-kjh-c106="" class="handle-button ai-button"></div><div _ngcontent-kjh-c106="" class="handle-button line-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kjh-c106="" class="handle-button theme-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kjh-c106="" class="handle-button copy-button"><div _ngcontent-kjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kjh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connectedTag } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">nfcStatusCb</span>(<span class="hljs-params">rfState: connectedTag.NfcRfType</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connectedTag on Callback rfState: "</span>, rfState);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 有源nfc标签的使用流程</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">nfcTagTestOn</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; {</li><li>    <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connectedTag initialize"</span>);</li><li>        connectedTag.<span class="hljs-title function_">initialize</span>();</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"initialize error:"</span> + error);</li><li>    }</li><li>    <span class="hljs-comment">// 注册回调以接收nfc进离场状态更改通知</span></li><li>    connectedTag.<span class="hljs-title function_">on</span>(<span class="hljs-string">"notify"</span>, nfcStatusCb);</li><li>    <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> tag = [<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>];</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connectedTag write: tag="</span> + tag);</li><li>        <span class="hljs-keyword">await</span> connectedTag.<span class="hljs-title function_">write</span>(tag);</li><li>        <span class="hljs-keyword">let</span> data = <span class="hljs-keyword">await</span> connectedTag.<span class="hljs-title function_">read</span>();</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connectedTag read: data="</span> + data);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"connectedTag error: "</span> + error);</li><li>    }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 业务退出时，取消注册回调、取消初始化</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">nfcTagTestOff</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; {</li><li>    <span class="hljs-comment">// 取消注册回调</span></li><li>    connectedTag.<span class="hljs-title function_">off</span>(<span class="hljs-string">"notify"</span>, nfcStatusCb);</li><li>    <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connectedTag uninitialize"</span>);</li><li>        connectedTag.<span class="hljs-title function_">uninitialize</span>();</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"connectedTag error: "</span> + error);</li><li>    }</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> { nfcTagTestOn, nfcTagTestOff }</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="nfcrftype" device-type="2in1">NfcRfType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="nfcrftype" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>表示NFC场强状态的枚举。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.ConnectedTag</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NFC_RF_LEAVE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">NFC离场事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NFC_RF_ENTER</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">NFC进场事件。</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>