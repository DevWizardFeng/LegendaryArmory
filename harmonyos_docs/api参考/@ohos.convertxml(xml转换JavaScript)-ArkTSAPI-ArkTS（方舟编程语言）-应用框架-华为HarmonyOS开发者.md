<h1 _ngcontent-jch-c119="" class="doc-title ng-star-inserted" title="@ohos.convertxml (xml转换JavaScript)"> @ohos.convertxml (xml转换JavaScript) </h1>

<div _ngcontent-jch-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>本模块提供转换xml文本为JavaScript对象的功能。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 8开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jch-c106="" class="highlight-div"><div _ngcontent-jch-c106="" class="highlight-div-header"><div _ngcontent-jch-c106="" class="highlight-div-header-left"><div _ngcontent-jch-c106="" class="handle-button expand-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jch-c106="" class="highlight-div-header-right"><div _ngcontent-jch-c106="" class="handle-button ai-button"></div><div _ngcontent-jch-c106="" class="handle-button line-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jch-c106="" class="handle-button theme-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jch-c106="" class="handle-button copy-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jch-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { convertxml } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="convertxml" device-type="phone,2in1,tablet,wearable,tv">ConvertXML<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertxml" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="fastconverttojsobject14" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">fastConvertToJSObject<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fastconverttojsobject14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fastConvertToJSObject(xml: string, options?: ConvertOptions) : Object</p>     <p>转换xml文本为Object类型对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口无法满足解析大数据量的XML文件，当单元素文本内容超过10M时，会打印异常信息并返回一个仅包含XML标签头的基础Object对象。</p>       <p>在Windows环境中，通常以回车符（CR）和换行符（LF）一对字符来表示换行。fastConvertToJSObject接口转换后的对象以换行符（LF）表示换行。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">xml</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">xml文本，若包含“&amp;”字符，请使用实体引用“&amp;amp;”替换。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-convertxml#convertoptions">ConvertOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">转换选项，默认值是ConvertOptions对象，由其中各个属性的默认值组成。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Object</td>         <td class="cellrowborder" width="50%">转换后的JavaScript对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-utils">语言基础类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">10200002</td>         <td class="cellrowborder" width="50%">Invalid xml string.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jch-c106="" class="highlight-div"><div _ngcontent-jch-c106="" class="highlight-div-header"><div _ngcontent-jch-c106="" class="highlight-div-header-left"><div _ngcontent-jch-c106="" class="handle-button expand-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jch-c106="" class="highlight-div-header-right"><div _ngcontent-jch-c106="" class="handle-button ai-button"></div><div _ngcontent-jch-c106="" class="handle-button line-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jch-c106="" class="handle-button theme-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jch-c106="" class="handle-button copy-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jch-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> xml =</li><li>    <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;'</span> +</li><li>    <span class="hljs-string">'&lt;note importance="high" logged="true"&gt;'</span> +</li><li>    <span class="hljs-string">'   &lt;title&gt;Hello\r\nWorld&lt;/title&gt;'</span> +</li><li>    <span class="hljs-string">'   &lt;todo&gt;&lt;![CDATA[Work\r\n]]&gt;&lt;/todo&gt;'</span> +</li><li>    <span class="hljs-string">'&lt;/note&gt;'</span>;</li><li>  <span class="hljs-keyword">let</span> conv = <span class="hljs-keyword">new</span> convertxml.<span class="hljs-title class_">ConvertXML</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: convertxml.<span class="hljs-property">ConvertOptions</span> = {</li><li>    <span class="hljs-attr">trim</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">declarationKey</span>: <span class="hljs-string">"_declaration"</span>,</li><li>    <span class="hljs-attr">instructionKey</span>: <span class="hljs-string">"_instruction"</span>, <span class="hljs-attr">attributesKey</span>: <span class="hljs-string">"_attributes"</span>,</li><li>    <span class="hljs-attr">textKey</span>: <span class="hljs-string">"_text"</span>, <span class="hljs-attr">cdataKey</span>: <span class="hljs-string">"_cdata"</span>, <span class="hljs-attr">doctypeKey</span>: <span class="hljs-string">"_doctype"</span>,</li><li>    <span class="hljs-attr">commentKey</span>: <span class="hljs-string">"_comment"</span>, <span class="hljs-attr">parentKey</span>: <span class="hljs-string">"_parent"</span>, <span class="hljs-attr">typeKey</span>: <span class="hljs-string">"_type"</span>,</li><li>    <span class="hljs-attr">nameKey</span>: <span class="hljs-string">"_name"</span>, <span class="hljs-attr">elementsKey</span>: <span class="hljs-string">"_elements"</span></li><li>  }</li><li>  <span class="hljs-keyword">let</span> result = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(conv.<span class="hljs-title function_">fastConvertToJSObject</span>(xml, options));</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result);</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>((e <span class="hljs-keyword">as</span> <span class="hljs-title class_">Object</span>).<span class="hljs-title function_">toString</span>());</li><li>}</li><li><span class="hljs-comment">// 输出(宽泛型)</span></li><li><span class="hljs-comment">// {"_declaration":{"_attributes":{"version":"1.0","encoding":"utf-8"}},"_elements":[{"_type":"element","_name":"note","_attributes":{"importance":"high","logged":"true"},"_elements":[{"_type":"element","_name":"title","_elements":[{"_type":"text","_text":"Hello\nWorld"}]},{"_type":"element","_name":"todo","_elements":[{"_type":"cdata","_cdata":"Work\n"}]}]}]}</span></li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="converttojsobjectdeprecated" device-type="phone,2in1,tablet,wearable,tv">convertToJSObject<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="converttojsobjectdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>convertToJSObject(xml: string, options?: ConvertOptions) : Object</p>     <p>转换xml文本为Object类型对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 14开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-convertxml#fastconverttojsobject14">fastConvertToJSObject<sup>14+</sup></a>替代。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">xml</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的xml文本，若包含“&amp;”字符，请使用实体引用“&amp;amp;”替换。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-convertxml#convertoptions">ConvertOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">转换选项，默认值是ConvertOptions对象，由其中各个属性的默认值组成。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Object</td>         <td class="cellrowborder" width="50%">处理后返回的JavaScript对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-utils">语言基础类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">10200002</td>         <td class="cellrowborder" width="50%">Invalid xml string.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jch-c106="" class="highlight-div"><div _ngcontent-jch-c106="" class="highlight-div-header"><div _ngcontent-jch-c106="" class="highlight-div-header-left"><div _ngcontent-jch-c106="" class="handle-button expand-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jch-c106="" class="highlight-div-header-right"><div _ngcontent-jch-c106="" class="handle-button ai-button"></div><div _ngcontent-jch-c106="" class="handle-button line-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jch-c106="" class="handle-button theme-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jch-c106="" class="handle-button copy-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jch-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> xml =</li><li>    <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;'</span> +</li><li>      <span class="hljs-string">'&lt;note importance="high" logged="true"&gt;'</span> +</li><li>      <span class="hljs-string">'    &lt;title&gt;Happy&lt;/title&gt;'</span> +</li><li>      <span class="hljs-string">'    &lt;todo&gt;Work&lt;/todo&gt;'</span> +</li><li>      <span class="hljs-string">'    &lt;todo&gt;Play&lt;/todo&gt;'</span> +</li><li>      <span class="hljs-string">'&lt;/note&gt;'</span>;</li><li>  <span class="hljs-keyword">let</span> conv = <span class="hljs-keyword">new</span> convertxml.<span class="hljs-title class_">ConvertXML</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: convertxml.<span class="hljs-property">ConvertOptions</span> = {</li><li>    <span class="hljs-attr">trim</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">declarationKey</span>: <span class="hljs-string">"_declaration"</span>,</li><li>    <span class="hljs-attr">instructionKey</span>: <span class="hljs-string">"_instruction"</span>, <span class="hljs-attr">attributesKey</span>: <span class="hljs-string">"_attributes"</span>,</li><li>    <span class="hljs-attr">textKey</span>: <span class="hljs-string">"_text"</span>, <span class="hljs-attr">cdataKey</span>: <span class="hljs-string">"_cdata"</span>, <span class="hljs-attr">doctypeKey</span>: <span class="hljs-string">"_doctype"</span>,</li><li>    <span class="hljs-attr">commentKey</span>: <span class="hljs-string">"_comment"</span>, <span class="hljs-attr">parentKey</span>: <span class="hljs-string">"_parent"</span>, <span class="hljs-attr">typeKey</span>: <span class="hljs-string">"_type"</span>,</li><li>    <span class="hljs-attr">nameKey</span>: <span class="hljs-string">"_name"</span>, <span class="hljs-attr">elementsKey</span>: <span class="hljs-string">"_elements"</span></li><li>  }</li><li>  <span class="hljs-keyword">let</span> result = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(conv.<span class="hljs-title function_">convertToJSObject</span>(xml, options));</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result);</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>((e <span class="hljs-keyword">as</span> <span class="hljs-title class_">Object</span>).<span class="hljs-title function_">toString</span>());</li><li>}</li><li><span class="hljs-comment">// 输出(宽泛型)</span></li><li><span class="hljs-comment">// {"_declaration":{"_attributes":{"version":"1.0","encoding":"utf-8"}},"_elements":[{"_type":"element","_name":"note","_attributes":{"importance":"high","logged":"true"},"_elements":[{"_type":"element","_name":"title","_elements":[{"_type":"text","_text":"Happy"}]},{"_type":"element","_name":"todo","_elements":[{"_type":"text","_text":"Work"}]},{"_type":"element","_name":"todo","_elements":[{"_type":"text","_text":"Play"}]}]}]}</span></li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="convertdeprecated" device-type="phone,2in1,tablet,wearable,tv">convert<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>convert(xml: string, options?: ConvertOptions) : Object</p>     <p>转换xml文本为JavaScript对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-convertxml#fastconverttojsobject14">fastConvertToJSObject<sup>14+</sup></a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">xml</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的xml文本。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-convertxml#convertoptions">ConvertOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">转换选项，默认值是ConvertOptions对象，由其中各个属性的默认值组成。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Object</td>         <td class="cellrowborder" width="50%">处理后返回的JavaScript对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jch-c106="" class="highlight-div"><div _ngcontent-jch-c106="" class="highlight-div-header"><div _ngcontent-jch-c106="" class="highlight-div-header-left"><div _ngcontent-jch-c106="" class="handle-button expand-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jch-c106="" class="highlight-div-header-right"><div _ngcontent-jch-c106="" class="handle-button ai-button"></div><div _ngcontent-jch-c106="" class="handle-button line-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jch-c106="" class="handle-button theme-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jch-c106="" class="handle-button copy-button"><div _ngcontent-jch-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jch-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> xml =</li><li>  <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;'</span> +</li><li>    <span class="hljs-string">'&lt;note importance="high" logged="true"&gt;'</span> +</li><li>    <span class="hljs-string">'    &lt;title&gt;Happy&lt;/title&gt;'</span> +</li><li>    <span class="hljs-string">'    &lt;todo&gt;Work&lt;/todo&gt;'</span> +</li><li>    <span class="hljs-string">'    &lt;todo&gt;Play&lt;/todo&gt;'</span> +</li><li>    <span class="hljs-string">'&lt;/note&gt;'</span>;</li><li><span class="hljs-keyword">let</span> conv = <span class="hljs-keyword">new</span> convertxml.<span class="hljs-title class_">ConvertXML</span>();</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: convertxml.<span class="hljs-property">ConvertOptions</span> = {trim : <span class="hljs-literal">false</span>, <span class="hljs-attr">declarationKey</span>:<span class="hljs-string">"_declaration"</span>,</li><li>  instructionKey : <span class="hljs-string">"_instruction"</span>, attributesKey : <span class="hljs-string">"_attributes"</span>,</li><li>  textKey : <span class="hljs-string">"_text"</span>, <span class="hljs-attr">cdataKey</span>:<span class="hljs-string">"_cdata"</span>, doctypeKey : <span class="hljs-string">"_doctype"</span>,</li><li>  commentKey : <span class="hljs-string">"_comment"</span>, parentKey : <span class="hljs-string">"_parent"</span>, typeKey : <span class="hljs-string">"_type"</span>,</li><li>  nameKey : <span class="hljs-string">"_name"</span>, elementsKey : <span class="hljs-string">"_elements"</span>}</li><li><span class="hljs-keyword">let</span> result = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(conv.<span class="hljs-title function_">convert</span>(xml, options));</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result);</li><li><span class="hljs-comment">// 输出(宽泛型)</span></li><li><span class="hljs-comment">// {"_declaration":{"_attributes":{"version":"1.0","encoding":"utf-8"}},"_elements":[{"_type":"element","_name":"note","_attributes":{"importance":"high","logged":"true"},"_elements":[{"_type":"element","_name":"title","_elements":[{"_type":"text","_text":"Happy"}]},{"_type":"element","_name":"todo","_elements":[{"_type":"text","_text":"Work"}]},{"_type":"element","_name":"todo","_elements":[{"_type":"text","_text":"Play"}]}]}]}</span></li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="convertoptions" device-type="phone,2in1,tablet,wearable,tv">ConvertOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>转换选项。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">trim</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是否修剪位于文本前后的空白字符，true表示xml文本前后的空白字符将会被修剪，false则表示空白字符会被保留。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ignoreDeclaration</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否忽略xml写入声明指示，true表示忽略xml写入声明指示，false则相反，默认false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ignoreInstruction</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否忽略xml的写入处理指令，true表示忽略xml的写入处理指令，false则相反，默认false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ignoreAttributes</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否忽略元素的属性信息，true表示忽略元素的属性信息，false则相反，默认false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ignoreComment</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否忽略元素的注释信息，true表示忽略元素的注释信息，false则相反，默认false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ignoreCDATA</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否忽略元素的CDATA信息，true表示忽略元素的CDATA信息，false则相反，默认false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ignoreDoctype</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否忽略元素的Doctype信息，true表示忽略元素的Doctype信息，false则相反，默认false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ignoreText</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否忽略元素的文本信息，true表示忽略元素的文本信息，false则相反，默认false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">declarationKey</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于输出对象中declaration的属性键的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">instructionKey</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于输出对象中instruction的属性键的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">attributesKey</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于输出对象中attributes的属性键的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">textKey</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于输出对象中text的属性键的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">cdataKey</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于输出对象中cdata的属性键的名称</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">doctypeKey</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于输出对象中doctype的属性键的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">commentKey</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于输出对象中comment的属性键的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">parentKey</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于输出对象中parent的属性键的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">typeKey</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于输出对象中type的属性键的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">nameKey</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于输出对象中name的属性键的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">elementsKey</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于输出对象中elements的属性键的名称。</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>