<h1 _ngcontent-bnt-c119="" class="doc-title ng-star-inserted" title="@ohos.data.distributedDataObject (分布式数据对象)"> @ohos.data.distributedDataObject (分布式数据对象) </h1>

<div _ngcontent-bnt-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>本模块提供管理基本数据对象的相关能力，包括创建、查询、删除、修改、订阅等；同时支持相同应用多设备间的分布式数据对象协同能力。分布式数据对象处理数据时，不会解析用户数据的内容，存储路径安全性较低，不建议传输个人敏感数据和隐私数据。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 8开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { distributedDataObject } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="distributeddataobjectcreate9" device-type="phone,2in1,tablet,wearable,tv">distributedDataObject.create<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="distributeddataobjectcreate9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>create(context: Context, source: object): DataObject</p>     <p>创建一个分布式数据对象。对象属性支持基本类型（数字类型、布尔类型和字符串类型）以及复杂类型（数组、基本类型嵌套）。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%">Context</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>应用的上下文。</p>          <p>FA模型的应用Context定义见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-app-context">Context</a>。</p>          <p>Stage模型的应用Context定义见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext">Context</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">source</td>         <td class="cellrowborder" width="25%">object</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置分布式数据对象的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#dataobject">DataObject</a></td>         <td class="cellrowborder" width="50%">创建完成的分布式数据对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>FA模型示例：</p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 导入模块</span></li><li><span class="hljs-keyword">import</span> { featureAbility } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// 获取context</span></li><li><span class="hljs-keyword">let</span> context = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SourceObject</span> {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></li><li>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span></li><li>    <span class="hljs-attr">isVis</span>: <span class="hljs-built_in">boolean</span></li><li>
</li><li>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span>, isVis: <span class="hljs-built_in">boolean</span></span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isVis</span> = isVis;</li><li>    }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">source</span>: <span class="hljs-title class_">SourceObject</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SourceObject</span>(<span class="hljs-string">"jack"</span>, <span class="hljs-number">18</span>, <span class="hljs-literal">false</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">g_object</span>: distributedDataObject.<span class="hljs-property">DataObject</span> = distributedDataObject.<span class="hljs-title function_">create</span>(context, source);</li></ol></pre></div></div>     <p>Stage模型示例：</p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 导入模块</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">g_object</span>: distributedDataObject.<span class="hljs-property">DataObject</span>|<span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SourceObject</span> {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></li><li>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span></li><li>    <span class="hljs-attr">isVis</span>: <span class="hljs-built_in">boolean</span></li><li>
</li><li>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span>, isVis: <span class="hljs-built_in">boolean</span></span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isVis</span> = isVis;</li><li>    }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>    <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">source</span>: <span class="hljs-title class_">SourceObject</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SourceObject</span>(<span class="hljs-string">"jack"</span>, <span class="hljs-number">18</span>, <span class="hljs-literal">false</span>);</li><li>        g_object = distributedDataObject.<span class="hljs-title function_">create</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, source);</li><li>    }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="distributeddataobjectgensessionid" device-type="phone,2in1,tablet,wearable,tv">distributedDataObject.genSessionId<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="distributeddataobjectgensessionid" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>genSessionId(): string</p>     <p>随机创建一个sessionId。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">随机创建的sessionId。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">sessionId</span>: <span class="hljs-built_in">string</span> = distributedDataObject.<span class="hljs-title function_">genSessionId</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="savesuccessresponse9" device-type="phone,2in1,tablet,wearable,tv">SaveSuccessResponse<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="savesuccessresponse9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#save9">save</a>接口回调信息。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">sessionId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">多设备协同的唯一标识。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">version</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">已保存对象的版本，取值为非负整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">deviceId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">存储数据的设备号，标识需要保存对象的设备。"local"表示本地设备，否则表示其他设备的设备号。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="revokesavesuccessresponse9" device-type="phone,2in1,tablet,wearable,tv">RevokeSaveSuccessResponse<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="revokesavesuccessresponse9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#revokesave9">revokeSave</a>接口回调信息。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">sessionId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">多设备协同的唯一标识。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="bindinfo11" device-type="phone,2in1,tablet,wearable,tv">BindInfo<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindinfo11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>数据库的绑定信息。当前版本只支持关系型数据库的绑定。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">storeName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">待绑定资产在所属的数据库中的库名。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">tableName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">待绑定资产在所属的数据库中的表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">primaryKey</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-commontype#valuesbucket">commonType.ValuesBucket</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">待绑定资产在所属的数据库中的主键。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">field</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">待绑定资产在所属的数据库中的列名。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">assetName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">待绑定资产在所属的数据库中的资产名。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="dataobserver20" device-type="phone,2in1,tablet,wearable,tv">DataObserver<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dataobserver20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type DataObserver = (sessionId: string, fields: Array&lt;string&gt;) =&gt; void</p>     <p>定义获取分布式对象数据变更的监听回调函数。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sessionId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">标识变更对象的sessionId。长度需小于128字节，且只能包含字母、数字或下划线_。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">fields</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">标识对象变更的属性名。属性名可自定义，要求字符串非空且长度不超过128字节。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="statusobserver20" device-type="phone,2in1,tablet,wearable,tv">StatusObserver<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="statusobserver20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type StatusObserver = (sessionId: string, networkId: string, status: string) =&gt; void</p>     <p>定义获取分布式对象状态变更的监听回调函数。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sessionId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">标识变更对象的sessionId。长度不大于128字节，且只能包含字母、数字或下划线_。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">networkId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">对端设备的网络标识。要求字符串非空且长度不超过255字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">status</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">标识分布式对象的状态，可能的取值有'online'（上线）、'offline'（下线）和'restore'（恢复）。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="progressobserver20" device-type="phone,2in1,tablet,wearable,tv">ProgressObserver<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="progressobserver20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ProgressObserver = (sessionId: string, progress: number) =&gt; void</p>     <p>定义传输进度的监听回调函数。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sessionId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">标识变更对象的sessionId。长度不大于128字节，且只能包含字母、数字或下划线_。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">progress</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">标识资产传输进度。取值范围为[-1, 100]，取值为整数，-1表示获取进度失败，100表示传输完成。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="dataobject" device-type="phone,2in1,tablet,wearable,tv">DataObject<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dataobject" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示一个分布式数据对象。在使用以下接口前，需调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#distributeddataobjectcreate9">create()</a>获取DataObject对象。</p>    </div>    <div class="tiledSection">     <h3 id="setsessionid9" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">setSessionId<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsessionid9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSessionId(sessionId: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置sessionId，使用callback方式异步回调。当可信组网中有多个设备处于协同状态时，如果多个设备间的分布式对象设置为同一个sessionId，就能自动同步。</p>     <p><strong>需要权限：</strong> ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sessionId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">分布式数据对象在可信组网中的标识ID，长度不大于128，且只能包含字母数字或下划线_。当传入""、null时表示退出分布式组网。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">加入session的异步回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-distributed-dataobject">分布式数据对象错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Incorrect parameter types; 2. The sessionId allows only letters, digits, and underscores(_), and cannot exceed 128 in length.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">15400001</td>         <td class="cellrowborder" width="50%">Failed to create the in-memory database.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// g_object加入分布式组网</span></li><li>g_object.<span class="hljs-title function_">setSessionId</span>(distributedDataObject.<span class="hljs-title function_">genSessionId</span>(), <span class="hljs-function">()=&gt;</span>{</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"join session"</span>);</li><li>});</li><li><span class="hljs-comment">// g_object退出分布式组网</span></li><li>g_object.<span class="hljs-title function_">setSessionId</span>(<span class="hljs-string">""</span>, <span class="hljs-function">()=&gt;</span>{</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"leave all session"</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="setsessionid9-1" device-type="phone,2in1,tablet,wearable,tv">setSessionId<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsessionid9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSessionId(callback: AsyncCallback&lt;void&gt;): void</p>     <p>退出所有已加入的session，使用callback方式异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">退出所有已加入session的异步回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-distributed-dataobject">分布式数据对象错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">15400001</td>         <td class="cellrowborder" width="50%">Failed to create the in-memory database.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// g_object加入分布式组网</span></li><li>g_object.<span class="hljs-title function_">setSessionId</span>(distributedDataObject.<span class="hljs-title function_">genSessionId</span>(), <span class="hljs-function">()=&gt;</span>{</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"join session"</span>);</li><li>});</li><li><span class="hljs-comment">// 退出分布式组网</span></li><li>g_object.<span class="hljs-title function_">setSessionId</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"leave all session."</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="setsessionid9-2" device-type="phone,2in1,tablet,wearable,tv">setSessionId<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsessionid9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSessionId(sessionId?: string): Promise&lt;void&gt;</p>     <p>设置sessionId或退出分布式组网，使用Promise异步回调。当传入""、null或不传入参数时，表示退出分布式组网。当可信组网中有多个设备处于协同状态时，如果多个设备间的分布式对象设置为同一个sessionId，就能自动同步。</p>     <p><strong>需要权限：</strong> ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sessionId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">分布式数据对象在可信组网中的标识ID，长度不大于128，且只能包含字母数字或下划线_。当传入""、null或不传入参数时表示退出分布式组网。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-distributed-dataobject">分布式数据对象错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Incorrect parameter types; 2. The sessionId allows only letters, digits, and underscores(_), and cannot exceed 128 in length.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">15400001</td>         <td class="cellrowborder" width="50%">Failed to create the in-memory database.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// g_object加入分布式组网</span></li><li>g_object.<span class="hljs-title function_">setSessionId</span>(distributedDataObject.<span class="hljs-title function_">genSessionId</span>()).<span class="hljs-property">then</span> (<span class="hljs-function">()=&gt;</span>{</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"join session."</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>)=&gt;</span>{</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"error:"</span> + error.<span class="hljs-property">code</span> + error.<span class="hljs-property">message</span>);</li><li>});</li><li><span class="hljs-comment">// 退出分布式组网</span></li><li>g_object.<span class="hljs-title function_">setSessionId</span>().<span class="hljs-property">then</span> (<span class="hljs-function">()=&gt;</span>{</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"leave all session."</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>)=&gt;</span>{</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"error:"</span> + error.<span class="hljs-property">code</span> + error.<span class="hljs-property">message</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="onchange9" device-type="phone,2in1,tablet,wearable,tv">on('change')<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onchange9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'change', callback: (sessionId: string, fields: Array&lt;string&gt;) =&gt; void): void</p>     <p>监听分布式数据对象的数据变更。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'change'，表示数据变更。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(sessionId: string, fields: Array&lt;string&gt;) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>变更回调对象实例。</p>          <p>sessionId：标识变更对象的sessionId；</p>          <p>fields：标识对象变更的属性名。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"change"</span>, <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, fields: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"change"</span> + sessionId);</li><li>    <span class="hljs-keyword">if</span> (g_object != <span class="hljs-literal">null</span> &amp;&amp; fields != <span class="hljs-literal">null</span> &amp;&amp; fields != <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>; index &lt; fields.<span class="hljs-property">length</span>; index++) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"changed !"</span> + fields[index] + <span class="hljs-string">" "</span> + g_object[fields[index]]);</li><li>        }</li><li>    }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="offchange9" device-type="phone,2in1,tablet,wearable,tv">off('change')<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offchange9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'change', callback?: (sessionId: string, fields: Array&lt;string&gt;) =&gt; void): void</p>     <p>当不再进行数据变更监听时，使用此接口删除对象的变更监听。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'change'，表示数据变更。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(sessionId: string, fields: Array&lt;string&gt;) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>需要删除的数据变更回调，若不设置则删除该对象所有的数据变更回调。</p>          <p>sessionId：标识变更对象的sessionId；</p>          <p>fields：标识对象变更的属性名。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 删除数据变更回调changeCallback</span></li><li>g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"change"</span>, <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, fields: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"change"</span> + sessionId);</li><li>    <span class="hljs-keyword">if</span> (g_object != <span class="hljs-literal">null</span> &amp;&amp; fields != <span class="hljs-literal">null</span> &amp;&amp; fields != <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>; index &lt; fields.<span class="hljs-property">length</span>; index++) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"changed !"</span> + fields[index] + <span class="hljs-string">" "</span> + g_object[fields[index]]);</li><li>        }</li><li>    }</li><li>});</li><li><span class="hljs-comment">// 删除所有的数据变更回调</span></li><li>g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"change"</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="onstatus9" device-type="phone,2in1,tablet,wearable,tv">on('status')<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onstatus9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'status', callback: (sessionId: string, networkId: string, status: 'online' | 'offline' ) =&gt; void): void</p>     <p>监听分布式数据对象的上下线。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'status'，表示对象上下线。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(sessionId: string, networkId: string, status: 'online' | 'offline' ) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>监听上下线回调实例。</p>          <p>sessionId：标识变更对象的sessionId；</p>          <p>networkId：标识对象设备；</p>          <p>status：标识对象为'online'(上线)或'offline'(下线)的状态。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"status"</span>, <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, networkId: <span class="hljs-built_in">string</span>, status: <span class="hljs-string">'online'</span> | <span class="hljs-string">'offline'</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"status changed "</span> + sessionId + <span class="hljs-string">" "</span> + status + <span class="hljs-string">" "</span> + networkId);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="offstatus9" device-type="phone,2in1,tablet,wearable,tv">off('status')<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offstatus9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'status', callback?:(sessionId: string, networkId: string, status: 'online' | 'offline') =&gt; void): void</p>     <p>当不再进行对象上下线监听时，使用此接口删除对象的上下线监听。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'status'，表示对象上下线。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(sessionId: string, networkId: string, status: 'online' | 'offline' ) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>需要删除的上下线回调，若不设置则删除该对象所有的上下线回调。</p>          <p>sessionId：标识变更对象的sessionId；</p>          <p>networkId：标识变更对象；</p>          <p>status：标识对象为'online'(上线)或'offline'(下线)的状态。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 删除上下线回调changeCallback</span></li><li>g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"status"</span>, <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, networkId: <span class="hljs-built_in">string</span>, status: <span class="hljs-string">'online'</span> | <span class="hljs-string">'offline'</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"status changed "</span> + sessionId + <span class="hljs-string">" "</span> + status + <span class="hljs-string">" "</span> + networkId);</li><li>});</li><li><span class="hljs-comment">// 删除所有的上下线回调</span></li><li>g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"status"</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="save9" device-type="phone,2in1,tablet,wearable,tv">save<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="save9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>save(deviceId: string, callback: AsyncCallback&lt;SaveSuccessResponse&gt;): void</p>     <p>保存分布式数据对象。使用callback方式异步回调。</p>     <p>对象数据保存成功后，当应用存在时不会释放对象数据，当应用退出后，重新进入应用时，恢复保存在设备上的数据。</p>     <p>有以下几种情况时，保存的数据将会被释放：</p>     <ul>      <li>存储时间超过24小时。</li>      <li>应用卸载。</li>      <li>成功恢复数据之后。</li>     </ul>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存数据的deviceId，当deviceId为"local"，代表存储在本地设备。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#savesuccessresponse9">SaveSuccessResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回SaveSuccessResponse，包含sessionId、version、deviceId等信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>g_object.<span class="hljs-title function_">setSessionId</span>(<span class="hljs-string">"123456"</span>);</li><li>g_object.<span class="hljs-title function_">save</span>(<span class="hljs-string">"local"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, result:distributedDataObject.SaveSuccessResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"save failed, error code = "</span> + err.<span class="hljs-property">code</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"save failed, error message: "</span> + err.<span class="hljs-property">message</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save callback"</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save sessionId: "</span> + result.<span class="hljs-property">sessionId</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save version: "</span> + result.<span class="hljs-property">version</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save deviceId:  "</span> + result.<span class="hljs-property">deviceId</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="save9-1" device-type="phone,2in1,tablet,wearable,tv">save<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="save9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>save(deviceId: string): Promise&lt;SaveSuccessResponse&gt;</p>     <p>保存分布式数据对象。使用Promise方式作为异步回调。</p>     <p>对象数据保存成功后，当应用存在时不会释放对象数据，当应用退出后，重新进入应用时，恢复保存在设备上的数据。</p>     <p>有以下几种情况时，保存的数据将会被释放：</p>     <ul>      <li>存储时间超过24小时。</li>      <li>应用卸载。</li>      <li>成功恢复数据之后。</li>     </ul>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存数据的设备号，当deviceId默认为"local"，标识需要保存对象的设备。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#savesuccessresponse9">SaveSuccessResponse</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回SaveSuccessResponse，包含sessionId、version、deviceId等信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>g_object.<span class="hljs-title function_">setSessionId</span>(<span class="hljs-string">"123456"</span>);</li><li>g_object.<span class="hljs-title function_">save</span>(<span class="hljs-string">"local"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">callbackInfo: distributedDataObject.SaveSuccessResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save callback"</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save sessionId "</span> + callbackInfo.<span class="hljs-property">sessionId</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save version "</span> + callbackInfo.<span class="hljs-property">version</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save deviceId "</span> + callbackInfo.<span class="hljs-property">deviceId</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"save failed, error code = "</span> + err.<span class="hljs-property">code</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"save failed, error message: "</span> + err.<span class="hljs-property">message</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="revokesave9" device-type="phone,2in1,tablet,wearable,tv">revokeSave<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="revokesave9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>revokeSave(callback: AsyncCallback&lt;RevokeSaveSuccessResponse&gt;): void</p>     <p>撤回保存的分布式数据对象。使用callback方式作为异步方法。</p>     <p>如果对象保存在本地设备，那么将删除所有受信任设备上所保存的数据。</p>     <p>如果对象保存在其他设备，那么将删除本地设备上的数据。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#revokesavesuccessresponse9">RevokeSaveSuccessResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回RevokeSaveSuccessResponse，包含sessionId。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>g_object.<span class="hljs-title function_">setSessionId</span>(<span class="hljs-string">"123456"</span>);</li><li><span class="hljs-comment">// 持久化数据</span></li><li>g_object.<span class="hljs-title function_">save</span>(<span class="hljs-string">"local"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, result: distributedDataObject.SaveSuccessResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"save failed, error code = "</span> + err.<span class="hljs-property">code</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"save failed, error message: "</span> + err.<span class="hljs-property">message</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save callback"</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save sessionId: "</span> + result.<span class="hljs-property">sessionId</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save version: "</span> + result.<span class="hljs-property">version</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save deviceId:  "</span> + result.<span class="hljs-property">deviceId</span>);</li><li>});</li><li><span class="hljs-comment">// 删除持久化保存的数据</span></li><li>g_object.<span class="hljs-title function_">revokeSave</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, result: distributedDataObject.RevokeSaveSuccessResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"revokeSave failed, error code = "</span> + err.<span class="hljs-property">code</span>);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"revokeSave failed, error message: "</span> + err.<span class="hljs-property">message</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"revokeSave callback"</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"revokeSave sessionId "</span> + result.<span class="hljs-property">sessionId</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="revokesave9-1" device-type="phone,2in1,tablet,wearable,tv">revokeSave<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="revokesave9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>revokeSave(): Promise&lt;RevokeSaveSuccessResponse&gt;</p>     <p>撤回保存的分布式数据对象。使用Promise方式作为异步方法。</p>     <p>如果对象保存在本地设备，那么将删除所有受信任设备上所保存的数据。</p>     <p>如果对象保存在其他设备，那么将删除本地设备上的数据。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#revokesavesuccessresponse9">RevokeSaveSuccessResponse</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回RevokeSaveSuccessResponse，包含sessionId。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>g_object.<span class="hljs-title function_">setSessionId</span>(<span class="hljs-string">"123456"</span>);</li><li><span class="hljs-comment">// 持久化数据</span></li><li>g_object.<span class="hljs-title function_">save</span>(<span class="hljs-string">"local"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: distributedDataObject.SaveSuccessResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save callback"</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save sessionId "</span> + result.<span class="hljs-property">sessionId</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save version "</span> + result.<span class="hljs-property">version</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"save deviceId "</span> + result.<span class="hljs-property">deviceId</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"save failed, error code = "</span> + err.<span class="hljs-property">code</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"save failed, error message: "</span> + err.<span class="hljs-property">message</span>);</li><li>});</li><li><span class="hljs-comment">// 删除持久化保存的数据</span></li><li>g_object.<span class="hljs-title function_">revokeSave</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: distributedDataObject.RevokeSaveSuccessResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"revokeSave callback"</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"sessionId"</span> + result.<span class="hljs-property">sessionId</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>)=&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"revokeSave failed, error code = "</span> + err.<span class="hljs-property">code</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"revokeSave failed, error message = "</span> + err.<span class="hljs-property">message</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="bindassetstore11" device-type="phone,2in1,tablet,wearable,tv">bindAssetStore<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindassetstore11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindAssetStore(assetKey: string, bindInfo: BindInfo, callback: AsyncCallback&lt;void&gt;): void</p>     <p>绑定分布式对象中的单个资产与其对应的数据库信息，当前版本只支持分布式对象中的资产与关系型数据库的绑定。使用callback方式异步回调。</p>     <p>当分布式对象中包含的资产和关系型数据库中包含的资产指向同一个实体资产文件，即两个资产的Uri相同时，就会存在冲突，我们把这种资产称为融合资产。如果需要分布式数据管理进行融合资产的冲突解决，需要先进行资产的绑定。当应用退出session后，绑定关系随之消失。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">assetKey</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待绑定的融合资产在分布式对象中的键值。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">bindInfo</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#bindinfo11">BindInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待绑定的融合资产在数据库中的信息，包含库名、表名、主键、列名及在数据库中的资产名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定数据库的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { commonType } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Note</span> {</li><li>  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span></li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span></li><li>  <span class="hljs-attr">attachment</span>: commonType.<span class="hljs-property">Asset</span> | <span class="hljs-literal">undefined</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">title: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>, text: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>, attachment: commonType.Asset | <span class="hljs-literal">undefined</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">title</span> = title;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">attachment</span> = attachment;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">attachment</span>: commonType.<span class="hljs-property">Asset</span> = {</li><li>      <span class="hljs-attr">name</span>: <span class="hljs-string">'test_img.jpg'</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'file://com.example.myapplication/data/storage/el2/distributedfiles/dir/test_img.jpg'</span>,</li><li>      <span class="hljs-attr">path</span>: <span class="hljs-string">'/dir/test_img.jpg'</span>,</li><li>      <span class="hljs-attr">createTime</span>: <span class="hljs-string">'2024-01-02 10:00:00'</span>,</li><li>      <span class="hljs-attr">modifyTime</span>: <span class="hljs-string">'2024-01-02 10:00:00'</span>,</li><li>      <span class="hljs-attr">size</span>: <span class="hljs-string">'5'</span>,</li><li>      <span class="hljs-attr">status</span>: commonType.<span class="hljs-property">AssetStatus</span>.<span class="hljs-property">ASSET_NORMAL</span></li><li>    }</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">note</span>: <span class="hljs-title class_">Note</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Note</span>(<span class="hljs-string">'test'</span>, <span class="hljs-string">'test'</span>, attachment);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">g_object</span>: distributedDataObject.<span class="hljs-property">DataObject</span> = distributedDataObject.<span class="hljs-title function_">create</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, note);</li><li>    g_object.<span class="hljs-title function_">setSessionId</span>(<span class="hljs-string">'123456'</span>);</li><li>
</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">bindInfo</span>: distributedDataObject.<span class="hljs-property">BindInfo</span> = {</li><li>      <span class="hljs-attr">storeName</span>: <span class="hljs-string">'notepad'</span>,</li><li>      <span class="hljs-attr">tableName</span>: <span class="hljs-string">'note_t'</span>,</li><li>      <span class="hljs-attr">primaryKey</span>: {</li><li>        <span class="hljs-string">'uuid'</span>: <span class="hljs-string">'00000000-0000-0000-0000-000000000000'</span></li><li>      },</li><li>      <span class="hljs-attr">field</span>: <span class="hljs-string">'attachment'</span>,</li><li>      <span class="hljs-attr">assetName</span>: attachment.<span class="hljs-property">name</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span></li><li>    }</li><li>
</li><li>    g_object.<span class="hljs-title function_">bindAssetStore</span>(<span class="hljs-string">'attachment'</span>, bindInfo, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'bindAssetStore failed.'</span>);</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bindAssetStore success.'</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="bindassetstore11-1" device-type="phone,2in1,tablet,wearable,tv">bindAssetStore<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindassetstore11-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindAssetStore(assetKey: string, bindInfo: BindInfo): Promise&lt;void&gt;</p>     <p>绑定分布式对象中的单个资产与其对应的数据库信息，当前版本只支持分布式对象中的资产与关系型数据库的绑定。使用Promise方式作为异步回调。</p>     <p>当分布式对象中包含的资产和关系型数据库中包含的资产指向同一个实体资产文件，即两个资产的Uri相同时，就会存在冲突，我们把这种资产称为融合资产。如果需要分布式数据管理进行融合资产的冲突解决，需要先进行资产的绑定。当应用退出session后，绑定关系随之消失。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">assetKey</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待绑定的融合资产在分布式对象中的键值。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">bindInfo</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#bindinfo11">BindInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待绑定的融合资产在数据库中的信息，包含库名、表名、主键、列名及在数据库中的资产名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { commonType } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Note</span> {</li><li>  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span></li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span></li><li>  <span class="hljs-attr">attachment</span>: commonType.<span class="hljs-property">Asset</span> | <span class="hljs-literal">undefined</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">title: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>, text: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>, attachment: commonType.Asset | <span class="hljs-literal">undefined</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">title</span> = title;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">attachment</span> = attachment;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">attachment</span>: commonType.<span class="hljs-property">Asset</span> = {</li><li>      <span class="hljs-attr">name</span>: <span class="hljs-string">'test_img.jpg'</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'file://com.example.myapplication/data/storage/el2/distributedfiles/dir/test_img.jpg'</span>,</li><li>      <span class="hljs-attr">path</span>: <span class="hljs-string">'/dir/test_img.jpg'</span>,</li><li>      <span class="hljs-attr">createTime</span>: <span class="hljs-string">'2024-01-02 10:00:00'</span>,</li><li>      <span class="hljs-attr">modifyTime</span>: <span class="hljs-string">'2024-01-02 10:00:00'</span>,</li><li>      <span class="hljs-attr">size</span>: <span class="hljs-string">'5'</span>,</li><li>      <span class="hljs-attr">status</span>: commonType.<span class="hljs-property">AssetStatus</span>.<span class="hljs-property">ASSET_NORMAL</span></li><li>    }</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">note</span>: <span class="hljs-title class_">Note</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Note</span>(<span class="hljs-string">'test'</span>, <span class="hljs-string">'test'</span>, attachment);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">g_object</span>: distributedDataObject.<span class="hljs-property">DataObject</span> = distributedDataObject.<span class="hljs-title function_">create</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, note);</li><li>    g_object.<span class="hljs-title function_">setSessionId</span>(<span class="hljs-string">'123456'</span>);</li><li>
</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">bindInfo</span>: distributedDataObject.<span class="hljs-property">BindInfo</span> = {</li><li>      <span class="hljs-attr">storeName</span>: <span class="hljs-string">'notepad'</span>,</li><li>      <span class="hljs-attr">tableName</span>: <span class="hljs-string">'note_t'</span>,</li><li>      <span class="hljs-attr">primaryKey</span>: {</li><li>        <span class="hljs-string">'uuid'</span>: <span class="hljs-string">'00000000-0000-0000-0000-000000000000'</span></li><li>      },</li><li>      <span class="hljs-attr">field</span>: <span class="hljs-string">'attachment'</span>,</li><li>      <span class="hljs-attr">assetName</span>: attachment.<span class="hljs-property">name</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span></li><li>    }</li><li>
</li><li>    g_object.<span class="hljs-title function_">bindAssetStore</span>(<span class="hljs-string">"attachment"</span>, bindInfo).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bindAssetStore success.'</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"bindAssetStore failed, error code = "</span> + err.<span class="hljs-property">code</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="onchange20" device-type="phone,2in1,tablet,wearable,tv">on('change')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onchange20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'change', callback: DataObserver): void</p>     <p>监听分布式对象的数据变更。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'change'，表示数据变更。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#dataobserver20">DataObserver</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示分布式对象数据变更的回调实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">changeCallback1</span>: distributedDataObject.<span class="hljs-property">DataObserver</span> = <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, fields: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"change callback1 "</span> + sessionId);</li><li>  <span class="hljs-keyword">if</span> (fields != <span class="hljs-literal">null</span> &amp;&amp; fields != <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>; index &lt; fields.<span class="hljs-property">length</span>; index++) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"change !"</span> + fields[index]);</li><li>      }</li><li>  }</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"change"</span>, changeCallback1);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Execute failed, error code =  "</span> + error.<span class="hljs-property">code</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="offchange20" device-type="phone,2in1,tablet,wearable,tv">off('change')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offchange20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'change', callback?: DataObserver): void</p>     <p>当不再进行数据变更监听时，使用此接口删除分布式对象数据变更监听的回调实例。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'change'，表示数据变更。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#dataobserver20">DataObserver</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要删除的数据变更回调实例，若不设置则删除该对象所有的数据变更回调实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">changeCallback1</span>: distributedDataObject.<span class="hljs-property">DataObserver</span> = <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, fields: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"change callback1 "</span> + sessionId);</li><li>  <span class="hljs-keyword">if</span> (fields != <span class="hljs-literal">null</span> &amp;&amp; fields != <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>; index &lt; fields.<span class="hljs-property">length</span>; index++) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"change !"</span> + fields[index]);</li><li>      }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">changeCallback2</span>: distributedDataObject.<span class="hljs-property">DataObserver</span> = <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, fields: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"change callback2 "</span> + sessionId);</li><li>  <span class="hljs-keyword">if</span> (fields != <span class="hljs-literal">null</span> &amp;&amp; fields != <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>; index &lt; fields.<span class="hljs-property">length</span>; index++) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"change !"</span> + fields[index]);</li><li>      }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 删除单个数据变更回调函数</span></li><li>  g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"change"</span>, changeCallback1);</li><li>  g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"change"</span>, changeCallback1);</li><li>
</li><li>  <span class="hljs-comment">// 删除所有数据变更回调函数</span></li><li>  g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"change"</span>, changeCallback1);</li><li>  g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"change"</span>, changeCallback2);</li><li>  g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"change"</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Execute failed, error code =  "</span> + error.<span class="hljs-property">code</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="onstatus20" device-type="phone,2in1,tablet,wearable,tv">on('status')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onstatus20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'status', callback: StatusObserver): void</p>     <p>监听分布式对象的状态变更。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'status'，表示分布式对象状态变更事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#statusobserver20">StatusObserver</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示分布式对象状态变更的回调实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">statusCallback1</span>: distributedDataObject.<span class="hljs-property">StatusObserver</span> = <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, networkId: <span class="hljs-built_in">string</span>, status: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"status callback "</span> + sessionId);</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"status"</span>, statusCallback1);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Execute failed, error code =  "</span> + error.<span class="hljs-property">code</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="offstatus20" device-type="phone,2in1,tablet,wearable,tv">off('status')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offstatus20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'status', callback?: StatusObserver): void</p>     <p>当不再进行分布式对象状态变更监听时，使用此接口删除分布式对象状态变更的回调实例。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'status'，表示数据对象状态变更事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#statusobserver20">StatusObserver</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要删除状态变更的回调实例，若不设置则删除该对象所有的状态变更回调实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">statusCallback1</span>: distributedDataObject.<span class="hljs-property">StatusObserver</span> = <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, networkId: <span class="hljs-built_in">string</span>, status: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"status callback1"</span> + sessionId);</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">statusCallback2</span>: distributedDataObject.<span class="hljs-property">StatusObserver</span> = <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, networkId: <span class="hljs-built_in">string</span>, status: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"status callback2"</span> + sessionId);</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 删除单个状态变更回调函数</span></li><li>  g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"status"</span>, statusCallback1);</li><li>  g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"status"</span>, statusCallback1);</li><li>
</li><li>  <span class="hljs-comment">// 删除所有状态变更回调函数</span></li><li>  g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"status"</span>, statusCallback1);</li><li>  g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"status"</span>, statusCallback2);</li><li>  g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"status"</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Execute failed, error code =  "</span> + error.<span class="hljs-property">code</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="onprogresschanged20" device-type="phone,2in1,tablet,wearable,tv">on('progressChanged')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onprogresschanged20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'progressChanged', callback: ProgressObserver): void</p>     <p>监听资产传输进度。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'progressChanged'，表示资产传输进度变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#progressobserver20">ProgressObserver</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示资产传输进度变化的回调实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">progressChangedCallback</span>: distributedDataObject.<span class="hljs-property">ProgressObserver</span> = <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, progress: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"progressChanged callback"</span> + sessionId);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"progressChanged callback"</span> + progress);</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"progressChanged"</span>, progressChangedCallback);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Execute failed, error code =  "</span> + error.<span class="hljs-property">code</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="offprogresschanged20" device-type="phone,2in1,tablet,wearable,tv">off('progressChanged')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offprogresschanged20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'progressChanged', callback?: ProgressObserver): void</p>     <p>当不再进行资产传输进度监听时，使用此接口取消监听。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'progressChanged'，表示资产传输进度变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#progressobserver20">ProgressObserver</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消监听的事件回调，若不设置，则取消对该事件的所有监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">progressChangedCallback1</span>: distributedDataObject.<span class="hljs-property">ProgressObserver</span> = <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, progress: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"progressChanged callback1"</span> + sessionId);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"progressChanged callback1"</span> + progress);</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">progressChangedCallback2</span>: distributedDataObject.<span class="hljs-property">ProgressObserver</span> = <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, progress: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"progressChanged callback2"</span> + sessionId);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"progressChanged callback2"</span> + progress);</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"progressChanged"</span>, progressChangedCallback1);</li><li>  <span class="hljs-comment">// 取消对资产传输进度的监听</span></li><li>  g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"progressChanged"</span>, progressChangedCallback1);</li><li>
</li><li>  g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"progressChanged"</span>, progressChangedCallback1);</li><li>  g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"progressChanged"</span>, progressChangedCallback2);</li><li>  <span class="hljs-comment">//取消对资产传输进度的所有监听</span></li><li>  g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"progressChanged"</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Execute failed, error code =  "</span> + error.<span class="hljs-property">code</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="setasset20" device-type="phone,2in1,tablet,wearable,tv">setAsset<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setasset20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAsset(assetKey: string, uri: string): Promise&lt;void&gt;</p>     <p>设置分布式对象中的单个资产的属性信息，该接口必须在<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#setsessionid9-2">setSessionId</a>接口调用前使用。使用Promise异步回调。</p>     <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <p>在设置资产时必须保证assetKey存在且对应文件为资产类型文件，否则无法保证对端能接收到此次设置的资产。</p>       <p>在设置资产时必须保证uri为正确且真实存在的分布式路径，否则无法保证对端能接收到此次设置的资产。</p>      </div></div></div>     <p>有以下几种异常场景:</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.3.1.1" width="50%">触发条件</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.3.1.2" width="50%">操作结果</th>        </tr><tr>         <td class="cellrowborder" width="50%">调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#setsessionid9-2">setSessionId</a>接口设置sessionId后再调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#setasset20">setAsset</a>接口设置资产。</td>         <td class="cellrowborder" width="50%">设置资产失败，抛出15400003异常。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">assetKey为无效值，例如：null（不存在）、undefined（未定义）或''（空字符串）。</td>         <td class="cellrowborder" width="50%">设置资产失败，抛出15400002异常。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">assetKey存在、对应文件为非资产类型。</td>         <td class="cellrowborder" width="50%">系统会强制修改该字段对应的文件类型为资产类型且设置资产字段，可能出现真实资产无法同步至对端设备。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uri为无效值，例如：null（不存在）、undefined（未定义）或''（空字符串）。</td>         <td class="cellrowborder" width="50%">设置资产失败，抛出15400002异常。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">assetKey</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>分布式对象中资产类型数据对应的属性名。</p>          <p><strong>使用约束：</strong></p>          <p>（1）提供的assetKey对应的文件必须已存在且类型为资产<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-commontype#asset">Asset</a>，才可进行正确的设置资产。若assetKey对应文件不存在或文件存在但类型不是资产类型，可能会出现资产设置错误。</p>          <p>（2）在协同或接续场景下需要双端满足assetKey对应的文件存在且为资产类型，才可将设置的资产同步到对端设备。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">uri</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待设置的新资产的uri，表示该资产的存放的分布式路径。必须为真实存在的资产对应的分布式路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-distributed-dataobject">分布式数据对象错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">15400002</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. The assetKey is invalid, such as ""; 2. The uri is invalid, such as "".</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">15400003</td>         <td class="cellrowborder" width="50%">The sessionId of the distributed object has been set.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例:</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { commonType, distributedDataObject } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Note</span> {</li><li>  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span></li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span></li><li>  <span class="hljs-attr">attachment</span>: commonType.<span class="hljs-property">Asset</span> | <span class="hljs-literal">undefined</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">title: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>, text: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>, attachment: commonType.Asset | <span class="hljs-literal">undefined</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">title</span> = title;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">attachment</span> = attachment;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">attachment</span>: commonType.<span class="hljs-property">Asset</span> = {</li><li>      <span class="hljs-attr">name</span>: <span class="hljs-string">'test_img.jpg'</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'file://com.example.myapplication/data/storage/el2/distributedfiles/dir/test_img.jpg'</span>,</li><li>      <span class="hljs-attr">path</span>: <span class="hljs-string">'/dir/test_img.jpg'</span>,</li><li>      <span class="hljs-attr">createTime</span>: <span class="hljs-string">'2024-01-02 10:00:00'</span>,</li><li>      <span class="hljs-attr">modifyTime</span>: <span class="hljs-string">'2024-01-02 10:00:00'</span>,</li><li>      <span class="hljs-attr">size</span>: <span class="hljs-string">'5'</span>,</li><li>      <span class="hljs-attr">status</span>: commonType.<span class="hljs-property">AssetStatus</span>.<span class="hljs-property">ASSET_NORMAL</span></li><li>    }</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">note</span>: <span class="hljs-title class_">Note</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Note</span>(<span class="hljs-string">'test'</span>, <span class="hljs-string">'test'</span>, attachment);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">g_object</span>: distributedDataObject.<span class="hljs-property">DataObject</span> = distributedDataObject.<span class="hljs-title function_">create</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, note);</li><li>
</li><li>    <span class="hljs-keyword">let</span> uri = <span class="hljs-string">"file://test/test.img"</span>;</li><li>    g_object.<span class="hljs-title function_">setAsset</span>(<span class="hljs-string">"attachment"</span>, uri).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setAsset success.'</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"setAsset failed, error code = "</span> + err.<span class="hljs-property">code</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="setassets20" device-type="phone,2in1,tablet,wearable,tv">setAssets<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setassets20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAssets(assetsKey: string, uris: Array&lt;string&gt;): Promise&lt;void&gt;</p>     <p>设置分布式对象中的多个资产的属性信息，该接口必须在<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#setsessionid9-2">setSessionId</a>接口调用前使用。uris数组的数量范围为1-50。使用Promise异步回调。</p>     <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <p>在设置资产时必须保证assetsKey存在且对应文件为资产类型文件，否则无法保证对端能接收到此次设置的资产。</p>       <p>在设置资产时必须保证uris数组内uri均为正确且真实存在的分布式路径，否则无法保证对端能接收到此次设置的资产。</p>      </div></div></div>     <p>有以下几种异常场景:</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.3.1.1" width="50%">触发条件</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.3.1.2" width="50%">操作结果</th>        </tr><tr>         <td class="cellrowborder" width="50%">调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#setsessionid9-2">setSessionId</a>接口设置sessionId后再调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#setassets20">setAssets</a>接口设置资产。</td>         <td class="cellrowborder" width="50%">设置资产失败，抛出15400003异常。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">assetsKey为无效值，例如：null（不存在）、undefined（未定义）或''（空字符串）。</td>         <td class="cellrowborder" width="50%">设置资产失败，抛出15400002异常。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">assetsKey存在、对应文件为非资产类型。</td>         <td class="cellrowborder" width="50%">系统会强制修改该字段对应的文件类型为资产类型且设置资产字段，可能出现真实资产无法同步至对端设备。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">assetsKey存在、且对应文件为资产类型。</td>         <td class="cellrowborder" width="50%">设置资产成功、更新uri信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uris数组uri元素数量为0或超过50（不包含50）个字符。</td>         <td class="cellrowborder" width="50%">设置资产失败，抛出15400002异常。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uris数组uri元素数量为1-50之间，存在单个或多个uri无效，例如：null（不存在）、undefined（未定义）或''（空字符串）。</td>         <td class="cellrowborder" width="50%">设置资产失败，抛出15400002异常。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">assetsKey</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>分布式对象中资产数组类型数据对应的属性名。</p>          <p><strong>使用约束：</strong></p>          <p>（1）提供的assetsKey对应的文件已存在且类型必须为资产<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-commontype#asset">Asset</a>，才可进行正确的设置资产。若assetsKey对应文件不存在或文件存在但类型不是资产类型，可能会出现资产设置错误。</p>          <p>（2）在协同或接续场景下需要双端满足assetsKey对应的文件存在且为资产类型，才可将设置的资产数组同步到对端设备。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">uris</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待设置的新资产数组的uri集合，表示资产数组内每个资产的存放的分布式路径。数组元素有效范围为1-50，元素uri必须为真实存在的资产对应的分布式路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-distributed-dataobject">分布式数据对象错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">15400002</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes:1. The assetsKey is invalid, such as ""; 2. The uris is invalid, such as the length of uris is more than 50.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">15400003</td>         <td class="cellrowborder" width="50%">The sessionId of the distributed object has been set.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例:</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { commonType, distributedDataObject } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Note</span> {</li><li>  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span></li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span></li><li>  <span class="hljs-attr">attachment</span>: commonType.<span class="hljs-property">Asset</span> | <span class="hljs-literal">undefined</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">title: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>, text: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>, attachment: commonType.Asset | <span class="hljs-literal">undefined</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">title</span> = title;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">attachment</span> = attachment;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">attachment</span>: commonType.<span class="hljs-property">Asset</span> = {</li><li>      <span class="hljs-attr">name</span>: <span class="hljs-string">'test_img.jpg'</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'file://com.example.myapplication/data/storage/el2/distributedfiles/dir/test_img.jpg'</span>,</li><li>      <span class="hljs-attr">path</span>: <span class="hljs-string">'/dir/test_img.jpg'</span>,</li><li>      <span class="hljs-attr">createTime</span>: <span class="hljs-string">'2024-01-02 10:00:00'</span>,</li><li>      <span class="hljs-attr">modifyTime</span>: <span class="hljs-string">'2024-01-02 10:00:00'</span>,</li><li>      <span class="hljs-attr">size</span>: <span class="hljs-string">'5'</span>,</li><li>      <span class="hljs-attr">status</span>: commonType.<span class="hljs-property">AssetStatus</span>.<span class="hljs-property">ASSET_NORMAL</span></li><li>    }</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">note</span>: <span class="hljs-title class_">Note</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Note</span>(<span class="hljs-string">'test'</span>, <span class="hljs-string">'test'</span>, attachment);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">g_object</span>: distributedDataObject.<span class="hljs-property">DataObject</span> = distributedDataObject.<span class="hljs-title function_">create</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, note);</li><li>
</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">uris</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">"file://test/test_1.txt"</span>, <span class="hljs-string">"file://test/test_2.txt"</span>];</li><li>    g_object.<span class="hljs-title function_">setAssets</span>(<span class="hljs-string">"attachment"</span>, uris).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setAssets success.'</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"setAssets failed, error code = "</span> + err.<span class="hljs-property">code</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="distributeddataobjectcreatedistributedobjectdeprecated" device-type="phone,2in1,tablet,wearable,tv">distributedDataObject.createDistributedObject<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="distributeddataobjectcreatedistributedobjectdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createDistributedObject(source: object): DistributedObject</p>     <p>创建一个分布式数据对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API Version 8 开始支持，从 API Version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#distributeddataobjectcreate9">distributedDataObject.create</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">source</td>         <td class="cellrowborder" width="25%">object</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置分布式数据对象的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#distributedobjectdeprecated">DistributedObject</a></td>         <td class="cellrowborder" width="50%">创建完成的分布式数据对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SourceObject</span> {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></li><li>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span></li><li>    <span class="hljs-attr">isVis</span>: <span class="hljs-built_in">boolean</span></li><li>
</li><li>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span>, isVis: <span class="hljs-built_in">boolean</span></span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isVis</span> = isVis</li><li>    }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">source</span>: <span class="hljs-title class_">SourceObject</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SourceObject</span>(<span class="hljs-string">"jack"</span>, <span class="hljs-number">18</span>, <span class="hljs-literal">false</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">g_object</span>: distributedDataObject.<span class="hljs-property">DistributedObject</span> = distributedDataObject.<span class="hljs-title function_">createDistributedObject</span>(source);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="distributedobjectdeprecated" device-type="phone,2in1,tablet,wearable,tv">DistributedObject<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="distributedobjectdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示一个分布式数据对象。在使用以下接口前，需调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#distributeddataobjectcreatedistributedobjectdeprecated">createDistributedObject()</a>获取DistributedObject对象。</p>    </div>    <div class="tiledSection">     <h3 id="setsessioniddeprecated" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">setSessionId<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsessioniddeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSessionId(sessionId?: string): boolean</p>     <p>设置sessionId。当可信组网中有多个设备处于协同状态时，如果多个设备间的分布式对象设置为同一个sessionId，就能自动同步。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API Version 8 开始支持，从 API Version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#setsessionid9">setSessionId</a>替代。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sessionId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">分布式数据对象在可信组网中的标识ID。如果要退出分布式组网，设置为""或不设置均可。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>true：标识设置sessionId成功。</p>          <p>false：标识设置sessionId失败。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SourceObject</span> {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></li><li>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span></li><li>    <span class="hljs-attr">isVis</span>: <span class="hljs-built_in">boolean</span></li><li>
</li><li>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span>, isVis: <span class="hljs-built_in">boolean</span></span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isVis</span> = isVis</li><li>    }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">source</span>: <span class="hljs-title class_">SourceObject</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SourceObject</span>(<span class="hljs-string">"jack"</span>, <span class="hljs-number">18</span>, <span class="hljs-literal">false</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">g_object</span>: distributedDataObject.<span class="hljs-property">DistributedObject</span> = distributedDataObject.<span class="hljs-title function_">createDistributedObject</span>(source);</li><li><span class="hljs-comment">// g_object加入分布式组网</span></li><li>g_object.<span class="hljs-title function_">setSessionId</span>(distributedDataObject.<span class="hljs-title function_">genSessionId</span>());</li><li><span class="hljs-comment">// 设置为""退出分布式组网</span></li><li>g_object.<span class="hljs-title function_">setSessionId</span>(<span class="hljs-string">""</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="onchangedeprecated" device-type="phone,2in1,tablet,wearable,tv">on('change')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onchangedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'change', callback: (sessionId: string, fields: Array&lt;string&gt;) =&gt; void): void</p>     <p>监听分布式数据对象的变更。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API Version 8 开始支持，从 API Version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#onchange9">on('change')</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'change'，表示数据变更。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(sessionId: string, fields: Array&lt;string&gt;) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>变更回调对象实例。</p>          <p>sessionId：标识变更对象的sessionId；</p>          <p>fields：标识对象变更的属性名。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SourceObject</span> {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></li><li>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span></li><li>    <span class="hljs-attr">isVis</span>: <span class="hljs-built_in">boolean</span></li><li>
</li><li>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span>, isVis: <span class="hljs-built_in">boolean</span></span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isVis</span> = isVis</li><li>    }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">source</span>: <span class="hljs-title class_">SourceObject</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SourceObject</span>(<span class="hljs-string">"jack"</span>, <span class="hljs-number">18</span>, <span class="hljs-literal">false</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">g_object</span>: distributedDataObject.<span class="hljs-property">DistributedObject</span> = distributedDataObject.<span class="hljs-title function_">createDistributedObject</span>(source);</li><li>g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"change"</span>, <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, fields: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"change"</span> + sessionId);</li><li>    <span class="hljs-keyword">if</span> (fields != <span class="hljs-literal">null</span> &amp;&amp; fields != <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>; index &lt; fields.<span class="hljs-property">length</span>; index++) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"changed !"</span> + fields[index] + <span class="hljs-string">" "</span> + g_object[fields[index]]);</li><li>        }</li><li>    }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="offchangedeprecated" device-type="phone,2in1,tablet,wearable,tv">off('change')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offchangedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'change', callback?: (sessionId: string, fields: Array&lt;string&gt;) =&gt; void): void</p>     <p>当不再进行数据变更监听时，使用此接口删除对象的变更监听。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API Version 8 开始支持，从 API Version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#offchange9">off('change')</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'change'，表示数据变更。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(sessionId: string, fields: Array&lt;string&gt;) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>需要删除的数据变更回调，若不设置则删除该对象所有的数据变更回调。</p>          <p>sessionId：标识变更对象的sessionId；</p>          <p>fields：标识对象变更的属性名。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SourceObject</span> {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></li><li>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span></li><li>    <span class="hljs-attr">isVis</span>: <span class="hljs-built_in">boolean</span></li><li>
</li><li>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span>, isVis: <span class="hljs-built_in">boolean</span></span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isVis</span> = isVis</li><li>    }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">source</span>: <span class="hljs-title class_">SourceObject</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SourceObject</span>(<span class="hljs-string">"jack"</span>, <span class="hljs-number">18</span>, <span class="hljs-literal">false</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">g_object</span>: distributedDataObject.<span class="hljs-property">DistributedObject</span> = distributedDataObject.<span class="hljs-title function_">createDistributedObject</span>(source);</li><li><span class="hljs-comment">// 删除数据变更回调changeCallback</span></li><li>g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"change"</span>, <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, fields: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"change"</span> + sessionId);</li><li>    <span class="hljs-keyword">if</span> (fields != <span class="hljs-literal">null</span> &amp;&amp; fields != <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>; index &lt; fields.<span class="hljs-property">length</span>; index++) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"changed !"</span> + fields[index] + <span class="hljs-string">" "</span> + g_object[fields[index]]);</li><li>        }</li><li>    }</li><li>});</li><li><span class="hljs-comment">// 删除所有的数据变更回调</span></li><li>g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"change"</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="onstatusdeprecated" device-type="phone,2in1,tablet,wearable,tv">on('status')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onstatusdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'status', callback: (sessionId: string, networkId: string, status: 'online' | 'offline' ) =&gt; void): void</p>     <p>监听分布式数据对象的上下线。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API Version 8 开始支持，从 API Version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#onstatus9">on('status')</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'status'，表示对象上下线。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(sessionId: string, networkId: string, status: 'online' | 'offline' ) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>监听上下线回调实例。</p>          <p>sessionId：标识变更对象的sessionId；</p>          <p>networkId：标识对象设备；</p>          <p>status：标识对象为'online'(上线)或'offline'(下线)的状态。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SourceObject</span> {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></li><li>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span></li><li>    <span class="hljs-attr">isVis</span>: <span class="hljs-built_in">boolean</span></li><li>
</li><li>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span>, isVis: <span class="hljs-built_in">boolean</span></span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isVis</span> = isVis</li><li>    }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">source</span>: <span class="hljs-title class_">SourceObject</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SourceObject</span>(<span class="hljs-string">"jack"</span>, <span class="hljs-number">18</span>, <span class="hljs-literal">false</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">g_object</span>: distributedDataObject.<span class="hljs-property">DistributedObject</span> = distributedDataObject.<span class="hljs-title function_">createDistributedObject</span>(source);</li><li>
</li><li>g_object.<span class="hljs-title function_">on</span>(<span class="hljs-string">"status"</span>, <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, networkId: <span class="hljs-built_in">string</span>, status: <span class="hljs-string">'online'</span> | <span class="hljs-string">'offline'</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"status changed "</span> + sessionId + <span class="hljs-string">" "</span> + status + <span class="hljs-string">" "</span> + networkId);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="offstatusdeprecated" device-type="phone,2in1,tablet,wearable,tv">off('status')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offstatusdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'status', callback?: (sessionId: string, networkId: string, status: 'online' | 'offline' ) =&gt; void): void</p>     <p>当不再进行对象上下线监听时，使用此接口删除对象的上下线监听。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API Version 8 开始支持，从 API Version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-distributedobject#offstatus9">off('status')</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.DataObject.DistributedObject</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件类型，固定为'status'，表示对象上下线。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(sessionId: string, networkId: string, status: 'online' | 'offline' ) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>需要删除的上下线回调，若不设置则删除该对象所有的上下线回调。</p>          <p>sessionId：标识变更对象的sessionId；</p>          <p>networkId：标识变更对象；</p>          <p>status：标识对象为'online'(上线)或'offline'(下线)的状态。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bnt-c106="" class="highlight-div"><div _ngcontent-bnt-c106="" class="highlight-div-header"><div _ngcontent-bnt-c106="" class="highlight-div-header-left"><div _ngcontent-bnt-c106="" class="handle-button expand-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bnt-c106="" class="highlight-div-header-right"><div _ngcontent-bnt-c106="" class="handle-button ai-button"></div><div _ngcontent-bnt-c106="" class="handle-button line-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bnt-c106="" class="handle-button theme-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bnt-c106="" class="handle-button copy-button"><div _ngcontent-bnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bnt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SourceObject</span> {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></li><li>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span></li><li>    <span class="hljs-attr">isVis</span>: <span class="hljs-built_in">boolean</span></li><li>
</li><li>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span>, isVis: <span class="hljs-built_in">boolean</span></span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isVis</span> = isVis</li><li>    }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">source</span>: <span class="hljs-title class_">SourceObject</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SourceObject</span>(<span class="hljs-string">"jack"</span>, <span class="hljs-number">18</span>, <span class="hljs-literal">false</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">g_object</span>: distributedDataObject.<span class="hljs-property">DistributedObject</span> = distributedDataObject.<span class="hljs-title function_">createDistributedObject</span>(source);</li><li><span class="hljs-comment">// 删除上下线回调changeCallback</span></li><li>g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"status"</span>, <span class="hljs-function">(<span class="hljs-params">sessionId: <span class="hljs-built_in">string</span>, networkId: <span class="hljs-built_in">string</span>, status: <span class="hljs-string">'online'</span> | <span class="hljs-string">'offline'</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"status changed "</span> + sessionId + <span class="hljs-string">" "</span> + status + <span class="hljs-string">" "</span> + networkId);</li><li>});</li><li><span class="hljs-comment">// 删除所有的上下线回调</span></li><li>g_object.<span class="hljs-title function_">off</span>(<span class="hljs-string">"status"</span>);</li></ol></pre></div></div>    </div>   </div>   <div></div></div>