<h1 _ngcontent-upw-c119="" class="doc-title ng-star-inserted" title="@ohos.data.sendableRelationalStore (共享关系型数据库)"> @ohos.data.sendableRelationalStore (共享关系型数据库) </h1>

<div _ngcontent-upw-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>该模块针对关系型数据库（Relational Database，RDB）提供了sendable支持。支持从查询结果集中获取sendable类型ValuesBucket用于并发实例间传递。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 12开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="使用场景" device-type="phone,2in1,tablet,wearable,tv">使用场景<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="使用场景" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>在使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/taskpool-introduction" target="_blank">taskpool</a>进行多线程计算时，因为对跨线程传递的数据类型限制，关系型数据库常规的ValuesBucket、Asset、Assets数据存储容器不能直接用于跨线程传递。</p>     <p>本模块提供了相应的类型转换工具函数，以便在常规数据存储容器和支持跨线程传递的数据存储容器之间进行类型转换，用于跨线程传递。</p>    </div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-upw-c106="" class="highlight-div"><div _ngcontent-upw-c106="" class="highlight-div-header"><div _ngcontent-upw-c106="" class="highlight-div-header-left"><div _ngcontent-upw-c106="" class="handle-button expand-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upw-c106="" class="highlight-div-header-right"><div _ngcontent-upw-c106="" class="handle-button ai-button"></div><div _ngcontent-upw-c106="" class="handle-button line-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upw-c106="" class="handle-button theme-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upw-c106="" class="handle-button copy-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sendableRelationalStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="sendablerelationalstoretosendablevaluesbucket" device-type="phone,2in1,tablet,wearable,tv">sendableRelationalStore.toSendableValuesBucket<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendablerelationalstoretosendablevaluesbucket" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>toSendableValuesBucket(valuesBucket: NonSendableBucket): ValuesBucket</p>     <p>将不能用于跨线程传递的键值对数据，转换为可用于跨线程传递的键值对数据。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">valuesBucket</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#nonsendablebucket">NonSendableBucket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">不可跨线程传递的ValuesBucket数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#valuesbucket">ValuesBucket</a></td>         <td class="cellrowborder" width="50%">可用于跨线程传递的ValuesBucket数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-upw-c106="" class="highlight-div"><div _ngcontent-upw-c106="" class="highlight-div-header"><div _ngcontent-upw-c106="" class="highlight-div-header-left"><div _ngcontent-upw-c106="" class="handle-button expand-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upw-c106="" class="highlight-div-header-right"><div _ngcontent-upw-c106="" class="handle-button ai-button"></div><div _ngcontent-upw-c106="" class="handle-button line-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upw-c106="" class="handle-button theme-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upw-c106="" class="handle-button copy-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">asset1</span>: sendableRelationalStore.<span class="hljs-property">NonSendableAsset</span> = {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">'hangman'</span>,</li><li>  <span class="hljs-attr">uri</span>: <span class="hljs-string">'//path/example'</span>,</li><li>  <span class="hljs-attr">path</span>: <span class="hljs-string">'//path/example'</span>,</li><li>  <span class="hljs-attr">createTime</span>: <span class="hljs-string">'createTime1'</span>,</li><li>  <span class="hljs-attr">modifyTime</span>: <span class="hljs-string">'modifyTime1'</span>,</li><li>  <span class="hljs-attr">size</span>: <span class="hljs-string">'size1'</span></li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">asset2</span>: sendableRelationalStore.<span class="hljs-property">NonSendableAsset</span> = {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">'hangman'</span>,</li><li>  <span class="hljs-attr">uri</span>: <span class="hljs-string">'//path/example'</span>,</li><li>  <span class="hljs-attr">path</span>: <span class="hljs-string">'//path/example'</span>,</li><li>  <span class="hljs-attr">createTime</span>: <span class="hljs-string">'createTime1'</span>,</li><li>  <span class="hljs-attr">modifyTime</span>: <span class="hljs-string">'modifyTime1'</span>,</li><li>  <span class="hljs-attr">size</span>: <span class="hljs-string">'size1'</span></li><li>};</li><li><span class="hljs-keyword">const</span> u8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valuesBucket</span>: sendableRelationalStore.<span class="hljs-property">NonSendableBucket</span> = {</li><li>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">"hangman"</span>,</li><li>  <span class="hljs-attr">salary</span>: <span class="hljs-number">100.5</span>,</li><li>  <span class="hljs-attr">passed</span>: <span class="hljs-literal">true</span>,</li><li>  <span class="hljs-attr">data1</span>: asset1,</li><li>  <span class="hljs-attr">blobType</span>: u8,</li><li>  <span class="hljs-attr">bigValue</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"15822401018187971961171"</span>),</li><li>  <span class="hljs-attr">data2</span>: [asset1, asset2]</li><li>};</li><li>
</li><li><span class="hljs-keyword">const</span> sendableValuesBucket = sendableRelationalStore.<span class="hljs-title function_">toSendableValuesBucket</span>(valuesBucket);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="sendablerelationalstorefromsendablevaluesbucket" device-type="phone,2in1,tablet,wearable,tv">sendableRelationalStore.fromSendableValuesBucket<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendablerelationalstorefromsendablevaluesbucket" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fromSendableValuesBucket(valuesBucket: ValuesBucket): NonSendableBucket</p>     <p>将可用于跨线程传递的键值对数据，转换为不能用于跨线程传递的键值对数据。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">valuesBucket</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#valuesbucket">ValuesBucket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">可用于跨线程传递的ValuesBucket数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#nonsendablebucket">NonSendableBucket</a></td>         <td class="cellrowborder" width="50%">不可跨线程传递的ValuesBucket数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-upw-c106="" class="highlight-div"><div _ngcontent-upw-c106="" class="highlight-div-header"><div _ngcontent-upw-c106="" class="highlight-div-header-left"><div _ngcontent-upw-c106="" class="handle-button expand-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upw-c106="" class="highlight-div-header-right"><div _ngcontent-upw-c106="" class="handle-button ai-button"></div><div _ngcontent-upw-c106="" class="handle-button line-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upw-c106="" class="handle-button theme-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upw-c106="" class="handle-button copy-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">asset1</span>: sendableRelationalStore.<span class="hljs-property">NonSendableAsset</span> = {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">'hangman'</span>,</li><li>  <span class="hljs-attr">uri</span>: <span class="hljs-string">'//path/example'</span>,</li><li>  <span class="hljs-attr">path</span>: <span class="hljs-string">'//path/example'</span>,</li><li>  <span class="hljs-attr">createTime</span>: <span class="hljs-string">'createTime1'</span>,</li><li>  <span class="hljs-attr">modifyTime</span>: <span class="hljs-string">'modifyTime1'</span>,</li><li>  <span class="hljs-attr">size</span>: <span class="hljs-string">'size1'</span></li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">asset2</span>: sendableRelationalStore.<span class="hljs-property">NonSendableAsset</span> = {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">'hangman'</span>,</li><li>  <span class="hljs-attr">uri</span>: <span class="hljs-string">'//path/example'</span>,</li><li>  <span class="hljs-attr">path</span>: <span class="hljs-string">'//path/example'</span>,</li><li>  <span class="hljs-attr">createTime</span>: <span class="hljs-string">'createTime1'</span>,</li><li>  <span class="hljs-attr">modifyTime</span>: <span class="hljs-string">'modifyTime1'</span>,</li><li>  <span class="hljs-attr">size</span>: <span class="hljs-string">'size1'</span></li><li>};</li><li><span class="hljs-keyword">const</span> u8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);</li><li>
</li><li><span class="hljs-keyword">const</span> sendableValuesBucket = sendableRelationalStore.<span class="hljs-title function_">toSendableValuesBucket</span>({</li><li>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">"hangman"</span>,</li><li>  <span class="hljs-attr">salary</span>: <span class="hljs-number">100.5</span>,</li><li>  <span class="hljs-attr">passed</span>: <span class="hljs-literal">true</span>,</li><li>  <span class="hljs-attr">data1</span>: asset1,</li><li>  <span class="hljs-attr">blobType</span>: u8,</li><li>  <span class="hljs-attr">bigValue</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"15822401018187971961171"</span>),</li><li>  <span class="hljs-attr">data2</span>: [asset1, asset2]</li><li>});</li><li><span class="hljs-keyword">const</span> nonSendableBucket = sendableRelationalStore.<span class="hljs-title function_">fromSendableValuesBucket</span>(sendableValuesBucket);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="sendablerelationalstoretosendableasset" device-type="phone,2in1,tablet,wearable,tv">sendableRelationalStore.toSendableAsset<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendablerelationalstoretosendableasset" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>toSendableAsset(asset: NonSendableAsset): Asset</p>     <p>将不可跨线程传递的附件数据，转换为可跨线程传递的附件数据。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">asset</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#nonsendablebucket">NonSendableAsset</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">不可跨线程传递的Asset数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#asset">Asset</a></td>         <td class="cellrowborder" width="50%">可跨线程传递的Asset数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-upw-c106="" class="highlight-div"><div _ngcontent-upw-c106="" class="highlight-div-header"><div _ngcontent-upw-c106="" class="highlight-div-header-left"><div _ngcontent-upw-c106="" class="handle-button expand-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upw-c106="" class="highlight-div-header-right"><div _ngcontent-upw-c106="" class="handle-button ai-button"></div><div _ngcontent-upw-c106="" class="handle-button line-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upw-c106="" class="handle-button theme-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upw-c106="" class="handle-button copy-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">asset1</span>: sendableRelationalStore.<span class="hljs-property">NonSendableAsset</span> = {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">'hangman'</span>,</li><li>  <span class="hljs-attr">uri</span>: <span class="hljs-string">'//path/example'</span>,</li><li>  <span class="hljs-attr">path</span>: <span class="hljs-string">'//path/example'</span>,</li><li>  <span class="hljs-attr">createTime</span>: <span class="hljs-string">'createTime1'</span>,</li><li>  <span class="hljs-attr">modifyTime</span>: <span class="hljs-string">'modifyTime1'</span>,</li><li>  <span class="hljs-attr">size</span>: <span class="hljs-string">'size1'</span></li><li>};</li><li><span class="hljs-keyword">const</span> sendableAsset = sendableRelationalStore.<span class="hljs-title function_">toSendableAsset</span>(asset1);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="sendablerelationalstorefromsendableasset" device-type="phone,2in1,tablet,wearable,tv">sendableRelationalStore.fromSendableAsset<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendablerelationalstorefromsendableasset" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fromSendableAsset(asset: Asset): NonSendableAsset</p>     <p>将可跨线程传递的附件数据，转换为不可跨线程传递的附件数据。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">asset</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#asset">Asset</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">可跨线程传递的Asset数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#nonsendablebucket">NonSendableAsset</a></td>         <td class="cellrowborder" width="50%">不可跨线程传递的Asset数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-upw-c106="" class="highlight-div"><div _ngcontent-upw-c106="" class="highlight-div-header"><div _ngcontent-upw-c106="" class="highlight-div-header-left"><div _ngcontent-upw-c106="" class="handle-button expand-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upw-c106="" class="highlight-div-header-right"><div _ngcontent-upw-c106="" class="handle-button ai-button"></div><div _ngcontent-upw-c106="" class="handle-button line-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upw-c106="" class="handle-button theme-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upw-c106="" class="handle-button copy-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">asset1</span>: sendableRelationalStore.<span class="hljs-property">NonSendableAsset</span> = {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">'hangman'</span>,</li><li>  <span class="hljs-attr">uri</span>: <span class="hljs-string">'//path/example'</span>,</li><li>  <span class="hljs-attr">path</span>: <span class="hljs-string">'//path/example'</span>,</li><li>  <span class="hljs-attr">createTime</span>: <span class="hljs-string">'createTime1'</span>,</li><li>  <span class="hljs-attr">modifyTime</span>: <span class="hljs-string">'modifyTime1'</span>,</li><li>  <span class="hljs-attr">size</span>: <span class="hljs-string">'size1'</span></li><li>};</li><li><span class="hljs-keyword">const</span> sendableAsset = sendableRelationalStore.<span class="hljs-title function_">toSendableAsset</span>(asset1);</li><li><span class="hljs-keyword">const</span> normalAsset = sendableRelationalStore.<span class="hljs-title function_">fromSendableAsset</span>(sendableAsset);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="sendablerelationalstorefromsendablevalues20" device-type="phone,2in1,tablet,wearable,tv">sendableRelationalStore.fromSendableValues<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendablerelationalstorefromsendablevalues20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fromSendableValues(values: collections.Array&lt;ValueType&gt;): NonSendableValues</p>     <p>将可跨线程传递的数组数据，转换为不可跨线程传递的数组数据。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%">collections.Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">可跨线程传递的数组数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#nonsendablevalues20">NonSendableValues</a></td>         <td class="cellrowborder" width="50%">不可跨线程传递的数组数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-upw-c106="" class="highlight-div"><div _ngcontent-upw-c106="" class="highlight-div-header"><div _ngcontent-upw-c106="" class="highlight-div-header-left"><div _ngcontent-upw-c106="" class="handle-button expand-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upw-c106="" class="highlight-div-header-right"><div _ngcontent-upw-c106="" class="handle-button ai-button"></div><div _ngcontent-upw-c106="" class="handle-button line-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upw-c106="" class="handle-button theme-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upw-c106="" class="handle-button copy-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sendableRelationalStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { collections } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-keyword">const</span> array = <span class="hljs-keyword">new</span> collections.<span class="hljs-property">Array</span>&lt;sendableRelationalStore.<span class="hljs-property">ValueType</span>&gt;();</li><li>array.<span class="hljs-title function_">push</span>(<span class="hljs-string">"a"</span>);</li><li>array.<span class="hljs-title function_">push</span>(<span class="hljs-string">"b"</span>);</li><li>array.<span class="hljs-title function_">push</span>(<span class="hljs-number">1</span>);</li><li>array.<span class="hljs-title function_">push</span>(<span class="hljs-number">2</span>);</li><li><span class="hljs-keyword">const</span> values = sendableRelationalStore.<span class="hljs-title function_">fromSendableValues</span>(array);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="sendablerelationalstoretosendablevalues20" device-type="phone,2in1,tablet,wearable,tv">sendableRelationalStore.toSendableValues<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendablerelationalstoretosendablevalues20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>toSendableValues(values: NonSendableValues): collections.Array&lt;ValueType&gt;</p>     <p>将不可跨线程传递的数组数据，转换为可跨线程传递的数组数据。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#nonsendablevalues20">NonSendableValues</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">不可跨线程传递的数组数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">collections.Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a>&gt;</td>         <td class="cellrowborder" width="50%">可跨线程传递的数组数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-upw-c106="" class="highlight-div"><div _ngcontent-upw-c106="" class="highlight-div-header"><div _ngcontent-upw-c106="" class="highlight-div-header-left"><div _ngcontent-upw-c106="" class="handle-button expand-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upw-c106="" class="highlight-div-header-right"><div _ngcontent-upw-c106="" class="handle-button ai-button"></div><div _ngcontent-upw-c106="" class="handle-button line-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upw-c106="" class="handle-button theme-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upw-c106="" class="handle-button copy-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { relationalStore, sendableRelationalStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">array</span>: relationalStore.<span class="hljs-property">ValueType</span>[] = [];</li><li>array.<span class="hljs-title function_">push</span>(<span class="hljs-number">1</span>);</li><li>array.<span class="hljs-title function_">push</span>(<span class="hljs-number">2</span>);</li><li>array.<span class="hljs-title function_">push</span>(<span class="hljs-string">"aaaaaa"</span>)</li><li><span class="hljs-keyword">const</span> values = sendableRelationalStore.<span class="hljs-title function_">toSendableValues</span>(array);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="asset" device-type="phone,2in1,tablet,wearable,tv">Asset<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="asset" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>记录资产附件（文件、图片、视频等类型文件）的相关信息。用于支持资产数据跨线程传递，继承自<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkts-lang#langisendable">lang.ISendable</a>。资产类型的相关接口暂不支持Datashare。使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#sendablerelationalstoretosendableasset">sendableRelationalStore.toSendableAsset</a>方法创建。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">name</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">资产的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">uri</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">资产的uri，在系统里的绝对路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">path</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">资产在应用沙箱里的路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">createTime</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">资产被创建出来的时间。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">modifyTime</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">资产最后一次被修改的时间。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">size</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">资产占用空间的大小。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">status</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">资产的状态，取值与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#assetstatus10">relationalStore.AssetStatus</a>枚举值保持一致，默认值为relationalStore.AssetStatus.ASSET_NORMAL。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="assets" device-type="phone,2in1,tablet,wearable,tv">Assets<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="assets" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Assets = collections.Array&lt;Asset&gt;</p>     <p>表示<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#asset">Asset</a>类型数据的集合。用于支持Asset数据集合跨线程传递。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-arkts-collections-array">collections.Array</a>&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#asset">Asset</a>&gt;</td>         <td class="cellrowborder" width="50%">用于并发场景的Asset附件数据集合。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="valuetype" device-type="phone,2in1,tablet,wearable,tv">ValueType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="valuetype" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ValueType = null | number | string | boolean | collections.Uint8Array | Asset | Assets | collections.Float32Array | bigint</p>     <p>用于表示允许的数据字段类型，接口参数具体类型根据其功能而定。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">null</td>         <td class="cellrowborder" width="50%">表示值类型为空。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">表示值类型为数字。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">表示值类型为字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">表示值类型为布尔值。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-arkts-collections-uint8array">collections.Uint8Array</a></td>         <td class="cellrowborder" width="50%">表示值类型为Uint8类型的数组。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#asset">Asset</a></td>         <td class="cellrowborder" width="50%">          <p>表示值类型为附件Asset。</p>          <p>当字段类型是Asset时，在创建表的sql语句中，类型应当为：ASSET。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#assets">Assets</a></td>         <td class="cellrowborder" width="50%">          <p>表示值类型为附件数据集合Assets。</p>          <p>当字段类型是Assets时，在创建表的sql语句中，类型应当为：ASSETS。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-arkts-collections-float32array">collections.Float32Array</a></td>         <td class="cellrowborder" width="50%">          <p>表示值类型为浮点数组。</p>          <p>当字段类型是collections.Float32Array时，在创建表的sql语句中，类型应当为：floatvector(128)。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">bigint</td>         <td class="cellrowborder" width="50%">          <p>表示值类型为任意长度的整数。</p>          <p>当字段类型是bigint时，在创建表的sql语句中，类型应当为：UNLIMITED INT，详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-persistence-by-rdb-store" target="_blank">通过关系型数据库实现数据持久化</a>。</p>          <p><strong>说明：</strong></p>          <p>bigint类型字段不能比较大小，不适用以下谓词操作：between、notBetween、greaterThan、lessThan、greaterThanOrEqualTo、lessThanOrEqualTo、orderByAsc、orderByDesc。</p>          <p>bigint类型字段的数据写入时，需通过BigInt()方法或在数据尾部添加'n'的方式明确为bigint类型，如'let data = BigInt(1234)'或'let data = 1234n'。</p>          <p>bigint字段如果写入number类型的数据，则查询该数据的返回类型为number，而非bigint。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="valuesbucket" device-type="phone,2in1,tablet,wearable,tv">ValuesBucket<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="valuesbucket" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ValuesBucket = collections.Map&lt;string, ValueType&gt;</p>     <p>表示<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#valuetype">ValueType</a>数据的键值对存储，用于支持ValueType数据跨线程传递。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-arkts-collections-map">collections.Map</a>&lt;string, <a href="/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#valuetype">ValueType</a>&gt;</td>         <td class="cellrowborder" width="50%">并发场景的键值对数据存储，其中，键的类型为string，值的类型为ValueType。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="nonsendablebucket" device-type="phone,2in1,tablet,wearable,tv">NonSendableBucket<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="nonsendablebucket" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type NonSendableBucket = relationalStore.ValuesBucket</p>     <p>用于存储键值对的类型。不支持跨线程传递。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">relationalStore.ValuesBucket</a></td>         <td class="cellrowborder" width="50%">非并发场景的键值对数据存储。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="nonsendablevalues20" device-type="phone,2in1,tablet,wearable,tv">NonSendableValues<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="nonsendablevalues20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type NonSendableValues = Array&lt;relationalStore.ValueType&gt;</p>     <p>表示<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a>数据数组存储。不支持跨线程传递。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">relationalStore.ValueType</a>&gt;</td>         <td class="cellrowborder" width="50%">非并发场景的数组数据存储，值的类型为ValueType。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="nonsendableasset" device-type="phone,2in1,tablet,wearable,tv">NonSendableAsset<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="nonsendableasset" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type NonSendableAsset = relationalStore.Asset</p>     <p>记录资产附件（文件、图片、视频等类型文件）的相关信息。不支持跨线程传递。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#asset10">relationalStore.Asset</a></td>         <td class="cellrowborder" width="50%">非并发场景的资产附件数据存储。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="跨线程传递使用示例" device-type="phone,2in1,tablet,wearable,tv">跨线程传递使用示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="跨线程传递使用示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>调用taskpool执行数据插入时，主线程调用toSendableValuesBucket方法将数据转为跨线程传递类型，传入taskpool处理。</p>     <p>调用taskpool执行数据查询时，调用ResultSet的getSendableRow方法，获取可跨线程传递的数据行返回主线程，主线程中调用fromSendableValuesBucket方法，转为常规ValuesBucket执行后续处理。</p>     <div _ngcontent-upw-c106="" class="highlight-div"><div _ngcontent-upw-c106="" class="highlight-div-header"><div _ngcontent-upw-c106="" class="highlight-div-header-left"><div _ngcontent-upw-c106="" class="handle-button expand-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upw-c106="" class="highlight-div-header-right"><div _ngcontent-upw-c106="" class="handle-button ai-button"></div><div _ngcontent-upw-c106="" class="handle-button line-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upw-c106="" class="handle-button theme-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upw-c106="" class="handle-button copy-button"><div _ngcontent-upw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">import</span> { relationalStore, sendableRelationalStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { taskpool } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-meta">@Concurrent</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">insert</span>(<span class="hljs-params">context: Context, dataItem: sendableRelationalStore.ValuesBucket</span>) {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">CONFIG</span>: relationalStore.<span class="hljs-property">StoreConfig</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">"Store.db"</span>,</li><li>    <span class="hljs-attr">securityLevel</span>: relationalStore.<span class="hljs-property">SecurityLevel</span>.<span class="hljs-property">S3</span>,</li><li>  };</li><li>
</li><li>  <span class="hljs-keyword">let</span> store = <span class="hljs-keyword">await</span> relationalStore.<span class="hljs-title function_">getRdbStore</span>(context, <span class="hljs-variable constant_">CONFIG</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Get store successfully!`</span>);</li><li>
</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CREATE_TABLE_SQL</span> = <span class="hljs-string">"CREATE TABLE IF NOT EXISTS test ("</span> +</li><li>    <span class="hljs-string">"id INTEGER PRIMARY KEY AUTOINCREMENT, "</span> +</li><li>    <span class="hljs-string">"name TEXT NOT NULL, "</span> +</li><li>    <span class="hljs-string">"age INTEGER, "</span> +</li><li>    <span class="hljs-string">"salary REAL, "</span> +</li><li>    <span class="hljs-string">"blobType BLOB)"</span>;</li><li>  <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">executeSql</span>(<span class="hljs-variable constant_">CREATE_TABLE_SQL</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Create table test successfully!`</span>);</li><li>
</li><li>  <span class="hljs-comment">// 数据插入</span></li><li>  <span class="hljs-keyword">const</span> rowId = <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">insertSync</span>(<span class="hljs-string">"test"</span>, dataItem);</li><li>  <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">close</span>();</li><li>  <span class="hljs-keyword">return</span> rowId;</li><li>}</li><li>
</li><li><span class="hljs-meta">@Concurrent</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">queryByName</span>(<span class="hljs-params">context: Context, name: <span class="hljs-built_in">string</span></span>) {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">CONFIG</span>: relationalStore.<span class="hljs-property">StoreConfig</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">"Store.db"</span>,</li><li>    <span class="hljs-attr">securityLevel</span>: relationalStore.<span class="hljs-property">SecurityLevel</span>.<span class="hljs-property">S3</span>,</li><li>  };</li><li>
</li><li>  <span class="hljs-keyword">let</span> store = <span class="hljs-keyword">await</span> relationalStore.<span class="hljs-title function_">getRdbStore</span>(context, <span class="hljs-variable constant_">CONFIG</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Get store successfully!`</span>);</li><li>
</li><li>  <span class="hljs-keyword">const</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"test"</span>);</li><li>  predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"name"</span>, name);</li><li>
</li><li>  <span class="hljs-keyword">const</span> resultSet = <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">query</span>(predicates);</li><li>  <span class="hljs-keyword">if</span> (resultSet.<span class="hljs-property">rowCount</span> &gt; <span class="hljs-number">0</span> &amp;&amp; resultSet.<span class="hljs-title function_">goToFirstRow</span>()) {</li><li>    <span class="hljs-comment">// 获取可用于跨线程传递的ValuesBucket返回查询结果</span></li><li>    <span class="hljs-keyword">return</span> resultSet.<span class="hljs-title function_">getSendableRow</span>();</li><li>  }</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;</li><li>}</li><li>
</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">RelativeContainer</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>        .<span class="hljs-title function_">id</span>(<span class="hljs-string">'HelloWorld'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>        .<span class="hljs-title function_">alignRules</span>({</li><li>          <span class="hljs-attr">center</span>: { <span class="hljs-attr">anchor</span>: <span class="hljs-string">'__container__'</span>, <span class="hljs-attr">align</span>: <span class="hljs-title class_">VerticalAlign</span>.<span class="hljs-property">Center</span> },</li><li>          <span class="hljs-attr">middle</span>: { <span class="hljs-attr">anchor</span>: <span class="hljs-string">'__container__'</span>, <span class="hljs-attr">align</span>: <span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span> }</li><li>        })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-keyword">async</span> () =&gt; {</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">Context</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> <span class="hljs-title class_">Context</span>;</li><li>
</li><li>          <span class="hljs-keyword">const</span> <span class="hljs-attr">item</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>            <span class="hljs-attr">name</span>: <span class="hljs-string">"zhangsan"</span>,</li><li>            <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>,</li><li>            <span class="hljs-attr">salary</span>: <span class="hljs-number">5000</span></li><li>          }</li><li>          <span class="hljs-comment">// 调用toSendableValuesBucket转换数据，用于跨线程传递。</span></li><li>          <span class="hljs-keyword">const</span> sendableItem = sendableRelationalStore.<span class="hljs-title function_">toSendableValuesBucket</span>(item);</li><li>          <span class="hljs-keyword">const</span> insertRowId = <span class="hljs-keyword">await</span> taskpool.<span class="hljs-title function_">execute</span>(insert, context, sendableItem) <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>;</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Insert data success, row id is: <span class="hljs-subst">${insertRowId}</span>`</span>);</li><li>
</li><li>          <span class="hljs-keyword">const</span> rowData = <span class="hljs-keyword">await</span> taskpool.<span class="hljs-title function_">execute</span>(queryByName, context, <span class="hljs-string">"zhangsan"</span>);</li><li>          <span class="hljs-keyword">if</span> (rowData) {</li><li>            <span class="hljs-keyword">const</span> row =</li><li>              sendableRelationalStore.<span class="hljs-title function_">fromSendableValuesBucket</span>(rowData <span class="hljs-keyword">as</span> sendableRelationalStore.<span class="hljs-property">ValuesBucket</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Query success, name is <span class="hljs-subst">${row[<span class="hljs-string">'name'</span>]}</span>, age is <span class="hljs-subst">${row[<span class="hljs-string">'age'</span>]}</span>.`</span>);</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed.`</span>)</li><li>          }</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>