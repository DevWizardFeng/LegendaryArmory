<h1 _ngcontent-gxk-c119="" class="doc-title ng-star-inserted" title="@ohos.data.storage (轻量级存储)"> @ohos.data.storage (轻量级存储) </h1>

<div _ngcontent-gxk-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>轻量级存储为应用提供key-value键值型的文件数据处理能力，支持应用对数据进行轻量级存储及查询。数据存储形式为键值对，键的类型为字符串型，值的存储数据类型包括数字型、字符型、布尔型。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <ul><li><p>本模块首批接口从API version 6开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>  </li><li><p>从API version 9开始，该接口不再维护，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-preferences">@ohos.data.preferences</a>。</p>  </li></ul>  </div></div></div>  <div class="tiledSection"><h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> data_storage <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.data.storage'</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="常量" device-type="phone,2in1,tablet,wearable,tv">常量<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="常量" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力：</strong> 以下各项对应的系统能力均为SystemCapability.DistributedDataManager.Preferences.Core</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.3.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.6.1.3" width="20%">可读</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.6.1.4" width="20%">可写</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">MAX_KEY_LENGTH</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">key的最大长度限制为80字节。</td> </tr> <tr><td class="cellrowborder" width="20%">MAX_VALUE_LENGTH</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">value的最大长度限制为8192字节。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="data_storagegetstoragesync" device-type="phone,2in1,tablet,wearable,tv">data_storage.getStorageSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="data_storagegetstoragesync" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getStorageSync(path: string): Storage</p> <p>读取指定文件，将数据加载到Storage实例，用于数据操作。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">应用程序内部数据存储路径。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-storage#storage">Storage</a></td> <td class="cellrowborder" width="50%">获取到要操作的Storage实例，用于进行数据存储操作。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> path;</li><li><span class="hljs-keyword">let</span> context = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getFilesDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> {</li><li>  path = filePath;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"======================&gt;getFilesDirPromise====================&gt;"</span>);</li><li>
</li><li>  <span class="hljs-keyword">let</span> storage = data_storage.<span class="hljs-title function_">getStorageSync</span>(path + <span class="hljs-string">'/mystore'</span>);</li><li>  storage.<span class="hljs-title function_">putSync</span>(<span class="hljs-string">'startup'</span>, <span class="hljs-string">'auto'</span>);</li><li>  storage.<span class="hljs-title function_">flushSync</span>();</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="data_storagegetstorage" device-type="phone,2in1,tablet,wearable,tv">data_storage.getStorage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="data_storagegetstorage" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getStorage(path: string, callback: AsyncCallback&lt;Storage&gt;): void</p> <p>读取指定文件，将数据加载到Storage实例，用于数据操作，使用callback方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">应用程序内部数据存储路径。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-storage#storage">Storage</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> path;</li><li><span class="hljs-keyword">let</span> context = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getFilesDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> {</li><li>  path = filePath;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"======================&gt;getFilesDirPromise====================&gt;"</span>);</li><li>
</li><li>  data_storage.<span class="hljs-title function_">getStorage</span>(path + <span class="hljs-string">'/mystore'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">err, storage</span>) {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to get the storage. path: "</span> + path + <span class="hljs-string">'/mystore'</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    storage.<span class="hljs-title function_">putSync</span>(<span class="hljs-string">'startup'</span>, <span class="hljs-string">'auto'</span>);</li><li>    storage.<span class="hljs-title function_">flushSync</span>();</li><li>  })</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="data_storagegetstorage-1" device-type="phone,2in1,tablet,wearable,tv">data_storage.getStorage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="data_storagegetstorage-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getStorage(path: string): Promise&lt;Storage&gt;</p> <p>读取指定文件，将数据加载到Storage实例，用于数据操作，使用Promise方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">应用程序内部数据存储路径。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-storage#storage">Storage</a>&gt;</td> <td class="cellrowborder" width="50%">Promise实例，用于异步获取结果。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> path;</li><li><span class="hljs-keyword">let</span> context = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getFilesDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> {</li><li>  path = filePath;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"======================&gt;getFilesDirPromise====================&gt;"</span>);</li><li>
</li><li>  <span class="hljs-keyword">let</span> getPromise = data_storage.<span class="hljs-title function_">getStorage</span>(path + <span class="hljs-string">'/mystore'</span>);</li><li>  getPromise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">storage</span>) =&gt;</span> {</li><li>    storage.<span class="hljs-title function_">putSync</span>(<span class="hljs-string">'startup'</span>, <span class="hljs-string">'auto'</span>);</li><li>    storage.<span class="hljs-title function_">flushSync</span>();</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to get the storage. path: "</span> + path + <span class="hljs-string">'/mystore'</span>);</li><li>  })</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="data_storagedeletestoragesync" device-type="phone,2in1,tablet,wearable,tv">data_storage.deleteStorageSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="data_storagedeletestoragesync" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>deleteStorageSync(path: string): void</p> <p>从内存中移除指定文件对应的Storage单实例，并删除指定文件及其备份文件、损坏文件。删除指定文件时，应用不允许再使用该实例进行数据操作，否则会出现数据一致性问题。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">应用程序内部数据存储路径。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> path;</li><li><span class="hljs-keyword">let</span> context = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getFilesDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> {</li><li>    path = filePath;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"======================&gt;getFilesDirPromise====================&gt;"</span>);</li><li>
</li><li>    data_storage.<span class="hljs-title function_">deleteStorageSync</span>(path + <span class="hljs-string">'/mystore'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="data_storagedeletestorage" device-type="phone,2in1,tablet,wearable,tv">data_storage.deleteStorage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="data_storagedeletestorage" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>deleteStorage(path: string, callback: AsyncCallback&lt;void&gt;): void</p> <p>从内存中移除指定文件对应的Storage单实例，并删除指定文件及其备份文件、损坏文件。删除指定文件时，应用不允许再使用该实例进行数据操作，否则会出现数据一致性问题，使用callback方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">应用程序内部数据存储路径。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> path;</li><li><span class="hljs-keyword">let</span> context = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getFilesDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> {</li><li>  path = filePath;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"======================&gt;getFilesDirPromise====================&gt;"</span>);</li><li>
</li><li>  data_storage.<span class="hljs-title function_">deleteStorage</span>(path + <span class="hljs-string">'/mystore'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to delete the storage with err: "</span> + err);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in deleting the storage."</span>);</li><li>  })</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="data_storagedeletestorage-1" device-type="phone,2in1,tablet,wearable,tv">data_storage.deleteStorage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="data_storagedeletestorage-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>deleteStorage(path: string): Promise&lt;void&gt;</p> <p>从内存中移除指定文件对应的Storage单实例，并删除指定文件及其备份文件、损坏文件。删除指定文件时，应用不允许再使用该实例进行数据操作，否则会出现数据一致性问题，使用promise方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">应用程序内部数据存储路径。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise实例，用于异步获取结果。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> path;</li><li><span class="hljs-keyword">let</span> context = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getFilesDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> {</li><li>  path = filePath;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"======================&gt;getFilesDirPromise====================&gt;"</span>);</li><li>
</li><li>  <span class="hljs-keyword">let</span> promisedelSt = data_storage.<span class="hljs-title function_">deleteStorage</span>(path + <span class="hljs-string">'/mystore'</span>);</li><li>  promisedelSt.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in deleting the storage."</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to delete the storage with err: "</span> + err);</li><li>  })</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="data_storageremovestoragefromcachesync" device-type="phone,2in1,tablet,wearable,tv">data_storage.removeStorageFromCacheSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="data_storageremovestoragefromcachesync" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeStorageFromCacheSync(path: string): void</p> <p>从内存中移除指定文件对应的Storage单实例。移除Storage单实例时，应用不允许再使用该实例进行数据操作，否则会出现数据一致性问题。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">应用程序内部数据存储路径。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> path;</li><li><span class="hljs-keyword">let</span> context = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getFilesDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> {</li><li>    path = filePath;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"======================&gt;getFilesDirPromise====================&gt;"</span>);</li><li>
</li><li>    data_storage.<span class="hljs-title function_">removeStorageFromCacheSync</span>(path + <span class="hljs-string">'/mystore'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="data_storageremovestoragefromcache" device-type="phone,2in1,tablet,wearable,tv">data_storage.removeStorageFromCache<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="data_storageremovestoragefromcache" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeStorageFromCache(path: string, callback: AsyncCallback&lt;void&gt;): void</p> <p>从内存中移除指定文件对应的Storage单实例。移除Storage单实例时，应用不允许再使用该实例进行数据操作，否则会出现数据一致性问题。使用callback方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">应用程序内部数据存储路径。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> path;</li><li><span class="hljs-keyword">let</span> context = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getFilesDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> {</li><li>  path = filePath;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"======================&gt;getFilesDirPromise====================&gt;"</span>);</li><li>
</li><li>  data_storage.<span class="hljs-title function_">removeStorageFromCache</span>(path + <span class="hljs-string">'/mystore'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to remove storage from cache with err: "</span> + err);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in removing storage from cache."</span>);</li><li>  })</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="data_storageremovestoragefromcache-1" device-type="phone,2in1,tablet,wearable,tv">data_storage.removeStorageFromCache<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="data_storageremovestoragefromcache-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeStorageFromCache(path: string): Promise&lt;void&gt;</p> <p>从内存中移除指定文件对应的Storage单实例。移除Storage单实例时，应用不允许再使用该实例进行数据操作，否则会出现数据一致性问题。使用Promise方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">应用程序内部数据存储路径。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise实例，用于异步获取结果。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> path;</li><li><span class="hljs-keyword">let</span> context = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getFilesDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> {</li><li>  path = filePath;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"======================&gt;getFilesDirPromise====================&gt;"</span>);</li><li>
</li><li>  <span class="hljs-keyword">let</span> promiserevSt = data_storage.<span class="hljs-title function_">removeStorageFromCache</span>(path + <span class="hljs-string">'/mystore'</span>)</li><li>  promiserevSt.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in removing storage from cache."</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to remove storage from cache with err: "</span> + err);</li><li>  })</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="storage" device-type="phone,2in1,tablet,wearable,tv">Storage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="storage" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供获取和修改存储数据的接口。</p> <p>下列接口都需先使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-storage#data_storagegetstorage">data_storage.getStorage</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-storage#data_storagegetstoragesync">data_storage.getStorageSync</a>获取到Storage实例，再通过此实例调用对应接口。</p> </div>  <div class="tiledSection"><h3 id="getsync" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">getSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsync" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSync(key: string, defValue: ValueType): ValueType</p> <p>获取键对应的值，如果值为null或者非默认值类型，返回默认数据defValue。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要获取的存储key名称，不能为空。</td> </tr> <tr><td class="cellrowborder" width="25%">defValue</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-storage#valuetype">ValueType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">给定key的存储不存在，则要返回的默认值。支持number、string、boolean。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">ValueType</td> <td class="cellrowborder" width="50%">键对应的值，如果值为null或者非默认值类型，返回默认数据。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> value = storage.<span class="hljs-title function_">getSync</span>(<span class="hljs-string">'startup'</span>, <span class="hljs-string">'default'</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"The value of startup is "</span> + value);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="get" device-type="phone,2in1,tablet,wearable,tv">get<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="get" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>get(key: string, defValue: ValueType, callback: AsyncCallback&lt;ValueType&gt;): void</p> <p>获取键对应的值，如果值为null或者非默认值类型，返回默认数据defValue。使用callback方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要获取的存储key名称，不能为空。</td> </tr> <tr><td class="cellrowborder" width="25%">defValue</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-storage#valuetype">ValueType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">默认返回值。支持number、string、boolean。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;ValueType&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li>storage.<span class="hljs-title function_">get</span>(<span class="hljs-string">'startup'</span>, <span class="hljs-string">'default'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">err, value</span>) {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to get the value of startup with err: "</span> + err);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"The value of startup is "</span> + value);</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="get-1" device-type="phone,2in1,tablet,wearable,tv">get<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="get-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>get(key: string, defValue: ValueType): Promise&lt;ValueType&gt;</p> <p>获取键对应的值，如果值为null或者非默认值类型，返回默认数据defValue。使用Promise方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要获取的存储key名称，不能为空。</td> </tr> <tr><td class="cellrowborder" width="25%">defValue</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-storage#valuetype">ValueType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">默认返回值。支持number、string、boolean。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;ValueType&gt;</td> <td class="cellrowborder" width="50%">Promise实例，用于异步获取结果。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> promiseget = storage.<span class="hljs-title function_">get</span>(<span class="hljs-string">'startup'</span>, <span class="hljs-string">'default'</span>);</li><li>promiseget.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"The value of startup is "</span> + value)</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to get the value of startup with err: "</span> + err);</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="putsync" device-type="phone,2in1,tablet,wearable,tv">putSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="putsync" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>putSync(key: string, value: ValueType): void</p> <p>首先获取指定文件对应的Storage实例，然后借助Storage API将数据写入Storage实例，通过flush或者flushSync将Storage实例持久化。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要修改的存储的key，不能为空。</td> </tr> <tr><td class="cellrowborder" width="25%">value</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-storage#valuetype">ValueType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">存储的新值。支持number、string、boolean。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li>storage.<span class="hljs-title function_">putSync</span>(<span class="hljs-string">'startup'</span>, <span class="hljs-string">'auto'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="put" device-type="phone,2in1,tablet,wearable,tv">put<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="put" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>put(key: string, value: ValueType, callback: AsyncCallback&lt;void&gt;): void</p> <p>首先获取指定文件对应的Storage实例，然后借助Storage API将数据写入Storage实例，通过flush或者flushSync将Storage实例持久化。使用callback方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要修改的存储的key，不能为空。</td> </tr> <tr><td class="cellrowborder" width="25%">value</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-storage#valuetype">ValueType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">存储的新值。支持number、string、boolean。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li>storage.<span class="hljs-title function_">put</span>(<span class="hljs-string">'startup'</span>, <span class="hljs-string">'auto'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to put the value of startup with err: "</span> + err);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in putting the value of startup."</span>);</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="put-1" device-type="phone,2in1,tablet,wearable,tv">put<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="put-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>put(key: string, value: ValueType): Promise&lt;void&gt;</p> <p>首先获取指定文件对应的Storage实例，然后借助Storage API将数据写入Storage实例，通过flush或者flushSync将Storage实例持久化。使用Promise方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要修改的存储的key，不能为空。</td> </tr> <tr><td class="cellrowborder" width="25%">value</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-storage#valuetype">ValueType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">存储的新值。支持number、string、boolean。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise实例，用于异步处理。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> promiseput = storage.<span class="hljs-title function_">put</span>(<span class="hljs-string">'startup'</span>, <span class="hljs-string">'auto'</span>);</li><li>promiseput.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in putting the value of startup."</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to put the value of startup with err: "</span> + err);</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="hassync" device-type="phone,2in1,tablet,wearable,tv">hasSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hassync" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>hasSync(key: string): boolean</p> <p>检查存储对象是否包含名为给定key的存储。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要获取的存储key名称，不能为空。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">true 表示存在，false表示不存在。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> isExist = storage.<span class="hljs-title function_">hasSync</span>(<span class="hljs-string">'startup'</span>);</li><li><span class="hljs-keyword">if</span> (isExist) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"The key of startup is contained."</span>);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="has" device-type="phone,2in1,tablet,wearable,tv">has<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="has" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>has(key: string, callback: AsyncCallback&lt;boolean&gt;): boolean</p> <p>检查存储对象是否包含名为给定key的存储。使用callback方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要获取的存储key名称，不能为空。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">true表示存在，false表示不存在。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li>storage.<span class="hljs-title function_">has</span>(<span class="hljs-string">'startup'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">err, isExist</span>) {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to check the key of startup with err: "</span> + err);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (isExist) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"The key of startup is contained."</span>);</li><li>    }</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="has-1" device-type="phone,2in1,tablet,wearable,tv">has<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="has-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>has(key: string): Promise&lt;boolean&gt;</p> <p>检查存储对象是否包含名为给定key的存储。使用Promise方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要获取的存储key名称，不能为空。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td> <td class="cellrowborder" width="50%">Promise实例，用于异步处理。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> promisehas = storage.<span class="hljs-title function_">has</span>(<span class="hljs-string">'startup'</span>)</li><li>promisehas.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">isExist</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (isExist) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"The key of startup is contained."</span>);</li><li>    }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to check the key of startup with err: "</span> + err);</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="deletesync" device-type="phone,2in1,tablet,wearable,tv">deleteSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="deletesync" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>deleteSync(key: string): void</p> <p>从存储对象中删除名为给定key的存储。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要获取的存储key名称。它不能为空。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li> storage.<span class="hljs-title function_">deleteSync</span>(<span class="hljs-string">'startup'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="delete" device-type="phone,2in1,tablet,wearable,tv">delete<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="delete" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>delete(key: string, callback: AsyncCallback&lt;void&gt;): void</p> <p>从存储对象中删除名为给定key的存储。使用callback方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要获取的存储key名称，不能为空。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li>storage.<span class="hljs-title function_">delete</span>(<span class="hljs-string">'startup'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to delete startup key failed err: "</span> + err);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in deleting startup key."</span>);</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="delete-1" device-type="phone,2in1,tablet,wearable,tv">delete<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="delete-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>delete(key: string): Promise&lt;void&gt;</p> <p>从存储对象删除名为给定key的存储。使用Promise方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要获取的存储key名称。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise实例，用于异步处理。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> promisedel = storage.<span class="hljs-title function_">delete</span>(<span class="hljs-string">'startup'</span>)</li><li>promisedel.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in deleting startup key."</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to delete startup key failed err: "</span> + err);</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="flushsync" device-type="phone,2in1,tablet,wearable,tv">flushSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="flushsync" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>flushSync(): void</p> <p>将当前storage对象中的修改保存到当前的storage，并同步存储到文件中。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li>storage.<span class="hljs-title function_">flushSync</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="flush" device-type="phone,2in1,tablet,wearable,tv">flush<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="flush" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>flush(callback: AsyncCallback&lt;void&gt;): void</p> <p>将当前storage对象中的修改保存到当前的storage，并异步存储到文件中。使用callback方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li>storage.<span class="hljs-title function_">flush</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to flush to file with err: "</span> + err);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in flushing to file."</span>);</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="flush-1" device-type="phone,2in1,tablet,wearable,tv">flush<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="flush-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>flush(): Promise&lt;void&gt;</p> <p>将当前storage对象中的修改保存到当前的storage，并异步存储到文件中。使用Promise方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise实例，用于异步处理。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> promiseflush = storage.<span class="hljs-title function_">flush</span>();</li><li>promiseflush.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in flushing to file."</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to flush to file with err: "</span> + err);</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="clearsync" device-type="phone,2in1,tablet,wearable,tv">clearSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clearsync" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clearSync(): void</p> <p>清除此存储对象中的所有存储。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li>storage.<span class="hljs-title function_">clearSync</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="clear" device-type="phone,2in1,tablet,wearable,tv">clear<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clear" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clear(callback: AsyncCallback&lt;void&gt;): void</p> <p>清除此存储对象中的所有存储。使用callback方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li>storage.<span class="hljs-title function_">clear</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to clear the storage with err: "</span> + err);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in clearing the storage."</span>);</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="clear-1" device-type="phone,2in1,tablet,wearable,tv">clear<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clear-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clear(): Promise&lt;void&gt;</p> <p>清除此存储对象中的所有存储。使用Promise方式返回结果，此方法为异步方法。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.32.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise实例，用于异步处理。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> promiseclear = storage.<span class="hljs-title function_">clear</span>();</li><li>promiseclear.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in clearing the storage."</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Failed to clear the storage with err: "</span> + err);</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="onchange" device-type="phone,2in1,tablet,wearable,tv">on('change')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onchange" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'change', callback: Callback&lt;StorageObserver&gt;): void</p> <p>订阅数据变更者类需要实现StorageObserver接口，订阅的key的值发生变更后，在执行flush/flushSync方法后，callback方法会被回调。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">事件类型，固定值'change'，表示数据变更。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-storage#storageobserver">StorageObserver</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调对象实例。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> observer = <span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"The key of "</span> + key + <span class="hljs-string">" changed."</span>);</li><li>}</li><li>storage.<span class="hljs-title function_">on</span>(<span class="hljs-string">'change'</span>, observer);</li><li>storage.<span class="hljs-title function_">putSync</span>(<span class="hljs-string">'startup'</span>, <span class="hljs-string">'auto'</span>);</li><li>storage.<span class="hljs-title function_">flushSync</span>();  <span class="hljs-comment">// observer will be called.</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="offchange" device-type="phone,2in1,tablet,wearable,tv">off('change')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offchange" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'change', callback: Callback&lt;StorageObserver&gt;): void</p> <p>当不再进行订阅数据变更时，使用此接口取消订阅。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">事件类型，固定值'change'，表示数据变更。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-storage#storageobserver">StorageObserver</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">需要取消的回调对象实例。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gxk-c106="" class="highlight-div"><div _ngcontent-gxk-c106="" class="highlight-div-header"><div _ngcontent-gxk-c106="" class="highlight-div-header-left"><div _ngcontent-gxk-c106="" class="handle-button expand-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gxk-c106="" class="highlight-div-header-right"><div _ngcontent-gxk-c106="" class="handle-button ai-button"></div><div _ngcontent-gxk-c106="" class="handle-button line-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gxk-c106="" class="handle-button theme-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gxk-c106="" class="handle-button copy-button"><div _ngcontent-gxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gxk-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> observer = <span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"The key of "</span> + key + <span class="hljs-string">" changed."</span>);</li><li>}</li><li>storage.<span class="hljs-title function_">off</span>(<span class="hljs-string">'change'</span>, observer);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="storageobserver" device-type="phone,2in1,tablet,wearable,tv">StorageObserver<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="storageobserver" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.35.3.1.5.1.1" width="25%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.35.3.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.35.3.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.35.3.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">变更的数据内容。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="valuetype" device-type="phone,2in1,tablet,wearable,tv">ValueType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="valuetype" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ValueType = number | string | boolean</p> <p>用于表示允许的数据字段类型。</p> <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.Preferences.Core</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.36.5.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.36.5.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">number</td> <td class="cellrowborder" width="50%">表示值类型为数字。</td> </tr> <tr><td class="cellrowborder" width="50%">string</td> <td class="cellrowborder" width="50%">表示值类型为字符。</td> </tr> <tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">表示值类型为布尔值。</td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>