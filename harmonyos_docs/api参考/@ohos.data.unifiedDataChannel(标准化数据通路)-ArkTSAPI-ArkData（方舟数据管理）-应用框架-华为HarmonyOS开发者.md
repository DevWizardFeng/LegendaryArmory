<h1 _ngcontent-uiq-c119="" class="doc-title ng-star-inserted" title="@ohos.data.unifiedDataChannel (标准化数据通路)"> @ohos.data.unifiedDataChannel (标准化数据通路) </h1>

<div _ngcontent-uiq-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>本模块为统一数据管理框架（Unified Data Management Framework，UDMF）的组成部分，针对多对多跨应用数据共享的不同业务场景提供了标准化的数据通路，提供了标准化的数据接入与读取接口。同时对文本、图片等数据类型提供了标准化定义，方便不同应用间进行数据交互，减少数据类型适配的工作量。UDMF处理数据时，不会解析用户数据的内容，存储路径安全性较低，不建议传输个人敏感数据和隐私数据。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 10开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { unifiedDataChannel } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 426px;">     <h2 id="shareoptions12" device-type="phone,2in1,tablet,tv">ShareOptions<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="shareoptions12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>UDMF支持的设备内使用范围类型枚举。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">IN_APP</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">表示允许在本设备同应用内使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CROSS_APP</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示允许在本设备内跨应用使用。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1265px;">     <h2 id="getdelaydata12" device-type="phone,2in1,tablet,tv">GetDelayData<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdelaydata12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>type GetDelayData = (type: string) =&gt; UnifiedData</p>     <p>对UnifiedData的延迟封装，支持延迟获取数据。当前只支持同设备剪贴板场景，后续场景待开发。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">作为延迟数据类型的标识。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a></td>         <td class="cellrowborder" width="50%">当延迟回调触发时，返回一个UnifiedData对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">getDelayData</span>: unifiedDataChannel.<span class="hljs-property">GetDelayData</span> = (<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">type</span>: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> == uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>) {</li><li>    <span class="hljs-keyword">let</span> plainTextDetails : <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {</li><li>      <span class="hljs-string">'attr1'</span>: <span class="hljs-string">'value1'</span>,</li><li>      <span class="hljs-string">'attr2'</span>: <span class="hljs-string">'value2'</span></li><li>    }</li><li>    <span class="hljs-keyword">let</span> plainText : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>      <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>      textContent : <span class="hljs-string">'This is a plain text example'</span>,</li><li>      <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract'</span>,</li><li>      details : plainTextDetails</li><li>    }</li><li>    <span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainText);</li><li>    <span class="hljs-keyword">let</span> textData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(text);</li><li>    <span class="hljs-keyword">return</span> textData;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>();</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 889px;">     <h2 id="valuetype12" device-type="phone,2in1,tablet,tv">ValueType<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="valuetype12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>type ValueType = number | string | boolean | image.PixelMap | Want | ArrayBuffer | object | null | undefined</p>     <p>用于表示统一数据记录允许的数据字段类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">表示number的类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">表示string的类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">表示boolean的类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">image.PixelMap</td>         <td class="cellrowborder" width="50%">表示<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a>的类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">Want</td>         <td class="cellrowborder" width="50%">表示<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a>的类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">ArrayBuffer</td>         <td class="cellrowborder" width="50%">表示ArrayBuffer的类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">object</td>         <td class="cellrowborder" width="50%">表示object的类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">null</td>         <td class="cellrowborder" width="50%">表示null。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">undefined</td>         <td class="cellrowborder" width="50%">表示undefined。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1778px;">     <h2 id="unifieddataproperties12" device-type="phone,2in1,tablet,tv">UnifiedDataProperties<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifieddataproperties12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>定义统一数据对象中所有数据记录的属性，包含时间戳、标签、粘贴范围以及一些附加数据等。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">extras</td>         <td class="cellrowborder" width="20%">Record&lt;string, object&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是一个字典类型对象，用于设置其他附加属性数据。非必填字段，默认值为空字典对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">tag</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">用户自定义标签。非必填字段，默认值为空字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">timestamp</td>         <td class="cellrowborder" width="20%">Date</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a>的生成时间戳。默认值为1970年1月1日（UTC）。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">shareOptions</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#shareoptions12">ShareOptions</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">指示<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a>支持的设备内使用范围，非必填字段，默认值为CROSS_APP。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">getDelayData</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#getdelaydata12">GetDelayData</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">延迟获取数据回调。当前只支持同设备剪贴板场景，后续场景待开发。非必填字段，默认值为undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> properties = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedDataProperties</span>();</li><li>properties.<span class="hljs-property">extras</span> = {</li><li>  <span class="hljs-attr">key</span>: {</li><li>    <span class="hljs-attr">title</span>: <span class="hljs-string">'MyTitle'</span>,</li><li>    <span class="hljs-attr">content</span>: <span class="hljs-string">'MyContent'</span></li><li>  }</li><li>};</li><li>properties.<span class="hljs-property">tag</span> = <span class="hljs-string">"This is a tag of properties"</span>;</li><li>properties.<span class="hljs-property">shareOptions</span> = unifiedDataChannel.<span class="hljs-property">ShareOptions</span>.<span class="hljs-property">CROSS_APP</span>;</li><li>properties.<span class="hljs-property">getDelayData</span> = (<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">type</span>: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> == uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>) {</li><li>    <span class="hljs-keyword">let</span> plainTextDetails : <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {</li><li>      <span class="hljs-string">'attr1'</span>: <span class="hljs-string">'value1'</span>,</li><li>      <span class="hljs-string">'attr2'</span>: <span class="hljs-string">'value2'</span></li><li>    }</li><li>    <span class="hljs-keyword">let</span> plainText : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>      <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>      textContent : <span class="hljs-string">'This is a plain text example'</span>,</li><li>      <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract'</span>,</li><li>      details : plainTextDetails</li><li>    }</li><li>    <span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainText);</li><li>    <span class="hljs-keyword">let</span> textData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(text);</li><li>    <span class="hljs-keyword">return</span> textData;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>();</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="unifieddata" device-type="phone,2in1,tablet,tv">UnifiedData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifieddata" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示UDMF统一数据对象，提供封装一组数据记录的方法。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 351px;">     <h3 id="属性" class="firsth2">属性<i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">properties<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddataproperties12">UnifiedDataProperties</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>当前统一数据对象中所有数据记录的属性，包含时间戳、标签、粘贴范围以及一些附加数据等。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 479px;">     <h3 id="constructor12" device-type="phone,2in1,tablet,tv">constructor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor()</p>     <p>用于创建统一数据对象。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1137px;">     <h3 id="constructor" device-type="phone,2in1,tablet,tv">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor(record: UnifiedRecord)</p>     <p>用于创建带有一条数据记录的统一数据对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">record</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifiedrecord">UnifiedRecord</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要添加到统一数据对象中的数据记录，该记录为UnifiedRecord或其子类对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">let</span> plainText : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>  textContent : <span class="hljs-string">'This is a plain text example'</span>,</li><li>  <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract'</span></li><li>}</li><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainText);</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(text);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1305px;">     <h3 id="addrecord" device-type="phone,2in1,tablet,tv">addRecord<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addrecord" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>addRecord(record: UnifiedRecord): void</p>     <p>在当前统一数据对象中添加一条数据记录。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">record</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifiedrecord">UnifiedRecord</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要添加到统一数据对象中的数据记录，该记录为UnifiedRecord子类对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">let</span> plainText : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>  textContent : <span class="hljs-string">'This is a plain text example'</span>,</li><li>  <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract'</span></li><li>}</li><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainText);</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(text);</li><li>
</li><li><span class="hljs-keyword">let</span> hyperlink : uniformDataStruct.<span class="hljs-property">Hyperlink</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>:<span class="hljs-string">'general.hyperlink'</span>,</li><li>  url : <span class="hljs-string">'www.XXX.com'</span>,</li><li>  description : <span class="hljs-string">'This is the description of the hyperlink'</span></li><li>}</li><li><span class="hljs-keyword">let</span> link = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HYPERLINK</span>, hyperlink);</li><li>unifiedData.<span class="hljs-title function_">addRecord</span>(link);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1304px;">     <h3 id="getrecords">getRecords<i class="anchor-icon anchor-icon-link" anchorid="getrecords" tips="复制节点链接"></i></h3>          <p>getRecords(): Array&lt;UnifiedRecord&gt;</p>     <p>将当前统一数据对象中的所有数据记录取出。通过本接口取出的数据为UnifiedRecord类型，需通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#gettype">getType</a>获取数据类型后转为子类再使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong> ：SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifiedrecord">UnifiedRecord</a>&gt;</td>         <td class="cellrowborder" width="50%">当前统一数据对象内所添加的记录。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> plainText : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>  textContent : <span class="hljs-string">'This is a plain text example'</span>,</li><li>  <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract'</span></li><li>}</li><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainText);</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(text);</li><li>
</li><li><span class="hljs-keyword">let</span> hyperlink : uniformDataStruct.<span class="hljs-property">Hyperlink</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>:<span class="hljs-string">'general.hyperlink'</span>,</li><li>  url : <span class="hljs-string">'www.XXX.com'</span>,</li><li>  description : <span class="hljs-string">'This is the description of the hyperlink'</span></li><li>}</li><li><span class="hljs-keyword">let</span> link = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HYPERLINK</span>, hyperlink);</li><li>unifiedData.<span class="hljs-title function_">addRecord</span>(link);</li><li>
</li><li><span class="hljs-keyword">let</span> records = unifiedData.<span class="hljs-title function_">getRecords</span>();</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; records.<span class="hljs-property">length</span>; i++) {</li><li>  <span class="hljs-keyword">let</span> record = records[i];</li><li>  <span class="hljs-keyword">let</span> types = record.<span class="hljs-title function_">getTypes</span>();</li><li>  <span class="hljs-keyword">if</span> (types.<span class="hljs-title function_">includes</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>)) {</li><li>    <span class="hljs-keyword">let</span> plainText = record.<span class="hljs-title function_">getEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>) <span class="hljs-keyword">as</span> unifiedDataChannel.<span class="hljs-property">PlainText</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`textContent: <span class="hljs-subst">${plainText.textContent}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (types.<span class="hljs-title function_">includes</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HYPERLINK</span>)) {</li><li>    <span class="hljs-keyword">let</span> hyperlink = record.<span class="hljs-title function_">getEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HYPERLINK</span>) <span class="hljs-keyword">as</span> unifiedDataChannel.<span class="hljs-property">Hyperlink</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`linkUrl: <span class="hljs-subst">${hyperlink.url}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1554px;">     <h3 id="hastype12">hasType<sup>12+</sup><i class="anchor-icon anchor-icon-link" anchorid="hastype12" tips="复制节点链接"></i></h3>          <p>hasType(type: string): boolean</p>     <p>检查当前统一数据对象中是否有指定的数据类型，检查范围包括使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#addentry15">addEntry</a>函数添加的数据类型。</p>     <p>针对文件类型，若UnifiedData的类型集合中包含"general.jpeg"，在调用hasType接口判断是否包括"general.image"类型时，结果返回true（类型"general.jpeg"归属于类型"general.image"）。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong> ：SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要查询的数据类型，见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-uniformtypedescriptor#uniformdatatype">UniformDataType</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">有指定的数据类型返回true，否则返回false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.13.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.13.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> plainText : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>  textContent : <span class="hljs-string">'This is a plain text example'</span>,</li><li>  <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract'</span></li><li>}</li><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainText);</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(text);</li><li>
</li><li><span class="hljs-keyword">let</span> hyperlink : uniformDataStruct.<span class="hljs-property">Hyperlink</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>:<span class="hljs-string">'general.hyperlink'</span>,</li><li>  url : <span class="hljs-string">'www.XXX.com'</span>,</li><li>  description : <span class="hljs-string">'This is the description of the hyperlink'</span></li><li>}</li><li><span class="hljs-keyword">let</span> link = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HYPERLINK</span>, hyperlink);</li><li>unifiedData.<span class="hljs-title function_">addRecord</span>(link);</li><li>
</li><li><span class="hljs-keyword">let</span> hasPlainText = unifiedData.<span class="hljs-title function_">hasType</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>);</li><li><span class="hljs-keyword">let</span> hasLink = unifiedData.<span class="hljs-title function_">hasType</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HYPERLINK</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1040px;">     <h3 id="gettypes12">getTypes<sup>12+</sup><i class="anchor-icon anchor-icon-link" anchorid="gettypes12" tips="复制节点链接"></i></h3>          <p>getTypes(): Array&lt;string&gt;</p>     <p>获取当前统一数据对象所有数据记录的类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong> ：SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-uniformtypedescriptor#uniformdatatype">UniformDataType</a>类型的数组，表示当前统一数据对象所有数据记录对应的数据类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> plainText : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>  textContent : <span class="hljs-string">'This is a plain text example'</span>,</li><li>  <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract'</span></li><li>}</li><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainText);</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(text);</li><li>
</li><li><span class="hljs-keyword">let</span> hyperlink : uniformDataStruct.<span class="hljs-property">Hyperlink</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>:<span class="hljs-string">'general.hyperlink'</span>,</li><li>  url : <span class="hljs-string">'www.XXX.com'</span>,</li><li>  description : <span class="hljs-string">'This is the description of the hyperlink'</span></li><li>}</li><li><span class="hljs-keyword">let</span> link = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HYPERLINK</span>, hyperlink);</li><li>unifiedData.<span class="hljs-title function_">addRecord</span>(link);</li><li>
</li><li><span class="hljs-keyword">let</span> types = unifiedData.<span class="hljs-title function_">getTypes</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1187px;">     <h2 id="summary" device-type="phone,2in1,tablet,tv">Summary<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="summary" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>描述统一数据对象的数据摘要，包括数据类型和大小。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">summary</td>         <td class="cellrowborder" width="20%">Record&lt;string, number&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是一个字典类型对象，key表示数据类型（见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-uniformtypedescriptor#uniformdatatype">UniformDataType</a>），value为统一数据对象中该类型记录大小总和（单位：Byte）。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">totalSize</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">统一数据对象内记录总大小（单位：Byte）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">parseSummary</span>(<span class="hljs-params">summary : unifiedDataChannel.Summary</span>) {</li><li>  <span class="hljs-keyword">let</span> summaryRecord = summary.<span class="hljs-property">summary</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt;;</li><li>  <span class="hljs-keyword">if</span> (summaryRecord) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(summaryRecord)) {</li><li>      <span class="hljs-keyword">if</span> (item &amp;&amp; item.<span class="hljs-property">length</span> &lt;= <span class="hljs-number">1</span>) {</li><li>        <span class="hljs-keyword">continue</span>;</li><li>      }</li><li>      <span class="hljs-keyword">let</span> summaryStr : <span class="hljs-built_in">string</span> = <span class="hljs-title class_">String</span>(item[<span class="hljs-number">1</span>]);</li><li>      <span class="hljs-keyword">let</span> info : <span class="hljs-built_in">string</span>[] = summaryStr.<span class="hljs-title function_">split</span>(<span class="hljs-string">","</span>);</li><li>      <span class="hljs-keyword">if</span> (info.<span class="hljs-property">length</span> &lt;= <span class="hljs-number">1</span>) {</li><li>        <span class="hljs-keyword">continue</span>;</li><li>      }</li><li>      <span class="hljs-keyword">let</span> key : <span class="hljs-built_in">string</span> = info[<span class="hljs-number">0</span>];</li><li>      <span class="hljs-keyword">let</span> value : <span class="hljs-built_in">string</span> = info[<span class="hljs-number">1</span>];</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="unifiedrecord" device-type="phone,2in1,tablet,tv">UnifiedRecord<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifiedrecord" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>对UDMF支持的数据内容的抽象定义，称为数据记录。一个统一数据对象内包含一条或多条数据记录，例如一条文本记录、一条图片记录、一条HTML记录等。从API version 15开始，支持往数据记录中增加同一内容的不同表现样式，数据使用方根据业务需要获取对应的样式。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 463px;">     <h3 id="constructor12-1" device-type="phone,2in1,tablet,tv" class="firsth2">constructor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor()</p>     <p>用于创建数据记录。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> unifiedRecord = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1590px;">     <h3 id="constructor12-2" device-type="phone,2in1,tablet,tv">constructor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor12-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor(type: string, value: ValueType)</p>     <p>用于创建指定类型和值的数据记录。</p>     <p>当参数value为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a>类型时，参数type必须对应为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-uniformtypedescriptor#uniformdatatype">UniformDataType</a>中OPENHARMONY_PIXEL_MAP的值；</p>     <p>当参数value为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a>类型时，参数type必须对应为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-uniformtypedescriptor#uniformdatatype">UniformDataType</a>中OPENHARMONY_WANT的值。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要创建的数据记录的类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#valuetype12">ValueType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要创建的数据记录的值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.19.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> hyperlink : uniformDataStruct.<span class="hljs-property">Hyperlink</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>:<span class="hljs-string">'general.hyperlink'</span>,</li><li>  url : <span class="hljs-string">'www.XXX.com'</span>,</li><li>  description : <span class="hljs-string">'This is the description of the hyperlink'</span></li><li>}</li><li><span class="hljs-keyword">let</span> hyperlinkRecord = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HYPERLINK</span>, hyperlink);</li><li>
</li><li><span class="hljs-keyword">let</span> plainText : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>  textContent : <span class="hljs-string">'This is a plain text example'</span>,</li><li>  <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract'</span></li><li>}</li><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainText);</li><li>
</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">4</span> * <span class="hljs-number">200</span> * <span class="hljs-number">200</span>);</li><li><span class="hljs-keyword">let</span> opt : image.<span class="hljs-property">InitializationOptions</span> = { <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">size</span>: { <span class="hljs-attr">height</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span> }, <span class="hljs-attr">alphaType</span>: <span class="hljs-number">3</span> };</li><li><span class="hljs-keyword">let</span> pixelMap : uniformDataStruct.<span class="hljs-property">PixelMap</span> = {</li><li>  uniformDataType : <span class="hljs-string">'openharmony.pixel-map'</span>,</li><li>  pixelMap : image.<span class="hljs-title function_">createPixelMapSync</span>(arrayBuffer, opt)</li><li>}</li><li><span class="hljs-keyword">let</span> pixelMapRecord = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">OPENHARMONY_PIXEL_MAP</span>, pixelMap);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 944px;">     <h3 id="gettype">getType<i class="anchor-icon anchor-icon-link" anchorid="gettype" tips="复制节点链接"></i></h3>          <p>getType(): string</p>     <p>获取当前数据记录的类型。由于从统一数据对象中调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#getrecords">getRecords</a>所取出的数据是UnifiedRecord对象，因此需要通过本接口查询此记录的具体类型，再将该UnifiedRecord对象转换为其子类，调用子类接口。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong> ：SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">当前数据记录对应的具体数据类型，见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-uniformtypedescriptor#uniformdatatype">UniformDataType</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> plainText : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>  textContent : <span class="hljs-string">'This is a plain text example'</span>,</li><li>  <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract'</span></li><li>}</li><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainText);</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(text);</li><li>
</li><li><span class="hljs-keyword">let</span> records = unifiedData.<span class="hljs-title function_">getRecords</span>();</li><li><span class="hljs-keyword">if</span> (records[<span class="hljs-number">0</span>].<span class="hljs-title function_">getType</span>() == uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>) {</li><li>  <span class="hljs-keyword">let</span> plainText = records[<span class="hljs-number">0</span>] <span class="hljs-keyword">as</span> unifiedDataChannel.<span class="hljs-property">PlainText</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`textContent: <span class="hljs-subst">${plainText.textContent}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 968px;">     <h3 id="getvalue12">getValue<sup>12+</sup><i class="anchor-icon anchor-icon-link" anchorid="getvalue12" tips="复制节点链接"></i></h3>          <p>getValue(): ValueType</p>     <p>获取当前数据记录的值。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong> ：SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#valuetype12">ValueType</a></td>         <td class="cellrowborder" width="50%">当前数据记录对应的值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, <span class="hljs-string">'this is value of text'</span>);</li><li><span class="hljs-keyword">let</span> value = text.<span class="hljs-title function_">getValue</span>();</li><li>
</li><li><span class="hljs-keyword">let</span> hyperlinkDetails : <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {</li><li>  <span class="hljs-string">'attr1'</span>: <span class="hljs-string">'value1'</span>,</li><li>  <span class="hljs-string">'attr2'</span>: <span class="hljs-string">'value2'</span></li><li>}</li><li><span class="hljs-keyword">let</span> hyperlink : uniformDataStruct.<span class="hljs-property">Hyperlink</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>:<span class="hljs-string">'general.hyperlink'</span>,</li><li>  url : <span class="hljs-string">'www.XXX.com'</span>,</li><li>  description : <span class="hljs-string">'This is the description of the hyperlink'</span>,</li><li>  details : hyperlinkDetails</li><li>}</li><li><span class="hljs-keyword">let</span> hyperlinkRecord = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HYPERLINK</span>, hyperlink);</li><li><span class="hljs-keyword">let</span> hyperlinkValue = hyperlinkRecord.<span class="hljs-title function_">getValue</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1470px;">     <h3 id="addentry15" device-type="phone,2in1,tablet,tv">addEntry<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addentry15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>addEntry(type: string, value: ValueType): void</p>     <p>在当前数据记录中添加一条指定数据类型和内容的数据，通过该方法增加的数据类型和内容为同一内容的不同表现样式.</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要创建的数据类型，见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-uniformtypedescriptor#uniformdatatype">UniformDataType</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#valuetype12">ValueType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要创建的数据的值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> fileUriDetails : <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {</li><li>  <span class="hljs-string">'attr1'</span>: <span class="hljs-string">'value1'</span>,</li><li>  <span class="hljs-string">'attr2'</span>: <span class="hljs-string">'value2'</span></li><li>}</li><li><span class="hljs-keyword">let</span> fileUri : uniformDataStruct.<span class="hljs-property">FileUri</span> = {</li><li>  uniformDataType : <span class="hljs-string">'general.file-uri'</span>,</li><li>  oriUri : <span class="hljs-string">'file://data/image/1.png'</span>,</li><li>  fileType : <span class="hljs-string">'general.image'</span>,</li><li>  details : fileUriDetails</li><li>}</li><li><span class="hljs-keyword">let</span> hyperlink : uniformDataStruct.<span class="hljs-property">Hyperlink</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>:<span class="hljs-string">'general.hyperlink'</span>,</li><li>  url : <span class="hljs-string">'file://data/image/1.png'</span>,</li><li>  description : <span class="hljs-string">'This is the description of the hyperlink'</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>();</li><li><span class="hljs-keyword">let</span> record = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HYPERLINK</span>, hyperlink);</li><li>record.<span class="hljs-title function_">addEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">FILE_URI</span>, fileUri);</li><li>unifiedData.<span class="hljs-title function_">addRecord</span>(record);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2100px;">     <h3 id="getentry15" device-type="phone,2in1,tablet,tv">getEntry<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getentry15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getEntry(type: string): ValueType</p>     <p>通过数据类型获取数据记录中的数据内容。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要获取数据的类型，见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-uniformtypedescriptor#uniformdatatype">UniformDataType</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#valuetype12">ValueType</a></td>         <td class="cellrowborder" width="50%">当前数据记录对应的值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.23.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> fileUriDetails : <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {</li><li>  <span class="hljs-string">'attr1'</span>: <span class="hljs-string">'value1'</span>,</li><li>  <span class="hljs-string">'attr2'</span>: <span class="hljs-string">'value2'</span></li><li>}</li><li><span class="hljs-keyword">let</span> fileUri : uniformDataStruct.<span class="hljs-property">FileUri</span> = {</li><li>  uniformDataType : <span class="hljs-string">'general.file-uri'</span>,</li><li>  oriUri : <span class="hljs-string">'file://data/image/1.png'</span>,</li><li>  fileType : <span class="hljs-string">'general.image'</span>,</li><li>  details : fileUriDetails</li><li>}</li><li><span class="hljs-keyword">let</span> formDetails : <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {</li><li>  <span class="hljs-string">'attr1'</span>: <span class="hljs-string">'value1'</span>,</li><li>  <span class="hljs-string">'attr2'</span>: <span class="hljs-string">'value2'</span></li><li>}</li><li><span class="hljs-keyword">let</span> form : uniformDataStruct.<span class="hljs-property">Form</span> = {</li><li>  uniformDataType : <span class="hljs-string">'openharmony.form'</span>,</li><li>  formId : <span class="hljs-number">1</span>,</li><li>  formName : <span class="hljs-string">'form'</span>,</li><li>  bundleName : <span class="hljs-string">'com.xx.app'</span>,</li><li>  abilityName : <span class="hljs-string">'ability'</span>,</li><li>  <span class="hljs-variable language_">module</span> : <span class="hljs-string">'module'</span>,</li><li>  details : formDetails</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>();</li><li><span class="hljs-keyword">let</span> record = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">OPENHARMONY_FORM</span>, form);</li><li>record.<span class="hljs-title function_">addEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">FILE_URI</span>, fileUri);</li><li>unifiedData.<span class="hljs-title function_">addRecord</span>(record);</li><li>
</li><li><span class="hljs-keyword">let</span> records = unifiedData.<span class="hljs-title function_">getRecords</span>();</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; records.<span class="hljs-property">length</span>; i++) {</li><li>  <span class="hljs-keyword">let</span> unifiedDataRecord = records[i] <span class="hljs-keyword">as</span> unifiedDataChannel.<span class="hljs-property">UnifiedRecord</span>;</li><li>  <span class="hljs-keyword">let</span> fileUriRead : uniformDataStruct.<span class="hljs-property">FileUri</span> = unifiedDataRecord.<span class="hljs-title function_">getEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">FILE_URI</span>) <span class="hljs-keyword">as</span> uniformDataStruct.<span class="hljs-property">FileUri</span>;</li><li>  <span class="hljs-keyword">if</span> (fileUriRead != <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`oriUri: <span class="hljs-subst">${fileUriRead.oriUri}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">let</span> formRead = unifiedDataRecord.<span class="hljs-title function_">getEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">OPENHARMONY_FORM</span>) <span class="hljs-keyword">as</span> uniformDataStruct.<span class="hljs-property">Form</span>;</li><li>  <span class="hljs-keyword">if</span> (formRead != <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`formName: <span class="hljs-subst">${formRead.formName}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1682px;">     <h3 id="getentries15" device-type="phone,2in1,tablet,tv">getEntries<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getentries15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getEntries(): Record&lt;string, ValueType&gt;</p>     <p>获取当前数据记录中所有数据的类型和内容。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Record&lt;string, <a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#valuetype12">ValueType</a>&gt;</td>         <td class="cellrowborder" width="50%">当前数据记录对应的类型和内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> fileUriDetails : <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {</li><li>  <span class="hljs-string">'attr1'</span>: <span class="hljs-string">'value1'</span>,</li><li>  <span class="hljs-string">'attr2'</span>: <span class="hljs-string">'value2'</span></li><li>}</li><li><span class="hljs-keyword">let</span> fileUri : uniformDataStruct.<span class="hljs-property">FileUri</span> = {</li><li>  uniformDataType : <span class="hljs-string">'general.file-uri'</span>,</li><li>  oriUri : <span class="hljs-string">'file://data/image/1.png'</span>,</li><li>  fileType : <span class="hljs-string">'general.image'</span>,</li><li>  details : fileUriDetails</li><li>}</li><li><span class="hljs-keyword">let</span> formDetails : <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {</li><li>  <span class="hljs-string">'attr1'</span>: <span class="hljs-string">'value1'</span>,</li><li>  <span class="hljs-string">'attr2'</span>: <span class="hljs-string">'value2'</span></li><li>}</li><li><span class="hljs-keyword">let</span> form : uniformDataStruct.<span class="hljs-property">Form</span> = {</li><li>  uniformDataType : <span class="hljs-string">'openharmony.form'</span>,</li><li>  formId : <span class="hljs-number">1</span>,</li><li>  formName : <span class="hljs-string">'form'</span>,</li><li>  bundleName : <span class="hljs-string">'com.xx.app'</span>,</li><li>  abilityName : <span class="hljs-string">'ability'</span>,</li><li>  <span class="hljs-variable language_">module</span> : <span class="hljs-string">'module'</span>,</li><li>  details : formDetails</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>();</li><li><span class="hljs-keyword">let</span> record = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">OPENHARMONY_FORM</span>, form);</li><li>record.<span class="hljs-title function_">addEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">FILE_URI</span>, fileUri);</li><li>unifiedData.<span class="hljs-title function_">addRecord</span>(record);</li><li>
</li><li><span class="hljs-keyword">let</span> records = unifiedData.<span class="hljs-title function_">getRecords</span>();</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; records.<span class="hljs-property">length</span>; i++) {</li><li>  <span class="hljs-keyword">let</span> unifiedDataRecord = records[i] <span class="hljs-keyword">as</span> unifiedDataChannel.<span class="hljs-property">UnifiedRecord</span>;</li><li>  <span class="hljs-keyword">let</span> entries : <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, unifiedDataChannel.<span class="hljs-property">ValueType</span>&gt; = unifiedDataRecord.<span class="hljs-title function_">getEntries</span>();</li><li>  <span class="hljs-keyword">let</span> formRead : uniformDataStruct.<span class="hljs-property">Form</span> = entries[uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">OPENHARMONY_FORM</span>] <span class="hljs-keyword">as</span> uniformDataStruct.<span class="hljs-property">Form</span>;</li><li>  <span class="hljs-keyword">if</span> (formRead != <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`formName: <span class="hljs-subst">${formRead.formName}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">let</span> fileUriRead : uniformDataStruct.<span class="hljs-property">FileUri</span> = entries[uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">FILE_URI</span>] <span class="hljs-keyword">as</span> uniformDataStruct.<span class="hljs-property">FileUri</span>;</li><li>  <span class="hljs-keyword">if</span> (fileUriRead != <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`oriUri: <span class="hljs-subst">${fileUriRead.oriUri}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1544px;">     <h3 id="gettypes15">getTypes<sup>15+</sup><i class="anchor-icon anchor-icon-link" anchorid="gettypes15" tips="复制节点链接"></i></h3>          <p>getTypes(): Array&lt;string&gt;</p>     <p>获取数据记录中数据的所有类型集合。可通过UnifiedRecord数据记录对象调用本接口，查询出此记录中数据的所有类型集合，包括使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#addentry15">addEntry</a>函数添加的数据类型。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong> ：SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-uniformtypedescriptor#uniformdatatype">UniformDataType</a>类型的数组，表示当前记录的数据类型集合。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> fileUriDetails : <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {</li><li>  <span class="hljs-string">'attr1'</span>: <span class="hljs-string">'value1'</span>,</li><li>  <span class="hljs-string">'attr2'</span>: <span class="hljs-string">'value2'</span></li><li>}</li><li><span class="hljs-keyword">let</span> fileUri : uniformDataStruct.<span class="hljs-property">FileUri</span> = {</li><li>  uniformDataType : <span class="hljs-string">'general.file-uri'</span>,</li><li>  oriUri : <span class="hljs-string">'file://data/image/1.png'</span>,</li><li>  fileType : <span class="hljs-string">'general.image'</span>,</li><li>  details : fileUriDetails</li><li>}</li><li><span class="hljs-keyword">let</span> formDetails : <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {</li><li>  <span class="hljs-string">'attr1'</span>: <span class="hljs-string">'value1'</span>,</li><li>  <span class="hljs-string">'attr2'</span>: <span class="hljs-string">'value2'</span></li><li>}</li><li><span class="hljs-keyword">let</span> form : uniformDataStruct.<span class="hljs-property">Form</span> = {</li><li>  uniformDataType : <span class="hljs-string">'openharmony.form'</span>,</li><li>  formId : <span class="hljs-number">1</span>,</li><li>  formName : <span class="hljs-string">'form'</span>,</li><li>  bundleName : <span class="hljs-string">'com.xx.app'</span>,</li><li>  abilityName : <span class="hljs-string">'ability'</span>,</li><li>  <span class="hljs-variable language_">module</span> : <span class="hljs-string">'module'</span>,</li><li>  details : formDetails</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>();</li><li><span class="hljs-keyword">let</span> record = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">OPENHARMONY_FORM</span>, form);</li><li>record.<span class="hljs-title function_">addEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">FILE_URI</span>, fileUri);</li><li>unifiedData.<span class="hljs-title function_">addRecord</span>(record);</li><li>
</li><li><span class="hljs-keyword">let</span> records = unifiedData.<span class="hljs-title function_">getRecords</span>();</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; records.<span class="hljs-property">length</span>; i++) {</li><li>  <span class="hljs-keyword">let</span> unifiedDataRecord = records[i] <span class="hljs-keyword">as</span> unifiedDataChannel.<span class="hljs-property">UnifiedRecord</span>;</li><li>  <span class="hljs-keyword">let</span> types : <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = unifiedDataRecord.<span class="hljs-title function_">getTypes</span>();</li><li>  <span class="hljs-keyword">if</span> (types.<span class="hljs-title function_">includes</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">OPENHARMONY_FORM</span>)) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Types include: <span class="hljs-subst">${uniformTypeDescriptor.UniformDataType.OPENHARMONY_FORM}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 998px;">     <h2 id="text" device-type="phone,2in1,tablet,tv">Text<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="text" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>文本类型数据，是<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifiedrecord">UnifiedRecord</a>的子类，也是文本类型数据的基类，用于描述文本类数据，推荐开发者优先使用Text的子类描述数据，如<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#plaintext">PlainText</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#hyperlink">Hyperlink</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#html">HTML</a>等具体子类。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">details</td>         <td class="cellrowborder" width="20%">Record&lt;string, string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>是一个字典类型对象，key和value都是string类型，用于描述文本内容。例如，可生成一个details内容为</p>          <p>{</p>          <p>"title":"标题",</p>          <p>"content":"内容"</p>          <p>}</p>          <p>的数据对象，用于描述一篇文章。非必填字段，默认值为空字典对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">Text</span>();</li><li>text.<span class="hljs-property">details</span> = {</li><li>  <span class="hljs-attr">title</span>: <span class="hljs-string">'MyTitle'</span>,</li><li>  <span class="hljs-attr">content</span>: <span class="hljs-string">'This is content'</span></li><li>};</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(text);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 683px;">     <h2 id="plaintext" device-type="phone,2in1,tablet,tv">PlainText<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="plaintext" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#text">Text</a>的子类，用于描述纯文本类数据。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">textContent</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">纯文本内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">abstract</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">纯文本摘要，非必填字段，默认值为空字符串。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">PlainText</span>();</li><li>text.<span class="hljs-property">textContent</span> = <span class="hljs-string">'this is textContent'</span>;</li><li>text.<span class="hljs-property">abstract</span> = <span class="hljs-string">'This is abstract'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 683px;">     <h2 id="hyperlink" device-type="phone,2in1,tablet,tv">Hyperlink<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hyperlink" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#text">Text</a>的子类，用于描述超链接类型数据。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">url</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">链接url。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">description</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">链接内容描述，非必填字段，默认值为空字符串。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> link = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">Hyperlink</span>();</li><li>link.<span class="hljs-property">url</span> = <span class="hljs-string">'www.XXX.com'</span>;</li><li>link.<span class="hljs-property">description</span> = <span class="hljs-string">'This is description'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 707px;">     <h2 id="html" device-type="phone,2in1,tablet,tv">HTML<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="html" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>HTML类型数据，是<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#text">Text</a>的子类，用于描述超文本标记语言数据。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">htmlContent</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">html格式内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">plainContent</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">去除html标签后的纯文本内容，非必填字段，默认值为空字符串。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> html = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title function_">HTML</span>();</li><li>html.<span class="hljs-property">htmlContent</span> = <span class="hljs-string">'&lt;div&gt;&lt;p&gt;标题&lt;/p&gt;&lt;/div&gt;'</span>;</li><li>html.<span class="hljs-property">plainContent</span> = <span class="hljs-string">'This is plainContent'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1427px;">     <h2 id="file" device-type="phone,2in1,tablet,tv">File<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="file" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>File类型数据，是<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifiedrecord">UnifiedRecord</a>的子类，也是文件类型数据的基类，用于描述文件类型数据，推荐开发者优先使用File的子类描述数据，如<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#image">Image</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#video">Video</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#folder">Folder</a>等具体子类。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">details</td>         <td class="cellrowborder" width="20%">Record&lt;string, string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>是一个字典类型对象，key和value都是string类型，用于描述文件相关信息。例如，可生成一个details内容为</p>          <p>{</p>          <p>"name":"文件名",</p>          <p>"type":"文件类型"</p>          <p>}</p>          <p>的数据对象，用于描述一个文件。非必填字段，默认值为空字典对象。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">uri</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">本地文件数据uri或网络文件uri，本地文件数据uri可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-fileuri#fileurigeturifrompath">getUriFromPath</a>函数获取。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { unifiedDataChannel } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>;</li><li>    <span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>    <span class="hljs-keyword">let</span> file = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">File</span>();</li><li>    file.<span class="hljs-property">details</span> = {</li><li>        <span class="hljs-attr">name</span>: <span class="hljs-string">'test'</span>,</li><li>        <span class="hljs-attr">type</span>: <span class="hljs-string">'txt'</span></li><li>    };</li><li>    <span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">'/test.txt'</span>;</li><li>    file.<span class="hljs-property">uri</span> = fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 950px;">     <h2 id="image" device-type="phone,2in1,tablet,tv">Image<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="image" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>图片类型数据，是<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#file">File</a>的子类，用于描述图片文件。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">imageUri</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">本地图片数据uri或网络图片uri，本地图片数据uri可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-fileuri#fileurigeturifrompath">getUriFromPath</a>函数获取。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { unifiedDataChannel } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>;</li><li>    <span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>    <span class="hljs-keyword">let</span> image = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">Image</span>();</li><li>    <span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">'/test.jpg'</span>;</li><li>    image.<span class="hljs-property">imageUri</span> = fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 950px;">     <h2 id="video" device-type="phone,2in1,tablet,tv">Video<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="video" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>视频类型数据，是<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#file">File</a>的子类，用于描述视频文件。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">videoUri</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">本地视频数据uri或网络视频uri，本地视频数据uri可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-fileuri#fileurigeturifrompath">getUriFromPath</a>函数获取。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { unifiedDataChannel } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>;</li><li>    <span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>    <span class="hljs-keyword">let</span> video = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">Video</span>();</li><li>    <span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">'/test.mp4'</span>;</li><li>    video.<span class="hljs-property">videoUri</span> =fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 950px;">     <h2 id="audio" device-type="phone,2in1,tablet,tv">Audio<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="audio" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>音频类型数据，是<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#file">File</a>的子类，用于描述音频文件。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">audioUri</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">本地音频数据uri或网络音频uri，本地音频数据uri可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-fileuri#fileurigeturifrompath">getUriFromPath</a>函数获取。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { unifiedDataChannel } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>;</li><li>    <span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>    <span class="hljs-keyword">let</span> audio = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">Audio</span>();</li><li>    <span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">'/test.mp3'</span>;</li><li>    audio.<span class="hljs-property">audioUri</span> = fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 950px;">     <h2 id="folder" device-type="phone,2in1,tablet,tv">Folder<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="folder" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>文件夹类型数据，是<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#file">File</a>的子类，用于描述文件夹。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">folderUri</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">本地文件夹数据uri或网络文件夹uri，本地文件夹数据uri可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-fileuri#fileurigeturifrompath">getUriFromPath</a>函数获取。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { unifiedDataChannel } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>;</li><li>    <span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>    <span class="hljs-keyword">let</span> folder = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">Folder</span>();</li><li>    <span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">'/folder'</span>;</li><li>    folder.<span class="hljs-property">folderUri</span> = fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 974px;">     <h2 id="systemdefinedrecord" device-type="phone,2in1,tablet,tv">SystemDefinedRecord<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemdefinedrecord" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>SystemDefinedRecord是<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifiedrecord">UnifiedRecord</a>的子类，也是HarmonyOS系统特有数据类型的基类，用于描述仅在HarmonyOS系统范围内流通的特有数据类型，推荐开发者优先使用SystemDefinedRecord的子类描述数据，如<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#systemdefinedform">SystemDefinedForm</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#systemdefinedappitem">SystemDefinedAppItem</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#systemdefinedpixelmap">SystemDefinedPixelMap</a>等具体子类。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">details</td>         <td class="cellrowborder" width="20%">Record&lt;string, number | string | Uint8Array&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是一个字典类型对象，key是string类型，value可以写入number（数值类型）、string（字符串类型）、Uint8Array（二进制字节数组）类型数据。非必填字段，默认值为空字典对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> sdr = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">SystemDefinedRecord</span>();</li><li><span class="hljs-keyword">let</span> u8Array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]);</li><li>sdr.<span class="hljs-property">details</span> = {</li><li>    <span class="hljs-attr">title</span>: <span class="hljs-string">'recordTitle'</span>,</li><li>    <span class="hljs-attr">version</span>: <span class="hljs-number">1</span>,</li><li>    <span class="hljs-attr">content</span>: u8Array</li><li>};</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(sdr);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1058px;">     <h2 id="systemdefinedform" device-type="phone,2in1,tablet,tv">SystemDefinedForm<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemdefinedform" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>系统定义的桌面卡片类型数据，是<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#systemdefinedrecord">SystemDefinedRecord</a>的子类。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">formId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">卡片id。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">formName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">卡片名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">bundleName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">卡片所属的bundle名。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">abilityName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">卡片对应的ability名。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">module</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">卡片所属的module名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> form = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">SystemDefinedForm</span>();</li><li>form.<span class="hljs-property">formId</span> = <span class="hljs-number">123456</span>;</li><li>form.<span class="hljs-property">formName</span> = <span class="hljs-string">'MyFormName'</span>;</li><li>form.<span class="hljs-property">bundleName</span> = <span class="hljs-string">'MyBundleName'</span>;</li><li>form.<span class="hljs-property">abilityName</span> = <span class="hljs-string">'MyAbilityName'</span>;</li><li>form.<span class="hljs-property">module</span> = <span class="hljs-string">'MyModule'</span>;</li><li><span class="hljs-keyword">let</span> u8Array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]);</li><li>form.<span class="hljs-property">details</span> = {</li><li>  <span class="hljs-attr">formKey1</span>: <span class="hljs-number">123</span>,</li><li>  <span class="hljs-attr">formKey2</span>: <span class="hljs-string">'formValue'</span>,</li><li>  <span class="hljs-attr">formKey3</span>: u8Array</li><li>};</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(form);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1151px;">     <h2 id="systemdefinedappitem" device-type="phone,2in1,tablet,tv">SystemDefinedAppItem<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemdefinedappitem" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>系统定义的桌面图标类型数据，是<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#systemdefinedrecord">SystemDefinedRecord</a>的子类。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">appId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">图标对应的应用id。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">appName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">图标对应的应用名。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">appIconId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">图标的图片id。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">appLabelId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">图标名称对应的标签id。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">bundleName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">图标对应的应用bundle名。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">abilityName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">图标对应的应用ability名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> appItem = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">SystemDefinedAppItem</span>();</li><li>appItem.<span class="hljs-property">appId</span> = <span class="hljs-string">'MyAppId'</span>;</li><li>appItem.<span class="hljs-property">appName</span> = <span class="hljs-string">'MyAppName'</span>;</li><li>appItem.<span class="hljs-property">appIconId</span> = <span class="hljs-string">'MyAppIconId'</span>;</li><li>appItem.<span class="hljs-property">appLabelId</span> = <span class="hljs-string">'MyAppLabelId'</span>;</li><li>appItem.<span class="hljs-property">bundleName</span> = <span class="hljs-string">'MyBundleName'</span>;</li><li>appItem.<span class="hljs-property">abilityName</span> = <span class="hljs-string">'MyAbilityName'</span>;</li><li><span class="hljs-keyword">let</span> u8Array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]);</li><li>appItem.<span class="hljs-property">details</span> = {</li><li>    <span class="hljs-attr">appItemKey1</span>: <span class="hljs-number">123</span>,</li><li>    <span class="hljs-attr">appItemKey2</span>: <span class="hljs-string">'appItemValue'</span>,</li><li>    <span class="hljs-attr">appItemKey3</span>: u8Array</li><li>};</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(appItem);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1430px;">     <h2 id="systemdefinedpixelmap" device-type="phone,2in1,tablet,tv">SystemDefinedPixelMap<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemdefinedpixelmap" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>与系统侧定义的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a>数据类型对应的图片数据类型，是<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#systemdefinedrecord">SystemDefinedRecord</a>的子类，仅保存PixelMap的二进制数据。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">rawData</td>         <td class="cellrowborder" width="20%">Uint8Array</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">PixelMap对象的二进制数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>; <span class="hljs-comment">// PixelMap类定义所在模块</span></li><li><span class="hljs-keyword">import</span> { unifiedDataChannel, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> color = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">96</span>); <span class="hljs-comment">// 创建pixelMap对象</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">opts</span>: image.<span class="hljs-property">InitializationOptions</span> = {</li><li>  <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">size</span>: {</li><li>    <span class="hljs-attr">height</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">6</span></li><li>  }</li><li>}</li><li>image.<span class="hljs-title function_">createPixelMap</span>(color, opts, <span class="hljs-function">(<span class="hljs-params">error, pixelMap</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create pixelMap.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in creating pixelMap.'</span>);</li><li>    <span class="hljs-keyword">let</span> arrayBuf = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(pixelMap.<span class="hljs-title function_">getPixelBytesNumber</span>());</li><li>    pixelMap.<span class="hljs-title function_">readPixelsToBuffer</span>(arrayBuf);</li><li>    <span class="hljs-keyword">let</span> u8Array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuf);</li><li>    <span class="hljs-keyword">let</span> sdPixel = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">SystemDefinedPixelMap</span>();</li><li>    sdPixel.<span class="hljs-property">rawData</span> = u8Array;</li><li>    <span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(sdPixel);</li><li>
</li><li>    <span class="hljs-comment">// 从unifiedData中读取pixelMap类型的record</span></li><li>    <span class="hljs-keyword">let</span> records = unifiedData.<span class="hljs-title function_">getRecords</span>();</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; records.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-keyword">if</span> (records[i].<span class="hljs-title function_">getType</span>() === uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">OPENHARMONY_PIXEL_MAP</span>) {</li><li>        <span class="hljs-keyword">let</span> pixelMapRecord = records[i] <span class="hljs-keyword">as</span> unifiedDataChannel.<span class="hljs-property">SystemDefinedPixelMap</span>;</li><li>        <span class="hljs-keyword">let</span> newArrayBuf = pixelMapRecord.<span class="hljs-property">rawData</span>.<span class="hljs-property">buffer</span>;</li><li>        pixelMap.<span class="hljs-title function_">writeBufferToPixels</span>(newArrayBuf).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in writing data from buffer to a pixelMap'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to write data from a buffer to a PixelMap. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>        })</li><li>      }</li><li>    }</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 803px;">     <h2 id="applicationdefinedrecord" device-type="phone,2in1,tablet,tv">ApplicationDefinedRecord<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="applicationdefinedrecord" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>ApplicationDefinedRecord是<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifiedrecord">UnifiedRecord</a>的子类，也是应用自定义数据类型的基类，用于描述仅在应用生态内部流通的自定义数据类型，应用可基于此类进行自定义数据类型的扩展。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>： SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">applicationDefinedType</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用自定义类型标识符，必须以'ApplicationDefined'开头。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">rawData</td>         <td class="cellrowborder" width="20%">Uint8Array</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用自定义数据类型的二进制数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> record = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">ApplicationDefinedRecord</span>();</li><li><span class="hljs-keyword">let</span> u8Array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]);</li><li>record.<span class="hljs-property">applicationDefinedType</span> = <span class="hljs-string">'ApplicationDefinedType'</span>;</li><li>record.<span class="hljs-property">rawData</span> = u8Array;</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(record);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 945px;">     <h2 id="intention" device-type="phone,2in1,tablet,tv">Intention<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="intention" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>UDMF已经支持的数据通路枚举类型。其主要用途是标识各种UDMF数据通路所面向的不同业务场景。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">DATA_HUB</td>         <td class="cellrowborder" width="33.33333333333333%">'DataHub'</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>公共数据通路。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DRAG<sup>14+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">'Drag'</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>拖拽类型数据通道。</p>          <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>          <p><strong>适用场景：</strong> 适用于在拖拽场景下使用UDMF来跨应用数据共享。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SYSTEM_SHARE<sup>20+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">'SystemShare'</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>系统分享类型数据通道。</p>          <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>          <p><strong>适用场景：</strong> 适用于在系统分享场景下使用UDMF来跨应用数据共享。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PICKER<sup>20+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">'Picker'</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>Picker类型数据通道。</p>          <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>          <p><strong>适用场景：</strong> 适用于在Picker选择器场景下使用UDMF来跨应用数据共享。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MENU<sup>20+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">'Menu'</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>菜单类型数据通道。</p>          <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>          <p><strong>适用场景：</strong> 适用于在右键菜单场景下使用UDMF来跨应用数据共享。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 474px;">     <h2 id="visibility20" device-type="phone,2in1,tablet,tv">Visibility<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="visibility20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示数据的可见性等级枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">ALL</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>可见性等级，所有应用可见。</p>          <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">OWN_PROCESS</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>可见性等级，仅数据提供者可见。</p>          <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1263px;">     <h2 id="options" device-type="phone,2in1,tablet,tv">Options<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="options" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>UDMF提供的数据操作接口包含三个可选参数：intention、key和visibility。如果接口不需要这些参数，可以不填，具体要求请参阅该接口的参数说明。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">intention</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#intention">Intention</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示数据操作相关的数据通路类型。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">key</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>UDMF中数据对象的唯一标识符，可通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddatachannelinsertdata">insertData</a>接口的返回值获取。</p>          <p>由udmf:/、intention、bundleName和groupId四部分组成，以'/'连接，比如：udmf://DataHub/com.ohos.test/0123456789。</p>          <p>其中udmf:/固定，DataHub为对应枚举的取值，com.ohos.test为包名，0123456789为随机生成的groupId。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">visibility<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#visibility20">Visibility</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示数据的可见性等级。只在写入数据的时候填写才生效，若不填写默认是Visibility.ALL。</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 426px;">     <h2 id="fileconflictoptions15" device-type="phone,2in1,tablet,tv">FileConflictOptions<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fileconflictoptions15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示文件拷贝冲突时的可选策略的枚举。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">OVERWRITE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">目标路径存在同文件名时覆盖。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SKIP</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">目标路径存在同文件名时跳过。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 450px;">     <h2 id="progressindicator15" device-type="phone,2in1,tablet,tv">ProgressIndicator<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="progressindicator15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示进度条指示选项的枚举，可选择是否采用系统默认进度显示。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NONE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">不采用系统默认进度显示。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DEFAULT</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">采用系统默认进度显示，500ms内获取数据完成将不会拉起默认进度条。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 696px;">     <h2 id="listenerstatus15" device-type="phone,2in1,tablet,tv">ListenerStatus<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="listenerstatus15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示从UDMF获取数据时的状态码的枚举。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">FINISHED</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">表示已完成。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PROCESSING</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示正在处理中。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CANCELED</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">表明本次处理已被取消。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INNER_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">200</td>         <td class="cellrowborder" width="33.33333333333333%">表明发生了内部错误。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INVALID_PARAMETERS</td>         <td class="cellrowborder" width="33.33333333333333%">201</td>         <td class="cellrowborder" width="33.33333333333333%">表示 <a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#getdataparams15">GetDataParams</a> 包含无效参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DATA_NOT_FOUND</td>         <td class="cellrowborder" width="33.33333333333333%">202</td>         <td class="cellrowborder" width="33.33333333333333%">表示没有获取到数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SYNC_FAILED</td>         <td class="cellrowborder" width="33.33333333333333%">203</td>         <td class="cellrowborder" width="33.33333333333333%">表示同步过程中出现错误。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">COPY_FILE_FAILED</td>         <td class="cellrowborder" width="33.33333333333333%">204</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件拷贝过程中出现错误。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 594px;">     <h2 id="progressinfo15" device-type="phone,2in1,tablet,tv">ProgressInfo<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="progressinfo15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>定义进度上报的数据。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">progress</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">系统上报拖拽任务进度百分比。取值范围为[-1-100]的整数，其中-1时代表本次获取数据失败，100时表示本次获取数据完成。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">status</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#listenerstatus15">ListenerStatus</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">系统上报拖拽任务的状态码。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 546px;">     <h2 id="dataprogresslistener15" device-type="phone,2in1,tablet,tv">DataProgressListener<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dataprogresslistener15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>type DataProgressListener = (progressInfo: ProgressInfo, data: UnifiedData | null) =&gt; void</p>     <p>定义获取进度信息和数据的监听回调函数。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">progressInfo</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#progressinfo15">ProgressInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">定义进度上报的进度信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a> | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">进度达到100时获取的数据，进度未到100时返回null。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1761px;">     <h2 id="getdataparams15" device-type="phone,2in1,tablet,tv">GetDataParams<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdataparams15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示从UDMF获取数据时的参数，包含目标路径、文件冲突选项、进度条类型等。</p>     <p>具体使用示例可见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-drag-drop#示例3拖拽异步获取数据">拖拽异步获取数据</a>。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">progressIndicator</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#progressindicator15">ProgressIndicator</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>定义进度条指示选项，可选择是否采用系统默认进度显示。</p>          <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">dataProgressListener</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#dataprogresslistener15">DataProgressListener</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示获取统一数据时的进度和数据监听器。</p>          <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">destUri</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>拷贝文件的目标路径。若不支持文件处理，则不需要设置此参数，默认为空；若支持文件处理，须设置一个已经存在的目录。若应用涉及复杂文件处理策略或需要区分文件多路径存储，建议不设置此参数，由应用自行完成文件copy处理。不填写时获取到的uri为源端路径URI，填写后获取到的uri为目标路径uri。</p>          <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fileConflictOptions</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#fileconflictoptions15">FileConflictOptions</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>定义文件拷贝冲突时的选项，默认为OVERWRITE。</p>          <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">acceptableInfo<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#dataloadinfo20">DataLoadInfo</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>定义接收方对数据类型和数据记录数量的接收能力。延迟加载场景下，发送方可根据此信息生成并返回更合适的数据内容。默认为空，不提供接收方数据接收能力。</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 938px;">     <h2 id="dataloadinfo20" device-type="phone,2in1,tablet,tv">DataLoadInfo<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dataloadinfo20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>用于描述被加载数据的类型与数量。</p>     <ul>      <li>在<strong>数据发送方</strong>中使用，表示实际可提供的数据范围，必须设置该字段。</li>      <li>在<strong>数据接收方</strong>中使用，表示期望加载的数据类型与数量，可根据需要设置该字段。</li>     </ul>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">types</td>         <td class="cellrowborder" width="20%">Set&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示数据类型集合，默认为空集合。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">recordCount</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示期望或可提供的最大数据记录数，默认值为0，取值范围为[0, 2<sup>32</sup>-1]。超过取值范围时会按默认值处理。设置为浮点数时，仅使用整数部分。当用于拖拽时，会作为角标数量显示，最大支持2<sup>31</sup>-1，超过此数值时不显示角标。作为角标数量时，优先级低于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-drag-drop#dragpreviewoptions11">DragPreviewOptions</a>中的numberBadge方法。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 696px;">     <h2 id="dataloadhandler20" device-type="phone,2in1,tablet,tv">DataLoadHandler<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dataloadhandler20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>type DataLoadHandler = (acceptableInfo?: DataLoadInfo) =&gt; UnifiedData | null</p>     <p>用于延迟加载数据的处理函数。支持数据发送方根据接收方传入的信息，动态生成数据，实现更灵活、精准的数据交互策略。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">acceptableInfo</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#dataloadinfo20">DataLoadInfo</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表示数据接收方可以接收的数据类型和数量，默认为空。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a> | null</td>         <td class="cellrowborder" width="50%">当延迟处理函数触发时，返回UnifiedData或null。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 546px;">     <h2 id="dataloadparams20" device-type="phone,2in1,tablet,tv">DataLoadParams<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dataloadparams20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>用于在延迟加载场景下描述发送方的数据加载策略。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">loadHandler</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#dataloadhandler20">DataLoadHandler</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示用于延迟加载数据的处理函数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">dataLoadInfo</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#dataloadinfo20">DataLoadInfo</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于描述当前发送方可生成的数据类型及数量信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1739px;">     <h2 id="unifieddatachannelinsertdata" device-type="phone,2in1,tablet,tv">unifiedDataChannel.insertData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifieddatachannelinsertdata" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>insertData(options: Options, data: UnifiedData, callback: AsyncCallback&lt;string&gt;): void</p>     <p>将数据写入UDMF的公共数据通路中，并生成数据的唯一标识符，使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#options">Options</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置项参数，参数中intention字段必填，且不支持DRAG，不填时会返回401错误码；其他字段是否填写均不影响接口的使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回写入UDMF的数据的唯一标识符key的值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.52.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> plainText : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>  textContent : <span class="hljs-string">'This is a plain text example'</span>,</li><li>  <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract'</span></li><li>}</li><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainText);</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(text);</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: unifiedDataChannel.<span class="hljs-property">Options</span> = {</li><li>  <span class="hljs-attr">intention</span>: unifiedDataChannel.<span class="hljs-property">Intention</span>.<span class="hljs-property">DATA_HUB</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  unifiedDataChannel.<span class="hljs-title function_">insertData</span>(options, unifiedData, <span class="hljs-function">(<span class="hljs-params">err, key</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err === <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in inserting data. key = <span class="hljs-subst">${key}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to insert data. code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span> `</span>);</li><li>    }</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Insert data throws an exception. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span> `</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1793px;">     <h2 id="unifieddatachannelinsertdata-1" device-type="phone,2in1,tablet,tv">unifiedDataChannel.insertData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifieddatachannelinsertdata-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>insertData(options: Options, data: UnifiedData): Promise&lt;string&gt;</p>     <p>将数据写入UDMF的公共数据通路中，并生成数据的唯一标识符，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#options">Options</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置项参数，参数中intention字段必填，且不支持DRAG，不填时会返回401错误码；其他字段是否填写均不影响接口的使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;string&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回写入UDMF的数据的唯一标识符key的值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.53.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> plainText : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>  textContent : <span class="hljs-string">'This is a plain text example'</span>,</li><li>  <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract'</span></li><li>}</li><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainText);</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(text);</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: unifiedDataChannel.<span class="hljs-property">Options</span> = {</li><li>  <span class="hljs-attr">intention</span>: unifiedDataChannel.<span class="hljs-property">Intention</span>.<span class="hljs-property">DATA_HUB</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  unifiedDataChannel.<span class="hljs-title function_">insertData</span>(options, unifiedData).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">key</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in inserting data. key = <span class="hljs-subst">${key}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to insert data. code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span> `</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Insert data throws an exception. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span> `</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2219px;">     <h2 id="unifieddatachannelupdatedata" device-type="phone,2in1,tablet,tv">unifiedDataChannel.updateData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifieddatachannelupdatedata" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>updateData(options: Options, data: UnifiedData, callback: AsyncCallback&lt;void&gt;): void</p>     <p>更新已写入UDMF的公共数据通路的数据，使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#options">Options</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置项参数，参数中key字段必填，不填时会返回401错误码；intention参数仅支持DATA_HUB；其他字段是否填写均不影响接口的使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当更新数据成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> plainText : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>  textContent : <span class="hljs-string">'This is a plain text example'</span>,</li><li>  <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract'</span></li><li>}</li><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainText);</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(text);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: unifiedDataChannel.<span class="hljs-property">Options</span> = {</li><li>  <span class="hljs-attr">intention</span>: unifiedDataChannel.<span class="hljs-property">Intention</span>.<span class="hljs-property">DATA_HUB</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  unifiedDataChannel.<span class="hljs-title function_">insertData</span>(options, unifiedData).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">key</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in inserting data. key = <span class="hljs-subst">${key}</span>`</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">updateOptions</span>: unifiedDataChannel.<span class="hljs-property">Options</span> = {</li><li>      <span class="hljs-attr">intention</span>: unifiedDataChannel.<span class="hljs-property">Intention</span>.<span class="hljs-property">DATA_HUB</span>,</li><li>      <span class="hljs-attr">key</span>: key</li><li>    }</li><li>    <span class="hljs-keyword">let</span> plainTextUpdate : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>      <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>      textContent : <span class="hljs-string">'This is plainText textContent for update'</span>,</li><li>      <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract for update'</span></li><li>    }</li><li>    <span class="hljs-keyword">let</span> textUpdate = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainTextUpdate);</li><li>    <span class="hljs-keyword">let</span> unifiedDataUpdate = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(textUpdate);</li><li>    <span class="hljs-keyword">try</span> {</li><li>      unifiedDataChannel.<span class="hljs-title function_">updateData</span>(updateOptions, unifiedDataUpdate, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (err === <span class="hljs-literal">undefined</span>) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in updating data.'</span>);</li><li>        } <span class="hljs-keyword">else</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to update data. code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span> `</span>);</li><li>        }</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (e) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Update data throws an exception. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span> `</span>);</li><li>    }</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to insert data. code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span> `</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Insert data throws an exception. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span> `</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2249px;">     <h2 id="unifieddatachannelupdatedata-1" device-type="phone,2in1,tablet,tv">unifiedDataChannel.updateData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifieddatachannelupdatedata-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>updateData(options: Options, data: UnifiedData): Promise&lt;void&gt;</p>     <p>更新已写入UDMF的公共数据通路的数据，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#options">Options</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置项参数，参数中key字段必填，不填时会返回401错误码；intention参数仅支持DATA_HUB；其他字段是否填写均不影响接口的使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.55.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> plainText : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>  textContent : <span class="hljs-string">'This is a plain text example'</span>,</li><li>  <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract'</span></li><li>}</li><li><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainText);</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(text);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: unifiedDataChannel.<span class="hljs-property">Options</span> = {</li><li>  <span class="hljs-attr">intention</span>: unifiedDataChannel.<span class="hljs-property">Intention</span>.<span class="hljs-property">DATA_HUB</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  unifiedDataChannel.<span class="hljs-title function_">insertData</span>(options, unifiedData).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">key</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in inserting data. key = <span class="hljs-subst">${key}</span>`</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">updateOptions</span>: unifiedDataChannel.<span class="hljs-property">Options</span> = {</li><li>      <span class="hljs-attr">intention</span>: unifiedDataChannel.<span class="hljs-property">Intention</span>.<span class="hljs-property">DATA_HUB</span>,</li><li>      <span class="hljs-attr">key</span>: key</li><li>    }</li><li>    <span class="hljs-keyword">let</span> plainTextUpdate : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>      <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>      textContent : <span class="hljs-string">'This is plainText textContent for update'</span>,</li><li>      <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'This is abstract for update'</span></li><li>    }</li><li>    <span class="hljs-keyword">let</span> textUpdate = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainTextUpdate);</li><li>    <span class="hljs-keyword">let</span> unifiedDataUpdate = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(textUpdate);</li><li>    <span class="hljs-keyword">try</span> {</li><li>      unifiedDataChannel.<span class="hljs-title function_">updateData</span>(updateOptions, unifiedDataUpdate).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in updating data.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to update data. code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span> `</span>);</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (e) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Update data throws an exception. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span> `</span>);</li><li>    }</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to insert data. code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span> `</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Insert data throws an exception. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span> `</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1958px;">     <h2 id="unifieddatachannelquerydata" device-type="phone,2in1,tablet,tv">unifiedDataChannel.queryData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifieddatachannelquerydata" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>queryData(options: Options, callback: AsyncCallback&lt;Array&lt;UnifiedData&gt;&gt;): void</p>     <p>查询UDMF公共数据通路的数据，使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#options">Options</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置项参数，key和intention均为可选，且intention参数不支持DRAG，根据传入的参数做相应的校验以返回不同的值。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数，返回查询到的所有数据。</p>          <p>如果options中填入的是key，则返回key对应的数据；</p>          <p>如果options中填入的是intention，则返回intention下所有数据。</p>          <p>如intention和key均填写了，取两者查询数据的交集，与options只填入key的获取结果一致；如没有交集报错。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.56.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: unifiedDataChannel.<span class="hljs-property">Options</span> = {</li><li>  <span class="hljs-attr">intention</span>: unifiedDataChannel.<span class="hljs-property">Intention</span>.<span class="hljs-property">DATA_HUB</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  unifiedDataChannel.<span class="hljs-title function_">queryData</span>(options, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err === <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in querying data. size = <span class="hljs-subst">${data.length}</span>`</span>);</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>        <span class="hljs-keyword">let</span> records = data[i].<span class="hljs-title function_">getRecords</span>();</li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; records.<span class="hljs-property">length</span>; j++) {</li><li>          <span class="hljs-keyword">if</span> (records[j].<span class="hljs-title function_">getTypes</span>().<span class="hljs-title function_">includes</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>)) {</li><li>            <span class="hljs-keyword">let</span> text = records[j].<span class="hljs-title function_">getEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>) <span class="hljs-keyword">as</span> uniformDataStruct.<span class="hljs-property">PlainText</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`<span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span>.<span class="hljs-subst">${text.textContent}</span>`</span>);</li><li>          }</li><li>        }</li><li>      }</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to query data. code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span> `</span>);</li><li>    }</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query data throws an exception. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span> `</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1892px;">     <h2 id="unifieddatachannelquerydata-1" device-type="phone,2in1,tablet,tv">unifiedDataChannel.queryData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifieddatachannelquerydata-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>queryData(options: Options): Promise&lt;Array&lt;UnifiedData&gt;&gt;</p>     <p>查询UDMF公共数据通路的数据，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#options">Options</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置项参数，key和intention均为可选，且intention参数不支持DRAG，根据传入的参数做相应的校验以返回不同的值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">          <p>Promise对象，返回查询到的所有数据。</p>          <p>如果options中填入的是key，则返回key对应的数据。</p>          <p>如果options中填入的是intention，则返回intention下所有数据。</p>          <p>如intention和key均填写了，取两者查询数据的交集，与options只填入key的获取结果一致；如没有交集报错。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.57.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: unifiedDataChannel.<span class="hljs-property">Options</span> = {</li><li>  <span class="hljs-attr">key</span>: <span class="hljs-string">'udmf://DataHub/com.ohos.test/0123456789'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  unifiedDataChannel.<span class="hljs-title function_">queryData</span>(options).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in querying data. size = <span class="hljs-subst">${data.length}</span>`</span>);</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-keyword">let</span> records = data[i].<span class="hljs-title function_">getRecords</span>();</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; records.<span class="hljs-property">length</span>; j++) {</li><li>        <span class="hljs-keyword">if</span> (records[j].<span class="hljs-title function_">getTypes</span>().<span class="hljs-title function_">includes</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>)) {</li><li>          <span class="hljs-keyword">let</span> text = records[j].<span class="hljs-title function_">getEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>) <span class="hljs-keyword">as</span> uniformDataStruct.<span class="hljs-property">PlainText</span>;</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`<span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span>.<span class="hljs-subst">${text.textContent}</span>`</span>);</li><li>        }</li><li>      }</li><li>    }</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to query data. code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span> `</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query data throws an exception. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span> `</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2006px;">     <h2 id="unifieddatachanneldeletedata" device-type="phone,2in1,tablet,tv">unifiedDataChannel.deleteData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifieddatachanneldeletedata" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>deleteData(options: Options, callback: AsyncCallback&lt;Array&lt;UnifiedData&gt;&gt;): void</p>     <p>删除UDMF公共数据通路的数据，返回删除的数据集，使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#options">Options</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置项参数，key和intention均为可选，且intention参数仅支持DATA_HUB，根据传入的参数做相应的校验以返回不同的值。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数，返回删除的所有数据。</p>          <p>如果options中填入的是key，则删除key对应的数据并返回该数据。</p>          <p>如果options中填入的是intention，则删除intention下所有数据并返回删除的数据。</p>          <p>如intention和key均填写了，取两者数据的交集进行删除，并返回删除的数据，与options只填入key的结果一致；如没有交集报错。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.58.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.58.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: unifiedDataChannel.<span class="hljs-property">Options</span> = {</li><li>  <span class="hljs-attr">intention</span>: unifiedDataChannel.<span class="hljs-property">Intention</span>.<span class="hljs-property">DATA_HUB</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  unifiedDataChannel.<span class="hljs-title function_">deleteData</span>(options, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err === <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in deleting data. size = <span class="hljs-subst">${data.length}</span>`</span>);</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>        <span class="hljs-keyword">let</span> records = data[i].<span class="hljs-title function_">getRecords</span>();</li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; records.<span class="hljs-property">length</span>; j++) {</li><li>          <span class="hljs-keyword">if</span> (records[j].<span class="hljs-title function_">getTypes</span>().<span class="hljs-title function_">includes</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>)) {</li><li>            <span class="hljs-keyword">let</span> text = records[j].<span class="hljs-title function_">getEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>) <span class="hljs-keyword">as</span> uniformDataStruct.<span class="hljs-property">PlainText</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`<span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span>.<span class="hljs-subst">${text.textContent}</span>`</span>);</li><li>          }</li><li>        }</li><li>      }</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to delete data. code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span> `</span>);</li><li>    }</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Delete data throws an exception. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span> `</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1940px;">     <h2 id="unifieddatachanneldeletedata-1" device-type="phone,2in1,tablet,tv">unifiedDataChannel.deleteData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifieddatachanneldeletedata-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>deleteData(options: Options): Promise&lt;Array&lt;UnifiedData&gt;&gt;</p>     <p>删除UDMF公共数据通路的数据，返回删除的数据集，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#options">Options</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置项参数，key和intention均为可选，且intention参数仅支持DATA_HUB，根据传入的参数做相应的校验以返回不同的值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">          <p>Promise对象，返回删除的所有数据。</p>          <p>如果options中填入的是key，则删除key对应的数据并返回该数据。</p>          <p>如果options中填入的是intention，则删除intention下所有数据并返回删除的数据。</p>          <p>如intention和key均填写了，取两者数据的交集进行删除，并返回删除的数据，与options只填入key的结果一致；如没有交集报错。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.59.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameters types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: unifiedDataChannel.<span class="hljs-property">Options</span> = {</li><li>  <span class="hljs-attr">key</span>: <span class="hljs-string">'udmf://DataHub/com.ohos.test/0123456789'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  unifiedDataChannel.<span class="hljs-title function_">deleteData</span>(options).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in deleting data. size = <span class="hljs-subst">${data.length}</span>`</span>);</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-keyword">let</span> records = data[i].<span class="hljs-title function_">getRecords</span>();</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; records.<span class="hljs-property">length</span>; j++) {</li><li>        <span class="hljs-keyword">if</span> (records[j].<span class="hljs-title function_">getTypes</span>().<span class="hljs-title function_">includes</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>)) {</li><li>          <span class="hljs-keyword">let</span> text = records[j].<span class="hljs-title function_">getEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>) <span class="hljs-keyword">as</span> uniformDataStruct.<span class="hljs-property">PlainText</span>;</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`<span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span>.<span class="hljs-subst">${text.textContent}</span>`</span>);</li><li>        }</li><li>      }</li><li>    }</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to delete data. code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span> `</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query data throws an exception. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span> `</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1396px;">     <h2 id="unifieddatachannelsetappshareoptions14" device-type="phone,2in1,tablet,tv">unifiedDataChannel.setAppShareOptions<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifieddatachannelsetappshareoptions14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setAppShareOptions(intention: Intention, shareOptions: ShareOptions): void</p>     <p>设置应用内拖拽通道数据可使用的范围<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#shareoptions12">ShareOptions</a>，目前仅支持DRAG类型数据通道的管控设置。</p>     <p><strong>需要权限:</strong> ohos.permission.MANAGE_UDMF_APP_SHARE_OPTION</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">intention</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#intention">Intention</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示数据操作相关的数据通路类型，目前仅支持DRAG类型数据通道。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">shareOptions</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#shareoptions12">ShareOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指示<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a>支持的设备内使用范围。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-udmf">统一数据管理框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.60.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">20400001</td>         <td class="cellrowborder" width="50%">Settings already exist. To reconfigure, remove the existing sharing options.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  unifiedDataChannel.<span class="hljs-title function_">setAppShareOptions</span>(unifiedDataChannel.<span class="hljs-property">Intention</span>.<span class="hljs-property">DRAG</span>, unifiedDataChannel.<span class="hljs-property">ShareOptions</span>.<span class="hljs-property">IN_APP</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`[UDMF]setAppShareOptions success. `</span>);</li><li>}<span class="hljs-keyword">catch</span> (e){</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`[UDMF]setAppShareOptions throws an exception. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span> `</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1248px;">     <h2 id="unifieddatachannelremoveappshareoptions14" device-type="phone,2in1,tablet,tv">unifiedDataChannel.removeAppShareOptions<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifieddatachannelremoveappshareoptions14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>removeAppShareOptions(intention: Intention): void</p>     <p>清除<a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddatachannelsetappshareoptions14">setAppShareOptions</a>设置的管控信息。</p>     <p><strong>需要权限:</strong> ohos.permission.MANAGE_UDMF_APP_SHARE_OPTION</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">intention</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#intention">Intention</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示数据操作相关的数据通路类型，目前仅支持DRAG类型数据通道。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.61.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  unifiedDataChannel.<span class="hljs-title function_">removeAppShareOptions</span>(unifiedDataChannel.<span class="hljs-property">Intention</span>.<span class="hljs-property">DRAG</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`[UDMF]removeAppShareOptions success. `</span>);</li><li>}<span class="hljs-keyword">catch</span> (e){</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`[UDMF]removeAppShareOptions throws an exception. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span> `</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2089px;">     <h2 id="unifieddatachannelconvertrecordstoentries17" device-type="phone,2in1,tablet,tv">unifiedDataChannel.convertRecordsToEntries<sup>17+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unifieddatachannelconvertrecordstoentries17" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>convertRecordsToEntries(data: UnifiedData): void</p>     <p>本接口用于将传入的data转换成多样式数据结构。若原data使用多个record去承载同一份数据的不同样式，则可以使用此接口将原data转换为多样式数据结构。</p>     <p>当满足以下规则时进行转换，传入的data经转换后变为多样式数据结构：</p>     <ol>      <li>data中的record数量大于1;</li>      <li>data中的properties中的tag值为"records_to_entries_data_format"。</li>     </ol>     <p>否则不会产生任何行为。</p>     <p><strong>元服务API：</strong> 从API version 17开始，该接口支持在元服务中使用。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.UDMF.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.62.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-data-unifieddatachannel#unifieddata">UnifiedData</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.14.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.62.14.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-uiq-c106="" class="highlight-div"><div _ngcontent-uiq-c106="" class="highlight-div-header"><div _ngcontent-uiq-c106="" class="highlight-div-header-left"><div _ngcontent-uiq-c106="" class="handle-button expand-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uiq-c106="" class="highlight-div-header-right"><div _ngcontent-uiq-c106="" class="handle-button ai-button"></div><div _ngcontent-uiq-c106="" class="handle-button line-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uiq-c106="" class="handle-button theme-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uiq-c106="" class="handle-button copy-button"><div _ngcontent-uiq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uiq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { unifiedDataChannel } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { uniformDataStruct, uniformTypeDescriptor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> details : <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {</li><li>  <span class="hljs-string">'attr1'</span>: <span class="hljs-string">'value1'</span>,</li><li>  <span class="hljs-string">'attr2'</span>: <span class="hljs-string">'value2'</span></li><li>}</li><li><span class="hljs-keyword">let</span> plainTextObj : uniformDataStruct.<span class="hljs-property">PlainText</span> = {</li><li>  <span class="hljs-attr">uniformDataType</span>: <span class="hljs-string">'general.plain-text'</span>,</li><li>  textContent : <span class="hljs-string">'The weather is very good today'</span>,</li><li>  <span class="hljs-keyword">abstract</span> : <span class="hljs-string">'The weather is very good today'</span>,</li><li>  details : details</li><li>}</li><li><span class="hljs-keyword">let</span> htmlObj : uniformDataStruct.<span class="hljs-property">HTML</span> = {</li><li>  uniformDataType :<span class="hljs-string">'general.html'</span>,</li><li>  htmlContent : <span class="hljs-string">'&lt;div&gt;&lt;p&gt;The weather is very good today&lt;/p&gt;&lt;/div&gt;'</span>,</li><li>  plainContent : <span class="hljs-string">'The weather is very good today'</span>,</li><li>  details : details</li><li>}</li><li><span class="hljs-keyword">let</span> plainText = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>, plainTextObj);</li><li><span class="hljs-keyword">let</span> html = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedRecord</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HTML</span>, htmlObj);</li><li><span class="hljs-keyword">let</span> unifiedData = <span class="hljs-keyword">new</span> unifiedDataChannel.<span class="hljs-title class_">UnifiedData</span>(plainText);</li><li>unifiedData.<span class="hljs-title function_">addRecord</span>(html);</li><li>unifiedData.<span class="hljs-property">properties</span>.<span class="hljs-property">tag</span> = <span class="hljs-string">'records_to_entries_data_format'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  unifiedDataChannel.<span class="hljs-title function_">convertRecordsToEntries</span>(unifiedData);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">records</span>: <span class="hljs-title class_">Array</span>&lt;unifiedDataChannel.<span class="hljs-property">UnifiedRecord</span>&gt; = unifiedData.<span class="hljs-title function_">getRecords</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Records size is <span class="hljs-subst">${records.length}</span>`</span>); <span class="hljs-comment">// After conversion, its length must be less than 1</span></li><li>  <span class="hljs-keyword">if</span> (records.<span class="hljs-property">length</span> == <span class="hljs-number">1</span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">plainTextObjRead</span>: uniformDataStruct.<span class="hljs-property">PlainText</span> = records[<span class="hljs-number">0</span>].<span class="hljs-title function_">getEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>) <span class="hljs-keyword">as</span> uniformDataStruct.<span class="hljs-property">PlainText</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`TextContent is <span class="hljs-subst">${plainTextObjRead.textContent}</span>`</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">htmlObjRead</span>: uniformDataStruct.<span class="hljs-property">HTML</span> = records[<span class="hljs-number">0</span>].<span class="hljs-title function_">getEntry</span>(uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HTML</span>) <span class="hljs-keyword">as</span> uniformDataStruct.<span class="hljs-property">HTML</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`HtmlContent is <span class="hljs-subst">${htmlObjRead.htmlContent}</span>`</span>);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Convert data throws an exception. code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span> `</span>);</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>