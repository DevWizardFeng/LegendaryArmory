<h1 _ngcontent-btt-c119="" class="doc-title ng-star-inserted" title="@ohos.dlpPermission (数据防泄漏)"> @ohos.dlpPermission (数据防泄漏) </h1>

<div _ngcontent-btt-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>数据防泄漏（DLP）是系统提供的系统级的数据防泄漏解决方案，提供跨设备的文件的权限管理、加密存储、授权访问等能力。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>本模块首批接口从API version 10开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</li>       <li>@ohos.dlpPermission归属的Kit已由'DataLossPreventionKit'变更为'DataProtectionKit'，建议开发者使用新模块名'@kit.DataProtectionKit'完成模块导入。如果使用'@kit.DataLossPreventionKit'导入，仅能调用改名前的接口，无法使用新增接口。</li>      </ul>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1570px;">     <h2 id="dlppermissionisdlpfile" device-type="phone,2in1,tablet,tv">dlpPermission.isDLPFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissionisdlpfile" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isDLPFile(fd: number): Promise&lt;boolean&gt;</p>     <p>根据文件的fd，查询该文件是否是DLP文件。使用Promise方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待查询文件的fd（文件描述符）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回true表示是DLP文件，返回false表示非DLP文件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> uri = <span class="hljs-string">"file://docs/storage/Users/currentUser/Desktop/test.txt.dlp"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">file</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  file = fileIo.<span class="hljs-title function_">openSync</span>(uri).<span class="hljs-property">fd</span>;</li><li>  <span class="hljs-keyword">let</span> res = dlpPermission.<span class="hljs-title function_">isDLPFile</span>(file); <span class="hljs-comment">// 是否加密DLP文件。</span></li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, res);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>} <span class="hljs-keyword">finally</span> {</li><li>  <span class="hljs-keyword">if</span> (file !== <span class="hljs-literal">undefined</span>) {</li><li>    fileIo.<span class="hljs-title function_">closeSync</span>(file);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1588px;">     <h2 id="dlppermissionisdlpfile-1" device-type="phone,2in1,tablet,tv">dlpPermission.isDLPFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissionisdlpfile-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isDLPFile(fd: number, callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>根据文件的fd，查询该文件是否是DLP文件。使用callback方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待查询文件的fd（文件描述符）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回true表示是DLP文件，返回false表示非DLP文件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> uri = <span class="hljs-string">"file://docs/storage/Users/currentUser/Desktop/test.txt.dlp"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">file</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  file = fileIo.<span class="hljs-title function_">openSync</span>(uri).<span class="hljs-property">fd</span>;</li><li>  dlpPermission.<span class="hljs-title function_">isDLPFile</span>(file, <span class="hljs-function">(<span class="hljs-params">err, res</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err != <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'isDLPFile error,'</span>, err.<span class="hljs-property">code</span>, err.<span class="hljs-property">message</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, res);</li><li>    }</li><li>    fileIo.<span class="hljs-title function_">closeSync</span>(file);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'isDLPFile error,'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>  <span class="hljs-keyword">if</span> (file !== <span class="hljs-literal">undefined</span>) {</li><li>    fileIo.<span class="hljs-title function_">closeSync</span>(file);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1323px;">     <h2 id="dlppermissiongetdlppermissioninfo" device-type="phone,2in1,tablet,tv">dlpPermission.getDLPPermissionInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiongetdlppermissioninfo" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getDLPPermissionInfo(): Promise&lt;DLPPermissionInfo&gt;</p>     <p>查询当前DLP沙箱的权限信息。使用Promise方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#dlppermissioninfo">DLPPermissionInfo</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回查询的DLP文件的权限信息，无异常则表明查询成功。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100006</td>         <td class="cellrowborder" width="50%">No permission to call this API, which is available only for DLP sandbox applications.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ExampleFunction</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    dlpPermission.<span class="hljs-title function_">isInSandbox</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (inSandbox) =&gt; { <span class="hljs-comment">// 是否在沙箱内。</span></li><li>      <span class="hljs-keyword">if</span> (inSandbox) {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">res</span>: dlpPermission.<span class="hljs-property">DLPPermissionInfo</span> = <span class="hljs-keyword">await</span> dlpPermission.<span class="hljs-title function_">getDLPPermissionInfo</span>(); <span class="hljs-comment">// 获取当前权限信息。</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res));</li><li>      }</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1502px;">     <h2 id="dlppermissiongetdlppermissioninfo-1" device-type="phone,2in1,tablet,tv">dlpPermission.getDLPPermissionInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiongetdlppermissioninfo-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getDLPPermissionInfo(callback: AsyncCallback&lt;DLPPermissionInfo&gt;): void</p>     <p>查询当前DLP沙箱的权限信息。使用callback方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#dlppermissioninfo">DLPPermissionInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。err为undefined时表示查询成功；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100006</td>         <td class="cellrowborder" width="50%">No permission to call this API, which is available only for DLP sandbox applications.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dlpPermission.<span class="hljs-title function_">isInSandbox</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">inSandbox</span>) =&gt;</span> { <span class="hljs-comment">// 是否在沙箱内。</span></li><li>    <span class="hljs-keyword">if</span> (inSandbox) {</li><li>      dlpPermission.<span class="hljs-title function_">getDLPPermissionInfo</span>(<span class="hljs-function">(<span class="hljs-params">err, res</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (err != <span class="hljs-literal">undefined</span>) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getDLPPermissionInfo error,'</span>, err.<span class="hljs-property">code</span>, err.<span class="hljs-property">message</span>);</li><li>        } <span class="hljs-keyword">else</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res));</li><li>        }</li><li>      }); <span class="hljs-comment">// 获取当前权限信息。</span></li><li>    }</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getDLPPermissionInfo error,'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1275px;">     <h2 id="dlppermissiongetoriginalfilename" device-type="phone,2in1,tablet,tv">dlpPermission.getOriginalFileName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiongetoriginalfilename" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getOriginalFileName(fileName: string): string</p>     <p>获取指定DLP文件名的原始文件名。接口为同步接口。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fileName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要查询的文件名。不超过255字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回DLP文件的原始文件名。例如：DLP文件名为test.txt.dlp，则返回的原始文件名为test.txt。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> res = dlpPermission.<span class="hljs-title function_">getOriginalFileName</span>(<span class="hljs-string">'test.txt.dlp'</span>); <span class="hljs-comment">// 获取原始文件名。</span></li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, res);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1045px;">     <h2 id="dlppermissiongetdlpsuffix" device-type="phone,2in1,tablet,tv">dlpPermission.getDLPSuffix<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiongetdlpsuffix" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getDLPSuffix(): string</p>     <p>获取DLP文件扩展名。接口为同步接口。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回DLP文件扩展名。例如：原文件"text.txt"，加密后的DLP文件名为"test.txt.dlp"，返回拓展名为".dlp"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> res = dlpPermission.<span class="hljs-title function_">getDLPSuffix</span>(); <span class="hljs-comment">// 获取DLP拓展名。</span></li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, res);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1427px;">     <h2 id="dlppermissiononopendlpfile" device-type="phone,2in1,tablet,tv">dlpPermission.on('openDLPFile')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiononopendlpfile" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'openDLPFile', listener: Callback&lt;AccessedDLPFileInfo&gt;): void</p>     <p>监听打开DLP文件。在当前应用的沙箱应用打开DLP文件时，通知当前应用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">'openDLPFile'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件类型。固定值为'openDLPFile'：打开DLP文件事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">listener</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#accesseddlpfileinfo">AccessedDLPFileInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">DLP文件打开事件的回调。在当前应用的沙箱应用打开DLP文件时，通知当前应用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100007</td>         <td class="cellrowborder" width="50%">No permission to call this API, which is available only for non-DLP sandbox applications.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dlpPermission.<span class="hljs-title function_">on</span>(<span class="hljs-string">'openDLPFile'</span>, <span class="hljs-function">(<span class="hljs-params">info: dlpPermission.AccessedDLPFileInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'openDlpFile event'</span>, info.<span class="hljs-property">uri</span>, info.<span class="hljs-property">lastOpenTime</span>)</li><li>  }); <span class="hljs-comment">// 订阅。</span></li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1475px;">     <h2 id="dlppermissionoffopendlpfile" device-type="phone,2in1,tablet,tv">dlpPermission.off('openDLPFile')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissionoffopendlpfile" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'openDLPFile', listener?: Callback&lt;AccessedDLPFileInfo&gt;): void</p>     <p>取消监听打开DLP文件。在当前应用的沙箱应用打开DLP文件时，取消通知当前应用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">'openDLPFile'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件类型。固定值为'openDLPFile'：打开DLP文件事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">listener</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#accesseddlpfileinfo">AccessedDLPFileInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">DLP文件被打开的事件的回调。在当前应用的沙箱应用打开DLP文件时，取消通知当前应用。默认为空，表示取消该类型事件的所有回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types. 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100007</td>         <td class="cellrowborder" width="50%">No permission to call this API, which is available only for non-DLP sandbox applications.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dlpPermission.<span class="hljs-title function_">off</span>(<span class="hljs-string">'openDLPFile'</span>, <span class="hljs-function">(<span class="hljs-params">info: dlpPermission.AccessedDLPFileInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'openDlpFile event'</span>, info.<span class="hljs-property">uri</span>, info.<span class="hljs-property">lastOpenTime</span>)</li><li>  }); <span class="hljs-comment">// 取消订阅。</span></li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1100px;">     <h2 id="dlppermissionisinsandbox" device-type="phone,2in1,tablet,tv">dlpPermission.isInSandbox<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissionisinsandbox" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isInSandbox(): Promise&lt;boolean&gt;</p>     <p>查询当前应用是否运行在DLP沙箱环境。使用Promise方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回true表示当前应用运行在沙箱中，返回false表示当前应用不是运行在沙箱中。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> inSandbox = dlpPermission.<span class="hljs-title function_">isInSandbox</span>(); <span class="hljs-comment">// 是否在沙箱内。</span></li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, inSandbox);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1375px;">     <h2 id="dlppermissionisinsandbox-1" device-type="phone,2in1,tablet,tv">dlpPermission.isInSandbox<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissionisinsandbox-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isInSandbox(callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>查询当前应用是否运行在DLP沙箱环境。使用callback方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。err为undefined时表示查询成功；否则为错误对象。返回true表示当前应用运行在沙箱中，返回false表示当前应用不是运行在沙箱中。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dlpPermission.<span class="hljs-title function_">isInSandbox</span>(<span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'isInSandbox error,'</span>, err.<span class="hljs-property">code</span>, err.<span class="hljs-property">message</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'isInSandbox, data'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>    }</li><li>  }); <span class="hljs-comment">// 是否在沙箱内。</span></li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'isInSandbox error,'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1100px;">     <h2 id="dlppermissiongetdlpsupportedfiletypes" device-type="phone,2in1,tablet,tv">dlpPermission.getDLPSupportedFileTypes<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiongetdlpsupportedfiletypes" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getDLPSupportedFileTypes(): Promise&lt;Array&lt;string&gt;&gt;</p>     <p>查询当前可支持权限设置和校验的文件扩展名类型列表。使用Promise方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回当前可支持权限设置和校验的文件扩展名类型列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> res = dlpPermission.<span class="hljs-title function_">getDLPSupportedFileTypes</span>(); <span class="hljs-comment">// 获取支持DLP的文件类型。</span></li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res));</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1303px;">     <h2 id="dlppermissiongetdlpsupportedfiletypes-1" device-type="phone,2in1,tablet,tv">dlpPermission.getDLPSupportedFileTypes<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiongetdlpsupportedfiletypes-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getDLPSupportedFileTypes(callback: AsyncCallback&lt;Array&lt;string&gt;&gt;): void</p>     <p>查询当前可支持权限设置和校验的文件扩展名类型列表。使用callback方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。err为undefined时表示查询成功；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dlpPermission.<span class="hljs-title function_">getDLPSupportedFileTypes</span>(<span class="hljs-function">(<span class="hljs-params">err, res</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err != <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getDLPSupportedFileTypes error,'</span>, err.<span class="hljs-property">code</span>, err.<span class="hljs-property">message</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res));</li><li>    }</li><li>  }); <span class="hljs-comment">// 获取支持DLP的文件类型。</span></li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getDLPSupportedFileTypes error,'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1577px;">     <h2 id="dlppermissionsetretentionstate" device-type="phone,2in1,tablet,tv">dlpPermission.setRetentionState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissionsetretentionstate" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setRetentionState(docUris: Array&lt;string&gt;): Promise&lt;void&gt;</p>     <p>打开DLP文件时自动安装沙箱，关闭DLP文件时自动卸载沙箱。设置沙箱保留状态时DLP文件关闭时自动卸载暂时失效。使用Promise方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">docUris</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示需要设置保留状态的文件uri列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100006</td>         <td class="cellrowborder" width="50%">No permission to call this API, which is available only for DLP sandbox applications.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ExampleFunction</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> uri = <span class="hljs-string">"file://docs/storage/Users/currentUser/Desktop/test.txt.dlp"</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> inSandbox = <span class="hljs-keyword">await</span> dlpPermission.<span class="hljs-title function_">isInSandbox</span>(); <span class="hljs-comment">// 是否在沙箱内。</span></li><li>    <span class="hljs-keyword">if</span> (inSandbox) {</li><li>      dlpPermission.<span class="hljs-title function_">setRetentionState</span>([uri]); <span class="hljs-comment">// 设置沙箱保留。</span></li><li>    }</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1595px;">     <h2 id="dlppermissionsetretentionstate-1" device-type="phone,2in1,tablet,tv">dlpPermission.setRetentionState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissionsetretentionstate-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setRetentionState(docUris: Array&lt;string&gt;, callback: AsyncCallback&lt;void&gt;): void</p>     <p>打开DLP文件时自动安装沙箱，关闭DLP文件时自动卸载沙箱。设置沙箱保留状态时DLP文件关闭时自动卸载暂时失效。使用callback方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">docUris</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示需要设置保留状态的文件uri列表。Array不限长度，每个string不超过4095字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。err为undefined时表示设置成功；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100006</td>         <td class="cellrowborder" width="50%">No permission to call this API, which is available only for DLP sandbox applications.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> uri = <span class="hljs-string">"file://docs/storage/Users/currentUser/Desktop/test.txt.dlp"</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  dlpPermission.<span class="hljs-title function_">setRetentionState</span>([uri], <span class="hljs-function">(<span class="hljs-params">err, res</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err != <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'setRetentionState error,'</span>, err.<span class="hljs-property">code</span>, err.<span class="hljs-property">message</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setRetentionState success'</span>);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res));</li><li>    }</li><li>  }); <span class="hljs-comment">// 设置沙箱保留。</span></li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'setRetentionState error,'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1402px;">     <h2 id="dlppermissioncancelretentionstate" device-type="phone,2in1,tablet,tv">dlpPermission.cancelRetentionState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissioncancelretentionstate" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>cancelRetentionState(docUris: Array&lt;string&gt;): Promise&lt;void&gt;</p>     <p>取消沙箱保留状态即恢复DLP文件关闭时自动卸载沙箱策略。使用Promise方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">docUris</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示需要设置保留状态的文件uri列表。Array不限长度，每个string不超过4095字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> uri = <span class="hljs-string">"file://docs/storage/Users/currentUser/Desktop/test.txt.dlp"</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  dlpPermission.<span class="hljs-title function_">cancelRetentionState</span>([uri]); <span class="hljs-comment">// 取消沙箱保留。</span></li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1468px;">     <h2 id="dlppermissioncancelretentionstate-1" device-type="phone,2in1,tablet,tv">dlpPermission.cancelRetentionState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissioncancelretentionstate-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>cancelRetentionState(docUris: Array&lt;string&gt;, callback: AsyncCallback&lt;void&gt;): void</p>     <p>取消沙箱保留状态即恢复DLP文件关闭时自动卸载沙箱策略。使用callback方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">docUris</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示需要设置保留状态的文件uri列表。Array不限长度，每个string不超过4095字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。err为undefined时表示设置成功；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> uri = <span class="hljs-string">"file://docs/storage/Users/currentUser/Desktop/test.txt.dlp"</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  dlpPermission.<span class="hljs-title function_">cancelRetentionState</span>([uri], <span class="hljs-function">(<span class="hljs-params">err, res</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err != <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'cancelRetentionState error,'</span>, err.<span class="hljs-property">code</span>, err.<span class="hljs-property">message</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'cancelRetentionState success'</span>);</li><li>    }</li><li>  }); <span class="hljs-comment">// 取消沙箱保留。</span></li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'cancelRetentionState error,'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1505px;">     <h2 id="dlppermissiongetretentionsandboxlist" device-type="phone,2in1,tablet,tv">dlpPermission.getRetentionSandboxList<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiongetretentionsandboxlist" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getRetentionSandboxList(bundleName?: string): Promise&lt;Array&lt;RetentionSandboxInfo&gt;&gt;</p>     <p>查询指定应用的保留沙箱信息列表。使用Promise方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">bundleName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">指定应用包名。默认为空，查询当前应用的保留沙箱信息列表。最小7字节，最大128字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#retentionsandboxinfo">RetentionSandboxInfo</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回查询的沙箱信息列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100007</td>         <td class="cellrowborder" width="50%">No permission to call this API, which is available only for non-DLP sandbox applications.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ExampleFunction</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">res</span>: <span class="hljs-title class_">Array</span>&lt;dlpPermission.<span class="hljs-property">RetentionSandboxInfo</span>&gt; = <span class="hljs-keyword">await</span> dlpPermission.<span class="hljs-title function_">getRetentionSandboxList</span>(); <span class="hljs-comment">// 获取沙箱保留列表。</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res))</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1451px;">     <h2 id="dlppermissiongetretentionsandboxlist-1" device-type="phone,2in1,tablet,tv">dlpPermission.getRetentionSandboxList<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiongetretentionsandboxlist-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getRetentionSandboxList(bundleName: string, callback: AsyncCallback&lt;Array&lt;RetentionSandboxInfo&gt;&gt;): void</p>     <p>查询指定应用的保留沙箱信息列表。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">bundleName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定应用包名。最小7字节，最大128字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#retentionsandboxinfo">RetentionSandboxInfo</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。err为undefined时表示查询成功；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100007</td>         <td class="cellrowborder" width="50%">No permission to call this API, which is available only for non-DLP sandbox applications.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dlpPermission.<span class="hljs-title function_">getRetentionSandboxList</span>(<span class="hljs-string">"bundleName"</span>, <span class="hljs-function">(<span class="hljs-params">err, res</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err != <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getRetentionSandboxList error,'</span>, err.<span class="hljs-property">code</span>, err.<span class="hljs-property">message</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res));</li><li>    }</li><li>  }); <span class="hljs-comment">// 获取沙箱保留列表。</span></li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getRetentionSandboxList error,'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1382px;">     <h2 id="dlppermissiongetretentionsandboxlist-2" device-type="phone,2in1,tablet,tv">dlpPermission.getRetentionSandboxList<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiongetretentionsandboxlist-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getRetentionSandboxList(callback: AsyncCallback&lt;Array&lt;RetentionSandboxInfo&gt;&gt;): void</p>     <p>查询当前应用的保留沙箱信息列表。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#retentionsandboxinfo">RetentionSandboxInfo</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。err为undefined时表示查询成功；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100007</td>         <td class="cellrowborder" width="50%">No permission to call this API, which is available only for non-DLP sandbox applications.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dlpPermission.<span class="hljs-title function_">getRetentionSandboxList</span>(<span class="hljs-function">(<span class="hljs-params">err, res</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err != <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getRetentionSandboxList error,'</span>, err.<span class="hljs-property">code</span>, err.<span class="hljs-property">message</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res));</li><li>    }</li><li>  }); <span class="hljs-comment">// 获取沙箱保留列表。</span></li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getRetentionSandboxList error,'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1203px;">     <h2 id="dlppermissiongetdlpfileaccessrecords" device-type="phone,2in1,tablet,tv">dlpPermission.getDLPFileAccessRecords<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiongetdlpfileaccessrecords" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getDLPFileAccessRecords(): Promise&lt;Array&lt;AccessedDLPFileInfo&gt;&gt;</p>     <p>查询最近访问的DLP文件列表。使用Promise方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#accesseddlpfileinfo">AccessedDLPFileInfo</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回最近访问的DLP文件列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100007</td>         <td class="cellrowborder" width="50%">No permission to call this API, which is available only for non-DLP sandbox applications.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ExampleFunction</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">res</span>: <span class="hljs-title class_">Array</span>&lt;dlpPermission.<span class="hljs-property">AccessedDLPFileInfo</span>&gt; = <span class="hljs-keyword">await</span> dlpPermission.<span class="hljs-title function_">getDLPFileAccessRecords</span>(); <span class="hljs-comment">// 获取DLP访问列表。</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res))</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1382px;">     <h2 id="dlppermissiongetdlpfileaccessrecords-1" device-type="phone,2in1,tablet,tv">dlpPermission.getDLPFileAccessRecords<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiongetdlpfileaccessrecords-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getDLPFileAccessRecords(callback: AsyncCallback&lt;Array&lt;AccessedDLPFileInfo&gt;&gt;): void</p>     <p>查询最近访问的DLP文件列表。使用callback方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#accesseddlpfileinfo">AccessedDLPFileInfo</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。err为undefined时表示查询成功；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100007</td>         <td class="cellrowborder" width="50%">No permission to call this API, which is available only for non-DLP sandbox applications.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dlpPermission.<span class="hljs-title function_">getDLPFileAccessRecords</span>(<span class="hljs-function">(<span class="hljs-params">err, res</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err != <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getDLPFileAccessRecords error,'</span>, err.<span class="hljs-property">code</span>, err.<span class="hljs-property">message</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res));</li><li>    }</li><li>  }); <span class="hljs-comment">// 获取DLP访问列表。</span></li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getDLPFileAccessRecords error,'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1773px;">     <h2 id="dlppermissionstartdlpmanagerforresult11" device-type="phone,2in1,tablet,tv">dlpPermission.startDLPManagerForResult<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissionstartdlpmanagerforresult11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>startDLPManagerForResult(context: common.UIAbilityContext, want: Want): Promise&lt;DLPManagerResult&gt;</p>     <p>在当前UIAbility界面以无边框形式打开DLP权限管理应用。使用Promise方式异步返回结果。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext">common.UIAbilityContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前窗口UIAbility上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">want</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">请求对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#dlpmanagerresult11">DLPManagerResult</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。打开DLP权限管理应用并退出后的结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100016</td>         <td class="cellrowborder" width="50%">The uri field is missing in the want parameter.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100017</td>         <td class="cellrowborder" width="50%">The displayName field is missing in the want parameter.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { common, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> context = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>; <span class="hljs-comment">// 获取当前UIAbilityContext。</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>    <span class="hljs-string">"uri"</span>: <span class="hljs-string">"file://docs/storage/Users/currentUser/Desktop/1.txt"</span>,</li><li>    <span class="hljs-string">"parameters"</span>: {</li><li>      <span class="hljs-string">"displayName"</span>: <span class="hljs-string">"1.txt"</span></li><li>    }</li><li>  }; <span class="hljs-comment">// 请求参数。</span></li><li>  dlpPermission.<span class="hljs-title function_">startDLPManagerForResult</span>(context, want).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res.resultCode'</span>, res.<span class="hljs-property">resultCode</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res.want'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res.<span class="hljs-property">want</span>));</li><li>  }); <span class="hljs-comment">// 打开DLP权限管理应用。</span></li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, err.<span class="hljs-property">code</span>, err.<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1464px;">     <h2 id="dlppermissionsetsandboxappconfig11" device-type="phone,2in1,tablet,tv">dlpPermission.setSandboxAppConfig<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissionsetsandboxappconfig11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setSandboxAppConfig(configInfo: string): Promise&lt;void&gt;</p>     <p>设置沙箱应用配置信息，使用Promise方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">configInfo</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">沙箱应用配置信息。长度小于4MB。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100007</td>         <td class="cellrowborder" width="50%">No permission to call this API, which is available only for non-DLP sandbox applications.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100018</td>         <td class="cellrowborder" width="50%">The application is not authorized.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dlpPermission.<span class="hljs-title function_">setSandboxAppConfig</span>(<span class="hljs-string">'configInfo'</span>); <span class="hljs-comment">// 设置沙箱应用配置信息。</span></li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1186px;">     <h2 id="dlppermissioncleansandboxappconfig11" device-type="phone,2in1,tablet,tv">dlpPermission.cleanSandboxAppConfig<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissioncleansandboxappconfig11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>cleanSandboxAppConfig(): Promise&lt;void&gt;</p>     <p>清理沙箱应用配置信息，使用Promise方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100007</td>         <td class="cellrowborder" width="50%">No permission to call this API, which is available only for non-DLP sandbox applications.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100018</td>         <td class="cellrowborder" width="50%">The application is not authorized.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dlpPermission.<span class="hljs-title function_">cleanSandboxAppConfig</span>(); <span class="hljs-comment">// 清理沙箱应用配置信息。</span></li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1179px;">     <h2 id="dlppermissiongetsandboxappconfig11" device-type="phone,2in1,tablet,tv">dlpPermission.getSandboxAppConfig<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiongetsandboxappconfig11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getSandboxAppConfig(): Promise&lt;string&gt;</p>     <p>获取沙箱应用配置信息，使用Promise方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;string&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回沙箱应用配置信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100018</td>         <td class="cellrowborder" width="50%">The application is not authorized.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ExampleFunction</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> res = <span class="hljs-keyword">await</span> dlpPermission.<span class="hljs-title function_">getSandboxAppConfig</span>() <span class="hljs-comment">// 获取沙箱应用配置信息。</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res));</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1021px;">     <h2 id="dlppermissionisdlpfeatureprovided12" device-type="phone,2in1,tablet,tv">dlpPermission.isDLPFeatureProvided<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissionisdlpfeatureprovided12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isDLPFeatureProvided(): Promise&lt;boolean&gt;</p>     <p>查询当前系统是否提供DLP特性，使用Promise方式异步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回true表示当前系统提供DLP特性，返回false表示不提供DLP特性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>dlpPermission.<span class="hljs-title function_">isDLPFeatureProvided</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'res'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2102px;">     <h2 id="dlppermissionsetenterprisepolicy21" device-type="phone,2in1,tablet,tv">dlpPermission.setEnterprisePolicy<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissionsetenterprisepolicy21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setEnterprisePolicy(policy: EnterprisePolicy): void</p>     <p>设置企业应用防护策略。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_ACCESS_DLP_FILE</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">policy</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#enterprisepolicy21">EnterprisePolicy</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待设置的企业应用防护策略。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100021</td>         <td class="cellrowborder" width="50%">Failed to set the enterprise policy.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Attribute</span> {</li><li>  <span class="hljs-attr">attributeId</span>: <span class="hljs-built_in">string</span>;</li><li>  <span class="hljs-attr">attributeValues</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;;</li><li>  <span class="hljs-attr">valueType</span>: <span class="hljs-built_in">number</span>;</li><li>  <span class="hljs-attr">opt</span>: <span class="hljs-built_in">number</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Rule</span> {</li><li>  <span class="hljs-attr">ruleId</span>: <span class="hljs-built_in">string</span>;</li><li>  <span class="hljs-attr">attributes</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">Attribute</span>&gt;;</li><li>}</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Policy</span> {</li><li>  <span class="hljs-attr">rules</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">Rule</span>&gt;;</li><li>  <span class="hljs-attr">policyId</span>: <span class="hljs-built_in">string</span>;</li><li>  <span class="hljs-attr">ruleConflictAlg</span>: <span class="hljs-built_in">number</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">attributeValues</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [ <span class="hljs-string">'1'</span> ];</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">attribute</span>: <span class="hljs-title class_">Attribute</span> = {</li><li>    <span class="hljs-attr">attributeId</span>: <span class="hljs-string">'DeviceHealthyStatus'</span>,</li><li>    <span class="hljs-attr">attributeValues</span>: attributeValues,</li><li>    <span class="hljs-attr">valueType</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">opt</span>: <span class="hljs-number">2</span></li><li>  }; <span class="hljs-comment">// 属性信息。</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">rule</span>: <span class="hljs-title class_">Rule</span> = {</li><li>    <span class="hljs-attr">ruleId</span>: <span class="hljs-string">'ruleId'</span>,</li><li>    <span class="hljs-attr">attributes</span>: [ attribute ]</li><li>  }; <span class="hljs-comment">// 规则。</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">policy</span>: <span class="hljs-title class_">Policy</span> = {</li><li>    <span class="hljs-attr">rules</span>: [ rule ],</li><li>    <span class="hljs-attr">policyId</span>: <span class="hljs-string">'policyId'</span>,</li><li>    <span class="hljs-attr">ruleConflictAlg</span>: <span class="hljs-number">0</span></li><li>  }; <span class="hljs-comment">// 策略。</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">enterprisePolicy</span>: dlpPermission.<span class="hljs-property">EnterprisePolicy</span> = {</li><li>    <span class="hljs-attr">policyString</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(policy)</li><li>  };</li><li>  dlpPermission.<span class="hljs-title function_">setEnterprisePolicy</span>(enterprisePolicy);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'set enterprise policy success'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error:'</span> + err.<span class="hljs-property">code</span> + err.<span class="hljs-property">message</span>); <span class="hljs-comment">// 失败报错。</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 783px;">     <h2 id="actionflagtype" device-type="phone,2in1,tablet,tv">ActionFlagType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="actionflagtype" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>可以对DLP文件进行的操作类型枚举。例如：DLP沙箱应用可以根据是否具有操作权限，对其按钮进行置灰。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">ACTION_VIEW</td>         <td class="cellrowborder" width="33.33333333333333%">0x00000001</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的查看权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACTION_SAVE</td>         <td class="cellrowborder" width="33.33333333333333%">0x00000002</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的保存权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACTION_SAVE_AS</td>         <td class="cellrowborder" width="33.33333333333333%">0x00000004</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的另存为权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACTION_EDIT</td>         <td class="cellrowborder" width="33.33333333333333%">0x00000008</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的编辑权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACTION_SCREEN_CAPTURE</td>         <td class="cellrowborder" width="33.33333333333333%">0x00000010</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的截屏权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACTION_SCREEN_SHARE</td>         <td class="cellrowborder" width="33.33333333333333%">0x00000020</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的共享屏幕权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACTION_SCREEN_RECORD</td>         <td class="cellrowborder" width="33.33333333333333%">0x00000040</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的录屏权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACTION_COPY</td>         <td class="cellrowborder" width="33.33333333333333%">0x00000080</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的复制权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACTION_PRINT</td>         <td class="cellrowborder" width="33.33333333333333%">0x00000100</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的打印权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACTION_EXPORT</td>         <td class="cellrowborder" width="33.33333333333333%">0x00000200</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的导出权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACTION_PERMISSION_CHANGE</td>         <td class="cellrowborder" width="33.33333333333333%">0x00000400</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的修改文件权限。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 468px;">     <h2 id="dlpfileaccess" device-type="phone,2in1,tablet,tv">DLPFileAccess<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlpfileaccess" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>DLP文件授权类型的枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NO_PERMISSION</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">表示无文件权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">READ_ONLY</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的只读权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CONTENT_EDIT</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的编辑权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">FULL_CONTROL</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">表示文件的完全控制权限。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 498px;">     <h2 id="dlppermissioninfo" device-type="phone,2in1,tablet,tv">DLPPermissionInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissioninfo" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示DLP文件的权限信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">dlpFileAccess</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#dlpfileaccess">DLPFileAccess</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示DLP文件针对用户的授权类型，例如：只读。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">flags</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示DLP文件的详细操作权限，是不同<a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#actionflagtype">ActionFlagType</a>的组合。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 426px;">     <h2 id="accesseddlpfileinfo" device-type="phone,2in1,tablet,tv">AccessedDLPFileInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accesseddlpfileinfo" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示被打开的DLP文件的信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">uri</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示DLP文件的uri。不超过4095字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">lastOpenTime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示DLP文件最近打开时间。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 522px;">     <h2 id="dlpmanagerresult11" device-type="phone,2in1,tablet,tv">DLPManagerResult<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlpmanagerresult11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示打开DLP权限管理应用的结果。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">resultCode</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示打开DLP权限管理应用并退出后返回的结果码。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">want</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示打开DLP权限管理应用并退出后返回的数据。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 543px;">     <h2 id="retentionsandboxinfo" device-type="phone,2in1,tablet,tv">RetentionSandboxInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="retentionsandboxinfo" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>保留沙箱的沙箱信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">appIndex</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示DLP沙箱应用索引。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">bundleName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示应用包名。最小7字节，最大128字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">docUris</td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示DLP文件的URI列表。Array不限长度，每个string不超过4095字节。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 381px;">     <h2 id="enterprisepolicy21" device-type="phone,2in1,tablet,tv">EnterprisePolicy<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enterprisepolicy21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示企业定制策略。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">policyString</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示企业定制策略的json字符串。长度不超过4M（单位：兆）。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2559px;">     <h2 id="dlppermissiongeneratedlpfileforenterprise21" device-type="phone,2in1,tablet,tv">dlpPermission.generateDlpFileForEnterprise<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiongeneratedlpfileforenterprise21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>generateDlpFileForEnterprise(plaintextFd: number, dlpFd: number, property: DLPProperty, customProperty: CustomProperty): Promise&lt;void&gt;</p>     <p>获取DLPFile管理对象。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>使用该接口可以将明文文件加密生成权限受控文件，仅拥有完全控制权限的用户可以打开。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_ACCESS_DLP_FILE</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">plaintextFd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">明文文件的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dlpFd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">加密文件的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">property</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#dlpproperty21">DLPProperty</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">DLP文件通用策略。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">customProperty</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#customproperty21">CustomProperty</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业定制策略。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100002</td>         <td class="cellrowborder" width="50%">Credential service busy due to too many tasks or duplicate tasks.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100003</td>         <td class="cellrowborder" width="50%">Credential task time out.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100004</td>         <td class="cellrowborder" width="50%">Credential service error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100005</td>         <td class="cellrowborder" width="50%">Credential authentication server error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100009</td>         <td class="cellrowborder" width="50%">Failed to operate the DLP file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100014</td>         <td class="cellrowborder" width="50%">Account not logged in.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ExampleFunction</span>(<span class="hljs-params">plainFilePath: <span class="hljs-built_in">string</span>, dlpFilePath: <span class="hljs-built_in">string</span></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">plaintextFd</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dlpFd</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    plaintextFd = fileIo.<span class="hljs-title function_">openSync</span>(plainFilePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_ONLY</span>).<span class="hljs-property">fd</span>;</li><li>    dlpFd = fileIo.<span class="hljs-title function_">openSync</span>(dlpFilePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>).<span class="hljs-property">fd</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">dlpProperty</span>: dlpPermission.<span class="hljs-property">DLPProperty</span> = {</li><li>      <span class="hljs-attr">ownerAccount</span>: <span class="hljs-string">'zhangsan'</span>,</li><li>      <span class="hljs-attr">ownerAccountType</span>: dlpPermission.<span class="hljs-property">AccountType</span>.<span class="hljs-property">DOMAIN_ACCOUNT</span>,</li><li>      <span class="hljs-attr">authUserList</span>: [],</li><li>      <span class="hljs-attr">contactAccount</span>: <span class="hljs-string">'zhangsan'</span>,</li><li>      <span class="hljs-attr">offlineAccess</span>: <span class="hljs-literal">true</span>,</li><li>      <span class="hljs-attr">ownerAccountID</span>: <span class="hljs-string">'xxxxxxx'</span>,</li><li>      <span class="hljs-attr">everyoneAccessList</span>: []</li><li>    };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">customProperty</span>: dlpPermission.<span class="hljs-property">CustomProperty</span> = {</li><li>      <span class="hljs-attr">enterprise</span>: <span class="hljs-string">'customProperty'</span></li><li>    };</li><li>    <span class="hljs-keyword">await</span> dlpPermission.<span class="hljs-title function_">generateDlpFileForEnterprise</span>(plaintextFd, dlpFd, dlpProperty, customProperty);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Successfully generate DLP file for enterprise.'</span>);</li><li>  } <span class="hljs-keyword">catch</span>(err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error,'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>  } <span class="hljs-keyword">finally</span> {</li><li>    <span class="hljs-keyword">if</span> (dlpFd) {</li><li>      fileIo.<span class="hljs-title function_">closeSync</span>(dlpFd);</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (plaintextFd) {</li><li>      fileIo.<span class="hljs-title function_">closeSync</span>(plaintextFd);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2212px;">     <h2 id="dlppermissiondecryptdlpfile21" device-type="phone,2in1,tablet,tv">dlpPermission.decryptDlpFile<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissiondecryptdlpfile21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>decryptDlpFile(dlpFd: number, plaintextFd: number): Promise&lt;void&gt;</p>     <p>将DLP文件解密生成明文文件。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>仅拥有完全控制权限的用户可以解密DLP文件。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_ACCESS_DLP_FILE</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dlpFd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待解密文件的fd。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">plaintextFd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标解密文件的fd。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100002</td>         <td class="cellrowborder" width="50%">Credential service busy due to too many tasks or duplicate tasks.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100003</td>         <td class="cellrowborder" width="50%">Credential task time out.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100004</td>         <td class="cellrowborder" width="50%">Credential service error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100005</td>         <td class="cellrowborder" width="50%">Credential authentication server error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100008</td>         <td class="cellrowborder" width="50%">The file is not a DLP file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100009</td>         <td class="cellrowborder" width="50%">Failed to operate the DLP file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100013</td>         <td class="cellrowborder" width="50%">The user does not have the permission.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ExampleFunction</span>(<span class="hljs-params">plainFilePath: <span class="hljs-built_in">string</span>, dlpFilePath: <span class="hljs-built_in">string</span></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">plaintextFd</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dlpFd</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    plaintextFd = fileIo.<span class="hljs-title function_">openSync</span>(plainFilePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>).<span class="hljs-property">fd</span>;</li><li>    dlpFd = fileIo.<span class="hljs-title function_">openSync</span>(dlpFilePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_ONLY</span>).<span class="hljs-property">fd</span>;</li><li>    <span class="hljs-keyword">await</span> dlpPermission.<span class="hljs-title function_">decryptDlpFile</span>(dlpFd, plaintextFd);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Successfully decrypt DLP file.'</span>);</li><li>  } <span class="hljs-keyword">catch</span>(err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error,'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>  } <span class="hljs-keyword">finally</span> {</li><li>    <span class="hljs-keyword">if</span> (dlpFd) {</li><li>      fileIo.<span class="hljs-title function_">closeSync</span>(dlpFd);</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (plaintextFd) {</li><li>      fileIo.<span class="hljs-title function_">closeSync</span>(plaintextFd);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1955px;">     <h2 id="dlppermissionquerydlppolicy21" device-type="phone,2in1,tablet,tv">dlpPermission.queryDlpPolicy<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlppermissionquerydlppolicy21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>queryDlpPolicy(dlpFd: number): Promise&lt;string&gt;</p>     <p>在DLP文件中解析文件头，获取DLP明文策略。使用Promise异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_ACCESS_DLP_FILE</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dlpFd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待解密文件的fd。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;string&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回当前DLP策略的json字符串。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100002</td>         <td class="cellrowborder" width="50%">Credential service busy due to too many tasks or duplicate tasks.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100003</td>         <td class="cellrowborder" width="50%">Credential task time out.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100004</td>         <td class="cellrowborder" width="50%">Credential service error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100005</td>         <td class="cellrowborder" width="50%">Credential authentication server error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100008</td>         <td class="cellrowborder" width="50%">The file is not a DLP file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100009</td>         <td class="cellrowborder" width="50%">Failed to operate the DLP file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100013</td>         <td class="cellrowborder" width="50%">The user does not have the permission.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-btt-c106="" class="highlight-div"><div _ngcontent-btt-c106="" class="highlight-div-header"><div _ngcontent-btt-c106="" class="highlight-div-header-left"><div _ngcontent-btt-c106="" class="handle-button expand-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-btt-c106="" class="highlight-div-header-right"><div _ngcontent-btt-c106="" class="handle-button ai-button"></div><div _ngcontent-btt-c106="" class="handle-button line-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-btt-c106="" class="handle-button theme-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-btt-c106="" class="handle-button copy-button"><div _ngcontent-btt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-btt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dlpPermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DataProtectionKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ExampleFunction</span>(<span class="hljs-params">dlpFilePath: <span class="hljs-built_in">string</span></span>) {</li><li>  <span class="hljs-keyword">let</span> dlpFd : <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    dlpFd = fileIo.<span class="hljs-title function_">openSync</span>(dlpFilePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_ONLY</span>).<span class="hljs-property">fd</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">policy</span>: <span class="hljs-built_in">string</span> = <span class="hljs-keyword">await</span> dlpPermission.<span class="hljs-title function_">queryDlpPolicy</span>(dlpFd);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'DLP policy:'</span> + policy);</li><li>  } <span class="hljs-keyword">catch</span>(err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error,'</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>, (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>  } <span class="hljs-keyword">finally</span> {</li><li>    <span class="hljs-keyword">if</span> (dlpFd) {</li><li>      fileIo.<span class="hljs-title function_">closeSync</span>(dlpFd);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 426px;">     <h2 id="actiontype21" device-type="phone,2in1,tablet,tv">ActionType<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="actiontype21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示在文件设定的权限时间到期后所执行的动作枚举，默认为NOT_OPEN。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NOT_OPEN</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">表示超过权限管控时间后，用户无权限打开DLP文件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">OPEN</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示超过权限管控时间后，登录账号的用户拥有编辑权限。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 423px;">     <h2 id="accounttype21" device-type="phone,2in1,tablet,tv">AccountType<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accounttype21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示授权账号类型的枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">CLOUD_ACCOUNT</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示云账号。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DOMAIN_ACCOUNT</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">表示域账号。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ENTERPRISE_ACCOUNT</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">表示企业账号。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 381px;">     <h2 id="customproperty21" device-type="phone,2in1,tablet,tv">CustomProperty<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="customproperty21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示自定义策略。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">enterprise</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示企业定制策略的json字符串。长度不超过4M（单位：兆）。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1191px;">     <h2 id="dlpproperty21" device-type="phone,2in1,tablet,tv">DLPProperty<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlpproperty21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示授权相关信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">ownerAccount</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示权限设置者账号。不超过255字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ownerAccountID</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示权限设置者账号的ID。不超过255字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ownerAccountType</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#accounttype21">AccountType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示权限设置者账号类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">authUserList</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#authuser21">AuthUser</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示授权用户列表，默认为空。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">contactAccount</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示联系人账号。不超过255字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">offlineAccess</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示是否是离线打开。true表示允许离线打开，false表示不可离线打开。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">everyoneAccessList</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#dlpfileaccess">DLPFileAccess</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示授予所有人的权限，默认为空。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">expireTime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示文件权限到期时间戳，默认为空。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">actionUponExpiry</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#actiontype21">ActionType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示到期后文件是否允许打开（打开后拥有编辑权限），仅在expireTime不为空时生效。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fileId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示文件的标识。不超过255字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">allowedOpenCount</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示允许打开的次数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 516px;">     <h2 id="authuser21" device-type="phone,2in1,tablet,tv">AuthUser<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="authuser21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示授权用户数据。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">authAccount</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示被授权用户账号。不超过255字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">authAccountType</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#accounttype21">AccountType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示被授权用户账号类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">dlpFileAccess</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#dlpfileaccess">DLPFileAccess</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示被授予的权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">permExpiryTime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示授权到期时间。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 274px;">     <h2 id="dlpconnplugin21" device-type="phone,2in1,tablet,tv">DlpConnPlugin<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlpconnplugin21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>被用于registerPlugin接口中，将回调能力注册到SA（System Ability）中。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p><a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#registerplugin21">registerPlugin</a>接口的参数需要继承该接口，<a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#connectserver21">connectServer</a>由SA（System Ability）侧调用，通过callback进行回传参数。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 981px;">     <h3 id="connectserver21" device-type="phone,2in1,tablet,tv" class="firsth2">connectServer<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectserver21" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>connectServer(requestId: string, requestData: string, callback: Callback&lt;string&gt;): void</p>     <p>该函数提供给SA（System Ability）侧调用，待该函数处理完连云能力后，通过callback调用回SA（System Ability）中。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>connectServer接口代表系统能力侧向前端通信的一次调用。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_ACCESS_DLP_FILE</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">requestId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">SA（System Ability）侧传递的本次请求的标识。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">requestData</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">SA（System Ability）侧传递的数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">SA（System Ability）侧传递的接口，用于回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100011</td>         <td class="cellrowborder" width="50%">The system ability works abnormally.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 298px;">     <h2 id="dlpconnmanager21" device-type="phone,2in1,tablet,tv">DlpConnManager<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlpconnmanager21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>用于调用registerPlugin和unregisterPlugin接口，将回调能力在SA（System Ability）中注册/注销。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>registerPlugin接口将回调能力注册进SA（System Ability），而unregisterPlugin接口将回调能力从SA（System Ability）中注销。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 521px;">     <h3 id="constructor21" device-type="phone,2in1,tablet,tv" class="firsth2">constructor<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor21" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor()</p>     <p><a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#dlpconnmanager21">DlpConnManager</a> 实例化时的构造函数。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_ACCESS_DLP_FILE</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1195px;">     <h3 id="registerplugin21" device-type="phone,2in1,tablet,tv">registerPlugin<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="registerplugin21" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>static registerPlugin(plugin: DlpConnPlugin): number</p>     <p>该接口提供将回调注册到SA（System Ability）侧的功能。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>registerPlugin将plugin注册到SA（System Ability）侧，待SA（System Ability）调用。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_ACCESS_DLP_FILE</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">plugin</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-dlppermission#dlpconnplugin21">DlpConnPlugin</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">代表回调能力。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">注册结果，代表该回调的id。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100002</td>         <td class="cellrowborder" width="50%">Credential service busy due to too many tasks or duplicate tasks.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100003</td>         <td class="cellrowborder" width="50%">Credential task time out.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100004</td>         <td class="cellrowborder" width="50%">Credential service error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 873px;">     <h3 id="unregisterplugin21" device-type="phone,2in1,tablet,tv">unregisterPlugin<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unregisterplugin21" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>static unregisterPlugin(): void</p>     <p>提供将回调从SA（System Ability）侧注销的能力。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>unregisterPlugin将plugin从SA（System Ability）侧注销注册。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_ACCESS_DLP_FILE</p>     <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-dlp">DLP服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100002</td>         <td class="cellrowborder" width="50%">Credential service busy due to too many tasks or duplicate tasks.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100003</td>         <td class="cellrowborder" width="50%">Credential task time out.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">19100004</td>         <td class="cellrowborder" width="50%">Credential service error.</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>