<h1 _ngcontent-fns-c119="" class="doc-title ng-star-inserted" title="@ohos.enterprise.bundleManager（包管理）"> @ohos.enterprise.bundleManager（包管理） </h1>

<div _ngcontent-fns-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>本模块提供包管理能力，包括添加包安装允许名单、获取包安装允许名单、移除包安装允许名单等。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 12开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>      <p>本模块接口仅可在Stage模型下使用。</p>      <p>本模块接口仅对设备管理应用开放，且调用接口前需激活设备管理应用，具体请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/mdm-kit-guide" target="_blank">MDM Kit开发指南</a>。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanageraddallowedinstallbundlessync" device-type="phone,2in1,tablet">bundleManager.addAllowedInstallBundlesSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanageraddallowedinstallbundlessync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>addAllowedInstallBundlesSync(admin: Want, appIds: Array&lt;string&gt;, accountId?: number): void</p>     <p>添加应用至应用程序包安装允许名单，添加至允许名单的应用允许在当前/指定用户下安装，其它非允许名单应用不允许安装。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_BUNDLE_INSTALL_POLICY</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">appIds</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>应用ID数组。</p>          <p><strong>说明：</strong> 从API version 21版本开始，支持传入应用的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>，推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>。API version 20及之前版本，仅支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过@ohos.account.osAccount中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9-1">getOsAccountLocalId</a>等接口来获取。</p>          <p>- 调用接口时，若传入accountId，表示指定用户。</p>          <p>- 调用接口时，若未传入accountId，表示当前用户。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">appIds</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">'com.example.******_******/******5t5CoBM='</span>];</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  bundleManager.<span class="hljs-title function_">addAllowedInstallBundlesSync</span>(wantTemp, appIds, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in adding allowed install bundles.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to add allowed install bundles. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanagerremoveallowedinstallbundlessync" device-type="phone,2in1,tablet">bundleManager.removeAllowedInstallBundlesSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanagerremoveallowedinstallbundlessync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>removeAllowedInstallBundlesSync(admin: Want, appIds: Array&lt;string&gt;, accountId?: number): void</p>     <p>在应用程序包安装允许名单中移除应用，在允许名单存在的情况下，不在应用程序包安装允许名单中的应用不允许在当前/指定用户下安装。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_BUNDLE_INSTALL_POLICY</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">appIds</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>应用ID数组。</p>          <p><strong>说明：</strong> 从API version 21版本开始，数组中的元素支持使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>，仅移除传入的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>（或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>），不会移除同一应用的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>（或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>）。API version 20及之前版本，数组中的元素只支持使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过@ohos.account.osAccount中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9-1">getOsAccountLocalId</a>等接口来获取。</p>          <p>- 调用接口时，若传入accountId，表示指定用户。</p>          <p>- 调用接口时，若未传入accountId，表示当前用户。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">appIds</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">'com.example.******_******/******5t5CoBM='</span>];</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  bundleManager.<span class="hljs-title function_">removeAllowedInstallBundlesSync</span>(wantTemp, appIds, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in removing allowed install bundles.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to remove allowed install bundles. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanagergetallowedinstallbundlessync" device-type="phone,2in1,tablet">bundleManager.getAllowedInstallBundlesSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanagergetallowedinstallbundlessync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getAllowedInstallBundlesSync(admin: Want, accountId?: number): Array&lt;string&gt;</p>     <p>获取当前/指定用户下的应用程序包安装允许名单。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_BUNDLE_INSTALL_POLICY</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过@ohos.account.osAccount中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9-1">getOsAccountLocalId</a>等接口来获取。</p>          <p>- 调用接口时，若传入accountId，表示指定用户。</p>          <p>- 调用接口时，若未传入accountId，表示当前用户。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="50%">返回当前用户下的应用程序包安装允许名单。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = bundleManager.<span class="hljs-title function_">getAllowedInstallBundlesSync</span>(wantTemp, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting allowed install bundles, result : <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(result)}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get allowed install bundles. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanageradddisallowedinstallbundlessync" device-type="phone,2in1,tablet">bundleManager.addDisallowedInstallBundlesSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanageradddisallowedinstallbundlessync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>addDisallowedInstallBundlesSync(admin: Want, appIds: Array&lt;string&gt;, accountId?: number): void</p>     <p>添加应用至应用程序包安装禁止名单，添加至禁止名单的应用不允许在当前/指定用户下安装。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_BUNDLE_INSTALL_POLICY</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">appIds</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>应用ID数组。</p>          <p><strong>说明：</strong> 从API version 21版本开始，支持传入应用的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>，推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>。API version 20及之前版本，仅支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过@ohos.account.osAccount中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9-1">getOsAccountLocalId</a>等接口来获取。</p>          <p>- 调用接口时，若传入accountId，表示指定用户。</p>          <p>- 调用接口时，若未传入accountId，表示当前用户。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">appIds</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">'com.example.******_******/******5t5CoBM='</span>];</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  bundleManager.<span class="hljs-title function_">addDisallowedInstallBundlesSync</span>(wantTemp, appIds, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in adding disallowed install bundles.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to add disallowed install bundles. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanagerremovedisallowedinstallbundlessync" device-type="phone,2in1,tablet">bundleManager.removeDisallowedInstallBundlesSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanagerremovedisallowedinstallbundlessync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>removeDisallowedInstallBundlesSync(admin: Want, appIds: Array&lt;string&gt;, accountId?: number): void</p>     <p>在应用程序包安装禁止名单中移除应用，在禁止名单存在的情况下，在应用程序包安装禁止名单中的应用不允许在当前/指定用户下安装。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_BUNDLE_INSTALL_POLICY</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">appIds</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>应用ID数组。</p>          <p><strong>说明：</strong> 从API version 21版本开始，数组中的元素支持使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>，仅移除传入的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>（或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>），不会移除同一应用的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>（或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>）。API version 20及之前版本，数组中的元素只支持使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过@ohos.account.osAccount中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9-1">getOsAccountLocalId</a>等接口来获取。</p>          <p>- 调用接口时，若传入accountId，表示指定用户。</p>          <p>- 调用接口时，若未传入accountId，表示当前用户。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">appIds</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">'com.example.******_******/******5t5CoBM='</span>];</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  bundleManager.<span class="hljs-title function_">removeDisallowedInstallBundlesSync</span>(wantTemp, appIds, <span class="hljs-number">100</span>)</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in removing disallowed install bundles.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to remove disallowed install bundles. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanagergetdisallowedinstallbundlessync" device-type="phone,2in1,tablet">bundleManager.getDisallowedInstallBundlesSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanagergetdisallowedinstallbundlessync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getDisallowedInstallBundlesSync(admin: Want, accountId?: number): Array&lt;string&gt;</p>     <p>获取当前/指定用户下的应用程序包安装禁止名单。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_BUNDLE_INSTALL_POLICY</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过@ohos.account.osAccount中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9-1">getOsAccountLocalId</a>等接口来获取。</p>          <p>- 调用接口时，若传入accountId，表示指定用户。</p>          <p>- 调用接口时，若未传入accountId，表示当前用户。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="50%">返回当前用户下的应用程序包安装禁止名单。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 参数需根据实际情况进行替换</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = bundleManager.<span class="hljs-title function_">getDisallowedInstallBundlesSync</span>(wantTemp, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting disallowed install bundles, result : <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(result)}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get disallowed install bundles. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanageradddisalloweduninstallbundlessync" device-type="phone,2in1,tablet">bundleManager.addDisallowedUninstallBundlesSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanageradddisalloweduninstallbundlessync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>addDisallowedUninstallBundlesSync(admin: Want, appIds: Array&lt;string&gt;, accountId?: number): void</p>     <p>添加应用至包卸载禁止名单，添加至禁止名单的应用不允许在当前/指定用户下卸载。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_BUNDLE_INSTALL_POLICY</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">appIds</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>应用ID数组。</p>          <p><strong>说明：</strong> 从API version 21版本开始，支持传入应用的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>，推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>。API version 20及之前版本，仅支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过@ohos.account.osAccount中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9-1">getOsAccountLocalId</a>等接口来获取。</p>          <p>- 调用接口时，若传入accountId，表示指定用户。</p>          <p>- 调用接口时，若未传入accountId，表示当前用户。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">appIds</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">'com.example.******_******/******5t5CoBM='</span>];</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 参数需根据实际情况进行替换</span></li><li>  bundleManager.<span class="hljs-title function_">addDisallowedUninstallBundlesSync</span>(wantTemp, appIds, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in adding disallowed uninstall bundles.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to add disallowed uninstall bundles. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanagerremovedisalloweduninstallbundlessync" device-type="phone,2in1,tablet">bundleManager.removeDisallowedUninstallBundlesSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanagerremovedisalloweduninstallbundlessync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>removeDisallowedUninstallBundlesSync(admin: Want, appIds: Array&lt;string&gt;, accountId?: number): void</p>     <p>在包卸载禁止名单中移除应用。在禁止名单存在的情况下，在包卸载禁止名单中的应用不允许在当前/指定用户下卸载。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_BUNDLE_INSTALL_POLICY</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">appIds</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>应用ID数组。</p>          <p><strong>说明：</strong> 从API version 21版本开始，数组中的元素支持使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>，仅移除传入的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>（或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>），不会移除同一应用的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier" target="_blank">appIdentifier</a>（或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>）。API version 20及之前版本，数组中的元素只支持使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appid" target="_blank">appId</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过@ohos.account.osAccount中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9-1">getOsAccountLocalId</a>等接口来获取。</p>          <p>- 调用接口时，若传入accountId，表示指定用户。</p>          <p>- 调用接口时，若未传入accountId，表示当前用户。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">appIds</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">'com.example.******_******/******5t5CoBM='</span>];</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 参数需根据实际情况进行替换</span></li><li>  bundleManager.<span class="hljs-title function_">removeDisallowedUninstallBundlesSync</span>(wantTemp, appIds, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in removing disallowed uninstall bundles.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to remove disallowed uninstall bundles. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanagergetdisalloweduninstallbundlessync" device-type="phone,2in1,tablet">bundleManager.getDisallowedUninstallBundlesSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanagergetdisalloweduninstallbundlessync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getDisallowedUninstallBundlesSync(admin: Want, accountId?: number): Array&lt;string&gt;</p>     <p>获取当前/指定用户下包卸载禁止名单。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_BUNDLE_INSTALL_POLICY</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过@ohos.account.osAccount中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9-1">getOsAccountLocalId</a>等接口来获取。</p>          <p>- 调用接口时，若传入accountId，表示指定用户。</p>          <p>- 调用接口时，若未传入accountId，表示当前用户。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="50%">返回当前用户下的包卸载禁止名单。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 参数需根据实际情况进行替换</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">String</span>&gt; = bundleManager.<span class="hljs-title function_">getDisallowedUninstallBundlesSync</span>(wantTemp, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting disallowed uninstall bundles, result : <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(result)}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get disallowed uninstall bundles. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanageruninstall" device-type="phone,2in1,tablet">bundleManager.uninstall<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanageruninstall" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>uninstall(admin: Want, bundleName: string, userId?: number, isKeepData?: boolean): Promise&lt;void&gt;</p>     <p>卸载当前/指定用户下的指定包接口，选择是否保留包数据（由isKeepData指定）。使用promise异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_INSTALL_BUNDLE</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">bundleName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">应用程序包名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">userId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>- 调用接口时，若传入userId，表示指定用户。</p>          <p>- 调用接口时，若未传入userId，表示当前用户。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">isKeepData</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">是否保留包数据，true表示保留，false表示不保留。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。当包卸载失败时抛出错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-comment">// 参数需根据实际情况进行替换</span></li><li>bundleManager.<span class="hljs-title function_">uninstall</span>(wantTemp, <span class="hljs-string">'bundleName'</span>, <span class="hljs-number">100</span>, <span class="hljs-literal">true</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in uninstalling bundles.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to uninstall bundles. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanagerinstall" device-type="phone,2in1,tablet">bundleManager.install<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanagerinstall" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>install(admin: Want, hapFilePaths: Array&lt;string&gt;, installParam?: InstallParam): Promise&lt;void&gt;</p>     <p>安装指定路径下的应用包。使用promise异步回调。</p>     <p>此接口只能安装分发类型为enterprise_mdm（MDM应用）和enterprise_normal（普通企业应用）类型的应用，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#bundlemanagergetbundleinfoforself">getBundleInfoForSelf</a>接口查询应用自身的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-bundleinfo">BundleInfo</a>，其中BundleInfo.appInfo.appDistributionType为应用的分发类型。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口比较耗时，当调用此接口后，后续如果在应用主线程调用其他同步接口时需要等待该接口异步返回。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_INSTALL_BUNDLE</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">hapFilePaths</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待安装应用包路径数组。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">installParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bundlemanager#installparam">InstallParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">应用包安装参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。当应用程序包安装失败时，抛出错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9201002</td>         <td class="cellrowborder" width="50%">Failed to install the application.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 为当前用户安装应用</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">hapFilePaths</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">'/data/storage/el2/base/haps/entry/testinstall/ExtensionTest.hap'</span>];</li><li>
</li><li>bundleManager.<span class="hljs-title function_">install</span>(wantTemp, hapFilePaths).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in installing bundles.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to install bundles. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 为所有用户安装应用</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">hapFilePaths</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">'/data/storage/el2/base/haps/entry/testinstall/ExtensionTest.hap'</span>];</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">params</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {</li><li>  <span class="hljs-string">'ohos.bms.param.enterpriseForAllUser'</span>: <span class="hljs-string">'true'</span></li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">installParam</span>: bundleManager.<span class="hljs-property">InstallParam</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">userId</span>: <span class="hljs-number">100</span>,</li><li>  <span class="hljs-attr">installFlag</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">parameters</span>: params</li><li>};</li><li>bundleManager.<span class="hljs-title function_">install</span>(wantTemp, hapFilePaths, installParam).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in installing bundles.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to install bundles. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanagergetinstalledbundlelist20" device-type="phone,2in1,tablet">bundleManager.getInstalledBundleList<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanagergetinstalledbundlelist20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getInstalledBundleList(admin: Want, accountId: number): Promise&lt;Array&lt;BundleInfo&gt;&gt;</p>     <p>获取设备指定用户下已安装应用列表。使用Promise异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_GET_ALL_BUNDLE_INFO</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值为正整数，取值范围：大于等于0。</p>          <p>accountId可以通过@ohos.account.osAccount中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9-1">getOsAccountLocalId</a>等接口来获取。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bundlemanager#bundleinfo20">BundleInfo</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回已安装应用包信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">accountId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li>bundleManager.<span class="hljs-title function_">getInstalledBundleList</span>(wantTemp, accountId).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting installed bundle list.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get installed bundle list. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="installparam" device-type="phone,2in1,tablet">InstallParam<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="installparam" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>应用包安装需指定的参数信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">userId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">指示用户id，默认值：调用方所在用户，取值范围：大于等于0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">installFlag</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">安装标志。枚举值：0：应用初次安装，1：应用覆盖安装，2：应用免安装，默认值为应用初次安装。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">parameters<sup>19+</sup></td>         <td class="cellrowborder" width="20%">Record&lt;string, string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">扩展参数，默认值为空。key取值支持"ohos.bms.param.enterpriseForAllUser"，若对应的value值为"true"，表示为所有用户安装应用。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="bundlemanageraddinstallationallowedappdistributiontypes20" device-type="phone,2in1,tablet">bundleManager.addInstallationAllowedAppDistributionTypes<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanageraddinstallationallowedappdistributiontypes20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>addInstallationAllowedAppDistributionTypes(admin: Want, appDistributionTypes: Array&lt;AppDistributionType&gt;): void</p>     <p>添加可安装应用的分发类型。添加成功后，当前设备可以安装对应分发类型的应用，但无法安装<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bundlemanager#appdistributiontype20">AppDistributionType</a>中未添加的分发类型的应用。</p>     <p>应用程序签名证书的分发类型详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-applicationinfo#applicationinfo-1">ApplicationInfo</a>的appDistributionType属性。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_BUNDLE_INSTALL_POLICY</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">appDistributionTypes</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bundlemanager#appdistributiontype20">AppDistributionType</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">应用程序签名证书的分发类型数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200012</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">//需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">appDistributionTypes</span>: <span class="hljs-title class_">Array</span>&lt;bundleManager.<span class="hljs-property">AppDistributionType</span>&gt; = [bundleManager.<span class="hljs-property">AppDistributionType</span>.<span class="hljs-property">APP_GALLERY</span>];</li><li>  bundleManager.<span class="hljs-title function_">addInstallationAllowedAppDistributionTypes</span>(wantTemp, appDistributionTypes);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in adding allowed appDistributionTypes.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to add allowed appDistributionTypes. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanagerremoveinstallationallowedappdistributiontypes20" device-type="phone,2in1,tablet">bundleManager.removeInstallationAllowedAppDistributionTypes<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanagerremoveinstallationallowedappdistributiontypes20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>removeInstallationAllowedAppDistributionTypes(admin: Want, appDistributionTypes: Array&lt;AppDistributionType&gt;): void</p>     <p>移除应用的分发类型。若只移除了数组中部分的分发类型，则当前设备可以安装数组中剩下的分发类型的应用，但无法安装<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bundlemanager#appdistributiontype20">AppDistributionType</a>中未添加的分发类型的应用。</p>     <p>应用程序签名证书的分发类型详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-applicationinfo#applicationinfo-1">ApplicationInfo</a>的appDistributionType属性。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_BUNDLE_INSTALL_POLICY</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">appDistributionTypes</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bundlemanager#appdistributiontype20">AppDistributionType</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">应用程序签名证书的分发类型数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200012</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">//需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">appDistributionTypes</span>: <span class="hljs-title class_">Array</span>&lt;bundleManager.<span class="hljs-property">AppDistributionType</span>&gt; = [bundleManager.<span class="hljs-property">AppDistributionType</span>.<span class="hljs-property">APP_GALLERY</span>];</li><li>  bundleManager.<span class="hljs-title function_">removeInstallationAllowedAppDistributionTypes</span>(wantTemp, appDistributionTypes);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in removing allowed appDistributionTypes.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to remove allowed appDistributionTypes. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="bundlemanagergetinstallationallowedappdistributiontypes20" device-type="phone,2in1,tablet">bundleManager.getInstallationAllowedAppDistributionTypes<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundlemanagergetinstallationallowedappdistributiontypes20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getInstallationAllowedAppDistributionTypes(admin: Want): Array&lt;AppDistributionType&gt;</p>     <p>获取可安装的应用程序签名证书的分发类型。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_BUNDLE_INSTALL_POLICY</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bundlemanager#appdistributiontype20">AppDistributionType</a>&gt;</td>         <td class="cellrowborder" width="50%">应用程序签名证书的分发类型数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fns-c106="" class="highlight-div"><div _ngcontent-fns-c106="" class="highlight-div-header"><div _ngcontent-fns-c106="" class="highlight-div-header-left"><div _ngcontent-fns-c106="" class="handle-button expand-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fns-c106="" class="highlight-div-header-right"><div _ngcontent-fns-c106="" class="handle-button ai-button"></div><div _ngcontent-fns-c106="" class="handle-button line-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fns-c106="" class="handle-button theme-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fns-c106="" class="handle-button copy-button"><div _ngcontent-fns-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fns-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">//需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.edmtest'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-title class_">Array</span>&lt;bundleManager.<span class="hljs-property">AppDistributionType</span>&gt; = bundleManager.<span class="hljs-title function_">getInstallationAllowedAppDistributionTypes</span>(wantTemp);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting allowed appDistributionTypes. Result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(result)}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get allowed appDistributionTypes. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="appdistributiontype20" device-type="phone,2in1,tablet">AppDistributionType<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="appdistributiontype20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>应用程序签名证书的分发类型。详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-applicationinfo#applicationinfo-1">ApplicationInfo</a>的appDistributionType属性。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">APP_GALLERY</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">应用市场安装的应用。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ENTERPRISE</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">企业应用。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ENTERPRISE_NORMAL</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">普通企业应用。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ENTERPRISE_MDM</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">企业MDM应用。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INTERNALTESTING</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">应用市场内测的应用。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CROWDTESTING</td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">众包测试应用。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="bundleinfo20" device-type="phone,2in1,tablet">BundleInfo<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bundleinfo20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>描述应用包信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">name</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用包的名称，对应<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file" target="_blank">app.json5</a>中配置的bundleName字段。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">vendor</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用包的供应商，对应<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file" target="_blank">app.json5</a>中配置的vendor字段。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">versionCode</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用包的版本号，对应<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file" target="_blank">app.json5</a>中配置的versionCode字段。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">versionName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用包的版本文本描述信息，对应<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file" target="_blank">app.json5</a>中配置的versionName字段。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">minCompatibleVersionCode</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">分布式场景下的应用包兼容的最低版本，对应<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file" target="_blank">app.json5</a>中配置的minCompatibleVersionCode字段。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">targetVersion</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用运行目标版本，对应<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file" target="_blank">app.json5</a>中配置的targetAPIVersion字段。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">appInfo</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bundlemanager#applicationinfo20">ApplicationInfo</a></td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用程序信息，包括应用程序名称、应用程序的安装目录等。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">signatureInfo</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bundlemanager#signatureinfo20">SignatureInfo</a></td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用包的签名信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">installTime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用包安装时间戳，表示从1970-01-01 08:00:00 UTC+8逝去的毫秒数，单位毫秒。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">updateTime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用包更新时间戳，表示从1970-01-01 08:00:00 UTC+8逝去的毫秒数，单位毫秒。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">appIndex</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用包的分身索引标识，仅在分身应用中生效。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">firstInstallTime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">应用在当前设备的首次安装时间戳，表示从1970-01-01 08:00:00 UTC+8逝去的毫秒数，单位毫秒，预置应用的首次安装时间戳为1533657660000。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="signatureinfo20" device-type="phone,2in1,tablet">SignatureInfo<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="signatureinfo20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>描述应用包的签名信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">appId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用的appId。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fingerprint</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用包的指纹信息。使用的签名证书发生变化，该字段会发生变化。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">appIdentifier</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用的唯一标识，是AppGallery Connect创建应用时分配的<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-createharmonyapp-0000001945392297" target="_blank">APP ID</a>，为云端统一分配的随机字符串。该ID在应用全生命周期中不会发生变化，包括版本升级、证书变更、开发者公私钥变更、应用转移等。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">certificate</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">应用的证书公钥。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="applicationinfo20" device-type="phone,2in1,tablet">ApplicationInfo<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="applicationinfo20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>应用程序信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">name</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用的Bundle名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">description</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用的描述信息，使用示例："description": $string: mainability_description"。关于description的详细信息可参见descriptionResource字段说明。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">descriptionId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用的描述信息的资源id。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">enabled</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">判断应用程序是否可以使用，true表示可以使用，false表示不可使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">label</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用的名称，使用示例："label": "$string: mainability_description"。关于label的详细信息可参见labelResource字段说明。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">labelId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用名称的资源id。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">icon</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用程序的图标，使用示例："icon": "$media:icon"。关于icon的详细信息可参见iconResource字段说明。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">iconId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用程序图标的资源id。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">process</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用程序的进程名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">codePath</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用程序的安装目录。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">removable</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用程序是否可以被移除，true表示可以被移除，false表示不可以被移除。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">accessTokenId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用程序的accessTokenId。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">uid</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用程序的Uid。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">iconResource</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bundlemanager#resource20">Resource</a></td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用程序的图标资源信息，包含了该资源的信息的bundleName、moduleName和id。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">labelResource</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bundlemanager#resource20">Resource</a></td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用程序的标签资源信息，包含了该资源的信息的bundleName、moduleName和id。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">descriptionResource</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bundlemanager#resource20">Resource</a></td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用程序的描述资源信息，包含了该资源的信息的bundleName、moduleName和id。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">appDistributionType</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>应用程序签名证书的分发类型，分为：</p>          <p>- app_gallery：应用市场分发的应用。</p>          <p>- enterprise：企业应用，可以安装到个人设备上。</p>          <p>- enterprise_mdm：企业MDM应用，只能安装在企业设备上。需要设备管理特权，比如远程锁定，安装普通企业应用等。</p>          <p>- enterprise_normal：普通企业应用，只能通过企业MDM应用安装在企业设备上。无需设备管理特权。</p>          <p>- os_integration：系统预置应用。</p>          <p>- crowdtesting：众包测试应用。</p>          <p>- internaltesting：应用市场内测的应用。</p>          <p>- none：其他。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">appProvisionType</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>应用程序签名证书文件的类型，支持的取值如下：</p>          <p>- debug：调试类型。</p>          <p>- release：发布类型。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">systemApp</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用是否为系统应用，true表示系统应用，false表示非系统应用。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">debug</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">标识应用是否处于调试模式，true表示应用处于调试模式，false表示应用处于非调试模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">dataUnclearable</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">标识应用数据是否可被删除。true表示不可删除，false表示可以删除。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">nativeLibraryPath</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用程序的本地库文件路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">appIndex</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用包的分身索引标识，仅在分身应用中生效。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">installSource</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>应用程序的安装来源，支持的取值如下：</p>          <p>- pre-installed表示应用为第一次开机时安装的预置应用。</p>          <p>- ota表示应用为系统升级时新增的预置应用。</p>          <p>- recovery表示卸载后再恢复的预置应用。</p>          <p>- bundleName表示应用由此应用包名对应的应用安装。</p>          <p>- unknown表示应用安装来源未知。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">releaseType</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">标识应用打包时使用的SDK的发布类型。当前SDK的发布类型可能为Canary、Beta、Release，其中Canary和Beta可能通过序号进一步细分，例如Canary1、Canary2、Beta1、Beta2等。开发者可通过对比应用打包依赖的SDK发布类型和OS的发布类型（<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-device-info">deviceInfo.distributionOSReleaseType</a>）来判断兼容性。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="resource20" device-type="phone,2in1,tablet">Resource<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="resource20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>资源相关信息，包括应用包名、应用模块名、资源id。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">bundleName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用的bundle名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">moduleName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">应用的module名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">id</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">资源的id值。</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>