<h1 _ngcontent-mmr-c119="" class="doc-title ng-star-inserted" title="@ohos.enterprise.restrictions （限制类策略）"> @ohos.enterprise.restrictions （限制类策略） </h1>

<div _ngcontent-mmr-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>本模块提供设置通用限制类策略能力。可以全局禁用和解除禁用蓝牙、HDC、USB、Wi-Fi等特性。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 12 开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>      <p>本模块接口仅可在Stage模型下使用。</p>      <p>本模块接口仅对设备管理应用开放，且调用接口前需激活设备管理应用，具体请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/mdm-kit-guide" target="_blank">MDM Kit开发指南</a>。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-mmr-c106="" class="highlight-div"><div _ngcontent-mmr-c106="" class="highlight-div-header"><div _ngcontent-mmr-c106="" class="highlight-div-header-left"><div _ngcontent-mmr-c106="" class="handle-button expand-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mmr-c106="" class="highlight-div-header-right"><div _ngcontent-mmr-c106="" class="handle-button ai-button"></div><div _ngcontent-mmr-c106="" class="handle-button line-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mmr-c106="" class="handle-button theme-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mmr-c106="" class="handle-button copy-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mmr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { restrictions } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="restrictionssetdisallowedpolicy" device-type="phone,2in1,tablet">restrictions.setDisallowedPolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restrictionssetdisallowedpolicy" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>setDisallowedPolicy(admin: Want, feature: string, disallow: boolean): void</p>     <p>设置禁用/启用某特性。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_RESTRICTIONS 或者 ohos.permission.PERSONAL_MANAGE_RESTRICTIONS<sup>15+</sup></p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">feature</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>支持设置的特性清单参考表1。</p>          <p><strong>说明：</strong> 从API version 15开始，应用申请权限ohos.permission.PERSONAL_MANAGE_RESTRICTIONS并<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-enterprise-adminmanager#adminmanagerstartadminprovision15">激活为自带设备管理应用</a>，可以使用此接口设置以下特性：bluetooth、hdc、microphone、usb、wifi、tethering、camera、screenshot、screenRecord、nearLink、resetFactory。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">disallow</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">true表示禁止使用，false表示允许使用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>表1 支持设置的特性清单：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.10.1.3.1.1" width="50%">特性</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">bluetooth</td>         <td class="cellrowborder" width="50%">设备蓝牙能力。当已经通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bluetoothmanager#bluetoothmanageradddisallowedbluetoothdevices20">addDisallowedBluetoothDevices</a>接口或者<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-enterprise-bluetoothmanager#bluetoothmanageraddallowedbluetoothdevices">addAllowedBluetoothDevices</a>接口设置了蓝牙设备禁用名单或者允许名单，再通过本接口禁用设备蓝牙能力，会优先生效禁用设备蓝牙能力。直到设备蓝牙能力启用后，禁止或允许名单才会生效。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">modifyDateTime</td>         <td class="cellrowborder" width="50%">设备修改系统时间能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">printer</td>         <td class="cellrowborder" width="50%">设备打印能力，当前仅支持PC/2in1设备使用。本接口禁用了设备打印能力时，通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicyforaccount14">setDisallowedPolicyForAccount</a>接口开启某用户的打印能力，该用户下的打印能力仍然被禁用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">hdc</td>         <td class="cellrowborder" width="50%">设备HDC能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">microphone</td>         <td class="cellrowborder" width="50%">设备麦克风能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">fingerprint</td>         <td class="cellrowborder" width="50%">设备指纹认证能力。当已经通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicyforaccount14">setDisallowedPolicyForAccount</a>设置了某用户禁用设备指纹认证能力时，再通过本接口启用设备指纹认证能力，会报策略冲突。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">usb</td>         <td class="cellrowborder" width="50%">          <p>设备USB能力。禁用后外接的USB设备无法使用，即在当前设备为HOST模式时，无法外接其他DEVICE设备。</p>          <p>以下四种情况再通过本接口禁用设备USB能力，会报策略冲突。</p>          <p>1）通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-enterprise-usbmanager#usbmanageraddallowedusbdevices">addAllowedUsbDevices</a>接口添加了USB设备可用名单。</p>          <p>2）通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-enterprise-usbmanager#usbmanagersetusbstoragedeviceaccesspolicy">setUsbStorageDeviceAccessPolicy</a>接口设置了USB存储设备访问策略为只读/禁用。</p>          <p>3）通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-enterprise-usbmanager#usbmanageradddisallowedusbdevices14">addDisallowedUsbDevices</a>接口添加了禁止使用的USB设备类型。</p>          <p>4）通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicyforaccount14">setDisallowedPolicyForAccount</a>接口禁用了某用户USB存储设备写入能力。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">wifi</td>         <td class="cellrowborder" width="50%">设备Wi-Fi能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">tethering<sup>14+</sup></td>         <td class="cellrowborder" width="50%">网络共享能力（设备已有网络共享给其他设备的能力，即共享热点能力）。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">inactiveUserFreeze<sup>14+</sup></td>         <td class="cellrowborder" width="50%">非活跃用户运行能力，当前仅支持PC/2in1设备使用。企业空间场景下，系统切换到企业空间用户，个人空间用户属于非活跃用户。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">camera<sup>14+</sup></td>         <td class="cellrowborder" width="50%">设备相机能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">mtpClient<sup>18+</sup></td>         <td class="cellrowborder" width="50%">MTP客户端能力(包含读取和写入)，当前仅支持PC/2in1设备使用。MTP（MediaTransferProtocol，媒体传输协议），该协议允许用户在移动设备上线性访问媒体文件。当已经通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicyforaccount14">setDisallowedPolicyForAccount</a>设置了某用户禁用MTP客户端写入能力时，再通过本接口禁用MTP客户端能力，会报策略冲突。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">mtpServer<sup>18+</sup></td>         <td class="cellrowborder" width="50%">MTP服务端能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">sambaClient<sup>20+</sup></td>         <td class="cellrowborder" width="50%">samba客户端能力，当前仅支持PC/2in1设备使用。samba是在Linux和UNIX系统上实现SMB协议的一个免费软件，由服务器及客户端程序构成。SMB（Server Messages Block，信息服务块）是一种在局域网上共享文件和打印机的一种通信协议，它为局域网内的不同计算机之间提供文件及打印机等资源的共享服务。SMB协议是客户机/服务器型协议，客户机通过该协议可以访问服务器上的共享文件系统、打印机及其他资源。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">sambaServer<sup>20+</sup></td>         <td class="cellrowborder" width="50%">samba服务端能力，当前仅支持PC/2in1设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">backupAndRestore<sup>20+</sup></td>         <td class="cellrowborder" width="50%">备份和恢复能力，禁用后设备的"设置--系统--备份和恢复"、"设置--云空间"置灰，当前仅支持手机、平板使用。如果要完全禁用设备的备份和恢复能力，建议同时调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-enterprise-applicationmanager#applicationmanageradddisallowedrunningbundlessync">applicationManager.addDisallowedRunningBundlesSync</a>接口禁止具备备份和恢复能力的应用运行，如备份和恢复、手机助手、云空间应用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">maintenanceMode<sup>20+</sup></td>         <td class="cellrowborder" width="50%">设备维修模式能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">mms<sup>20+</sup></td>         <td class="cellrowborder" width="50%">multimedia messaging service，设备接收、发送彩信的能力，当前仅支持手机、平板设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">sms<sup>20+</sup></td>         <td class="cellrowborder" width="50%">short messaging service，设备接收、发送短信的能力，当前仅支持手机、平板设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">mobileData<sup>20+</sup></td>         <td class="cellrowborder" width="50%">蜂窝数据能力，当前仅支持手机、平板设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">airplaneMode<sup>20+</sup></td>         <td class="cellrowborder" width="50%">飞行模式能力，当前仅支持手机、平板设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">vpn<sup>20+</sup></td>         <td class="cellrowborder" width="50%">Virtual Private Network（虚拟专用网络），VPN能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">notification<sup>20+</sup></td>         <td class="cellrowborder" width="50%">设备通知能力。禁用后，由三方应用自身发出的通知将不会显示。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">nfc<sup>20+</sup></td>         <td class="cellrowborder" width="50%">Near Field Communication（近距离无线通信），NFC能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">privateSpace<sup>20+</sup></td>         <td class="cellrowborder" width="50%">创建隐私空间能力，当前仅支持手机、平板使用。对已创建的隐私空间无效。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">telephoneCall<sup>20+</sup></td>         <td class="cellrowborder" width="50%">设备通话能力，禁用后电话无法呼入和呼出。当前仅支持手机、平板设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">appClone<sup>21+</sup></td>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-clone" target="_blank">应用分身能力</a>，禁用后无法创建应用分身。对已创建的应用分身无效。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">externalStorageCard<sup>21+</sup></td>         <td class="cellrowborder" width="50%">          <p>外置存储能力，禁用后设备无法使用外置存储，并且当前已连接的外置存储会被卸载。如果外置存储卸载时有文件正在被使用，可能会导致卸载失败，返回9200013错误码。</p>          <p>外置存储禁用后重新启用，需要手动重新连接外置存储。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">randomMac<sup>21+</sup></td>         <td class="cellrowborder" width="50%">Wi-Fi连接时使用随机MAC能力，设置禁用后，连接Wi-Fi仅能使用设备物理MAC。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">screenshot</td>         <td class="cellrowborder" width="50%">设备截屏能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">screenRecord</td>         <td class="cellrowborder" width="50%">设备录屏能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">diskRecoveryKey</td>         <td class="cellrowborder" width="50%">恢复密钥导出能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">nearLink</td>         <td class="cellrowborder" width="50%">设备星闪能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">developerMode<sup>14+</sup></td>         <td class="cellrowborder" width="50%">开发者模式，当前仅支持2in1设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">resetFactory<sup>18+</sup></td>         <td class="cellrowborder" width="50%">恢复出厂能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">remoteDesk<sup>20+</sup></td>         <td class="cellrowborder" width="50%">远程桌面能力，可通过点击我的华为-服务-快捷服务-智能检测-右上角更多-远程服务，查看远程桌面功能，当前仅支持手机、平板、2in1设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">remoteDisagnosis<sup>20+</sup></td>         <td class="cellrowborder" width="50%">远程诊断能力，可通过点击我的华为-服务-快捷服务-智能检测-右上角更多-诊断分析，查看远程诊断功能，当前仅支持手机、平板、2in1设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">otaUpdate<sup>20+</sup></td>         <td class="cellrowborder" width="50%">公网环境下系统升级能力。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200013</td>         <td class="cellrowborder" width="50%">The enterprise management policy has been successfully set, but the function has not taken effect in real time.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-mmr-c106="" class="highlight-div"><div _ngcontent-mmr-c106="" class="highlight-div-header"><div _ngcontent-mmr-c106="" class="highlight-div-header-left"><div _ngcontent-mmr-c106="" class="handle-button expand-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mmr-c106="" class="highlight-div-header-right"><div _ngcontent-mmr-c106="" class="handle-button ai-button"></div><div _ngcontent-mmr-c106="" class="handle-button line-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mmr-c106="" class="handle-button theme-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mmr-c106="" class="handle-button copy-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mmr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { restrictions } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 参数需根据实际情况进行替换</span></li><li>  restrictions.<span class="hljs-title function_">setDisallowedPolicy</span>(wantTemp, <span class="hljs-string">'printer'</span>, <span class="hljs-literal">true</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting printer disabled'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set printer disabled. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="restrictionsgetdisallowedpolicy" device-type="phone,2in1,tablet">restrictions.getDisallowedPolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restrictionsgetdisallowedpolicy" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getDisallowedPolicy(admin: Want | null, feature: string): boolean</p>     <p>查询某特性是否被禁用。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_RESTRICTIONS 或者 ohos.permission.PERSONAL_MANAGE_RESTRICTIONS<sup>15+</sup></p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a> | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">feature</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>支持查询的特性清单参考下表2。</p>          <p><strong>说明：</strong> 从API version 15开始，应用申请权限ohos.permission.PERSONAL_MANAGE_RESTRICTIONS并<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-enterprise-adminmanager#adminmanagerstartadminprovision15">激活为自带设备管理应用</a>，可以使用此接口获取以下特性状态：bluetooth、hdc、microphone、usb、wifi、tethering、camera、screenshot、screenRecord、nearLink、resetFactory。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>表2 支持查询的特性清单：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">特性</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">bluetooth</td>         <td class="cellrowborder" width="50%">设备蓝牙能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">modifyDateTime</td>         <td class="cellrowborder" width="50%">设备修改系统时间能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">printer</td>         <td class="cellrowborder" width="50%">设备打印能力，当前仅支持PC/2in1设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">hdc</td>         <td class="cellrowborder" width="50%">设备HDC能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">microphone</td>         <td class="cellrowborder" width="50%">设备麦克风能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">fingerprint</td>         <td class="cellrowborder" width="50%">设备指纹认证能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">usb</td>         <td class="cellrowborder" width="50%">设备USB能力。禁用后外接的USB设备无法使用，即在当前设备为HOST模式时，无法外接其他DEVICE设备。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">wifi</td>         <td class="cellrowborder" width="50%">设备Wi-Fi能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">tethering<sup>14+</sup></td>         <td class="cellrowborder" width="50%">网络共享能力（设备已有网络共享给其他设备的能力，即共享热点能力）。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">inactiveUserFreeze<sup>14+</sup></td>         <td class="cellrowborder" width="50%">非活跃用户运行能力，当前仅支持PC/2in1设备使用。企业空间场景下，系统切换到企业空间用户，个人空间用户属于非活跃用户。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">camera<sup>14+</sup></td>         <td class="cellrowborder" width="50%">设备相机能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">mtpClient<sup>18+</sup></td>         <td class="cellrowborder" width="50%">MTP客户端能力（包含读取和写入），当前仅支持PC/2in1设备使用。MTP（MediaTransferProtocol，媒体传输协议），该协议允许用户在移动设备上线性访问媒体文件。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">mtpServer<sup>18+</sup></td>         <td class="cellrowborder" width="50%">MTP服务端能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">sambaClient<sup>20+</sup></td>         <td class="cellrowborder" width="50%">samba客户端能力，当前仅支持PC/2in1设备使用。samba是在Linux和UNIX系统上实现SMB协议的一个免费软件，由服务器及客户端程序构成。SMB（Server Messages Block，信息服务块）是一种在局域网上共享文件和打印机的一种通信协议，它为局域网内的不同计算机之间提供文件及打印机等资源的共享服务。SMB协议是客户机/服务器型协议，客户机通过该协议可以访问服务器上的共享文件系统、打印机及其他资源。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">sambaServer<sup>20+</sup></td>         <td class="cellrowborder" width="50%">samba服务端能力，当前仅支持PC/2in1设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">backupAndRestore<sup>20+</sup></td>         <td class="cellrowborder" width="50%">备份和恢复能力，禁用后设备的"设置--系统--备份和恢复"、"设置--云空间"置灰，当前仅支持手机、平板使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">maintenanceMode<sup>20+</sup></td>         <td class="cellrowborder" width="50%">设备维修模式能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">mms<sup>20+</sup></td>         <td class="cellrowborder" width="50%">multimedia messaging service，设备接收、发送彩信的能力，当前仅支持手机、平板设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">sms<sup>20+</sup></td>         <td class="cellrowborder" width="50%">short messaging service，设备接收、发送短信的能力，当前仅支持手机、平板设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">mobileData<sup>20+</sup></td>         <td class="cellrowborder" width="50%">蜂窝数据能力，当前仅支持手机、平板设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">airplaneMode<sup>20+</sup></td>         <td class="cellrowborder" width="50%">飞行模式能力，当前仅支持手机、平板设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">vpn<sup>20+</sup></td>         <td class="cellrowborder" width="50%">Virtual Private Network（虚拟专用网络），VPN能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">notification<sup>20+</sup></td>         <td class="cellrowborder" width="50%">设备通知能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">nfc<sup>20+</sup></td>         <td class="cellrowborder" width="50%">Near Field Communication（近距离无线通信），NFC能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">privateSpace<sup>20+</sup></td>         <td class="cellrowborder" width="50%">创建隐私空间能力，当前仅支持手机、平板使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">telephoneCall<sup>20+</sup></td>         <td class="cellrowborder" width="50%">设备通话能力，禁用后电话无法呼入和呼出。当前仅支持手机、平板设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">appClone<sup>21+</sup></td>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-clone" target="_blank">应用分身能力</a>，禁用后无法创建应用分身。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">externalStorageCard<sup>21+</sup></td>         <td class="cellrowborder" width="50%">外置存储能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">randomMac<sup>21+</sup></td>         <td class="cellrowborder" width="50%">Wi-Fi连接时使用随机MAC能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">screenshot</td>         <td class="cellrowborder" width="50%">设备截屏能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">screenRecord</td>         <td class="cellrowborder" width="50%">设备录屏能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">diskRecoveryKey</td>         <td class="cellrowborder" width="50%">恢复密钥导出能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">nearLink</td>         <td class="cellrowborder" width="50%">设备星闪能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">developerMode<sup>14+</sup></td>         <td class="cellrowborder" width="50%">开发者模式，当前仅支持2in1设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">resetFactory<sup>18+</sup></td>         <td class="cellrowborder" width="50%">恢复出厂能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">remoteDesk<sup>20+</sup></td>         <td class="cellrowborder" width="50%">远程桌面能力，可通过点击我的华为-服务-快捷服务-智能检测-右上角更多-远程服务，查看远程桌面功能，当前仅支持手机、平板、2in1设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">remoteDisagnosis<sup>20+</sup></td>         <td class="cellrowborder" width="50%">远程诊断能力，可通过点击我的华为-服务-快捷服务-智能检测-右上角更多-诊断分析，查看远程诊断功能，当前仅支持手机、平板、2in1设备使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">otaUpdate<sup>20+</sup></td>         <td class="cellrowborder" width="50%">公网环境下系统升级能力。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回true表示feature对应的某种特性被禁用，false表示feature对应的某种特性未被禁用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-mmr-c106="" class="highlight-div"><div _ngcontent-mmr-c106="" class="highlight-div-header"><div _ngcontent-mmr-c106="" class="highlight-div-header-left"><div _ngcontent-mmr-c106="" class="handle-button expand-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mmr-c106="" class="highlight-div-header-right"><div _ngcontent-mmr-c106="" class="handle-button ai-button"></div><div _ngcontent-mmr-c106="" class="handle-button line-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mmr-c106="" class="handle-button theme-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mmr-c106="" class="handle-button copy-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mmr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { restrictions } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 参数需根据实际情况进行替换</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-built_in">boolean</span> = restrictions.<span class="hljs-title function_">getDisallowedPolicy</span>(wantTemp, <span class="hljs-string">'printer'</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in querying whether the printing function is disabled. Disabled status: <span class="hljs-subst">${result}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get printer disabled status. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="restrictionssetdisallowedpolicyforaccount14" device-type="phone,2in1,tablet">restrictions.setDisallowedPolicyForAccount<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restrictionssetdisallowedpolicyforaccount14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>setDisallowedPolicyForAccount(admin: Want, feature: string, disallow: boolean, accountId: number): void</p>     <p>设置禁用/启用指定用户的某特性。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_RESTRICTIONS</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">feature</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>feature名称。</p>          <p>- fingerprint：设备指纹认证能力，当前仅支持PC/2in1设备使用。使用此参数时有以下规则：</p>          <p>1. 通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicy">setDisallowedPolicy</a>接口禁用了设备指纹认证能力，再使用本接口传入此参数，会报策略冲突。</p>          <p>2. 通过本接口设置禁用/启用指定用户的设备指纹认证能力后，再通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicy">setDisallowedPolicy</a>接口禁用设备指纹认证能力时，后者会覆盖前者的策略。此后再通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicy">setDisallowedPolicy</a>接口启用设备指纹认证能力，则所有用户都允许使用设备指纹认证能力。</p>          <p>- print<sup>20+</sup>：设备打印能力，当前仅支持PC/2in1设备使用。如果使用本接口禁用了指定用户的设备打印能力，再通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicy">setDisallowedPolicy</a>接口启用设备打印能力，该用户下的设备打印能力仍然被禁用。</p>          <p>- mtpClient<sup>20+</sup>：MTP客户端能力（仅包含写入），当前仅支持PC/2in1设备使用。MTP（MediaTransferProtocol，媒体传输协议），该协议允许用户在移动设备上线性访问媒体文件。当已经通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicy">setDisallowedPolicy</a>接口禁用了设备MTP客户端能力时，再通过本接口禁用某用户MTP客户端写入能力，会报策略冲突。</p>          <p>- usbStorageDeviceWrite<sup>20+</sup>：USB存储设备写入能力，当前仅支持PC/2in1设备使用。</p>          <p>以下三种情况再通过本接口禁用某用户USB存储设备写入能力，会报策略冲突。</p>          <p>1）通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicy">setDisallowedPolicy</a>接口设置了设备USB能力禁用。</p>          <p>2）通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-enterprise-usbmanager#usbmanagersetusbstoragedeviceaccesspolicy">setUsbStorageDeviceAccessPolicy</a>接口设置了USB存储设备访问策略为只读/禁用。</p>          <p>3）通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-enterprise-usbmanager#usbmanageradddisallowedusbdevices14">addDisallowedUsbDevices</a>接口添加了存储类型的USB设备禁用。</p>          <p>- diskRecoveryKey<sup>20+</sup>：恢复<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/huks-export-key-arkts" target="_blank">密钥导出</a>能力，当前仅支持2in1设备使用。</p>          <p>- sudo<sup>20+</sup>：superuser do，表示以超级用户执行，当前仅支持PC/2in1设备使用。禁用后企业空间或个人空间不能以超级用户执行。</p>          <p>- distributedTransmissionOutgoing<sup>20+</sup>：设备间单向传输数据的能力（仅包含向其他设备传输数据）。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">disallow</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">true表示禁用，false表示启用。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9">getOsAccountLocalId</a>等接口来获取。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">the administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200010</td>         <td class="cellrowborder" width="50%">A conflict policy has been configured.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-mmr-c106="" class="highlight-div"><div _ngcontent-mmr-c106="" class="highlight-div-header"><div _ngcontent-mmr-c106="" class="highlight-div-header-left"><div _ngcontent-mmr-c106="" class="handle-button expand-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mmr-c106="" class="highlight-div-header-right"><div _ngcontent-mmr-c106="" class="handle-button ai-button"></div><div _ngcontent-mmr-c106="" class="handle-button line-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mmr-c106="" class="handle-button theme-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mmr-c106="" class="handle-button copy-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mmr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { restrictions } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 参数需根据实际情况进行替换</span></li><li>  restrictions.<span class="hljs-title function_">setDisallowedPolicyForAccount</span>(wantTemp, <span class="hljs-string">'fingerprint'</span>, <span class="hljs-literal">true</span>, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting fingerprint disabled'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set fingerprint disabled. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="restrictionsgetdisallowedpolicyforaccount14" device-type="phone,2in1,tablet">restrictions.getDisallowedPolicyForAccount<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restrictionsgetdisallowedpolicyforaccount14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getDisallowedPolicyForAccount(admin: Want | null, feature: string, accountId: number): boolean</p>     <p>获取指定用户的某特性状态。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_RESTRICTIONS</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a> | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">feature</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>feature名称。</p>          <p>- fingerprint：设备指纹认证能力，当前仅支持PC/2in1设备使用。使用此参数时有以下规则：当已经通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicyforaccount14">setDisallowedPolicyForAccount</a>接口设置禁用/启用指定用户的设备指纹认证能力后，再通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicy">setDisallowedPolicy</a>接口禁用设备指纹认证能力时，后者会覆盖前者的策略。即此时调用本接口结果为false。</p>          <p>- mtpClient<sup>20+</sup>：MTP客户端能力（仅包含写入），当前仅支持PC/2in1设备使用。MTP（MediaTransferProtocol，媒体传输协议），该协议允许用户在移动设备上线性访问媒体文件。</p>          <p>- usbStorageDeviceWrite<sup>20+</sup>：USB存储设备写入能力，当前仅支持PC/2in1设备使用。</p>          <p>- diskRecoveryKey<sup>20+</sup>：恢复<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/huks-export-key-arkts" target="_blank">密钥导出</a>能力，当前仅支持2in1设备使用。</p>          <p>- sudo<sup>20+</sup>：superuser do，表示以超级用户执行，当前仅支持PC/2in1设备使用。禁用后企业空间或个人空间不能以超级用户执行。</p>          <p>- distributedTransmissionOutgoing<sup>20+</sup>：设备间单向传输数据的能力（仅包含向其他设备传输数据）。</p>          <p>- print<sup>20+</sup>：设备打印能力，当前仅支持PC/2in1设备使用。如果使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicy">setDisallowedPolicy</a>接口禁用了设备打印能力，再通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicyforaccount14">setDisallowedPolicyForAccount</a>接口启用某用户下的设备打印能力，通过本接口查询结果是该用户已启用打印能力，但实际打印能力已被禁用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9">getOsAccountLocalId</a>等接口来获取。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回true表示参数feature对应的特性被禁用，false表示参数feature对应的特性未被禁用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">the administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-mmr-c106="" class="highlight-div"><div _ngcontent-mmr-c106="" class="highlight-div-header"><div _ngcontent-mmr-c106="" class="highlight-div-header-left"><div _ngcontent-mmr-c106="" class="handle-button expand-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mmr-c106="" class="highlight-div-header-right"><div _ngcontent-mmr-c106="" class="handle-button ai-button"></div><div _ngcontent-mmr-c106="" class="handle-button line-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mmr-c106="" class="handle-button theme-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mmr-c106="" class="handle-button copy-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mmr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { restrictions } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 参数需根据实际情况进行替换</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-built_in">boolean</span> = restrictions.<span class="hljs-title function_">getDisallowedPolicyForAccount</span>(wantTemp, <span class="hljs-string">'fingerprint'</span>, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in querying is the fingerprint function disabled : <span class="hljs-subst">${result}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set fingerprint disabled. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="restrictionsadddisallowedlistforaccount14" device-type="phone,2in1,tablet">restrictions.addDisallowedListForAccount<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restrictionsadddisallowedlistforaccount14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>addDisallowedListForAccount(admin: Want, feature: string, list: Array&lt;string&gt;, accountId: number): void</p>     <p>为指定用户添加禁止使用某特性的应用名单。指定用户下，添加到名单中的应用不允许使用指定的特性能力。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_RESTRICTIONS</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">feature</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>feature名称。</p>          <p>- snapshotSkip：屏幕快照能力。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">list</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">包名等内容的名单集合。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9">getOsAccountLocalId</a>等接口来获取。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-mmr-c106="" class="highlight-div"><div _ngcontent-mmr-c106="" class="highlight-div-header"><div _ngcontent-mmr-c106="" class="highlight-div-header-left"><div _ngcontent-mmr-c106="" class="handle-button expand-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mmr-c106="" class="highlight-div-header-right"><div _ngcontent-mmr-c106="" class="handle-button ai-button"></div><div _ngcontent-mmr-c106="" class="handle-button line-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mmr-c106="" class="handle-button theme-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mmr-c106="" class="handle-button copy-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mmr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { restrictions } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">valueList</span>:<span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">"com.xx.aa."</span>, <span class="hljs-string">"com.xx.bb"</span>];</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 参数需根据实际情况进行替换</span></li><li>  restrictions.<span class="hljs-title function_">addDisallowedListForAccount</span>(wantTemp, <span class="hljs-string">'snapshotSkip'</span>, valueList, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in adding disallowed snapshotSkip feature'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to add disallowed snapshotSkip feature. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="restrictionsremovedisallowedlistforaccount14" device-type="phone,2in1,tablet">restrictions.removeDisallowedListForAccount<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restrictionsremovedisallowedlistforaccount14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>removeDisallowedListForAccount(admin: Want, feature: string, list: Array&lt;string&gt;, accountId: number): void</p>     <p>为指定用户移除禁止使用某特性的应用名单。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_RESTRICTIONS</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">feature</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>feature名称。</p>          <p>- snapshotSkip：屏幕快照能力。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">list</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">包名等内容的名单集合。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9">getOsAccountLocalId</a>等接口来获取。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-mmr-c106="" class="highlight-div"><div _ngcontent-mmr-c106="" class="highlight-div-header"><div _ngcontent-mmr-c106="" class="highlight-div-header-left"><div _ngcontent-mmr-c106="" class="handle-button expand-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mmr-c106="" class="highlight-div-header-right"><div _ngcontent-mmr-c106="" class="handle-button ai-button"></div><div _ngcontent-mmr-c106="" class="handle-button line-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mmr-c106="" class="handle-button theme-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mmr-c106="" class="handle-button copy-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mmr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { restrictions } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">valueList</span>:<span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">"com.xx.aa."</span>, <span class="hljs-string">"com.xx.bb"</span>];</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 参数需根据实际情况进行替换</span></li><li>  restrictions.<span class="hljs-title function_">removeDisallowedListForAccount</span>(wantTemp, <span class="hljs-string">'snapshotSkip'</span>, valueList, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in removing disallowed snapshotSkip feature'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to remove disallowed snapshotSkip feature. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="restrictionsgetdisallowedlistforaccount14" device-type="phone,2in1,tablet">restrictions.getDisallowedListForAccount<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restrictionsgetdisallowedlistforaccount14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getDisallowedListForAccount(admin: Want, feature: string, accountId: number): Array&lt;string&gt;</p>     <p>获取指定用户禁止使用某特性的应用名单。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_RESTRICTIONS</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">feature</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>feature名称。</p>          <p>- snapshotSkip：屏幕快照能力。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9">getOsAccountLocalId</a>等接口来获取。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="50%">用户已添加的禁用某特征的应用名单。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-mmr-c106="" class="highlight-div"><div _ngcontent-mmr-c106="" class="highlight-div-header"><div _ngcontent-mmr-c106="" class="highlight-div-header-left"><div _ngcontent-mmr-c106="" class="handle-button expand-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mmr-c106="" class="highlight-div-header-right"><div _ngcontent-mmr-c106="" class="handle-button ai-button"></div><div _ngcontent-mmr-c106="" class="handle-button line-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mmr-c106="" class="handle-button theme-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mmr-c106="" class="handle-button copy-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mmr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { restrictions } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 参数需根据实际情况进行替换</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = restrictions.<span class="hljs-title function_">getDisallowedListForAccount</span>(wantTemp, <span class="hljs-string">'snapshotSkip'</span>, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in querying disallowed list for account'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to query disallowed list for account. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="restrictionssetuserrestriction20" device-type="phone,2in1,tablet">restrictions.setUserRestriction<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restrictionssetuserrestriction20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>setUserRestriction(admin: Want, settingsItem: string, restricted: boolean): void</p>     <p>设置用户行为的限制规则。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_USER_RESTRICTION</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">settingsItem</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>行为名称。</p>          <p>- setApn：APN设置，当前仅支持手机、平板使用。</p>          <p>- powerLongPress：长按电源键打开电源菜单，当前仅支持手机、平板使用。</p>          <p>- setEthernetIp：修改以太网IP地址，当前仅支持PC/2in1设备使用。</p>          <p>- setDeviceName：修改设备名称，当前仅支持PC/2in1设备、手机、平板使用。禁用后，PC/2in1设备的设置中以下设备名称无法修改，包括关于本机、蓝牙、多设备协同-&gt;星闪。手机、平板设备设置中的关于本机、蓝牙、个人热点的设备名称无法修改。</p>          <p>- setBiometricsAndScreenLock：修改锁屏密码，当前仅支持PC/2in1设备、手机、平板使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">restricted</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">是否禁用行为。true表示禁用，false表示不禁用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-mmr-c106="" class="highlight-div"><div _ngcontent-mmr-c106="" class="highlight-div-header"><div _ngcontent-mmr-c106="" class="highlight-div-header-left"><div _ngcontent-mmr-c106="" class="handle-button expand-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mmr-c106="" class="highlight-div-header-right"><div _ngcontent-mmr-c106="" class="handle-button ai-button"></div><div _ngcontent-mmr-c106="" class="handle-button line-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mmr-c106="" class="handle-button theme-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mmr-c106="" class="handle-button copy-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mmr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { restrictions } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 参数需根据实际情况进行替换</span></li><li>  restrictions.<span class="hljs-title function_">setUserRestriction</span>(wantTemp, <span class="hljs-string">'setApn'</span>, <span class="hljs-literal">true</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in restricting from setting apn'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to restrict from setting apn. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="restrictionsgetuserrestricted20" device-type="phone,2in1,tablet">restrictions.getUserRestricted<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restrictionsgetuserrestricted20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getUserRestricted(admin: Want, settingsItem: string): boolean</p>     <p>获取设置项的禁用状态。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_SET_USER_RESTRICTION</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">settingsItem</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定设置项。</p>          <p>- setEthernetIp：修改以太网IP地址，当前仅支持PC/2in1设备使用。</p>          <p>- setDeviceName：修改设备名称，当前仅支持PC/2in1设备、手机、平板使用。PC/2in1设备设置中关于本机、蓝牙、多设备协同-&gt;星闪中的设备名称。手机、平板设备设置中关于本机、蓝牙、个人热点的设备名称。</p>          <p>- setBiometricsAndScreenLock：修改锁屏密码，当前仅支持PC/2in1设备、手机、平板使用。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回指定设置项的禁用状态，true表示已禁用，false表示未禁用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-mmr-c106="" class="highlight-div"><div _ngcontent-mmr-c106="" class="highlight-div-header"><div _ngcontent-mmr-c106="" class="highlight-div-header-left"><div _ngcontent-mmr-c106="" class="handle-button expand-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mmr-c106="" class="highlight-div-header-right"><div _ngcontent-mmr-c106="" class="handle-button ai-button"></div><div _ngcontent-mmr-c106="" class="handle-button line-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mmr-c106="" class="handle-button theme-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mmr-c106="" class="handle-button copy-button"><div _ngcontent-mmr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mmr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { restrictions } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 入参需根据实际情况替换</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-built_in">boolean</span> = restrictions.<span class="hljs-title function_">getUserRestricted</span>(wantTemp, <span class="hljs-string">'setEthernetIp'</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting user restricted'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get user restricted. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>