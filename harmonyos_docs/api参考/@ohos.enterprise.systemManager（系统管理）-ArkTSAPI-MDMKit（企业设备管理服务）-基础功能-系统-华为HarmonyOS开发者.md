<h1 _ngcontent-fgu-c119="" class="doc-title ng-star-inserted" title="@ohos.enterprise.systemManager （系统管理）"> @ohos.enterprise.systemManager （系统管理） </h1>

<div _ngcontent-fgu-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>本模块提供系统管理能力。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 12开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>      <p>本模块接口仅可在Stage模型下使用。</p>      <p>本模块接口仅对设备管理应用开放，且调用接口前需激活设备管理应用，具体请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/mdm-kit-guide" target="_blank">MDM Kit开发指南</a>。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanagersetntpserver" device-type="phone,2in1,tablet">systemManager.setNTPServer<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanagersetntpserver" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>setNTPServer(admin: Want, server: string): void</p>     <p>设置NTP时间服务器。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">server</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">NTP服务器地址（以","分隔，如"ntpserver1.com,ntpserver2.com"。最大长度96字节，包括结束符）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">server</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"ntpserver.com"</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  systemManager.<span class="hljs-title function_">setNTPServer</span>(wantTemp, server);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting NTPserver.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set ntp server. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanagergetntpserver" device-type="phone,2in1,tablet">systemManager.getNTPServer<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanagergetntpserver" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getNTPServer(admin: Want): string</p>     <p>获取NTP时间服务器信息。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">string对象，返回NTP时间服务器信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.base'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  systemManager.<span class="hljs-title function_">getNTPServer</span>(wantTemp);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting NTP server.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get ntp server. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanagersetotaupdatepolicy" device-type="phone,2in1,tablet">systemManager.setOtaUpdatePolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanagersetotaupdatepolicy" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>setOtaUpdatePolicy(admin: Want, policy: OtaUpdatePolicy): void</p>     <p>设置升级策略。内网升级场景下，需要先调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#systemmanagernotifyupdatepackages">systemManager.notifyUpdatePackages</a>接口通知系统更新包，再调用该接口设置升级策略。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">policy</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#otaupdatepolicy">OtaUpdatePolicy</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">升级策略。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 默认升级策略</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">otaUpdatePolicy1</span>: systemManager.<span class="hljs-property">OtaUpdatePolicy</span> = {</li><li>  <span class="hljs-string">"policyType"</span>: systemManager.<span class="hljs-property">PolicyType</span>.<span class="hljs-property">DEFAULT</span>,</li><li>  <span class="hljs-string">"version"</span>: <span class="hljs-string">"version_1.0.0.0"</span>,</li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  systemManager.<span class="hljs-title function_">setOtaUpdatePolicy</span>(wantTemp, otaUpdatePolicy1);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting ota update policy.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set ota update policy. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 禁止升级</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">otaUpdatePolicy2</span>: systemManager.<span class="hljs-property">OtaUpdatePolicy</span> = {</li><li>  <span class="hljs-string">"policyType"</span>: systemManager.<span class="hljs-property">PolicyType</span>.<span class="hljs-property">PROHIBIT</span>,</li><li>  <span class="hljs-string">"version"</span>: <span class="hljs-string">"version_1.0.0.1"</span>,</li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  systemManager.<span class="hljs-title function_">setOtaUpdatePolicy</span>(wantTemp, otaUpdatePolicy2);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting ota update policy.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set ota update policy. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 强制升级</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">otaUpdatePolicy3</span>: systemManager.<span class="hljs-property">OtaUpdatePolicy</span> = {</li><li>  <span class="hljs-string">"policyType"</span>: systemManager.<span class="hljs-property">PolicyType</span>.<span class="hljs-property">UPDATE_TO_SPECIFIC_VERSION</span>,</li><li>  <span class="hljs-string">"version"</span>: <span class="hljs-string">"version_1.0.0.2"</span>,</li><li>  <span class="hljs-string">"latestUpdateTime"</span>: <span class="hljs-number">1716343200</span>, <span class="hljs-comment">// 时间戳</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  systemManager.<span class="hljs-title function_">setOtaUpdatePolicy</span>(wantTemp, otaUpdatePolicy3);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting ota update policy.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set ota update policy. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 指定时间窗口升级</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">otaUpdatePolicy4</span>: systemManager.<span class="hljs-property">OtaUpdatePolicy</span> = {</li><li>  <span class="hljs-string">"policyType"</span>: systemManager.<span class="hljs-property">PolicyType</span>.<span class="hljs-property">WINDOWS</span>,</li><li>  <span class="hljs-string">"version"</span>: <span class="hljs-string">"version_1.0.0.3"</span>,</li><li>  <span class="hljs-string">"installStartTime"</span>: <span class="hljs-number">1716281049</span>, <span class="hljs-comment">// // 时间戳</span></li><li>  <span class="hljs-string">"installEndTime"</span>: <span class="hljs-number">1716343200</span>, <span class="hljs-comment">// // 时间戳</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  systemManager.<span class="hljs-title function_">setOtaUpdatePolicy</span>(wantTemp, otaUpdatePolicy4);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting ota update policy.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set ota update policy. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 延迟升级</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">otaUpdatePolicy5</span>: systemManager.<span class="hljs-property">OtaUpdatePolicy</span> = {</li><li>  <span class="hljs-string">"policyType"</span>: systemManager.<span class="hljs-property">PolicyType</span>.<span class="hljs-property">POSTPONE</span>,</li><li>  <span class="hljs-string">"version"</span>: <span class="hljs-string">"version_1.0.0.4"</span>,</li><li>  <span class="hljs-string">"delayUpdateTime"</span>: <span class="hljs-number">5</span>, <span class="hljs-comment">// 单位（小时）</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  systemManager.<span class="hljs-title function_">setOtaUpdatePolicy</span>(wantTemp, otaUpdatePolicy5);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting ota update policy.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set ota update policy. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 禁用公网升级</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">otaUpdatePolicy6</span>: systemManager.<span class="hljs-property">OtaUpdatePolicy</span> = {</li><li>  <span class="hljs-string">"policyType"</span>: systemManager.<span class="hljs-property">PolicyType</span>.<span class="hljs-property">DEFAULT</span>,</li><li>  <span class="hljs-string">"version"</span>: <span class="hljs-string">"version_1.0.0.5"</span>,</li><li>  <span class="hljs-string">"disableSystemOtaUpdate"</span>: <span class="hljs-literal">true</span>,</li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  systemManager.<span class="hljs-title function_">setOtaUpdatePolicy</span>(wantTemp, otaUpdatePolicy6);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting ota update policy.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set ota update policy. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanagergetotaupdatepolicy" device-type="phone,2in1,tablet">systemManager.getOtaUpdatePolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanagergetotaupdatepolicy" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getOtaUpdatePolicy(admin: Want): OtaUpdatePolicy</p>     <p>查询升级策略。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#otaupdatepolicy">OtaUpdatePolicy</a></td>         <td class="cellrowborder" width="50%">OtaUpdatePolicy对象，返回升级策略。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">policy</span>: systemManager.<span class="hljs-property">OtaUpdatePolicy</span>= systemManager.<span class="hljs-title function_">getOtaUpdatePolicy</span>(wantTemp);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting update policy: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(policy)}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get update policy. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanagernotifyupdatepackages" device-type="phone,2in1,tablet">systemManager.notifyUpdatePackages<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanagernotifyupdatepackages" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>notifyUpdatePackages(admin: Want, packageInfo: UpdatePackageInfo): Promise&lt;void&gt;</p>     <p>通知系统更新包信息。内网升级场景下，需要先调用该接口通知系统更新包，再调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#systemmanagersetotaupdatepolicy">systemManager.setOtaUpdatePolicy</a>设置升级策略。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口比较耗时，当调用此接口后，后续如果在应用主线程调用其他同步接口时需要等待该接口异步返回。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">packageInfo</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#updatepackageinfo">UpdatePackageInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>系统更新包信息。</p>          <p><strong>说明：</strong> 传入的UpdatePackageInfo.packages.path必须是“update”开头的zip压缩包，传入其他形式的文件会报9201004错误码。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。当通知系统更新包失败时会抛出错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9201004</td>         <td class="cellrowborder" width="50%">The update packages do not exist or analyzing failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">notify</span>: systemManager.<span class="hljs-property">NotifyDescription</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-string">"installTips"</span>: <span class="hljs-string">"installTips"</span>,</li><li>  <span class="hljs-string">"installTipsDetail"</span>: <span class="hljs-string">"installTips detail"</span></li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">description</span>: systemManager.<span class="hljs-property">PackageDescription</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-string">"notify"</span>: notify</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">updatePackages</span>: <span class="hljs-title class_">Array</span>&lt;systemManager.<span class="hljs-property">Package</span>&gt; = [];</li><li><span class="hljs-comment">// 应用沙箱路径，需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> fileDir = <span class="hljs-string">"/xxxx/xxxx/"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">path1</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"update_sd_base.zip"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">path2</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"update_sd_cust_xxxxx_all_cn.zip"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">path3</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"update_sd_preload_xxxxx_all_cn_R1.zip"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">fd1</span>: <span class="hljs-built_in">number</span> = fs.<span class="hljs-title function_">openSync</span>(fileDir + path1, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_ONLY</span>).<span class="hljs-property">fd</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">fd2</span>: <span class="hljs-built_in">number</span> = fs.<span class="hljs-title function_">openSync</span>(fileDir + <span class="hljs-string">"xxxxx/"</span> + path2, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_ONLY</span>).<span class="hljs-property">fd</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">fd3</span>: <span class="hljs-built_in">number</span> = fs.<span class="hljs-title function_">openSync</span>(fileDir + <span class="hljs-string">"xxxxx/"</span> + path3, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_ONLY</span>).<span class="hljs-property">fd</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">package1</span>: systemManager.<span class="hljs-property">Package</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-string">"type"</span>: systemManager.<span class="hljs-property">PackageType</span>.<span class="hljs-property">FIRMWARE</span>,</li><li>  <span class="hljs-string">"path"</span>: path1,</li><li>  <span class="hljs-string">"fd"</span>: fd1</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">package2</span>: systemManager.<span class="hljs-property">Package</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-string">"type"</span>: systemManager.<span class="hljs-property">PackageType</span>.<span class="hljs-property">FIRMWARE</span>,</li><li>  <span class="hljs-string">"path"</span>: path2,</li><li>  <span class="hljs-string">"fd"</span>: fd2</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">package3</span>: systemManager.<span class="hljs-property">Package</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-string">"type"</span>: systemManager.<span class="hljs-property">PackageType</span>.<span class="hljs-property">FIRMWARE</span>,</li><li>  <span class="hljs-string">"path"</span>: path3,</li><li>  <span class="hljs-string">"fd"</span>: fd3</li><li>};</li><li>updatePackages.<span class="hljs-title function_">push</span>(package1);</li><li>updatePackages.<span class="hljs-title function_">push</span>(package2);</li><li>updatePackages.<span class="hljs-title function_">push</span>(package3);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">updatePackageInfo</span>: systemManager.<span class="hljs-property">UpdatePackageInfo</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-string">"version"</span> : <span class="hljs-string">"1.0"</span>,</li><li>  <span class="hljs-string">"packages"</span> : updatePackages,</li><li>  <span class="hljs-string">"description"</span> : description</li><li>};</li><li>systemManager.<span class="hljs-title function_">notifyUpdatePackages</span>(wantTemp, updatePackageInfo).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in notifying update packages.'</span>);</li><li>}).<span class="hljs-property">catch</span> (<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to notify update packages. Code is <span class="hljs-subst">${error.code}</span>,message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanagergetupdateresult" device-type="phone,2in1,tablet">systemManager.getUpdateResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanagergetupdateresult" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getUpdateResult(admin: Want, version: string): Promise&lt;UpdateResult&gt;</p>     <p>获取系统更新结果。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">version</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">更新包版本号。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#updateresult">UpdateResult</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回系统更新结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>systemManager.<span class="hljs-title function_">getUpdateResult</span>(wantTemp, <span class="hljs-string">"1.0"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result:systemManager.UpdateResult</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting update result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(result)}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Get update result failed. Code is <span class="hljs-subst">${error.code}</span>,message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  });</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanagergetupdateauthdata19" device-type="phone,2in1,tablet">systemManager.getUpdateAuthData<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanagergetupdateauthdata19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getUpdateAuthData(admin: Want): Promise&lt;string&gt;</p>     <p>获取系统更新的鉴权数据，用于校验系统更新信息。使用Promise异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;string&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回系统更新的鉴权数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>systemManager.<span class="hljs-title function_">getUpdateAuthData</span>(wantTemp).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting update auth data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(result)}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Get update auth data failed. Code is <span class="hljs-subst">${error.code}</span>,message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  });</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanageradddisallowednearlinkprotocols20" device-type="phone,2in1,tablet">systemManager.addDisallowedNearLinkProtocols<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanageradddisallowednearlinkprotocols20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>addDisallowedNearLinkProtocols(admin: Want, protocols: Array&lt;NearLinkProtocol&gt;, accountId: number): void</p>     <p>为指定用户添加禁用的星闪协议名单。NearLink Kit（星闪服务）提供一种低功耗、高速率的短距离通信服务，支持星闪设备之间的连接、数据交互。具体请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/nearlink-introduction" target="_blank">NearLink Kit</a>。本接口对键盘、手写笔等系统服务和系统应用不生效。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>设备行为差异：</strong> 该接口在PC/2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">protocols</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#nearlinkprotocol20">NearLinkProtocol</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">星闪协议列表。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9">getOsAccountLocalId</a>等接口来获取。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200012</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">protocols</span>: systemManager.<span class="hljs-property">NearLinkProtocol</span>[] = [systemManager.<span class="hljs-property">NearLinkProtocol</span>.<span class="hljs-property">SSAP</span>,</li><li>  systemManager.<span class="hljs-property">NearLinkProtocol</span>.<span class="hljs-property">DATA_TRANSFER</span>];</li><li>
</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">accountId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  systemManager.<span class="hljs-title function_">addDisallowedNearLinkProtocols</span>(wantTemp, protocols, accountId);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in adding the disabled Starlink protocol list for the specified user.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to add the disabled Starlink protocol list for the specified user. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanagerremovedisallowednearlinkprotocols20" device-type="phone,2in1,tablet">systemManager.removeDisallowedNearLinkProtocols<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanagerremovedisallowednearlinkprotocols20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>removeDisallowedNearLinkProtocols(admin: Want, protocols: Array&lt;NearLinkProtocol&gt;, accountId: number): void</p>     <p>为指定用户移除禁用的星闪协议名单。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>设备行为差异：</strong> 该接口在PC/2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">protocols</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#nearlinkprotocol20">NearLinkProtocol</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">星闪协议列表。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9">getOsAccountLocalId</a>等接口来获取。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200012</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">protocols</span>: systemManager.<span class="hljs-property">NearLinkProtocol</span>[] = [systemManager.<span class="hljs-property">NearLinkProtocol</span>.<span class="hljs-property">SSAP</span>,</li><li>  systemManager.<span class="hljs-property">NearLinkProtocol</span>.<span class="hljs-property">DATA_TRANSFER</span>];</li><li>
</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">accountId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  systemManager.<span class="hljs-title function_">removeDisallowedNearLinkProtocols</span>(wantTemp, protocols, accountId);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in removing the disabled Starlink protocol list for the specified user.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to remove the disabled Starlink protocol list for the specified user. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanagergetdisallowednearlinkprotocols20" device-type="phone,2in1,tablet">systemManager.getDisallowedNearLinkProtocols<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanagergetdisallowednearlinkprotocols20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getDisallowedNearLinkProtocols(admin: Want, accountId: number): Array&lt;NearLinkProtocol&gt;</p>     <p>获取指定用户下禁用的星闪协议名单。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>设备行为差异：</strong> 该接口在PC/2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">accountId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>用户ID，取值范围：大于等于0。</p>          <p>accountId可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-osaccount#getosaccountlocalid9">getOsAccountLocalId</a>等接口来获取。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#nearlinkprotocol20">NearLinkProtocol</a>&gt;</td>         <td class="cellrowborder" width="50%">指定用户下禁用的星闪协议名单。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li>
</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">accountId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: systemManager.<span class="hljs-property">NearLinkProtocol</span>[] = systemManager.<span class="hljs-title function_">getDisallowedNearLinkProtocols</span>(wantTemp, accountId);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in querying the disabled Starlink protocol list for the specified user: <span class="hljs-subst">${result}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to query the disabled Starlink protocol list for the specified user. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanagersetinstalllocalenterpriseappenabled20" device-type="phone,2in1,tablet">systemManager.setInstallLocalEnterpriseAppEnabled<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanagersetinstalllocalenterpriseappenabled20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>setInstallLocalEnterpriseAppEnabled(admin: Want, isEnable: boolean): void</p>     <p>设置是否支持本地安装企业应用。设置为支持安装后，具备本地安装能力的PC/2in1设备可本地双击应用安装包，安装签名证书分发类型为enterprise_normal的企业应用。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>设备行为差异：</strong> 该接口在PC/2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">isEnable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">是否支持本地安装企业应用。true表示支持，false表示不支持。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-comment">// 需根据实际情况进行替换</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isEnable</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  systemManager.<span class="hljs-title function_">setInstallLocalEnterpriseAppEnabled</span>(wantTemp, isEnable);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting InstallLocalEnterpriseAppEnabled.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set installLocalEnterpriseAppEnabled. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanagergetinstalllocalenterpriseappenabled20" device-type="phone,2in1,tablet">systemManager.getInstallLocalEnterpriseAppEnabled<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanagergetinstalllocalenterpriseappenabled20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getInstallLocalEnterpriseAppEnabled(admin: Want): boolean</p>     <p>查询是否支持本地安装企业应用。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>设备行为差异：</strong> 该接口在PC/2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">是否支持本地安装企业应用，true为支持，false为不支持。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">isEnable</span>: <span class="hljs-built_in">boolean</span> = systemManager.<span class="hljs-title function_">getInstallLocalEnterpriseAppEnabled</span>(wantTemp);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting installLocalEnterpriseAppEnabled.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get installLocalEnterpriseAppEnabled. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanagersetautounlockafterreboot20" device-type="phone,2in1,tablet">systemManager.setAutoUnlockAfterReboot<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanagersetautounlockafterreboot20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>setAutoUnlockAfterReboot(admin: Want, isAllowed: boolean): void</p>     <p>设置设备重启自动解锁，仅针对无锁屏密码设备生效。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>设备行为差异：</strong> 该接口在PC/2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">isAllowed</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">true表示设备重启后自动解锁，false表示设备重启后不自动解锁。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isAllowed</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  systemManager.<span class="hljs-title function_">setAutoUnlockAfterReboot</span>(wantTemp, isAllowed);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting setAutoUnlockAfterReboot.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set auto unlock after reboot. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemmanagergetautounlockafterreboot20" device-type="phone,2in1,tablet">systemManager.getAutoUnlockAfterReboot<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemmanagergetautounlockafterreboot20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getAutoUnlockAfterReboot(admin: Want): boolean</p>     <p>获取设备是否重启自动解锁。</p>     <p><strong>需要权限：</strong> ohos.permission.ENTERPRISE_MANAGE_SYSTEM</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>设备行为差异：</strong> 该接口在PC/2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">admin</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">企业设备管理扩展组件。Want中必须包含企业设备管理扩展能力的abilityName和所在应用的bundleName。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回true表示设备重启后自动解锁，返回false表示设备重启后不自动解锁。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-enterprisedevicemanager">企业设备管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">9200001</td>         <td class="cellrowborder" width="50%">The application is not an administrator application of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">9200002</td>         <td class="cellrowborder" width="50%">The administrator application does not have permission to manage the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fgu-c106="" class="highlight-div"><div _ngcontent-fgu-c106="" class="highlight-div-header"><div _ngcontent-fgu-c106="" class="highlight-div-header-left"><div _ngcontent-fgu-c106="" class="handle-button expand-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fgu-c106="" class="highlight-div-header-right"><div _ngcontent-fgu-c106="" class="handle-button ai-button"></div><div _ngcontent-fgu-c106="" class="handle-button line-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fgu-c106="" class="handle-button theme-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fgu-c106="" class="handle-button copy-button"><div _ngcontent-fgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { systemManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MDMKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantTemp</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-comment">// 需根据实际情况进行替换</span></li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.example.myapplication'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'EnterpriseAdminAbility'</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  systemManager.<span class="hljs-title function_">getAutoUnlockAfterReboot</span>(wantTemp);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting auto unlock after reboot.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get auto unlock after reboot. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="systemupdateinfo" device-type="phone,2in1,tablet">SystemUpdateInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemupdateinfo" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>待更新的系统版本信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">versionName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">待更新的系统版本名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">firstReceivedTime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">第一次收到系统更新包的时间。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">packageType</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">待更新的系统更新包类型。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="otaupdatepolicy" device-type="phone,2in1,tablet">OtaUpdatePolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="otaupdatepolicy" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>升级策略。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">policyType</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#policytype">PolicyType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示升级策略类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">version</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示待升级软件版本号。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">latestUpdateTime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示最晚升级时间（时间戳）。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">delayUpdateTime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示延迟升级时间（单位：小时）。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">installStartTime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示指定安装窗口起始时间（时间戳）。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">installEndTime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示指定安装窗口结束时间（时间戳）。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">disableSystemOtaUpdate<sup>20+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示是否禁用在公网环境下升级。true表示禁用公网升级，false表示不禁用公网升级。如果作为<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#systemmanagersetotaupdatepolicy">systemManager.setOtaUpdatePolicy</a>的入参，该字段可缺省，缺省时保持当前配置不变。当前配置可通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#systemmanagergetotaupdatepolicy">systemManager.getOtaUpdatePolicy</a>接口获取。禁用公网升级后，可以采用内网升级。推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-enterprise-restrictions#restrictionssetdisallowedpolicy">restrictions.setDisallowedPolicy</a>禁用公网升级。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="policytype" device-type="phone,2in1,tablet">PolicyType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="policytype" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>升级策略类型枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">DEFAULT</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">默认升级策略。周期提示用户，用户确认后升级。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PROHIBIT</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">禁止升级策略。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">UPDATE_TO_SPECIFIC_VERSION</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">强制升级策略。需指定最晚升级时间（latestUpdateTime）参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">WINDOWS</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">指定时间窗口升级策略。需指定时间窗口参数（installStartTime、installEndTime）。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">POSTPONE</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">延迟升级策略。延迟指定时间（delayUpdateTime）后进入DEFAULT模式，周期提示用户升级。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="updatepackageinfo" device-type="phone,2in1,tablet">UpdatePackageInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatepackageinfo" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>系统更新包信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">version</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">系统更新包版本号。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">packages</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#package">Package</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">系统更新包详情。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">description</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#packagedescription">PackageDescription</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">系统更新包描述信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">authInfo<sup>19+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">系统更新包的鉴权信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="package" device-type="phone,2in1,tablet">Package<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="package" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>系统更新包详情。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">type</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#packagetype">PackageType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">系统更新包类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">path</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">系统更新包文件路径。若传入fd参数，该参数传入更新包文件名。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fd</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">系统更新包文件句柄。当前不支持只传入path参数，需要传入fd。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="packagedescription" device-type="phone,2in1,tablet">PackageDescription<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="packagedescription" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>系统更新包描述信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">notify</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#notifydescription">NotifyDescription</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">企业自定义更新通知说明。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="notifydescription" device-type="phone,2in1,tablet">NotifyDescription<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="notifydescription" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>企业自定义更新通知说明。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">installTips</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">企业自定义更新提示。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">installTipsDetail</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">企业自定义更新提示详情。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="updateresult" device-type="phone,2in1,tablet">UpdateResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updateresult" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>系统更新结果信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">version</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">系统当前版本号。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">status</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#updatestatus">UpdateStatus</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">系统更新状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">errorInfo</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-enterprise-systemmanager#errorinfo">ErrorInfo</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">系统更新错误信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="errorinfo" device-type="phone,2in1,tablet">ErrorInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="errorinfo" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>系统更新错误信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">code</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">错误码。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">message</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">错误描述信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="packagetype" device-type="phone,2in1,tablet">PackageType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="packagetype" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>系统更新包类型。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">FIRMWARE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">固件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="updatestatus" device-type="phone,2in1,tablet">UpdateStatus<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatestatus" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>系统更新状态。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NO_UPDATE_PACKAGE</td>         <td class="cellrowborder" width="33.33333333333333%">-4</td>         <td class="cellrowborder" width="33.33333333333333%">指定版本系统更新包不存在。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">UPDATE_WAITING</td>         <td class="cellrowborder" width="33.33333333333333%">-3</td>         <td class="cellrowborder" width="33.33333333333333%">系统更新包等待安装中。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">UPDATING</td>         <td class="cellrowborder" width="33.33333333333333%">-2</td>         <td class="cellrowborder" width="33.33333333333333%">正在更新。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">UPDATE_FAILURE</td>         <td class="cellrowborder" width="33.33333333333333%">-1</td>         <td class="cellrowborder" width="33.33333333333333%">更新失败。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">UPDATE_SUCCESS</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">更新成功。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="nearlinkprotocol20" device-type="phone,2in1,tablet">NearLinkProtocol<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="nearlinkprotocol20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>星闪协议枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Customization.EnterpriseDeviceManager</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">SSAP</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">SSAP（SparkLink Service Access Protocol）协议。具体请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/nearlink-terminology#section79222173354" target="_blank">SSAP协议</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DATA_TRANSFER</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">数据传输协议。具体请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/nearlink-terminology#section6203121773712" target="_blank">Data Transfer协议</a>。</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>