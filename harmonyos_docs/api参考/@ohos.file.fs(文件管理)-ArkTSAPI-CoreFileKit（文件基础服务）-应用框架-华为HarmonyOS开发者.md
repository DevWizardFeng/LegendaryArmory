<h1 _ngcontent-kni-c119="" class="doc-title ng-star-inserted" title="@ohos.file.fs (文件管理)"> @ohos.file.fs (文件管理) </h1>

<div _ngcontent-kni-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>该模块为基础文件操作API，提供基础文件操作能力，包括文件基本管理、文件目录管理、文件信息统计、文件流式读写等常用功能。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 9开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 602px;">     <h2 id="使用说明" device-type="phone,2in1,tablet,wearable,tv">使用说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="使用说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>使用该功能模块对文件/目录进行操作前，需要先获取其应用沙箱路径，获取方式及其接口用法请参考：</p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>;</li><li>    <span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>获取沙箱路径的方式及其接口用法也可参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-context-stage#获取应用文件路径" target="_blank">应用上下文Context-获取应用文件路径</a>。</p>     <p>将指向资源的字符串称为URI。对于只支持沙箱路径作为入参的接口，可以使用构造fileUri对象并获取其沙箱路径的属性的方式将URI转换为沙箱路径，然后使用文件接口。URI定义解及其转换方式请参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-fileuri">文件URI</a>。</p>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1097px;">     <h2 id="fsstat" device-type="phone,2in1,tablet,wearable,tv">fs.stat<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsstat" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stat(file: string | number): Promise&lt;Stat&gt;</p>     <p>获取文件或目录详细属性信息，使用promise异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录应用沙箱路径path或已打开的文件描述符fd。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stat">Stat</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回文件或目录的具体信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">stat</span>(filePath).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">stat: fs.Stat</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get file info succeed, the size of file is "</span> + stat.<span class="hljs-property">size</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"get file info failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1019px;">     <h2 id="fsstat-1" device-type="phone,2in1,tablet,wearable,tv">fs.stat<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsstat-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stat(file: string | number, callback: AsyncCallback&lt;Stat&gt;): void</p>     <p>获取文件或目录的详细属性信息，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录的应用沙箱路径path或已打开的文件描述符fd。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stat">Stat</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步获取文件或目录的信息之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>fs.<span class="hljs-title function_">stat</span>(pathDir, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, stat: fs.Stat</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"get file info failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get file info succeed, the size of file is "</span> + stat.<span class="hljs-property">size</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 977px;">     <h2 id="fsstatsync" device-type="phone,2in1,tablet,wearable,tv">fs.statSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsstatsync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>statSync(file: string | number): Stat</p>     <p>以同步方法获取文件或目录详细属性信息。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录应用沙箱路径path或已打开的文件描述符fd。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stat">Stat</a></td>         <td class="cellrowborder" width="50%">表示文件或目录的具体信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> stat = fs.<span class="hljs-title function_">statSync</span>(pathDir);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get file info succeed, the size of file is "</span> + stat.<span class="hljs-property">size</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1310px;">     <h2 id="fsaccess" device-type="phone,2in1,tablet,wearable,tv">fs.access<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsaccess" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>access(path: string, mode?: AccessModeType): Promise&lt;boolean&gt;</p>     <p>检查文件或目录是否存在，或校验操作权限，使用promise异步回调。</p>     <p>校验读、写或读写权限不通过会抛出13900012（Permission denied）错误码。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode<sup>12+</sup></td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#accessmodetype12">AccessModeType</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">文件或目录校验的权限。不填该参数则默认校验文件是否存在。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回布尔值。返回true，表示文件存在；返回false，表示文件不存在。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">access</span>(filePath).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (res) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file exists"</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file not exists"</span>);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"access failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1283px;">     <h2 id="fsaccess12" device-type="phone,2in1,tablet,wearable,tv">fs.access<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsaccess12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>access(path: string, mode: AccessModeType, flag: AccessFlagType): Promise&lt;boolean&gt;</p>     <p>检查文件或目录是否在本地，或校验操作权限，使用promise异步回调。</p>     <p>校验读、写或读写权限不通过会抛出13900012（Permission denied）错误码。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode<sup>12+</sup></td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#accessmodetype12">AccessModeType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录校验的权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">flag<sup>12+</sup></td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#accessflagtype12">AccessFlagType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录校验的位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回布尔值。返回true，表示文件或目录在本地且校验权限存在；返回false，表示文件或目录不存在或者文件或目录在云端或其他分布式设备上。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">access</span>(filePath, fs.<span class="hljs-property">AccessModeType</span>.<span class="hljs-property">EXIST</span>, fs.<span class="hljs-property">AccessFlagType</span>.<span class="hljs-property">LOCAL</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (res) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file exists"</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file not exists"</span>);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"access failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1115px;">     <h2 id="fsaccess-1" device-type="phone,2in1,tablet,wearable,tv">fs.access<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsaccess-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>access(path: string, callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>检查文件或目录是否存在，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步检查文件或目录是否存在的回调。如果存在，回调返回true；否则返回false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">access</span>(filePath, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, res: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"access failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-keyword">if</span> (res) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file exists"</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file not exists"</span>);</li><li>    }</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1334px;">     <h2 id="fsaccesssync" device-type="phone,2in1,tablet,wearable,tv">fs.accessSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsaccesssync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>accessSync(path: string, mode?: AccessModeType): boolean</p>     <p>以同步方法检查文件或目录是否存在，或校验操作权限。</p>     <p>校验读、写或读写权限不通过会抛出13900012（Permission denied）错误码。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode<sup>12+</sup></td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#accessmodetype12">AccessModeType</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">文件或目录校验的权限。不填该参数则默认校验文件或目录是否存在。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回true，表示文件存在；返回false，表示文件不存在。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> res = fs.<span class="hljs-title function_">accessSync</span>(filePath);</li><li>  <span class="hljs-keyword">if</span> (res) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file exists"</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file not exists"</span>);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"accessSync failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1307px;">     <h2 id="fsaccesssync12" device-type="phone,2in1,tablet,wearable,tv">fs.accessSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsaccesssync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>accessSync(path: string, mode: AccessModeType, flag: AccessFlagType): boolean</p>     <p>以同步方法检查文件或目录是否在本地，或校验操作权限。</p>     <p>校验读、写或读写权限不通过会抛出13900012（Permission denied）错误码。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode<sup>12+</sup></td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#accessmodetype12">AccessModeType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录校验的权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">flag<sup>12+</sup></td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#accessflagtype12">AccessFlagType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录校验的位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回true，表示文件在本地且校验权限存在；返回false，表示文件不存在或者文件在云端或其他分布式设备上。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> res = fs.<span class="hljs-title function_">accessSync</span>(filePath, fs.<span class="hljs-property">AccessModeType</span>.<span class="hljs-property">EXIST</span>, fs.<span class="hljs-property">AccessFlagType</span>.<span class="hljs-property">LOCAL</span>);</li><li>  <span class="hljs-keyword">if</span> (res) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file exists"</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file not exists"</span>);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"accessSync failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1169px;">     <h2 id="fsclose" device-type="phone,2in1,tablet,wearable,tv">fs.close<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsclose" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(file: number | File): Promise&lt;void&gt;</p>     <p>关闭文件或目录，使用promise异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">number | <a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的File对象或已打开的文件描述符fd。关闭后file对象或文件描述符fd不再具备实际意义，不可再用于进行读写等操作。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath);</li><li>fs.<span class="hljs-title function_">close</span>(file).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"close file succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"close file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1115px;">     <h2 id="fsclose-1" device-type="phone,2in1,tablet,wearable,tv">fs.close<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsclose-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(file: number | File, callback: AsyncCallback&lt;void&gt;): void</p>     <p>关闭文件或目录，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">number | <a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的File对象或已打开的文件描述符fd。关闭后file对象或文件描述符fd不再具备实际意义，不可再用于进行读写等操作。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步关闭文件或目录之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath);</li><li>fs.<span class="hljs-title function_">close</span>(file, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"close file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"close file succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 878px;">     <h2 id="fsclosesync" device-type="phone,2in1,tablet,wearable,tv">fs.closeSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsclosesync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>closeSync(file: number | File): void</p>     <p>以同步方法关闭文件或目录。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">number | <a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的File对象或已打开的文件描述符fd。关闭后file对象或文件描述符fd不再具备实际意义，不可再用于进行读写等操作。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath);</li><li>fs.<span class="hljs-title function_">closeSync</span>(file);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1667px;">     <h2 id="fscopy11" device-type="phone,2in1,tablet,wearable,tv">fs.copy<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscopy11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>copy(srcUri: string, destUri: string, options?: CopyOptions): Promise&lt;void&gt;</p>     <p>拷贝文件或目录，使用promise异步回调。</p>     <p>支持跨设备拷贝。强制覆盖拷贝。入参支持文件或目录URI。</p>     <p>跨端拷贝时，最多同时存在10个拷贝任务；单次拷贝的文件数量不得超过500个。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">srcUri</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待复制文件或目录的URI。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">destUri</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标文件或目录的URI。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#copyoptions11">CopyOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">options中提供拷贝进度回调。不填该参数则无拷贝进度回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">srcDirPathLocal</span>: <span class="hljs-built_in">string</span> = pathDir + <span class="hljs-string">"/src"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dstDirPathLocal</span>: <span class="hljs-built_in">string</span> = pathDir + <span class="hljs-string">"/dest"</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">srcDirUriLocal</span>: <span class="hljs-built_in">string</span> = fileUri.<span class="hljs-title function_">getUriFromPath</span>(srcDirPathLocal);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dstDirUriLocal</span>: <span class="hljs-built_in">string</span> = fileUri.<span class="hljs-title function_">getUriFromPath</span>(dstDirPathLocal);</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">progressListener</span>: fs.<span class="hljs-property">ProgressListener</span> = <span class="hljs-function">(<span class="hljs-params">progress: fs.Progress</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`progressSize: <span class="hljs-subst">${progress.processedSize}</span>, totalSize: <span class="hljs-subst">${progress.totalSize}</span>`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">copyOption</span>: fs.<span class="hljs-property">CopyOptions</span> = {</li><li>  <span class="hljs-string">"progressListener"</span> : progressListener</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  fs.<span class="hljs-title function_">copy</span>(srcDirUriLocal, dstDirUriLocal, copyOption).<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>{</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in copying."</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>)=&gt;</span>{</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to copy. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span>(err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to copy.Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1328px;">     <h2 id="fscopy11-1" device-type="phone,2in1,tablet,wearable,tv">fs.copy<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscopy11-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>copy(srcUri: string, destUri: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>拷贝文件或者目录，使用callback异步回调。</p>     <p>支持跨设备拷贝。强制覆盖拷贝。入参支持文件或目录URI。</p>     <p>跨端拷贝时，最多同时存在10个拷贝任务；单次拷贝的文件数量不得超过500个。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">srcUri</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待复制文件或目录的URI。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">destUri</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标文件或目录的URI。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步拷贝之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">srcDirPathLocal</span>: <span class="hljs-built_in">string</span> = pathDir + <span class="hljs-string">"/src"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dstDirPathLocal</span>: <span class="hljs-built_in">string</span> = pathDir + <span class="hljs-string">"/dest"</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">srcDirUriLocal</span>: <span class="hljs-built_in">string</span> = fileUri.<span class="hljs-title function_">getUriFromPath</span>(srcDirPathLocal);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dstDirUriLocal</span>: <span class="hljs-built_in">string</span> = fileUri.<span class="hljs-title function_">getUriFromPath</span>(dstDirPathLocal);</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  fs.<span class="hljs-title function_">copy</span>(srcDirUriLocal, dstDirUriLocal, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to copy. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in copying."</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span>(err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to copy. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1541px;">     <h2 id="fscopy11-2" device-type="phone,2in1,tablet,wearable,tv">fs.copy<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscopy11-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>copy(srcUri: string, destUri: string, options: CopyOptions, callback: AsyncCallback&lt;void&gt;): void</p>     <p>拷贝文件或者目录，使用callback异步回调。</p>     <p>支持跨设备拷贝。强制覆盖拷贝。入参支持文件或目录URI。</p>     <p>跨端拷贝时，最多同时存在10个拷贝任务；单次拷贝的文件数量不得超过500个。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">srcUri</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待复制文件或目录的URI。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">destUri</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标文件或目录的URI。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#copyoptions11">CopyOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">拷贝进度回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步拷贝之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">srcDirPathLocal</span>: <span class="hljs-built_in">string</span> = pathDir + <span class="hljs-string">"/src"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dstDirPathLocal</span>: <span class="hljs-built_in">string</span> = pathDir + <span class="hljs-string">"/dest"</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">srcDirUriLocal</span>: <span class="hljs-built_in">string</span> = fileUri.<span class="hljs-title function_">getUriFromPath</span>(srcDirPathLocal);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dstDirUriLocal</span>: <span class="hljs-built_in">string</span> = fileUri.<span class="hljs-title function_">getUriFromPath</span>(dstDirPathLocal);</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">progressListener</span>: fs.<span class="hljs-property">ProgressListener</span> = <span class="hljs-function">(<span class="hljs-params">progress: fs.Progress</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`progressSize: <span class="hljs-subst">${progress.processedSize}</span>, totalSize: <span class="hljs-subst">${progress.totalSize}</span>`</span>);</li><li>  };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">copyOption</span>: fs.<span class="hljs-property">CopyOptions</span> = {</li><li>    <span class="hljs-string">"progressListener"</span> : progressListener</li><li>  }</li><li>  fs.<span class="hljs-title function_">copy</span>(srcDirUriLocal, dstDirUriLocal, copyOption, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to copy. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in copying."</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span>(err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to copy. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1283px;">     <h2 id="fscopyfile" device-type="phone,2in1,tablet,wearable,tv">fs.copyFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscopyfile" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>copyFile(src: string | number, dest: string | number, mode?: number): Promise&lt;void&gt;</p>     <p>复制文件，使用promise异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待复制文件的路径或待复制文件的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标文件路径或目标文件的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>mode提供覆盖文件的选项，当前仅支持0，且默认为0。</p>          <p>0：完全覆盖目标文件，未覆盖部分将被裁切掉。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/srcDir/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> dstPath = pathDir + <span class="hljs-string">"/dstDir/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">copyFile</span>(srcPath, dstPath, <span class="hljs-number">0</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"copy file succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"copy file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1205px;">     <h2 id="fscopyfile-1" device-type="phone,2in1,tablet,wearable,tv">fs.copyFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscopyfile-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>copyFile(src: string | number, dest: string | number, mode: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>复制文件，可设置覆盖文件的方式，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待复制文件的路径或待复制文件的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标文件路径或目标文件的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>mode提供覆盖文件的选项，当前仅支持0，且默认为0。</p>          <p>0：完全覆盖目标文件，未覆盖部分将被裁切掉。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步复制文件之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/srcDir/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> dstPath = pathDir + <span class="hljs-string">"/dstDir/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">copyFile</span>(srcPath, dstPath, <span class="hljs-number">0</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"copy file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"copy file succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1088px;">     <h2 id="fscopyfile-2" device-type="phone,2in1,tablet,wearable,tv">fs.copyFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscopyfile-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>copyFile(src: string | number, dest: string | number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>复制文件，覆盖方式为完全覆盖目标文件，未覆盖部分将被裁切。使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待复制文件的路径或待复制文件的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标文件路径或目标文件的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步复制文件之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/srcDir/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> dstPath = pathDir + <span class="hljs-string">"/dstDir/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">copyFile</span>(srcPath, dstPath, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"copy file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"copy file succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 992px;">     <h2 id="fscopyfilesync" device-type="phone,2in1,tablet,wearable,tv">fs.copyFileSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscopyfilesync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>copyFileSync(src: string | number, dest: string | number, mode?: number): void</p>     <p>以同步方法复制文件。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待复制文件的路径或待复制文件的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标文件路径或目标文件的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>mode提供覆盖文件的选项，当前仅支持0，且默认为0。</p>          <p>0：完全覆盖目标文件，未覆盖部分将被裁切掉。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/srcDir/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> dstPath = pathDir + <span class="hljs-string">"/dstDir/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">copyFileSync</span>(srcPath, dstPath);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1571px;">     <h2 id="fscopydir10" device-type="phone,2in1,tablet,wearable,tv">fs.copyDir<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscopydir10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>copyDir(src: string, dest: string, mode?: number): Promise&lt;void&gt;</p>     <p>复制源目录至目标路径下，使用promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">源目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>复制模式，默认值为0。</p>          <p>- mode为0，文件级别抛异常。目标目录下存在与源目录名冲突的目录，若冲突目录下存在同名文件，则抛出异常。源目录下未冲突的文件全部移动至目标目录下，目标目录下未冲突文件将继续保留，且冲突文件信息将在抛出异常的data属性中以Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#conflictfiles10">ConflictFiles</a>&gt;形式提供。</p>          <p>- mode为1，文件级别强制覆盖。目标目录下存在与源目录名冲突的目录，若冲突目录下存在同名文件，则强制覆盖冲突目录下所有同名文件，未冲突文件将继续保留。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// copy directory from srcPath to destPath</span></li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/srcDir/"</span>;</li><li><span class="hljs-keyword">let</span> destPath = pathDir + <span class="hljs-string">"/destDir/"</span>;</li><li>fs.<span class="hljs-title function_">copyDir</span>(srcPath, destPath, <span class="hljs-number">0</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"copy directory succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"copy directory failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1637px;">     <h2 id="fscopydir10-1" device-type="phone,2in1,tablet,wearable,tv">fs.copyDir<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscopydir10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>copyDir(src: string, dest: string, mode: number, callback: AsyncCallback&lt;void, Array&lt;ConflictFiles&gt;&gt;): void</p>     <p>复制源目录至目标路径下，可设置复制模式。使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">源目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>复制模式，默认值为0。</p>          <p>- mode为0，文件级别抛异常。目标目录下存在与源目录名冲突的目录，若冲突目录下存在同名文件，则抛出异常。源目录下未冲突的文件全部移动至目标目录下，目标目录下未冲突文件将继续保留，且冲突文件信息将在抛出异常的data属性中以Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#conflictfiles10">ConflictFiles</a>&gt;形式提供。</p>          <p>- mode为1，文件级别强制覆盖。目标目录下存在与源目录名冲突的目录，若冲突目录下存在同名文件，则强制覆盖冲突目录下所有同名文件，未冲突文件将继续保留。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void, Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#conflictfiles10">ConflictFiles</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步复制目录之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">ConflictFiles</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-comment">// copy directory from srcPath to destPath</span></li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/srcDir/"</span>;</li><li><span class="hljs-keyword">let</span> destPath = pathDir + <span class="hljs-string">"/destDir/"</span>;</li><li>fs.<span class="hljs-title function_">copyDir</span>(srcPath, destPath, <span class="hljs-number">0</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError&lt;<span class="hljs-built_in">Array</span>&lt;ConflictFiles&gt;&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err &amp;&amp; err.<span class="hljs-property">code</span> == <span class="hljs-number">13900015</span> &amp;&amp; err.<span class="hljs-property">data</span>?.<span class="hljs-property">length</span> !== <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; err.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"copy directory failed with conflicting files: "</span> + err.<span class="hljs-property">data</span>[i].<span class="hljs-property">srcFile</span> + <span class="hljs-string">" "</span> + err.<span class="hljs-property">data</span>[i].<span class="hljs-property">destFile</span>);</li><li>    }</li><li>  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"copy directory failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"copy directory succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1232px;">     <h2 id="fscopydir10-2" device-type="phone,2in1,tablet,wearable,tv">fs.copyDir<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscopydir10-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>copyDir(src: string, dest: string, callback: AsyncCallback&lt;void, Array&lt;ConflictFiles&gt;&gt;): void</p>     <p>复制源目录至目标路径下，使用callback异步回调。</p>     <p>如果目标目录下有与源目录名冲突的目录，且冲突目录下有同名文件，则抛出异常。源目录下未冲突的文件全部移动至目标目录下，目标目录下未冲突文件将继续保留，且冲突文件信息将在抛出异常的data属性中以Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#conflictfiles10">ConflictFiles</a>&gt;形式提供。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">源目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void, Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#conflictfiles10">ConflictFiles</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步复制目录之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">ConflictFiles</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-comment">// copy directory from srcPath to destPath</span></li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/srcDir/"</span>;</li><li><span class="hljs-keyword">let</span> destPath = pathDir + <span class="hljs-string">"/destDir/"</span>;</li><li>fs.<span class="hljs-title function_">copyDir</span>(srcPath, destPath, <span class="hljs-function">(<span class="hljs-params">err: BusinessError&lt;<span class="hljs-built_in">Array</span>&lt;ConflictFiles&gt;&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err &amp;&amp; err.<span class="hljs-property">code</span> == <span class="hljs-number">13900015</span> &amp;&amp; err.<span class="hljs-property">data</span>?.<span class="hljs-property">length</span> !== <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; err.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"copy directory failed with conflicting files: "</span> + err.<span class="hljs-property">data</span>[i].<span class="hljs-property">srcFile</span> + <span class="hljs-string">" "</span> + err.<span class="hljs-property">data</span>[i].<span class="hljs-property">destFile</span>);</li><li>    }</li><li>  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"copy directory failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"copy directory succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1448px;">     <h2 id="fscopydirsync10" device-type="phone,2in1,tablet,wearable,tv">fs.copyDirSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscopydirsync10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>copyDirSync(src: string, dest: string, mode?: number): void</p>     <p>以同步方法复制源目录至目标路径下。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">源目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>复制模式，默认值为0。</p>          <p>- mode为0，文件级别抛异常。目标目录下存在与源目录名冲突的目录，若冲突目录下存在同名文件，则抛出异常。源目录下未冲突的文件全部移动至目标目录下，目标目录下未冲突文件将继续保留，且冲突文件信息将在抛出异常的data属性中以Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#conflictfiles10">ConflictFiles</a>&gt;形式提供。</p>          <p>- mode为1，文件级别强制覆盖。目标目录下存在与源目录名冲突的目录，若冲突目录下存在同名文件，则强制覆盖冲突目录下所有同名文件，未冲突文件将继续保留。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// copy directory from srcPath to destPath</span></li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/srcDir/"</span>;</li><li><span class="hljs-keyword">let</span> destPath = pathDir + <span class="hljs-string">"/destDir/"</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  fs.<span class="hljs-title function_">copyDirSync</span>(srcPath, destPath, <span class="hljs-number">0</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"copy directory succeed"</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"copy directory failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1001px;">     <h2 id="fsdup10" device-type="phone,2in1,tablet,wearable,tv">fs.dup<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsdup10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>dup(fd: number): File</p>     <p>复制文件描述符，并返回对应的File对象。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a></td>         <td class="cellrowborder" width="50%">打开的File对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file1 = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">fd</span>: <span class="hljs-built_in">number</span> = file1.<span class="hljs-property">fd</span>;</li><li><span class="hljs-keyword">let</span> file2 = fs.<span class="hljs-title function_">dup</span>(fd);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"The name of the file2 is "</span> + file2.<span class="hljs-property">name</span>);</li><li>fs.<span class="hljs-title function_">closeSync</span>(file1);</li><li>fs.<span class="hljs-title function_">closeSync</span>(file2);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1478px;">     <h2 id="fsconnectdfs12" device-type="phone,2in1,tablet,wearable,tv">fs.connectDfs<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsconnectdfs12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>connectDfs(networkId: string, listeners: DfsListeners): Promise&lt;void&gt;</p>     <p>业务调用connectDfs接口，触发建链。如果对端设备出现异常，业务执行回调DfsListeners内<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#onstatus12">onStatus</a>通知应用。</p>     <p><strong>需要权限</strong>：ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">networkId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设备的网络Id。通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-distributeddevicemanager">distributedDeviceManager</a>接口调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-distributeddevicemanager#devicebasicinfo">deviceBasicInfo</a>获得。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">listeners</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#fsdfslisteners12">DfsListeners</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">分布式文件系统状态监听器。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { distributedDeviceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DistributedServiceKit'</span>;</li><li><span class="hljs-keyword">let</span> dmInstance = distributedDeviceManager.<span class="hljs-title function_">createDeviceManager</span>(<span class="hljs-string">"com.example.filesync"</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">deviceInfoList</span>: <span class="hljs-title class_">Array</span>&lt;distributedDeviceManager.<span class="hljs-property">DeviceBasicInfo</span>&gt; = dmInstance.<span class="hljs-title function_">getAvailableDeviceListSync</span>();</li><li><span class="hljs-keyword">if</span> (deviceInfoList &amp;&amp; deviceInfoList.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Success to get available device list`</span>);</li><li>  <span class="hljs-keyword">let</span> networkId = deviceInfoList[<span class="hljs-number">0</span>].<span class="hljs-property">networkId</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">listeners</span>: fs.<span class="hljs-property">DfsListeners</span> = {</li><li>    <span class="hljs-title function_">onStatus</span>(<span class="hljs-params">networkId, status</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onStatus'</span>);</li><li>    }</li><li>  };</li><li>  fs.<span class="hljs-title function_">connectDfs</span>(networkId, listeners).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Success to connectDfs"</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to connectDfs. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1289px;">     <h2 id="fsdisconnectdfs12" device-type="phone,2in1,tablet,wearable,tv">fs.disconnectDfs<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsdisconnectdfs12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>disconnectDfs(networkId: string): Promise&lt;void&gt;</p>     <p>业务调用disconnectDfs接口，传入networkId参数，触发断链。</p>     <p><strong>需要权限</strong>：ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">networkId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设备的网络Id。通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-distributeddevicemanager">distributedDeviceManager</a>接口调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-distributeddevicemanager#devicebasicinfo">deviceBasicInfo</a>获得。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { distributedDeviceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DistributedServiceKit'</span>;</li><li><span class="hljs-keyword">let</span> dmInstance = distributedDeviceManager.<span class="hljs-title function_">createDeviceManager</span>(<span class="hljs-string">"com.example.filesync"</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">deviceInfoList</span>: <span class="hljs-title class_">Array</span>&lt;distributedDeviceManager.<span class="hljs-property">DeviceBasicInfo</span>&gt; = dmInstance.<span class="hljs-title function_">getAvailableDeviceListSync</span>();</li><li><span class="hljs-keyword">if</span> (deviceInfoList &amp;&amp; deviceInfoList.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Success to get available device list`</span>);</li><li>  <span class="hljs-keyword">let</span> networkId = deviceInfoList[<span class="hljs-number">0</span>].<span class="hljs-property">networkId</span>;</li><li>  fs.<span class="hljs-title function_">disconnectDfs</span>(networkId).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Success to disconnect dfs"</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to disconnect dfs. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  })</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1259px;">     <h2 id="fssetxattr12" device-type="phone,2in1,tablet,wearable,tv">fs.setxattr<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fssetxattr12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setxattr(path: string, key: string, value: string): Promise&lt;void&gt;</p>     <p>设置文件或目录的扩展属性。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">扩展属性的key。仅支持前缀为“user.”的字符串，且长度需小于256字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">扩展属性的value。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> attrKey = <span class="hljs-string">"user.comment"</span>;</li><li><span class="hljs-keyword">let</span> attrValue = <span class="hljs-string">"Test file."</span>;</li><li>
</li><li>fs.<span class="hljs-title function_">setxattr</span>(filePath, attrKey, attrValue).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Set extended attribute successfully."</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Failed to set extended attribute with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1112px;">     <h2 id="fssetxattrsync12" device-type="phone,2in1,tablet,wearable,tv">fs.setxattrSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fssetxattrsync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setxattrSync(path: string, key: string, value: string): void</p>     <p>设置文件或目录的扩展属性。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">扩展属性的key。仅支持前缀为“user.”的字符串，且长度需小于256字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">扩展属性的value。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> attrKey = <span class="hljs-string">"user.comment"</span>;</li><li><span class="hljs-keyword">let</span> attrValue = <span class="hljs-string">"Test file."</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  fs.<span class="hljs-title function_">setxattrSync</span>(filePath, attrKey, attrValue);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Set extended attribute successfully."</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Failed to set extended attribute with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1142px;">     <h2 id="fsgetxattr12" device-type="phone,2in1,tablet,wearable,tv">fs.getxattr<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsgetxattr12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getxattr(path: string, key: string): Promise&lt;string&gt;</p>     <p>获取文件或目录的扩展属性。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">扩展属性的key。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;string&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回扩展属性的value。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> attrKey = <span class="hljs-string">"user.comment"</span>;</li><li>
</li><li>fs.<span class="hljs-title function_">getxattr</span>(filePath, attrKey).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">attrValue: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Get extended attribute succeed, the value is: "</span> + attrValue);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Failed to get extended attribute with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1166px;">     <h2 id="fsgetxattrsync12" device-type="phone,2in1,tablet,wearable,tv">fs.getxattrSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsgetxattrsync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getxattrSync(path: string, key: string): string</p>     <p>使用同步接口获取文件或目录的扩展属性。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">扩展属性的key。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回扩展属性的value。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> attrKey = <span class="hljs-string">"user.comment"</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> attrValue = fs.<span class="hljs-title function_">getxattrSync</span>(filePath, attrKey);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Get extended attribute succeed, the value is: "</span> + attrValue);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Failed to get extended attribute with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1049px;">     <h2 id="fsmkdir" device-type="phone,2in1,tablet,wearable,tv">fs.mkdir<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmkdir" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mkdir(path: string): Promise&lt;void&gt;</p>     <p>创建目录，使用promise异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目录的应用沙箱路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> dirPath = pathDir + <span class="hljs-string">"/testDir"</span>;</li><li>fs.<span class="hljs-title function_">mkdir</span>(dirPath).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"mkdir succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"mkdir failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1190px;">     <h2 id="fsmkdir11" device-type="phone,2in1,tablet,wearable,tv">fs.mkdir<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmkdir11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mkdir(path: string, recursion: boolean): Promise&lt;void&gt;</p>     <p>创建目录，使用promise异步回调。当recursion指定为true时，可递归创建目录。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">recursion</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">是否递归创建目录。recursion指定为true时，可递归创建目录。recursion指定为false时，仅可创建单层目录。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> dirPath = pathDir + <span class="hljs-string">"/testDir1/testDir2/testDir3"</span>;</li><li>fs.<span class="hljs-title function_">mkdir</span>(dirPath, <span class="hljs-literal">true</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"mkdir succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"mkdir failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 995px;">     <h2 id="fsmkdir-1" device-type="phone,2in1,tablet,wearable,tv">fs.mkdir<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmkdir-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mkdir(path: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>创建目录，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步创建目录操作完成之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> dirPath = pathDir + <span class="hljs-string">"/testDir"</span>;</li><li>fs.<span class="hljs-title function_">mkdir</span>(dirPath, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"mkdir failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"mkdir succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1136px;">     <h2 id="fsmkdir11-1" device-type="phone,2in1,tablet,wearable,tv">fs.mkdir<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmkdir11-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mkdir(path: string, recursion: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>创建目录，使用callback异步回调。当recursion指定为true，可递归创建目录。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">recursion</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">是否递归创建目录。recursion指定为true时，可递归创建目录。recursion指定为false时，仅可创建单层目录。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步创建目录操作完成之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> dirPath = pathDir + <span class="hljs-string">"/testDir1/testDir2/testDir3"</span>;</li><li>fs.<span class="hljs-title function_">mkdir</span>(dirPath, <span class="hljs-literal">true</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"mkdir failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"mkdir succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 758px;">     <h2 id="fsmkdirsync" device-type="phone,2in1,tablet,wearable,tv">fs.mkdirSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmkdirsync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mkdirSync(path: string): void</p>     <p>以同步方法创建目录。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目录的应用沙箱路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> dirPath = pathDir + <span class="hljs-string">"/testDir"</span>;</li><li>fs.<span class="hljs-title function_">mkdirSync</span>(dirPath);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 899px;">     <h2 id="fsmkdirsync11" device-type="phone,2in1,tablet,wearable,tv">fs.mkdirSync<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmkdirsync11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mkdirSync(path: string, recursion: boolean): void</p>     <p>以同步方法创建目录。当recursion指定为true，可递归创建目录。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">recursion</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">是否递归创建目录。recursion指定为true时，可递归创建目录。recursion指定为false时，仅可创建单层目录。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> dirPath = pathDir + <span class="hljs-string">"/testDir1/testDir2/testDir3"</span>;</li><li>fs.<span class="hljs-title function_">mkdirSync</span>(dirPath, <span class="hljs-literal">true</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2222px;">     <h2 id="fsopen" device-type="phone,2in1,tablet,wearable,tv">fs.open<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsopen" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>open(path: string, mode?: number): Promise&lt;File&gt;</p>     <p>打开文件或目录，使用promise异步回调。支持使用URI打开文件。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录的应用沙箱路径或文件URI。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>打开文件或目录的<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#openmode">选项</a>，必须指定如下选项中的一个，默认以只读方式打开：</p>          <p>- OpenMode.READ_ONLY(0o0)：只读打开。</p>          <p>- OpenMode.WRITE_ONLY(0o1)：只写打开。</p>          <p>- OpenMode.READ_WRITE(0o2)：读写打开。</p>          <p>可以追加以下功能选项，以按位或的方式组合，默认情况下不追加任何额外选项。</p>          <p>- OpenMode.CREATE(0o100)：如果文件不存在，则创建文件。</p>          <p>- OpenMode.TRUNC(0o1000)：如果文件存在且文件具有写权限，则将其长度裁剪为零。</p>          <p>- OpenMode.APPEND(0o2000)：以追加方式打开，后续写将追加到文件末尾。</p>          <p>- OpenMode.NONBLOCK(0o4000)：如果path指向FIFO、块特殊文件或字符特殊文件，则本次打开及后续 IO 进行非阻塞操作。</p>          <p>- OpenMode.DIR(0o200000)：如果path不指向目录，则出错。不允许附加写权限。</p>          <p>- OpenMode.NOFOLLOW(0o400000)：如果path指向符号链接，则出错。</p>          <p>- OpenMode.SYNC(0o4010000)：以同步IO方式打开文件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回File对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">open</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">file: fs.File</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file fd: "</span> + file.<span class="hljs-property">fd</span>);</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"open file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2192px;">     <h2 id="fsopen-1" device-type="phone,2in1,tablet,wearable,tv">fs.open<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsopen-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>open(path: string, mode: number, callback: AsyncCallback&lt;File&gt;): void</p>     <p>打开文件或目录，可设置打开文件的选项。使用callback异步回调。</p>     <p>支持使用URI打开文件。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录的应用沙箱路径或URI。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>打开文件或目录的<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#openmode">选项</a>，必须指定如下选项中的一个，默认以只读方式打开：</p>          <p>- OpenMode.READ_ONLY(0o0)：只读打开。</p>          <p>- OpenMode.WRITE_ONLY(0o1)：只写打开。</p>          <p>- OpenMode.READ_WRITE(0o2)：读写打开。</p>          <p>给定如下功能选项，以按位或的方式追加，默认不给定任何额外选项：</p>          <p>- OpenMode.CREATE(0o100)：若文件不存在，则创建文件。</p>          <p>- OpenMode.TRUNC(0o1000)：如果文件存在且文件具有写权限，则将其长度裁剪为零。</p>          <p>- OpenMode.APPEND(0o2000)：以追加方式打开，后续写将追加到文件末尾。</p>          <p>- OpenMode.NONBLOCK(0o4000)：如果path指向FIFO、块特殊文件或字符特殊文件，则本次打开及后续 IO 进行非阻塞操作。</p>          <p>- OpenMode.DIR(0o200000)：如果path不指向目录，则出错。不允许附加写权限。</p>          <p>- OpenMode.NOFOLLOW(0o400000)：如果path指向符号链接，则出错。</p>          <p>- OpenMode.SYNC(0o4010000)：以同步IO的方式打开文件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步打开文件之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">open</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, file: fs.File</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"open failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file fd: "</span> + file.<span class="hljs-property">fd</span>);</li><li>    fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1019px;">     <h2 id="fsopen-2" device-type="phone,2in1,tablet,wearable,tv">fs.open<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsopen-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>open(path: string, callback: AsyncCallback&lt;File&gt;): void</p>     <p>打开文件或目录，使用callback异步回调。支持使用URI打开文件。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件或目录的应用沙箱路径或URI。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步打开文件之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">open</span>(filePath, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, file: fs.File</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"open failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file fd: "</span> + file.<span class="hljs-property">fd</span>);</li><li>    fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2126px;">     <h2 id="fsopensync" device-type="phone,2in1,tablet,wearable,tv">fs.openSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsopensync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>openSync(path: string, mode?: number): File</p>     <p>以同步方法打开文件或目录。支持使用URI打开文件。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">打开文件或目录的应用沙箱路径或URI。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>打开文件或目录的<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#openmode">选项</a>，必须指定如下选项中的一个，默认以只读方式打开：</p>          <p>- OpenMode.READ_ONLY(0o0)：只读打开。</p>          <p>- OpenMode.WRITE_ONLY(0o1)：只写打开。</p>          <p>- OpenMode.READ_WRITE(0o2)：读写打开。</p>          <p>给定如下功能选项，以按位或的方式追加，默认不给定任何额外选项：</p>          <p>- OpenMode.CREATE(0o100)：若文件不存在，则创建文件。</p>          <p>- OpenMode.TRUNC(0o1000)：如果文件存在且文件具有写权限，则将其长度裁剪为零。</p>          <p>- OpenMode.APPEND(0o2000)：以追加方式打开，后续写将追加到文件末尾。</p>          <p>- OpenMode.NONBLOCK(0o4000)：如果path指向FIFO、块特殊文件或字符特殊文件，则本次打开及后续 IO 进行非阻塞操作。</p>          <p>- OpenMode.DIR(0o200000)：如果path不指向目录，则出错。不允许附加写权限。</p>          <p>- OpenMode.NOFOLLOW(0o400000)：如果path指向符号链接，则出错。</p>          <p>- OpenMode.SYNC(0o4010000)：以同步IO的方式打开文件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a></td>         <td class="cellrowborder" width="50%">打开的File对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"file fd: "</span> + file.<span class="hljs-property">fd</span>);</li><li>fs.<span class="hljs-title function_">closeSync</span>(file);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1499px;">     <h2 id="fsread" device-type="phone,2in1,tablet,wearable,tv">fs.read<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsread" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>read(fd: number, buffer: ArrayBuffer, options?: ReadOptions): Promise&lt;number&gt;</p>     <p>读取文件数据，使用promise异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于保存读取到的文件数据的缓冲区。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readoptions11">ReadOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- offset，number类型，表示期望读取文件的位置。可选，默认从当前位置开始读。</p>          <p>- length，number类型，表示期望读取数据的长度。可选，默认缓冲区长度。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回实际读取的数据长度（单位：字节）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">4096</span>);</li><li>fs.<span class="hljs-title function_">read</span>(file.<span class="hljs-property">fd</span>, arrayBuffer).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">readLen: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"read file data succeed"</span>);</li><li>  <span class="hljs-keyword">let</span> buf = buffer.<span class="hljs-title function_">from</span>(arrayBuffer, <span class="hljs-number">0</span>, readLen);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The content of file: <span class="hljs-subst">${buf.toString()}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"read file data failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>}).<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1445px;">     <h2 id="fsread-1" device-type="phone,2in1,tablet,wearable,tv">fs.read<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsread-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>read(fd: number, buffer: ArrayBuffer, options?: ReadOptions, callback: AsyncCallback&lt;number&gt;): void</p>     <p>从文件读取数据，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于保存读取到的文件数据的缓冲区。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readoptions11">ReadOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- offset，number类型，表示期望读取文件的位置。可选，默认从当前位置开始读。</p>          <p>- length，number类型，表示期望读取数据的长度。可选，默认缓冲区长度。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步读取数据之后的回调。返回实际读取的数据长度，单位字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">4096</span>);</li><li>fs.<span class="hljs-title function_">read</span>(file.<span class="hljs-property">fd</span>, arrayBuffer, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, readLen: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"read failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"read file data succeed"</span>);</li><li>    <span class="hljs-keyword">let</span> buf = buffer.<span class="hljs-title function_">from</span>(arrayBuffer, <span class="hljs-number">0</span>, readLen);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The content of file: <span class="hljs-subst">${buf.toString()}</span>`</span>);</li><li>  }</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1283px;">     <h2 id="fsreadsync" device-type="phone,2in1,tablet,wearable,tv">fs.readSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsreadsync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readSync(fd: number, buffer: ArrayBuffer, options?: ReadOptions): number</p>     <p>以同步方法从文件读取数据。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于保存读取到的文件数据的缓冲区。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readoptions11">ReadOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- offset，number类型，表示期望读取文件的位置。可选，默认从当前位置开始读。</p>          <p>- length，number类型，表示期望读取数据的长度。可选，默认缓冲区长度。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回实际读取的数据长度（单位：字节）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-keyword">let</span> buf = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">4096</span>);</li><li>fs.<span class="hljs-title function_">readSync</span>(file.<span class="hljs-property">fd</span>, buf);</li><li>fs.<span class="hljs-title function_">closeSync</span>(file);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1141px;">     <h2 id="fsrmdir" device-type="phone,2in1,tablet,wearable,tv">fs.rmdir<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsrmdir" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rmdir(path: string): Promise&lt;void&gt;</p>     <p>删除目录及其所有子目录和文件，使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口支持删除单个文件，但不推荐使用此方法删除单个文件，推荐使用unlink接口删除单个文件。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目录的应用沙箱路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> dirPath = pathDir + <span class="hljs-string">"/testDir"</span>;</li><li>fs.<span class="hljs-title function_">rmdir</span>(dirPath).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"rmdir succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"rmdir failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1063px;">     <h2 id="fsrmdir-1" device-type="phone,2in1,tablet,wearable,tv">fs.rmdir<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsrmdir-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rmdir(path: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>删除目录及其所有子目录和文件，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口支持删除单个文件，但不推荐使用此方法删除单个文件，推荐使用unlink接口删除单个文件。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步删除目录之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> dirPath = pathDir + <span class="hljs-string">"/testDir"</span>;</li><li>fs.<span class="hljs-title function_">rmdir</span>(dirPath, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"rmdir failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"rmdir succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 850px;">     <h2 id="fsrmdirsync" device-type="phone,2in1,tablet,wearable,tv">fs.rmdirSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsrmdirsync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rmdirSync(path: string): void</p>     <p>以同步方法删除目录及其所有子目录和文件。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口支持删除单个文件，但不推荐使用此方法删除单个文件，推荐使用unlinkSync接口删除单个文件。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目录的应用沙箱路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> dirPath = pathDir + <span class="hljs-string">"/testDir"</span>;</li><li>fs.<span class="hljs-title function_">rmdirSync</span>(dirPath);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1049px;">     <h2 id="fsunlink" device-type="phone,2in1,tablet,wearable,tv">fs.unlink<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsunlink" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unlink(path: string): Promise&lt;void&gt;</p>     <p>删除单个文件，使用promise异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">unlink</span>(filePath).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"remove file succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"remove file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 971px;">     <h2 id="fsunlink-1" device-type="phone,2in1,tablet,wearable,tv">fs.unlink<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsunlink-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unlink(path: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>删除文件，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步删除文件之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">unlink</span>(filePath, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"remove file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"remove file succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 758px;">     <h2 id="fsunlinksync" device-type="phone,2in1,tablet,wearable,tv">fs.unlinkSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsunlinksync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unlinkSync(path: string): void</p>     <p>以同步方法删除文件。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">unlinkSync</span>(filePath);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1523px;">     <h2 id="fswrite" device-type="phone,2in1,tablet,wearable,tv">fs.write<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fswrite" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>write(fd: number, buffer: ArrayBuffer | string, options?: WriteOptions): Promise&lt;number&gt;</p>     <p>将数据写入文件，使用promise异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer | string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待写入文件的数据，可来自缓冲区或字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#writeoptions11">WriteOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- offset，number类型，表示期望写入文件的位置。可选，默认从当前位置开始写入。</p>          <p>- length，number类型，表示期望写入数据的长度。可选，默认缓冲区长度。</p>          <p>- encoding，string类型，当数据是string类型时有效，表示数据的编码方式，默认 'utf-8'。当前仅支持 'utf-8'。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回实际写入的数据长度（单位：字节）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"hello, world"</span>;</li><li>fs.<span class="hljs-title function_">write</span>(file.<span class="hljs-property">fd</span>, str).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">writeLen: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"write data to file succeed and size is:"</span> + writeLen);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"write data to file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>}).<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1445px;">     <h2 id="fswrite-1" device-type="phone,2in1,tablet,wearable,tv">fs.write<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fswrite-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>write(fd: number, buffer: ArrayBuffer | string, options?: WriteOptions, callback: AsyncCallback&lt;number&gt;): void</p>     <p>将数据写入文件，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer | string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待写入文件的数据，可来自缓冲区或字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#writeoptions11">WriteOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- offset，number类型，表示期望写入文件的位置。可选，默认从当前位置开始写。</p>          <p>- length，number类型，表示期望写入数据的长度。可选，默认缓冲区长度。</p>          <p>- encoding，string类型，当数据是string类型时有效，表示数据的编码方式，默认 'utf-8'。当前仅支持 'utf-8'。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步将数据写入完成后执行的回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"hello, world"</span>;</li><li>fs.<span class="hljs-title function_">write</span>(file.<span class="hljs-property">fd</span>, str, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, writeLen: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"write data to file failed with error message:"</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"write data to file succeed and size is:"</span> + writeLen);</li><li>  }</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1403px;">     <h2 id="fswritesync" device-type="phone,2in1,tablet,wearable,tv">fs.writeSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fswritesync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeSync(fd: number, buffer: ArrayBuffer | string, options?: WriteOptions): number</p>     <p>以同步方法将数据写入文件。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer | string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待写入文件的数据，可来自缓冲区或字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#writeoptions11">WriteOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- offset，number类型，表示期望写入文件的位置。可选，默认从当前位置开始写。</p>          <p>- length，number类型，表示期望写入数据的长度。可选，默认缓冲区长度。</p>          <p>- encoding，string类型，当数据是string类型时有效，表示数据的编码方式，默认 'utf-8'。当前仅支持 'utf-8'。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回实际写入的数据长度（单位：字节）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"hello, world"</span>;</li><li><span class="hljs-keyword">let</span> writeLen = fs.<span class="hljs-title function_">writeSync</span>(file.<span class="hljs-property">fd</span>, str);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"write data to file succeed and size is:"</span> + writeLen);</li><li>fs.<span class="hljs-title function_">closeSync</span>(file);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1166px;">     <h2 id="fstruncate" device-type="phone,2in1,tablet,wearable,tv">fs.truncate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fstruncate" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>truncate(file: string | number, len?: number): Promise&lt;void&gt;</p>     <p>截断文件，使用promise异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径或已打开的文件描述符fd。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">len</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">文件截断后的长度（单位：字节）。默认为0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">len</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">5</span>;</li><li>fs.<span class="hljs-title function_">truncate</span>(filePath, len).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"truncate file succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"truncate file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1112px;">     <h2 id="fstruncate-1" device-type="phone,2in1,tablet,wearable,tv">fs.truncate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fstruncate-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>truncate(file: string | number, len?: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>截断文件，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径或已打开的文件描述符fd。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">len</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">文件截断后的长度，以字节为单位。默认为0。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，本调用无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">len</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">5</span>;</li><li>fs.<span class="hljs-title function_">truncate</span>(filePath, len, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"truncate failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"truncate succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 875px;">     <h2 id="fstruncatesync" device-type="phone,2in1,tablet,wearable,tv">fs.truncateSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fstruncatesync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>truncateSync(file: string | number, len?: number): void</p>     <p>以同步方法截断文件内容。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">string | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径或已打开的文件描述符fd。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">len</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">文件截断后的长度（单位：字节）。默认为0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">len</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">5</span>;</li><li>fs.<span class="hljs-title function_">truncateSync</span>(filePath, len);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1286px;">     <h2 id="fsreadlines11" device-type="phone,2in1,tablet,wearable,tv">fs.readLines<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsreadlines11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readLines(filePath: string, options?: Options): Promise&lt;ReaderIterator&gt;</p>     <p>逐行读取文件文本内容，使用promise异步回调。只支持读取utf-8格式文件。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">filePath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#options11">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>可选项。支持以下选项：</p>          <p>- encoding，string类型，当数据是 string 类型时有效，表示数据的编码方式，默认 'utf-8'，仅支持 'utf-8'。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readeriterator11">ReaderIterator</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回文件读取迭代器。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">Options</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: <span class="hljs-title class_">Options</span> = {</li><li>  <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf-8'</span></li><li>};</li><li>fs.<span class="hljs-title function_">readLines</span>(filePath, options).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">readerIterator: fs.ReaderIterator</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> it = readerIterator.<span class="hljs-title function_">next</span>(); !it.<span class="hljs-property">done</span>; it = readerIterator.<span class="hljs-title function_">next</span>()) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"content: "</span> + it.<span class="hljs-property">value</span>);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"readLines failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1232px;">     <h2 id="fsreadlines11-1" device-type="phone,2in1,tablet,wearable,tv">fs.readLines<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsreadlines11-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readLines(filePath: string, options?: Options, callback: AsyncCallback&lt;ReaderIterator&gt;): void</p>     <p>逐行读取文件文本内容，使用callback异步回调，只支持读取utf-8格式文件。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">filePath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#options11">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>可选项。支持以下选项：</p>          <p>- encoding，string类型，当数据是 string 类型时有效，表示数据的编码方式，默认 'utf-8'，仅支持 'utf-8'。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readeriterator11">ReaderIterator</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">逐行读取文件文本内容回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">Options</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: <span class="hljs-title class_">Options</span> = {</li><li>  <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf-8'</span></li><li>};</li><li>fs.<span class="hljs-title function_">readLines</span>(filePath, options, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, readerIterator: fs.ReaderIterator</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"readLines failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> it = readerIterator.<span class="hljs-title function_">next</span>(); !it.<span class="hljs-property">done</span>; it = readerIterator.<span class="hljs-title function_">next</span>()) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"content: "</span> + it.<span class="hljs-property">value</span>);</li><li>    }</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1190px;">     <h2 id="fsreadlinessync11" device-type="phone,2in1,tablet,wearable,tv">fs.readLinesSync<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsreadlinessync11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readLinesSync(filePath: string, options?: Options): ReaderIterator</p>     <p>以同步方式逐行读取文件的文本内容。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">filePath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#options11">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>可选项。支持以下选项：</p>          <p>- encoding，string类型，当数据是 string 类型时有效，表示数据的编码方式，默认 'utf-8'，仅支持 'utf-8'。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readeriterator11">ReaderIterator</a></td>         <td class="cellrowborder" width="50%">返回文件读取迭代器。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">Options</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: <span class="hljs-title class_">Options</span> = {</li><li>  <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf-8'</span></li><li>};</li><li><span class="hljs-keyword">let</span> readerIterator = fs.<span class="hljs-title function_">readLinesSync</span>(filePath, options);</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> it = readerIterator.<span class="hljs-title function_">next</span>(); !it.<span class="hljs-property">done</span>; it = readerIterator.<span class="hljs-title function_">next</span>()) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"content: "</span> + it.<span class="hljs-property">value</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="readeriterator11" device-type="phone,2in1,tablet,wearable,tv">ReaderIterator<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readeriterator11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文件读取迭代器。在调用ReaderIterator的方法前，需要先通过readLines方法（同步或异步）来构建一个ReaderIterator实例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1062px;">     <h3 id="next11" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">next<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="next11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>next(): ReaderIteratorResult</p>     <p>获取迭代器下一项内容。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readeriteratorresult11">ReaderIteratorResult</a></td>         <td class="cellrowborder" width="50%">文件读取迭代器返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>如果ReaderIterator读取的当前行的编码方式不是'utf-8'，接口返回错误码13900037。</p>      </div></div></div>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">Options</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: <span class="hljs-title class_">Options</span> = {</li><li>  <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf-8'</span></li><li>};</li><li>fs.<span class="hljs-title function_">readLines</span>(filePath, options).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">readerIterator: fs.ReaderIterator</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> it = readerIterator.<span class="hljs-title function_">next</span>(); !it.<span class="hljs-property">done</span>; it = readerIterator.<span class="hljs-title function_">next</span>()) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"content: "</span> + it.<span class="hljs-property">value</span>);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"readLines failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 402px;">     <h2 id="readeriteratorresult11" device-type="phone,2in1,tablet,wearable,tv">ReaderIteratorResult<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readeriteratorresult11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文件读取迭代器返回结果，支持ReaderIterator接口使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.64.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.4.1.4.1.2" width="33.33333333333333%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">done</td>         <td class="cellrowborder" width="33.33333333333333%">boolean</td>         <td class="cellrowborder" width="33.33333333333333%">迭代器是否已完成迭代。true：已完成迭代；false：未完成迭代。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">value</td>         <td class="cellrowborder" width="33.33333333333333%">string</td>         <td class="cellrowborder" width="33.33333333333333%">逐行读取的文件文本内容。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1358px;">     <h2 id="fsreadtext" device-type="phone,2in1,tablet,wearable,tv">fs.readText<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsreadtext" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readText(filePath: string, options?: ReadTextOptions): Promise&lt;string&gt;</p>     <p>基于文本方式读取文件（即直接读取文件的文本内容），使用promise异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">filePath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readtextoptions11">ReadTextOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- offset，number类型，表示期望读取文件的位置。可选，默认从当前位置开始读取。</p>          <p>- length，number类型，表示期望读取数据的长度。可选，默认文件长度。</p>          <p>- encoding，string类型，当数据是 string 类型时有效，表示数据的编码方式，默认 'utf-8'，仅支持 'utf-8'。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;string&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回读取文件的内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">readText</span>(filePath).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">str: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"readText succeed:"</span> + str);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"readText failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1448px;">     <h2 id="fsreadtext-1" device-type="phone,2in1,tablet,wearable,tv">fs.readText<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsreadtext-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readText(filePath: string, options?: ReadTextOptions, callback: AsyncCallback&lt;string&gt;): void</p>     <p>基于文本方式读取文件内容，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">filePath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readtextoptions11">ReadTextOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- offset，number类型，表示期望读取文件的位置。可选，默认从当前位置开始读取。</p>          <p>- length，number类型，表示期望读取数据的长度。可选，默认文件长度。</p>          <p>- encoding，string类型，表示数据的编码方式，默认 'utf-8'，仅支持 'utf-8'。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回读取文件的内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">ReadTextOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stat = fs.<span class="hljs-title function_">statSync</span>(filePath);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">readTextOption</span>: <span class="hljs-title class_">ReadTextOptions</span> = {</li><li>    <span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>,</li><li>    <span class="hljs-attr">length</span>: stat.<span class="hljs-property">size</span>,</li><li>    <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf-8'</span></li><li>};</li><li>fs.<span class="hljs-title function_">readText</span>(filePath, readTextOption, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, str: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"readText failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"readText succeed:"</span> + str);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1454px;">     <h2 id="fsreadtextsync" device-type="phone,2in1,tablet,wearable,tv">fs.readTextSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsreadtextsync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readTextSync(filePath: string, options?: ReadTextOptions): string</p>     <p>以同步方法基于文本方式读取文件（即直接读取文件的文本内容）。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">filePath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readtextoptions11">ReadTextOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- offset，number类型，表示期望读取文件的位置。可选，默认从当前位置开始读取。</p>          <p>- length，number类型，表示期望读取数据的长度。可选，默认文件长度。</p>          <p>- encoding，string类型，当数据是 string 类型时有效，表示数据的编码方式，默认 'utf-8'，仅支持 'utf-8'。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回读取文件的内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">ReadTextOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">readTextOptions</span>: <span class="hljs-title class_">ReadTextOptions</span> = {</li><li>  <span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>,</li><li>  <span class="hljs-attr">length</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf-8'</span></li><li>};</li><li><span class="hljs-keyword">let</span> stat = fs.<span class="hljs-title function_">statSync</span>(filePath);</li><li>readTextOptions.<span class="hljs-property">length</span> = stat.<span class="hljs-property">size</span>;</li><li><span class="hljs-keyword">let</span> str = fs.<span class="hljs-title function_">readTextSync</span>(filePath, readTextOptions);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"readText succeed:"</span> + str);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1025px;">     <h2 id="fslstat" device-type="phone,2in1,tablet,wearable,tv">fs.lstat<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fslstat" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>lstat(path: string): Promise&lt;Stat&gt;</p>     <p>获取链接文件信息，使用promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.68.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stat">Stat</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回Stat对象，表示文件的具体信息，详情见Stat。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/linkToFile"</span>;</li><li>fs.<span class="hljs-title function_">lstat</span>(filePath).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">stat: fs.Stat</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"lstat succeed, the size of file is "</span> + stat.<span class="hljs-property">size</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"lstat failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 947px;">     <h2 id="fslstat-1" device-type="phone,2in1,tablet,wearable,tv">fs.lstat<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fslstat-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>lstat(path: string, callback: AsyncCallback&lt;Stat&gt;): void</p>     <p>获取链接文件信息，使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stat">Stat</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步获取文件具体信息之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/linkToFile"</span>;</li><li>fs.<span class="hljs-title function_">lstat</span>(filePath, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, stat: fs.Stat</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"lstat failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"lstat succeed, the size of file is "</span> + stat.<span class="hljs-property">size</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 905px;">     <h2 id="fslstatsync" device-type="phone,2in1,tablet,wearable,tv">fs.lstatSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fslstatsync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>lstatSync(path: string): Stat</p>     <p>以同步方法获取链接文件信息。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stat">Stat</a></td>         <td class="cellrowborder" width="50%">表示文件的具体信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/linkToFile"</span>;</li><li><span class="hljs-keyword">let</span> fileStat = fs.<span class="hljs-title function_">lstatSync</span>(filePath);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"lstat succeed, the size of file is "</span> + fileStat.<span class="hljs-property">size</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1210px;">     <h2 id="fsrename" device-type="phone,2in1,tablet,wearable,tv">fs.rename<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsrename" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rename(oldPath: string, newPath: string): Promise&lt;void&gt;</p>     <p>重命名文件或目录，使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持在分布式文件路径下操作。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">oldPath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱原路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">newPath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱新路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> srcFile = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> dstFile = pathDir + <span class="hljs-string">"/new.txt"</span>;</li><li>fs.<span class="hljs-title function_">rename</span>(srcFile, dstFile).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"rename succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"rename failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1156px;">     <h2 id="fsrename-1" device-type="phone,2in1,tablet,wearable,tv">fs.rename<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsrename-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rename(oldPath: string, newPath: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>重命名文件或目录，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持在分布式文件路径下操作。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">oldPath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱原路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">newPath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱新路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步重命名文件之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> srcFile = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> dstFile = pathDir + <span class="hljs-string">"/new.txt"</span>;</li><li>fs.<span class="hljs-title function_">rename</span>(srcFile, dstFile, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"rename failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"rename succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 919px;">     <h2 id="fsrenamesync" device-type="phone,2in1,tablet,wearable,tv">fs.renameSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsrenamesync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>renameSync(oldPath: string, newPath: string): void</p>     <p>以同步方法重命名文件或目录。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持在分布式文件路径下操作。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">oldPath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱原路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">newPath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱新路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> srcFile = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> dstFile = pathDir + <span class="hljs-string">"/new.txt"</span>;</li><li>fs.<span class="hljs-title function_">renameSync</span>(srcFile, dstFile);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1073px;">     <h2 id="fsfsync" device-type="phone,2in1,tablet,wearable,tv">fs.fsync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsfsync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fsync(fd: number): Promise&lt;void&gt;</p>     <p>将文件系统缓存数据写入磁盘，使用promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath);</li><li>fs.<span class="hljs-title function_">fsync</span>(file.<span class="hljs-property">fd</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"sync data succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"sync data failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>}).<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 995px;">     <h2 id="fsfsync-1" device-type="phone,2in1,tablet,wearable,tv">fs.fsync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsfsync-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fsync(fd: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>将文件系统缓存数据写入磁盘，使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步将文件数据同步之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath);</li><li>fs.<span class="hljs-title function_">fsync</span>(file.<span class="hljs-property">fd</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"fsync failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"fsync succeed"</span>);</li><li>  }</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 758px;">     <h2 id="fsfsyncsync" device-type="phone,2in1,tablet,wearable,tv">fs.fsyncSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsfsyncsync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fsyncSync(fd: number): void</p>     <p>以同步方法将文件系统缓存数据写入磁盘。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath);</li><li>fs.<span class="hljs-title function_">fsyncSync</span>(file.<span class="hljs-property">fd</span>);</li><li>fs.<span class="hljs-title function_">closeSync</span>(file);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1073px;">     <h2 id="fsfdatasync" device-type="phone,2in1,tablet,wearable,tv">fs.fdatasync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsfdatasync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fdatasync(fd: number): Promise&lt;void&gt;</p>     <p>实现文件内容数据同步，使用promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath);</li><li>fs.<span class="hljs-title function_">fdatasync</span>(file.<span class="hljs-property">fd</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"sync data succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"sync data failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>}).<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 995px;">     <h2 id="fsfdatasync-1" device-type="phone,2in1,tablet,wearable,tv">fs.fdatasync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsfdatasync-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fdatasync(fd: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>实现文件内容数据同步，使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步将文件内容数据同步之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath);</li><li>fs.<span class="hljs-title function_">fdatasync</span>(file.<span class="hljs-property">fd</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"fdatasync failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"fdatasync succeed"</span>);</li><li>  }</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 758px;">     <h2 id="fsfdatasyncsync" device-type="phone,2in1,tablet,wearable,tv">fs.fdatasyncSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsfdatasyncsync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fdatasyncSync(fd: number): void</p>     <p>以同步方法实现文件内容的数据同步。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath);</li><li>fs.<span class="hljs-title function_">fdatasyncSync</span>(file.<span class="hljs-property">fd</span>);</li><li>fs.<span class="hljs-title function_">closeSync</span>(file);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1118px;">     <h2 id="fssymlink" device-type="phone,2in1,tablet,wearable,tv">fs.symlink<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fssymlink" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>symlink(target: string, srcPath: string): Promise&lt;void&gt;</p>     <p>基于文件路径创建符号链接，使用promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">target</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要链接的目标文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">srcPath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">符号链接文件的应用沙箱路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> srcFile = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> dstFile = pathDir + <span class="hljs-string">"/test"</span>;</li><li>fs.<span class="hljs-title function_">symlink</span>(srcFile, dstFile).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"symlink succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"symlink failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1064px;">     <h2 id="fssymlink-1" device-type="phone,2in1,tablet,wearable,tv">fs.symlink<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fssymlink-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>symlink(target: string, srcPath: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>基于文件路径创建符号链接，使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">target</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要链接的目标文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">srcPath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">符号链接文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步创建符号链接信息之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> srcFile = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> dstFile = pathDir + <span class="hljs-string">"/test"</span>;</li><li>fs.<span class="hljs-title function_">symlink</span>(srcFile, dstFile, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"symlink failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"symlink succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 827px;">     <h2 id="fssymlinksync" device-type="phone,2in1,tablet,wearable,tv">fs.symlinkSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fssymlinksync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>symlinkSync(target: string, srcPath: string): void</p>     <p>以同步的方法基于文件路径创建符号链接。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">target</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要链接的目标文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">srcPath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">符号链接文件的应用沙箱路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> srcFile = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> dstFile = pathDir + <span class="hljs-string">"/test"</span>;</li><li>fs.<span class="hljs-title function_">symlinkSync</span>(srcFile, dstFile);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1454px;">     <h2 id="fslistfile" device-type="phone,2in1,tablet,wearable,tv">fs.listFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fslistfile" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>listFile(path: string, options?: ListFileOptions): Promise&lt;string[]&gt;</p>     <p>默认列出当前目录下所有文件名和目录名。支持过滤。使用promise异步回调。</p>     <p>可通过配置options中recursion参数实现递归列出所有文件的相对路径，相对路径以“/”开头。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#listfileoptions11">ListFileOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">文件过滤选项。默认不进行过滤。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;string[]&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回文件名数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">Filter</span>, <span class="hljs-title class_">ListFileOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">listFileOption</span>: <span class="hljs-title class_">ListFileOptions</span> = {</li><li>  <span class="hljs-attr">recursion</span>: <span class="hljs-literal">false</span>,</li><li>  <span class="hljs-attr">listNum</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">filter</span>: {</li><li>    <span class="hljs-attr">suffix</span>: [<span class="hljs-string">".png"</span>, <span class="hljs-string">".jpg"</span>, <span class="hljs-string">".jpeg"</span>],</li><li>    <span class="hljs-attr">displayName</span>: [<span class="hljs-string">"*abc"</span>, <span class="hljs-string">"efg*"</span>],</li><li>    <span class="hljs-attr">fileSizeOver</span>: <span class="hljs-number">1024</span></li><li>  }</li><li>}</li><li>fs.<span class="hljs-title function_">listFile</span>(pathDir, listFileOption).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">filenames: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"listFile succeed"</span>);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; filenames.<span class="hljs-property">length</span>; i++) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"fileName: %s"</span>, filenames[i]);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"list file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1400px;">     <h2 id="fslistfile-1" device-type="phone,2in1,tablet,wearable,tv">fs.listFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fslistfile-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>listFile(path: string, options?: ListFileOptions, callback: AsyncCallback&lt;string[]&gt;): void</p>     <p>默认列出当前目录下所有文件名和目录名。支持过滤。使用callback异步回调。</p>     <p>可通过配置options中recursion参数实现递归列出所有文件的相对路径，相对路径以“/”开头。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#listfileoptions11">ListFileOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">文件过滤选项。默认不进行过滤。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;string[]&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步列出文件名数组之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">Filter</span>, <span class="hljs-title class_">ListFileOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">listFileOption</span>: <span class="hljs-title class_">ListFileOptions</span> = {</li><li>  <span class="hljs-attr">recursion</span>: <span class="hljs-literal">false</span>,</li><li>  <span class="hljs-attr">listNum</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">filter</span>: {</li><li>    <span class="hljs-attr">suffix</span>: [<span class="hljs-string">".png"</span>, <span class="hljs-string">".jpg"</span>, <span class="hljs-string">".jpeg"</span>],</li><li>    <span class="hljs-attr">displayName</span>: [<span class="hljs-string">"*abc"</span>, <span class="hljs-string">"efg*"</span>],</li><li>    <span class="hljs-attr">fileSizeOver</span>: <span class="hljs-number">1024</span></li><li>  }</li><li>};</li><li>fs.<span class="hljs-title function_">listFile</span>(pathDir, listFileOption, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, filenames: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"list file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"listFile succeed"</span>);</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; filenames.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"filename: %s"</span>, filenames[i]);</li><li>    }</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1358px;">     <h2 id="fslistfilesync" device-type="phone,2in1,tablet,wearable,tv">fs.listFileSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fslistfilesync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>listFileSync(path: string, options?: ListFileOptions): string[]</p>     <p>默认以同步方式列出当前目录下所有文件名和目录名。支持过滤。</p>     <p>可通过配置options中recursion参数实现递归列出所有文件的相对路径，相对路径以“/”开头。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.85.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#listfileoptions11">ListFileOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">文件过滤选项。默认不进行过滤。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string[]</td>         <td class="cellrowborder" width="50%">返回文件名数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">Filter</span>, <span class="hljs-title class_">ListFileOptions</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">listFileOption</span>: <span class="hljs-title class_">ListFileOptions</span> = {</li><li>  <span class="hljs-attr">recursion</span>: <span class="hljs-literal">false</span>,</li><li>  <span class="hljs-attr">listNum</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">filter</span>: {</li><li>    <span class="hljs-attr">suffix</span>: [<span class="hljs-string">".png"</span>, <span class="hljs-string">".jpg"</span>, <span class="hljs-string">".jpeg"</span>],</li><li>    <span class="hljs-attr">displayName</span>: [<span class="hljs-string">"*abc"</span>, <span class="hljs-string">"efg*"</span>],</li><li>    <span class="hljs-attr">fileSizeOver</span>: <span class="hljs-number">1024</span></li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> filenames = fs.<span class="hljs-title function_">listFileSync</span>(pathDir, listFileOption);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"listFile succeed"</span>);</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; filenames.<span class="hljs-property">length</span>; i++) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"filename: %s"</span>, filenames[i]);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1115px;">     <h2 id="fslseek11" device-type="phone,2in1,tablet,wearable,tv">fs.lseek<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fslseek11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>lseek(fd: number, offset: number, whence?: WhenceType): number</p>     <p>调整文件偏移指针位置。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.86.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">相对偏移位置，单位为字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">whence</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#whencetype11">WhenceType</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">偏移指针相对位置类型。不指定则默认为文件起始位置处。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">当前文件偏移指针位置（相对于文件头的偏移量，单位为字节）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'The current offset is at '</span> + fs.<span class="hljs-title function_">lseek</span>(file.<span class="hljs-property">fd</span>, <span class="hljs-number">5</span>, fs.<span class="hljs-property">WhenceType</span>.<span class="hljs-property">SEEK_SET</span>));</li><li>fs.<span class="hljs-title function_">closeSync</span>(file);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1903px;">     <h2 id="fsmovedir10" device-type="phone,2in1,tablet,wearable,tv">fs.moveDir<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmovedir10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveDir(src: string, dest: string, mode?: number): Promise&lt;void&gt;</p>     <p>移动源目录至目标路径下，使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持在分布式文件路径下操作。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">源目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>移动模式，默认值为0。</p>          <p>- mode为0，目录级别抛异常。若目标目录下存在与源目录名冲突的非空目录，则抛出异常。</p>          <p>- mode为1，文件级别抛异常。目标目录下存在与源目录名冲突的目录，若冲突目录下存在同名文件，则抛出异常。源目录下未冲突的文件全部移动至目标目录下，目标目录下未冲突文件将继续保留，且冲突文件信息将在抛出异常的data属性中以Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#conflictfiles10">ConflictFiles</a>&gt;形式提供。</p>          <p>- mode为2，文件级别强制覆盖。目标目录下存在与源目录名冲突的目录，若冲突目录下存在同名文件，则强制覆盖冲突目录下所有同名文件，未冲突文件将继续保留。</p>          <p>- mode为3，目录级别强制覆盖。移动源目录至目标目录下，目标目录下移动的目录内容与源目录完全一致。若目标目录下存在与源目录名冲突的目录，该目录下的所有原始文件将被删除。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.87.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/srcDir"</span>;</li><li><span class="hljs-keyword">let</span> destPath = pathDir + <span class="hljs-string">"/destDir"</span>;</li><li>fs.<span class="hljs-title function_">moveDir</span>(srcPath, destPath, <span class="hljs-number">1</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"move directory succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"move directory failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1969px;">     <h2 id="fsmovedir10-1" device-type="phone,2in1,tablet,wearable,tv">fs.moveDir<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmovedir10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveDir(src: string, dest: string, mode: number, callback: AsyncCallback&lt;void, Array&lt;ConflictFiles&gt;&gt;): void</p>     <p>移动源目录至目标路径下，支持设置移动模式。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持在分布式文件路径下操作。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.88.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">源目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>移动模式，默认值为0。</p>          <p>- mode为0，目录级别抛异常。若目标目录下存在与源目录名冲突的目录，则抛出异常。</p>          <p>- mode为1，文件级别抛异常。目标目录下存在与源目录名冲突的目录，若冲突目录下存在同名文件，则抛出异常。源目录下未冲突的文件全部移动至目标目录下，目标目录下未冲突文件将继续保留，且冲突文件信息将在抛出异常的data属性中以Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#conflictfiles10">ConflictFiles</a>&gt;形式提供。</p>          <p>- mode为2，文件级别强制覆盖。目标目录下存在与源目录名冲突的目录，若冲突目录下存在同名文件，则强制覆盖冲突目录下所有同名文件，未冲突文件将继续保留。</p>          <p>- mode为3，目录级别强制覆盖。移动源目录至目标目录下，目标目录下移动的目录内容与源目录完全一致。若目标目录下存在与源目录名冲突的目录，该目录下所有原始文件将被删除。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void, Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#conflictfiles10">ConflictFiles</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步移动目录之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">ConflictFiles</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/srcDir"</span>;</li><li><span class="hljs-keyword">let</span> destPath = pathDir + <span class="hljs-string">"/destDir"</span>;</li><li>fs.<span class="hljs-title function_">moveDir</span>(srcPath, destPath, <span class="hljs-number">1</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError&lt;<span class="hljs-built_in">Array</span>&lt;ConflictFiles&gt;&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err &amp;&amp; err.<span class="hljs-property">code</span> == <span class="hljs-number">13900015</span> &amp;&amp; err.<span class="hljs-property">data</span>?.<span class="hljs-property">length</span> !== <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; err.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"move directory failed with conflicting files: "</span> + err.<span class="hljs-property">data</span>[i].<span class="hljs-property">srcFile</span> + <span class="hljs-string">" "</span> + err.<span class="hljs-property">data</span>[i].<span class="hljs-property">destFile</span>);</li><li>    }</li><li>  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"move directory failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"move directory succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1276px;">     <h2 id="fsmovedir10-2" device-type="phone,2in1,tablet,wearable,tv">fs.moveDir<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmovedir10-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveDir(src: string, dest: string, callback: AsyncCallback&lt;void, Array&lt;ConflictFiles&gt;&gt;): void</p>     <p>移动源目录至目标路径下。使用callback异步回调。</p>     <p>移动模式为目录级别抛异常。当目标目录下存在与源目录名冲突的目录，则抛出异常。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持在分布式文件路径下操作。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.89.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">源目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void, Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#conflictfiles10">ConflictFiles</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步移动目录之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">ConflictFiles</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/srcDir"</span>;</li><li><span class="hljs-keyword">let</span> destPath = pathDir + <span class="hljs-string">"/destDir"</span>;</li><li>fs.<span class="hljs-title function_">moveDir</span>(srcPath, destPath, <span class="hljs-function">(<span class="hljs-params">err: BusinessError&lt;<span class="hljs-built_in">Array</span>&lt;ConflictFiles&gt;&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err &amp;&amp; err.<span class="hljs-property">code</span> == <span class="hljs-number">13900015</span> &amp;&amp; err.<span class="hljs-property">data</span>?.<span class="hljs-property">length</span> !== <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; err.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"move directory failed with conflicting files: "</span> + err.<span class="hljs-property">data</span>[i].<span class="hljs-property">srcFile</span> + <span class="hljs-string">" "</span> + err.<span class="hljs-property">data</span>[i].<span class="hljs-property">destFile</span>);</li><li>    }</li><li>  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"move directory failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"move directory succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1948px;">     <h2 id="fsmovedirsync10" device-type="phone,2in1,tablet,wearable,tv">fs.moveDirSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmovedirsync10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveDirSync(src: string, dest: string, mode?: number): void</p>     <p>以同步方法移动源目录至目标路径下。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持在分布式文件路径下操作。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.90.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">源目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标目录的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>移动模式，默认值为0。</p>          <p>- mode为0，目录级别抛异常。若目标目录下存在与源目录名冲突的目录，则抛出异常。</p>          <p>- mode为1，文件级别抛异常。目标目录下存在与源目录名冲突的目录，若冲突目录下存在同名文件，则抛出异常。源目录下未冲突的文件全部移动至目标目录下，目标目录下未冲突文件将继续保留，且冲突文件信息将在抛出异常的data属性中以Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#conflictfiles10">ConflictFiles</a>&gt;形式提供。</p>          <p>- mode为2，文件级别强制覆盖。目标目录下存在与源目录名冲突的目录，若冲突目录下存在同名文件，则强制覆盖冲突目录下所有同名文件，未冲突文件将继续保留。</p>          <p>- mode为3，目录级别强制覆盖。移动源目录至目标目录下，目标目录下移动的目录内容与源目录完全一致。若目标目录下存在与源目录名冲突的目录，该目录下所有原始文件将被删除。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">ConflictFiles</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/srcDir"</span>;</li><li><span class="hljs-keyword">let</span> destPath = pathDir + <span class="hljs-string">"/destDir"</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  fs.<span class="hljs-title function_">moveDirSync</span>(srcPath, destPath, <span class="hljs-number">1</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"move directory succeed"</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>&lt;<span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">ConflictFiles</span>&gt;&gt; = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>&lt;<span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">ConflictFiles</span>&gt;&gt;;</li><li>  <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span> == <span class="hljs-number">13900015</span> &amp;&amp; err.<span class="hljs-property">data</span>?.<span class="hljs-property">length</span> !== <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; err.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"move directory failed with conflicting files: "</span> + err.<span class="hljs-property">data</span>[i].<span class="hljs-property">srcFile</span> + <span class="hljs-string">" "</span> + err.<span class="hljs-property">data</span>[i].<span class="hljs-property">destFile</span>);</li><li>    }</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"move directory failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1303px;">     <h2 id="fsmovefile" device-type="phone,2in1,tablet,wearable,tv">fs.moveFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmovefile" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveFile(src: string, dest: string, mode?: number): Promise&lt;void&gt;</p>     <p>移动文件，使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持在分布式文件路径下操作。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.91.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">源文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">移动模式。若mode为0，移动位置存在同名文件时，强制移动覆盖。若mode为1，移动位置存在同名文件时，抛出异常。默认为0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.91.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/source.txt"</span>;</li><li><span class="hljs-keyword">let</span> destPath = pathDir + <span class="hljs-string">"/dest.txt"</span>;</li><li>fs.<span class="hljs-title function_">moveFile</span>(srcPath, destPath, <span class="hljs-number">0</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"move file succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"move file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1225px;">     <h2 id="fsmovefile-1" device-type="phone,2in1,tablet,wearable,tv">fs.moveFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmovefile-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveFile(src: string, dest: string, mode: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>移动文件，支持设置移动模式。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持在分布式文件路径下操作。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">源文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">移动模式。若mode为0，移动位置存在同名文件时，强制移动覆盖。若mode为1，移动位置存在同名文件时，抛出异常。默认为0。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步移动文件之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/source.txt"</span>;</li><li><span class="hljs-keyword">let</span> destPath = pathDir + <span class="hljs-string">"/dest.txt"</span>;</li><li>fs.<span class="hljs-title function_">moveFile</span>(srcPath, destPath, <span class="hljs-number">0</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"move file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"move file succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1084px;">     <h2 id="fsmovefile-2" device-type="phone,2in1,tablet,wearable,tv">fs.moveFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmovefile-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveFile(src: string, dest: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>移动文件。如果移动位置存在同名文件，将强制覆盖。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持在分布式文件路径下操作。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">源文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步移动文件之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/source.txt"</span>;</li><li><span class="hljs-keyword">let</span> destPath = pathDir + <span class="hljs-string">"/dest.txt"</span>;</li><li>fs.<span class="hljs-title function_">moveFile</span>(srcPath, destPath, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"move file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"move file succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1036px;">     <h2 id="fsmovefilesync" device-type="phone,2in1,tablet,wearable,tv">fs.moveFileSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmovefilesync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveFileSync(src: string, dest: string, mode?: number): void</p>     <p>以同步方式移动文件。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持在分布式文件路径下操作。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">src</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">源文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dest</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">移动模式。若mode为0，移动位置存在同名文件时，强制移动覆盖。若mode为1，移动位置存在同名文件时，抛出异常。默认为0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> srcPath = pathDir + <span class="hljs-string">"/source.txt"</span>;</li><li><span class="hljs-keyword">let</span> destPath = pathDir + <span class="hljs-string">"/dest.txt"</span>;</li><li>fs.<span class="hljs-title function_">moveFileSync</span>(srcPath, destPath, <span class="hljs-number">0</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"move file succeed"</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1073px;">     <h2 id="fsmkdtemp" device-type="phone,2in1,tablet,wearable,tv">fs.mkdtemp<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmkdtemp" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mkdtemp(prefix: string): Promise&lt;string&gt;</p>     <p>创建临时目录，使用promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">prefix</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定目录路径，命名时需要以"XXXXXX"作为结尾。路径末尾的"XXXXXX"字符串将被替换为随机字符，以创建唯一的目录名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.95.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;string&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回生成的唯一目录路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>fs.<span class="hljs-title function_">mkdtemp</span>(pathDir + <span class="hljs-string">"/XXXXXX"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">dir: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"mkdtemp succeed:"</span> + dir);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"mkdtemp failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1019px;">     <h2 id="fsmkdtemp-1" device-type="phone,2in1,tablet,wearable,tv">fs.mkdtemp<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmkdtemp-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mkdtemp(prefix: string, callback: AsyncCallback&lt;string&gt;): void</p>     <p>创建临时目录，使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">prefix</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定目录路径，命名时需要以"XXXXXX"作为结尾。路径末尾的"XXXXXX"字符串将被替换为随机字符，以创建唯一的目录名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步创建临时目录之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>fs.<span class="hljs-title function_">mkdtemp</span>(pathDir + <span class="hljs-string">"/XXXXXX"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, res: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"mkdtemp failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"mkdtemp succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 953px;">     <h2 id="fsmkdtempsync" device-type="phone,2in1,tablet,wearable,tv">fs.mkdtempSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsmkdtempsync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mkdtempSync(prefix: string): string</p>     <p>以同步的方法创建临时目录。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">prefix</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定目录路径，命名时需要以"XXXXXX"作为结尾。路径末尾的"XXXXXX"字符串将被替换为随机字符，以创建唯一的目录名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.97.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">产生的唯一目录路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> res = fs.<span class="hljs-title function_">mkdtempSync</span>(pathDir + <span class="hljs-string">"/XXXXXX"</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 899px;">     <h2 id="fsutimes11" device-type="phone,2in1,tablet,wearable,tv">fs.utimes<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsutimes11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>utimes(path: string, mtime: number): void</p>     <p>更改文件上次修改该文件的时间。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mtime</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待更新的时间戳。自1970年1月1日起至目标时间的毫秒数。仅支持更改上次修改该文件的时间属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li>fs.<span class="hljs-title function_">writeSync</span>(file.<span class="hljs-property">fd</span>, <span class="hljs-string">'test data'</span>);</li><li>fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>fs.<span class="hljs-title function_">utimes</span>(filePath, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>());</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2366px;">     <h2 id="fscreaterandomaccessfile10" device-type="phone,2in1,tablet,wearable,tv">fs.createRandomAccessFile<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscreaterandomaccessfile10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createRandomAccessFile(file: string | File, mode?: number): Promise&lt;RandomAccessFile&gt;</p>     <p>基于文件路径或文件对象创建RandomAccessFile对象，使用promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">string | <a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径或已打开的File对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>创建文件RandomAccessFile对象的<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#openmode">选项</a>，仅当传入文件沙箱路径时生效，必须指定如下选项中的一个，默认以只读方式创建：</p>          <p>- OpenMode.READ_ONLY(0o0)：只读创建。</p>          <p>- OpenMode.WRITE_ONLY(0o1)：只写创建。</p>          <p>- OpenMode.READ_WRITE(0o2)：读写创建。</p>          <p>给定如下功能选项，以按位或的方式追加，默认不给定任何额外选项：</p>          <p>- OpenMode.CREATE(0o100)：若文件不存在，则创建文件。</p>          <p>- OpenMode.TRUNC(0o1000)：如果RandomAccessFile对象存在且对应文件具有写权限，则将其长度裁剪为零。</p>          <p>- OpenMode.APPEND(0o2000)：以追加方式打开，后续写将追加到RandomAccessFile对象末尾。</p>          <p>- OpenMode.NONBLOCK(0o4000)：如果path指向FIFO、块特殊文件或字符特殊文件，则本次打开及后续 IO 进行非阻塞操作。</p>          <p>- OpenMode.DIR(0o200000)：如果path未指向目录，则出错。不允许附加写权限。</p>          <p>- OpenMode.NOFOLLOW(0o400000)：如果path指向符号链接，则出错。</p>          <p>- OpenMode.SYNC(0o4010000)：以同步IO的方式创建RandomAccessFile对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.99.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#randomaccessfile10">RandomAccessFile</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回RandomAccessFile对象的结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li>fs.<span class="hljs-title function_">createRandomAccessFile</span>(file).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">randomAccessFile: fs.RandomAccessFile</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"randomAccessFile fd: "</span> + randomAccessFile.<span class="hljs-property">fd</span>);</li><li>  randomAccessFile.<span class="hljs-title function_">close</span>();</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"create randomAccessFile failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>}).<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1043px;">     <h2 id="fscreaterandomaccessfile10-1" device-type="phone,2in1,tablet,wearable,tv">fs.createRandomAccessFile<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscreaterandomaccessfile10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createRandomAccessFile(file: string | File, callback: AsyncCallback&lt;RandomAccessFile&gt;): void</p>     <p>基于文件路径或文件对象，以只读方式创建RandomAccessFile对象，使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">string | <a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径或已打开的File对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#randomaccessfile10">RandomAccessFile</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步创建RandomAccessFile对象之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li>fs.<span class="hljs-title function_">createRandomAccessFile</span>(file, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, randomAccessFile: fs.RandomAccessFile</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"create randomAccessFile failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"randomAccessFile fd: "</span> + randomAccessFile.<span class="hljs-property">fd</span>);</li><li>    randomAccessFile.<span class="hljs-title function_">close</span>();</li><li>  }</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2288px;">     <h2 id="fscreaterandomaccessfile10-2" device-type="phone,2in1,tablet,wearable,tv">fs.createRandomAccessFile<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscreaterandomaccessfile10-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createRandomAccessFile(file: string | File, mode: number, callback: AsyncCallback&lt;RandomAccessFile&gt;): void</p>     <p>基于文件路径或文件对象创建RandomAccessFile对象，使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.101.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">string | <a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径或已打开的File对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>创建文件RandomAccessFile对象的<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#openmode">选项</a>，仅当传入文件沙箱路径时生效，必须指定如下选项中的一个，默认以只读方式创建：</p>          <p>- OpenMode.READ_ONLY(0o0)：只读创建。</p>          <p>- OpenMode.WRITE_ONLY(0o1)：只写创建。</p>          <p>- OpenMode.READ_WRITE(0o2)：读写创建。</p>          <p>给定如下功能选项，以按位或的方式追加，默认不给定任何额外选项：</p>          <p>- OpenMode.CREATE(0o100)：若文件不存在，则创建文件。</p>          <p>- OpenMode.TRUNC(0o1000)：如果RandomAccessFile对象存在且对应文件具有写权限，则将其长度裁剪为零。</p>          <p>- OpenMode.APPEND(0o2000)：以追加方式打开，后续写将追加到RandomAccessFile对象末尾。</p>          <p>- OpenMode.NONBLOCK(0o4000)：如果path指向FIFO、块特殊文件或字符特殊文件，则本次打开及后续 IO 进行非阻塞操作。</p>          <p>- OpenMode.DIR(0o200000)：如果path不指向目录，则出错。不允许附加写权限。</p>          <p>- OpenMode.NOFOLLOW(0o400000)：如果path指向符号链接，则出错。</p>          <p>- OpenMode.SYNC(0o4010000)：以同步IO的方式创建RandomAccessFile对象。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#randomaccessfile10">RandomAccessFile</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步创建RandomAccessFile对象之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li>fs.<span class="hljs-title function_">createRandomAccessFile</span>(file, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_ONLY</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, randomAccessFile: fs.RandomAccessFile</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"create randomAccessFile failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"randomAccessFile fd: "</span> + randomAccessFile.<span class="hljs-property">fd</span>);</li><li>    randomAccessFile.<span class="hljs-title function_">close</span>();</li><li>  }</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2531px;">     <h2 id="fscreaterandomaccessfile12" device-type="phone,2in1,tablet,wearable,tv">fs.createRandomAccessFile<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscreaterandomaccessfile12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createRandomAccessFile(file: string | File, mode?: number, options?: RandomAccessFileOptions): Promise&lt;RandomAccessFile&gt;</p>     <p>基于文件路径或文件对象创建RandomAccessFile对象，使用promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.102.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">string | <a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径或已打开的File对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>创建文件RandomAccessFile对象的<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#openmode">选项</a>，仅当传入文件沙箱路径时生效，必须指定如下选项中的一个，默认以只读方式创建：</p>          <p>- OpenMode.READ_ONLY(0o0)：只读创建。</p>          <p>- OpenMode.WRITE_ONLY(0o1)：只写创建。</p>          <p>- OpenMode.READ_WRITE(0o2)：读写创建。</p>          <p>给定如下功能选项，以按位或的方式追加，默认不给定任何额外选项：</p>          <p>- OpenMode.CREATE(0o100)：若文件不存在，则创建文件。</p>          <p>- OpenMode.TRUNC(0o1000)：如果RandomAccessFile对象存在且对应文件具有写权限，则将其长度裁剪为零。</p>          <p>- OpenMode.APPEND(0o2000)：以追加方式打开，后续写将追加到RandomAccessFile对象末尾。</p>          <p>- OpenMode.NONBLOCK(0o4000)：如果path指向FIFO、块特殊文件或字符特殊文件，则本次打开及后续 IO 进行非阻塞操作。</p>          <p>- OpenMode.DIR(0o200000)：如果path不指向目录，则出错。不允许附加写权限。</p>          <p>- OpenMode.NOFOLLOW(0o400000)：如果path指向符号链接，则出错。</p>          <p>- OpenMode.SYNC(0o4010000)：以同步IO的方式创建RandomAccessFile对象。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#randomaccessfileoptions12">RandomAccessFileOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- start，number类型，表示期望读取文件的位置。可选，默认从当前位置开始读。</p>          <p>- end，number类型，表示期望读取结束的位置。可选，默认文件末尾。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.102.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#randomaccessfile10">RandomAccessFile</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回RandomAccessFile对象的结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">createRandomAccessFile</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>, { <span class="hljs-attr">start</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">end</span>: <span class="hljs-number">100</span> })</li><li>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">randomAccessFile: fs.RandomAccessFile</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"randomAccessFile fd: "</span> + randomAccessFile.<span class="hljs-property">fd</span>);</li><li>    randomAccessFile.<span class="hljs-title function_">close</span>();</li><li>  })</li><li>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"create randomAccessFile failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  });</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2198px;">     <h2 id="fscreaterandomaccessfilesync10" device-type="phone,2in1,tablet,wearable,tv">fs.createRandomAccessFileSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscreaterandomaccessfilesync10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createRandomAccessFileSync(file: string | File, mode?: number): RandomAccessFile</p>     <p>基于文件路径或文件对象创建RandomAccessFile对象。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">string | <a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径或已打开的File对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>创建文件RandomAccessFile对象的<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#openmode">选项</a>，仅当传入文件沙箱路径时生效，必须指定如下选项中的一个，默认以只读方式创建：</p>          <p>- OpenMode.READ_ONLY(0o0)：只读创建。</p>          <p>- OpenMode.WRITE_ONLY(0o1)：只写创建。</p>          <p>- OpenMode.READ_WRITE(0o2)：读写创建。</p>          <p>给定如下功能选项，以按位或的方式追加，默认不给定任何额外选项：</p>          <p>- OpenMode.CREATE(0o100)：若文件不存在，则创建文件。</p>          <p>- OpenMode.TRUNC(0o1000)：如果RandomAccessFile对象存在且对应文件具有写权限，则将其长度裁剪为零。</p>          <p>- OpenMode.APPEND(0o2000)：以追加方式打开，后续写将追加到RandomAccessFile对象末尾。</p>          <p>- OpenMode.NONBLOCK(0o4000)：如果path指向FIFO、块特殊文件或字符特殊文件，则本次打开及后续 IO 进行非阻塞操作。</p>          <p>- OpenMode.DIR(0o200000)：如果path不指向目录，则出错。不允许附加写权限。</p>          <p>- OpenMode.NOFOLLOW(0o400000)：如果path指向符号链接，则出错。</p>          <p>- OpenMode.SYNC(0o4010000)：以同步IO的方式创建RandomAccessFile对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.103.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#randomaccessfile10">RandomAccessFile</a></td>         <td class="cellrowborder" width="50%">返回RandomAccessFile对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-keyword">let</span> randomAccessFile = fs.<span class="hljs-title function_">createRandomAccessFileSync</span>(file);</li><li>randomAccessFile.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2459px;">     <h2 id="fscreaterandomaccessfilesync12" device-type="phone,2in1,tablet,wearable,tv">fs.createRandomAccessFileSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscreaterandomaccessfilesync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createRandomAccessFileSync(file: string | File, mode?: number,</p>     <p>options?: RandomAccessFileOptions): RandomAccessFile</p>     <p>基于文件路径或文件对象创建RandomAccessFile对象。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.104.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">file</td>         <td class="cellrowborder" width="25%">string | <a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径或已打开的File对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>创建文件RandomAccessFile对象的<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#openmode">选项</a>，仅当传入文件沙箱路径时生效，必须指定如下选项中的一个，默认以只读方式创建：</p>          <p>- OpenMode.READ_ONLY(0o0)：只读创建。</p>          <p>- OpenMode.WRITE_ONLY(0o1)：只写创建。</p>          <p>- OpenMode.READ_WRITE(0o2)：读写创建。</p>          <p>给定如下功能选项，以按位或的方式追加，默认不给定任何额外选项：</p>          <p>- OpenMode.CREATE(0o100)：若文件不存在，则创建文件。</p>          <p>- OpenMode.TRUNC(0o1000)：如果RandomAccessFile对象存在且对应文件具有写权限，则将其长度裁剪为零。</p>          <p>- OpenMode.APPEND(0o2000)：以追加方式打开，后续写将追加到RandomAccessFile对象末尾。</p>          <p>- OpenMode.NONBLOCK(0o4000)：如果path指向FIFO、块特殊文件或字符特殊文件，则本次打开及后续 IO 进行非阻塞操作。</p>          <p>- OpenMode.DIR(0o200000)：如果path不指向目录，则出错。不允许附加写权限。</p>          <p>- OpenMode.NOFOLLOW(0o400000)：如果path指向符号链接，则出错。</p>          <p>- OpenMode.SYNC(0o4010000)：以同步IO的方式创建RandomAccessFile对象。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#randomaccessfileoptions12">RandomAccessFileOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- start，number类型，表示期望读取文件的位置。可选，默认从当前位置开始读。</p>          <p>- end，number类型，表示期望读取结束的位置。可选，默认文件末尾。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.104.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#randomaccessfile10">RandomAccessFile</a></td>         <td class="cellrowborder" width="50%">返回RandomAccessFile对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> randomAccessFile = fs.<span class="hljs-title function_">createRandomAccessFileSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>,</li><li>  { <span class="hljs-attr">start</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">end</span>: <span class="hljs-number">100</span> });</li><li>randomAccessFile.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1670px;">     <h2 id="fscreatestream" device-type="phone,2in1,tablet,wearable,tv">fs.createStream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscreatestream" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createStream(path: string, mode: string): Promise&lt;Stream&gt;</p>     <p>基于文件路径创建文件流，使用promise异步回调。需要配合<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stream">Stream</a>中的close()函数关闭文件流。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>- r：打开只读文件，该文件必须存在。</p>          <p>- r+：打开可读写的文件，该文件必须存在。</p>          <p>- w：打开只写文件，若文件存在则文件长度清0，即该文件内容会消失。若文件不存在则建立该文件。</p>          <p>- w+：打开可读写文件，若文件存在则文件长度清0，即该文件内容会消失。若文件不存在则建立该文件。</p>          <p>- a：以附加的方式打开只写文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾，即文件原先的内容会被保留。</p>          <p>- a+：以附加方式打开可读写的文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾后，即文件原先的内容会被保留。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.105.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stream">Stream</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回文件流的结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">createStream</span>(filePath, <span class="hljs-string">"a+"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">stream: fs.Stream</span>) =&gt;</span> {</li><li>  stream.<span class="hljs-title function_">closeSync</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"createStream succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"createStream failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1616px;">     <h2 id="fscreatestream-1" device-type="phone,2in1,tablet,wearable,tv">fs.createStream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscreatestream-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createStream(path: string, mode: string, callback: AsyncCallback&lt;Stream&gt;): void</p>     <p>基于文件路径创建文件流，使用callback异步回调。需要配合<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stream">Stream</a>中的close()函数关闭文件流。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>- r：打开只读文件，该文件必须存在。</p>          <p>- r+：打开可读写的文件，该文件必须存在。</p>          <p>- w：打开只写文件，若文件存在则文件长度清0，即该文件内容会消失。若文件不存在则建立该文件。</p>          <p>- w+：打开可读写文件，若文件存在则文件长度清0，即该文件内容会消失。若文件不存在则建立该文件。</p>          <p>- a：以附加的方式打开只写文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾，即文件原先的内容会被保留。</p>          <p>- a+：以附加方式打开可读写的文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾后，即文件原先的内容会被保留。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stream">Stream</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步打开文件流之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li>fs.<span class="hljs-title function_">createStream</span>(filePath, <span class="hljs-string">"r+"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, stream: fs.Stream</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"create stream failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    stream.<span class="hljs-title function_">closeSync</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"createStream succeed"</span>);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1574px;">     <h2 id="fscreatestreamsync" device-type="phone,2in1,tablet,wearable,tv">fs.createStreamSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscreatestreamsync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createStreamSync(path: string, mode: string): Stream</p>     <p>以同步方法基于文件路径创建文件流。需要配合<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stream">Stream</a>中的close()函数关闭文件流。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的应用沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>- r：打开只读文件，该文件必须存在。</p>          <p>- r+：打开可读写的文件，该文件必须存在。</p>          <p>- w：打开只写文件，若文件存在则文件长度清0，即该文件内容会消失。若文件不存在则建立该文件。</p>          <p>- w+：打开可读写文件，若文件存在则文件长度清0，即该文件内容会消失。若文件不存在则建立该文件。</p>          <p>- a：以附加的方式打开只写文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾，即文件原先的内容会被保留。</p>          <p>- a+：以附加方式打开可读写的文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾后，即文件原先的内容会被保留。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.107.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stream">Stream</a></td>         <td class="cellrowborder" width="50%">返回文件流的结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">createStreamSync</span>(filePath, <span class="hljs-string">"r+"</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"createStream succeed"</span>);</li><li>stream.<span class="hljs-title function_">closeSync</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1853px;">     <h2 id="fsfdopenstream" device-type="phone,2in1,tablet,wearable,tv">fs.fdopenStream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsfdopenstream" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fdopenStream(fd: number, mode: string): Promise&lt;Stream&gt;</p>     <p>基于文件描述符打开文件流，使用promise异步回调。需要配合<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stream">Stream</a>中的close()函数关闭文件流。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>- r：打开只读文件，该文件必须存在。</p>          <p>- r+：打开可读写的文件，该文件必须存在。</p>          <p>- w：打开只写文件，若文件存在则文件长度清0，即该文件内容会消失。若文件不存在则建立该文件。</p>          <p>- w+：打开可读写文件，若文件存在则文件长度清0，即该文件内容会消失。若文件不存在则建立该文件。</p>          <p>- a：以附加的方式打开只写文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾，即文件原先的内容会被保留。</p>          <p>- a+：以附加方式打开可读写的文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾后，即文件原先的内容会被保留。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.108.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stream">Stream</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回文件流的结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath);</li><li>fs.<span class="hljs-title function_">fdopenStream</span>(file.<span class="hljs-property">fd</span>, <span class="hljs-string">"r+"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">stream: fs.Stream</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"openStream succeed"</span>);</li><li>  stream.<span class="hljs-title function_">closeSync</span>();</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"openStream failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  <span class="hljs-comment">// 文件流打开失败后，文件描述符需要手动关闭</span></li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>     <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <p>使用文件描述符创建的文件流时，文件描述符的生命周期将由文件流对象管理。调用文件流的close()函数后，初始的文件描述符也会被关闭。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1799px;">     <h2 id="fsfdopenstream-1" device-type="phone,2in1,tablet,wearable,tv">fs.fdopenStream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsfdopenstream-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fdopenStream(fd: number, mode: string, callback: AsyncCallback&lt;Stream&gt;): void</p>     <p>基于文件描述符打开文件流，使用callback异步回调。需要配合<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stream">Stream</a>中的close()函数关闭文件流。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>- r：打开只读文件，该文件必须存在。</p>          <p>- r+：打开可读写的文件，该文件必须存在。</p>          <p>- w：打开只写文件，若文件存在则文件长度清0，即该文件内容会消失。若文件不存在则建立该文件。</p>          <p>- w+：打开可读写文件，若文件存在则文件长度清0，即该文件内容会消失。若文件不存在则建立该文件。</p>          <p>- a：以附加的方式打开只写文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾，即文件原先的内容会被保留。</p>          <p>- a+：以附加方式打开可读写的文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾后，即文件原先的内容会被保留。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stream">Stream</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步打开文件流之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_ONLY</span>);</li><li>fs.<span class="hljs-title function_">fdopenStream</span>(file.<span class="hljs-property">fd</span>, <span class="hljs-string">"r+"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, stream: fs.Stream</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"fdopen stream failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>    <span class="hljs-comment">// 文件流打开失败后，文件描述符需要手动关闭</span></li><li>    fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"fdopen stream succeed"</span>);</li><li>    stream.<span class="hljs-title function_">closeSync</span>();</li><li>  }</li><li>});</li></ol></pre></div></div>     <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <p>使用文件描述符创建的文件流，文件描述符的生命周期也交由文件流对象，在调用文件流的close()函数后，初始的文件描述符也会被关闭。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1685px;">     <h2 id="fsfdopenstreamsync" device-type="phone,2in1,tablet,wearable,tv">fs.fdopenStreamSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsfdopenstreamsync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fdopenStreamSync(fd: number, mode: string): Stream</p>     <p>以同步方法基于文件描述符打开文件流。需要配合<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stream">Stream</a>中的close()函数关闭文件流。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已打开的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>- r：打开只读文件，该文件必须存在。</p>          <p>- r+：打开可读写的文件，该文件必须存在。</p>          <p>- w：打开只写文件，若文件存在则文件长度清0，即该文件内容会消失。若文件不存在则建立该文件。</p>          <p>- w+：打开可读写文件，若文件存在则文件长度清0，即该文件内容会消失。若文件不存在则建立该文件。</p>          <p>- a：以附加的方式打开只写文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾，即文件原先的内容会被保留。</p>          <p>- a+：以附加方式打开可读写的文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾后，即文件原先的内容会被保留。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.110.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#stream">Stream</a></td>         <td class="cellrowborder" width="50%">返回文件流的结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_ONLY</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">fdopenStreamSync</span>(file.<span class="hljs-property">fd</span>, <span class="hljs-string">"r+"</span>);</li><li>stream.<span class="hljs-title function_">closeSync</span>();</li></ol></pre></div></div>     <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <p>使用文件描述符创建的文件流，文件描述符的生命周期也交由文件流对象，在调用文件流的close()函数后，初始的文件描述符也会被关闭。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1334px;">     <h2 id="fscreatereadstream12" device-type="phone,2in1,tablet,wearable,tv">fs.createReadStream<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscreatereadstream12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createReadStream(path: string, options?: ReadStreamOptions ): ReadStream</p>     <p>以同步方法打开文件可读流。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.111.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readstreamoptions12">ReadStreamOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- start，number类型，表示期望读取文件的位置。可选，默认从当前位置开始读。</p>          <p>- end，number类型，表示期望读取结束的位置。可选，默认文件末尾。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.111.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readstream12">ReadStream</a></td>         <td class="cellrowborder" width="50%">文件可读流。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 创建文件可读流</span></li><li><span class="hljs-keyword">const</span> rs = fs.<span class="hljs-title function_">createReadStream</span>(<span class="hljs-string">`<span class="hljs-subst">${pathDir}</span>/read.txt`</span>);</li><li><span class="hljs-comment">// 创建文件可写流</span></li><li><span class="hljs-keyword">const</span> ws = fs.<span class="hljs-title function_">createWriteStream</span>(<span class="hljs-string">`<span class="hljs-subst">${pathDir}</span>/write.txt`</span>);</li><li><span class="hljs-comment">// 暂停模式拷贝文件</span></li><li>rs.<span class="hljs-title function_">on</span>(<span class="hljs-string">'readable'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> data = rs.<span class="hljs-title function_">read</span>();</li><li>  <span class="hljs-keyword">if</span> (!data) {</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  ws.<span class="hljs-title function_">write</span>(data);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1334px;">     <h2 id="fscreatewritestream12" device-type="phone,2in1,tablet,wearable,tv">fs.createWriteStream<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscreatewritestream12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createWriteStream(path: string, options?: WriteStreamOptions): WriteStream</p>     <p>以同步方法打开文件可写流。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#writestreamoptions12">WriteStreamOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- start，number类型，表示期望写入文件的位置。可选，默认从当前位置开始写。</p>          <p>- mode，number 类型，创建文件可写流的<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#openmode">选项</a>，可选，默认以只写方式创建。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.112.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#writestream12">WriteStream</a></td>         <td class="cellrowborder" width="50%">文件可写流。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 创建文件可读流</span></li><li><span class="hljs-keyword">const</span> rs = fs.<span class="hljs-title function_">createReadStream</span>(<span class="hljs-string">`<span class="hljs-subst">${pathDir}</span>/read.txt`</span>);</li><li><span class="hljs-comment">// 创建文件可写流</span></li><li><span class="hljs-keyword">const</span> ws = fs.<span class="hljs-title function_">createWriteStream</span>(<span class="hljs-string">`<span class="hljs-subst">${pathDir}</span>/write.txt`</span>);</li><li><span class="hljs-comment">// 暂停模式拷贝文件</span></li><li>rs.<span class="hljs-title function_">on</span>(<span class="hljs-string">'readable'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> data = rs.<span class="hljs-title function_">read</span>();</li><li>  <span class="hljs-keyword">if</span> (!data) {</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  ws.<span class="hljs-title function_">write</span>(data);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 350px;">     <h2 id="atomicfile15" device-type="phone,2in1,tablet,wearable,tv">AtomicFile<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="atomicfile15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>AtomicFile是一个用于对文件进行原子读写操作的类。</p>     <p>在写操作时，通过写入临时文件，并在写入成功后将其重命名到原始文件位置来确保写入文件的完整性；而在写入失败时删除临时文件，不修改原始文件内容。</p>     <p>使用者可以自行调用finishWrite或failWrite来完成文件内容的写入或回滚。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h3 id="constructor15" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">constructor<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(path: string)</p>     <p>对于给定路径的文件创建一个AtomicFile类。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.114.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件的沙箱路径。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1154px;">     <h3 id="getbasefile15" device-type="phone,2in1,tablet,wearable,tv">getBaseFile<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getbasefile15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getBaseFile(): File</p>     <p>通过AtomicFile对象获取文件对象。</p>     <p>文件描述符fd需要由用户调用close方法关闭。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.115.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#file">File</a></td>         <td class="cellrowborder" width="50%">打开的File对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 请在组件内获取context，确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li><span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li><span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> atomicFile = <span class="hljs-keyword">new</span> fs.<span class="hljs-title class_">AtomicFile</span>(<span class="hljs-string">`<span class="hljs-subst">${pathDir}</span>/write.txt`</span>);</li><li>  <span class="hljs-keyword">let</span> writeStream = atomicFile.<span class="hljs-title function_">startWrite</span>();</li><li>  writeStream.<span class="hljs-title function_">write</span>(<span class="hljs-string">"hello, world"</span>, <span class="hljs-string">"utf-8"</span>, <span class="hljs-function">()=&gt;</span> {</li><li>    atomicFile.<span class="hljs-title function_">finishWrite</span>();</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-title class_">File</span> = atomicFile.<span class="hljs-title function_">getBaseFile</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'AtomicFile getBaseFile File.fd is: '</span> + <span class="hljs-title class_">File</span>.<span class="hljs-property">fd</span> + <span class="hljs-string">' path: '</span> + <span class="hljs-title class_">File</span>.<span class="hljs-property">path</span> + <span class="hljs-string">' name: '</span> + <span class="hljs-title class_">File</span>.<span class="hljs-property">name</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get baseFile. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1322px;">     <h3 id="openread15" device-type="phone,2in1,tablet,wearable,tv">openRead<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="openread15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>openRead(): ReadStream</p>     <p>创建一个读文件流。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.116.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readstream12">ReadStream</a></td>         <td class="cellrowborder" width="50%">文件可读流。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 请在组件内获取context，确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li><span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li><span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> file = <span class="hljs-keyword">new</span> fs.<span class="hljs-title class_">AtomicFile</span>(<span class="hljs-string">`<span class="hljs-subst">${pathDir}</span>/read.txt`</span>);</li><li>  <span class="hljs-keyword">let</span> writeStream = file.<span class="hljs-title function_">startWrite</span>();</li><li>  writeStream.<span class="hljs-title function_">write</span>(<span class="hljs-string">"hello, world"</span>, <span class="hljs-string">"utf-8"</span>, <span class="hljs-function">()=&gt;</span> {</li><li>    file.<span class="hljs-title function_">finishWrite</span>();</li><li>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{</li><li>      <span class="hljs-keyword">let</span> readStream = file.<span class="hljs-title function_">openRead</span>();</li><li>      readStream.<span class="hljs-title function_">on</span>(<span class="hljs-string">'readable'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">const</span> data = readStream.<span class="hljs-title function_">read</span>();</li><li>        <span class="hljs-keyword">if</span> (!data) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'AtomicFile read data is null.'</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'AtomicFile read data is: '</span> + data);</li><li>      });</li><li>    },<span class="hljs-number">1000</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to AtomicFile. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1226px;">     <h3 id="readfully15" device-type="phone,2in1,tablet,wearable,tv">readFully<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readfully15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readFully(): ArrayBuffer</p>     <p>读取文件全部内容。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.117.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ArrayBuffer</td>         <td class="cellrowborder" width="50%">文件的全部内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { util, buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-comment">// 请在组件内获取context，确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li><span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li><span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> file = <span class="hljs-keyword">new</span> fs.<span class="hljs-title class_">AtomicFile</span>(<span class="hljs-string">`<span class="hljs-subst">${pathDir}</span>/read.txt`</span>);</li><li>  <span class="hljs-keyword">let</span> writeStream = file.<span class="hljs-title function_">startWrite</span>();</li><li>  writeStream.<span class="hljs-title function_">write</span>(<span class="hljs-string">"hello, world"</span>, <span class="hljs-string">"utf-8"</span>, <span class="hljs-function">()=&gt;</span> {</li><li>    file.<span class="hljs-title function_">finishWrite</span>();</li><li>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{</li><li>      <span class="hljs-keyword">let</span> data = file.<span class="hljs-title function_">readFully</span>();</li><li>      <span class="hljs-keyword">let</span> decoder = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'utf-8'</span>);</li><li>      <span class="hljs-keyword">let</span> str = decoder.<span class="hljs-title function_">decodeToString</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(data));</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'AtomicFile readFully str is: '</span> + str);</li><li>    },<span class="hljs-number">1000</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to AtomicFile. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1154px;">     <h3 id="startwrite15" device-type="phone,2in1,tablet,wearable,tv">startWrite<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="startwrite15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startWrite(): WriteStream</p>     <p>对文件开始新的写入操作。将返回一个WriteStream，用于在其中写入新的文件数据。</p>     <p>当文件不存在时新建文件。</p>     <p>在写入文件完成后，写入成功需要调用finishWrite()，写入失败需要调用failWrite()。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.118.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#writestream12">WriteStream</a></td>         <td class="cellrowborder" width="50%">文件可写流。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 请在组件内获取context，确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li><span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li><span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> file = <span class="hljs-keyword">new</span> fs.<span class="hljs-title class_">AtomicFile</span>(<span class="hljs-string">`<span class="hljs-subst">${pathDir}</span>/write.txt`</span>);</li><li>  <span class="hljs-keyword">let</span> writeStream = file.<span class="hljs-title function_">startWrite</span>();</li><li>  writeStream.<span class="hljs-title function_">write</span>(<span class="hljs-string">"hello, world"</span>, <span class="hljs-string">"utf-8"</span>, <span class="hljs-function">()=&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'AtomicFile write finished!'</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to AtomicFile. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 887px;">     <h3 id="finishwrite15" device-type="phone,2in1,tablet,wearable,tv">finishWrite<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="finishwrite15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>finishWrite(): void</p>     <p>在完成对startWrite返回流的写入操作时调用，表示文件写入成功。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 请在组件内获取context，确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li><span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li><span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> file = <span class="hljs-keyword">new</span> fs.<span class="hljs-title class_">AtomicFile</span>(<span class="hljs-string">`<span class="hljs-subst">${pathDir}</span>/write.txt`</span>);</li><li>  <span class="hljs-keyword">let</span> writeStream = file.<span class="hljs-title function_">startWrite</span>();</li><li>  writeStream.<span class="hljs-title function_">write</span>(<span class="hljs-string">"hello, world"</span>, <span class="hljs-string">"utf-8"</span>, <span class="hljs-function">()=&gt;</span> {</li><li>    file.<span class="hljs-title function_">finishWrite</span>();</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to AtomicFile. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 911px;">     <h3 id="failwrite15" device-type="phone,2in1,tablet,wearable,tv">failWrite<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="failwrite15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>failWrite(): void</p>     <p>文件写入失败后调用，将执行文件回滚操作。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 请在组件内获取context，确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li><span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li><span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> file = <span class="hljs-keyword">new</span> fs.<span class="hljs-title class_">AtomicFile</span>(<span class="hljs-string">`<span class="hljs-subst">${pathDir}</span>/write.txt`</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> writeStream = file.<span class="hljs-title function_">startWrite</span>();</li><li>  writeStream.<span class="hljs-title function_">write</span>(<span class="hljs-string">"hello, world"</span>, <span class="hljs-string">"utf-8"</span>, <span class="hljs-function">()=&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'AtomicFile write succeed!'</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  file.<span class="hljs-title function_">failWrite</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to AtomicFile. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1079px;">     <h3 id="delete15" device-type="phone,2in1,tablet,wearable,tv">delete<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="delete15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>delete(): void</p>     <p>删除AtomicFile类，会删除原始文件和临时文件。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-comment">// 请在组件内获取context，确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li><span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li><span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> file = <span class="hljs-keyword">new</span> fs.<span class="hljs-title class_">AtomicFile</span>(<span class="hljs-string">`<span class="hljs-subst">${pathDir}</span>/read.txt`</span>);</li><li>  <span class="hljs-keyword">let</span> writeStream = file.<span class="hljs-title function_">startWrite</span>();</li><li>  writeStream.<span class="hljs-title function_">write</span>(<span class="hljs-string">"hello, world"</span>, <span class="hljs-string">"utf-8"</span>, <span class="hljs-function">()=&gt;</span> {</li><li>    file.<span class="hljs-title function_">finishWrite</span>();</li><li>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{</li><li>      <span class="hljs-keyword">let</span> data = file.<span class="hljs-title function_">readFully</span>();</li><li>      <span class="hljs-keyword">let</span> decoder = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'utf-8'</span>);</li><li>      <span class="hljs-keyword">let</span> str = decoder.<span class="hljs-title function_">decodeToString</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(data));</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'AtomicFile readFully str is: '</span> + str);</li><li>      file.<span class="hljs-title function_">delete</span>();</li><li>    },<span class="hljs-number">1000</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to AtomicFile. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2339px;">     <h2 id="fscreatewatcher10" device-type="phone,2in1,tablet,wearable,tv">fs.createWatcher<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fscreatewatcher10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createWatcher(path: string, events: number, listener: WatchEventListener): Watcher</p>     <p>创建Watcher对象，监听文件或目录变动。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.122.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听文件或目录的沙箱路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">events</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>监听变动的事件集，多个事件通过或(|)的方式进行集合。</p>          <p>- 0x1: IN_ACCESS， 文件被访问。</p>          <p>- 0x2: IN_MODIFY，文件内容被修改。</p>          <p>- 0x4: IN_ATTRIB，文件元数据被修改。</p>          <p>- 0x8: IN_CLOSE_WRITE，文件在打开时进行了写操作，然后被关闭。</p>          <p>- 0x10: IN_CLOSE_NOWRITE，文件或目录在打开时未进行写操作，然后被关闭。</p>          <p>- 0x20: IN_OPEN，文件或目录被打开。</p>          <p>- 0x40: IN_MOVED_FROM，监听目录中文件被移动走。</p>          <p>- 0x80: IN_MOVED_TO，监听目录中文件被移动过来。</p>          <p>- 0x100: IN_CREATE，监听目录中文件或子目录被创建。</p>          <p>- 0x200: IN_DELETE，监听目录中文件或子目录被删除。</p>          <p>- 0x400: IN_DELETE_SELF，监听的目录被删除，删除后监听停止。</p>          <p>- 0x800: IN_MOVE_SELF，监听的文件或目录被移动，移动后监听继续。</p>          <p>- 0xfff: IN_ALL_EVENTS，监听以上所有事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">listener</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#watcheventlistener10">WatchEventListener</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件发生后的回调。监听事件每发生一次，回调一次。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.122.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#watcher10">Watcher</a></td>         <td class="cellrowborder" width="50%">返回Watcher对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">WatchEvent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 请在组件内获取context，确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li><span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li><span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li><span class="hljs-keyword">let</span> watcher = fs.<span class="hljs-title function_">createWatcher</span>(filePath, <span class="hljs-number">0x2</span> | <span class="hljs-number">0x10</span>, <span class="hljs-function">(<span class="hljs-params">watchEvent: WatchEvent</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (watchEvent.<span class="hljs-property">event</span> == <span class="hljs-number">0x2</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(watchEvent.<span class="hljs-property">fileName</span> + <span class="hljs-string">'was modified'</span>);</li><li>  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (watchEvent.<span class="hljs-property">event</span> == <span class="hljs-number">0x10</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(watchEvent.<span class="hljs-property">fileName</span> + <span class="hljs-string">'was closed'</span>);</li><li>  }</li><li>});</li><li>watcher.<span class="hljs-title function_">start</span>();</li><li>fs.<span class="hljs-title function_">writeSync</span>(file.<span class="hljs-property">fd</span>, <span class="hljs-string">'test'</span>);</li><li>fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>watcher.<span class="hljs-title function_">stop</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 429px;">     <h2 id="watcheventlistener10" device-type="phone,2in1,tablet,wearable,tv">WatchEventListener<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="watcheventlistener10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>(event: WatchEvent): void</p>     <p>事件监听类。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.123.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#watchevent10">WatchEvent</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调的事件类。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="watchevent10" device-type="phone,2in1,tablet,wearable,tv">WatchEvent<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="watchevent10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>事件类</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1767px;">     <h3 id="属性" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.125.3.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.3.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.3.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.3.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.3.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">fileName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">发生监听事件对应文件的沙箱路径，该沙箱路径包含文件名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">event</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>监听变动的事件集，多个事件通过或(|)的方式进行集合。</p>          <p>- 0x1: IN_ACCESS， 文件被访问。</p>          <p>- 0x2: IN_MODIFY，文件内容被修改。</p>          <p>- 0x4: IN_ATTRIB，文件元数据被修改。</p>          <p>- 0x8: IN_CLOSE_WRITE，文件在打开时进行了写操作，然后被关闭。</p>          <p>- 0x10: IN_CLOSE_NOWRITE，文件或目录在打开时未进行写操作，然后被关闭。</p>          <p>- 0x20: IN_OPEN，文件或目录被打开。</p>          <p>- 0x40: IN_MOVED_FROM，监听目录中文件被移动走。</p>          <p>- 0x80: IN_MOVED_TO，监听目录中文件被移动过来。</p>          <p>- 0x100: IN_CREATE，监听目录中文件或子目录被创建。</p>          <p>- 0x200: IN_DELETE，监听目录中文件或子目录被删除。</p>          <p>- 0x400: IN_DELETE_SELF，监听的目录被删除，删除后监听停止。</p>          <p>- 0x800: IN_MOVE_SELF，监听的文件或目录被移动，移动后监听继续。</p>          <p>- 0xfff: IN_ALL_EVENTS，监听以上所有事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">cookie</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">绑定相关事件的cookie。当前仅支持事件IN_MOVED_FROM与IN_MOVED_TO，同一个文件的移动事件IN_MOVED_FROM和IN_MOVED_TO具有相同的cookie值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 402px;">     <h2 id="progress11" device-type="phone,2in1,tablet,wearable,tv">Progress<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="progress11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>拷贝进度回调数据</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.126.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">processedSize</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">已拷贝的数据大小。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">totalSize</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">待拷贝的数据总大小。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="tasksignal12" device-type="phone,2in1,tablet,wearable,tv">TaskSignal<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="tasksignal12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>拷贝中断信号。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1375px;">     <h3 id="cancel12" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">cancel<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cancel12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>cancel(): void</p>     <p>取消拷贝任务。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> common <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.app.ability.common'</span>;</li><li>
</li><li><span class="hljs-comment">// 请在组件内获取context，确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li><span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li><span class="hljs-keyword">let</span> pathDir = context.<span class="hljs-property">filesDir</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">srcDirPathLocal</span>: <span class="hljs-built_in">string</span> = pathDir + <span class="hljs-string">"/src"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dstDirPathLocal</span>: <span class="hljs-built_in">string</span> = pathDir + <span class="hljs-string">"/dest"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">srcDirUriLocal</span>: <span class="hljs-built_in">string</span> = fileUri.<span class="hljs-title function_">getUriFromPath</span>(srcDirPathLocal);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dstDirUriLocal</span>: <span class="hljs-built_in">string</span> = fileUri.<span class="hljs-title function_">getUriFromPath</span>(dstDirPathLocal);</li><li><span class="hljs-keyword">let</span> copySignal = <span class="hljs-keyword">new</span> fs.<span class="hljs-property">TaskSignal</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">progressListener</span>: fs.<span class="hljs-property">ProgressListener</span> = <span class="hljs-function">(<span class="hljs-params">progress: fs.Progress</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`progressSize: <span class="hljs-subst">${progress.processedSize}</span>, totalSize: <span class="hljs-subst">${progress.totalSize}</span>`</span>);</li><li>  <span class="hljs-keyword">if</span> (progress.<span class="hljs-property">processedSize</span> / progress.<span class="hljs-property">totalSize</span> &gt; <span class="hljs-number">0.5</span>) {</li><li>    copySignal.<span class="hljs-title function_">cancel</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"copy cancel."</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: fs.<span class="hljs-property">CopyOptions</span> = {</li><li>  <span class="hljs-string">"progressListener"</span> : progressListener,</li><li>  <span class="hljs-string">"copySignal"</span> : copySignal,</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  fs.<span class="hljs-title function_">copy</span>(srcDirUriLocal, dstDirUriLocal, options, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"copy fail, err: "</span>, err.<span class="hljs-property">message</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"copy success."</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"copyFileWithCancel failed, err: "</span>, err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 770px;">     <h3 id="oncancel12" device-type="phone,2in1,tablet,wearable,tv">onCancel<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncancel12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onCancel(): Promise&lt;string&gt;</p>     <p>取消拷贝事件监听。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.129.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;string&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。最后一个拷贝的文件路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">TaskSignal</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.file.fs'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">copySignal</span>: fs.<span class="hljs-property">TaskSignal</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TaskSignal</span>();</li><li>copySignal.<span class="hljs-title function_">onCancel</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 378px;">     <h2 id="copyoptions11" device-type="phone,2in1,tablet,wearable,tv">CopyOptions<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="copyoptions11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>拷贝进度回调监听</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.130.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">progressListener</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#progresslistener11">ProgressListener</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">拷贝进度监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">copySignal</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#tasksignal12">TaskSignal</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">取消拷贝信号。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 706px;">     <h2 id="progresslistener11" device-type="phone,2in1,tablet,wearable,tv">ProgressListener<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="progresslistener11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>拷贝进度监听。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.131.4.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.4.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">(progress: <a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#progress11">Progress</a>) =&gt; void</td>         <td class="cellrowborder" width="50%">拷贝进度监听</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">TaskSignal</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">copySignal</span>: fs.<span class="hljs-property">TaskSignal</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TaskSignal</span>();</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">progressListener</span>: fs.<span class="hljs-property">ProgressListener</span> = <span class="hljs-function">(<span class="hljs-params">progress: fs.Progress</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`processedSize: <span class="hljs-subst">${progress.processedSize}</span>, totalSize: <span class="hljs-subst">${progress.totalSize}</span>`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">copyOption</span>: fs.<span class="hljs-property">CopyOptions</span> = {</li><li>  <span class="hljs-string">"progressListener"</span> : progressListener,</li><li>  <span class="hljs-string">"copySignal"</span> : copySignal,</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="stat" device-type="phone,2in1,tablet,wearable,tv">Stat<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stat" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文件具体信息，在调用Stat的方法前，需要先通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#fsstat">stat()</a>方法（同步或异步）构建一个Stat实例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3344px;">     <h3 id="属性-1" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.133.3.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.3.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.3.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.3.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.3.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">ino</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">标识该文件。通常同设备上的不同文件的INO不同。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">mode</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示文件权限，各特征位的含义如下：</p>          <p><strong>说明</strong>：以下值为八进制，取得的返回值为十进制，请换算后查看。</p>          <p>- 0o400：用户读。对于普通文件，所有者可读取文件；对于目录，所有者可读取目录项。</p>          <p>- 0o200：用户写。对于普通文件，所有者可写入文件；对于目录，所有者可创建/删除目录项。</p>          <p>- 0o100：用户执行。对于普通文件，所有者可执行文件；对于目录，所有者可在目录中搜索给定路径名。</p>          <p>- 0o040：用户组读。对于普通文件，所有用户组可读取文件；对于目录，所有用户组可读取目录项。</p>          <p>- 0o020：用户组写。对于普通文件，所有用户组可写入文件；对于目录，所有用户组可创建/删除目录项。</p>          <p>- 0o010：用户组执行。对于普通文件，所有用户组可执行文件；对于目录，所有用户组是否可在目录中搜索给定路径名。</p>          <p>- 0o004：其他读。对于普通文件，其余用户可读取文件；对于目录，其他用户组可读取目录项。</p>          <p>- 0o002：其他写。对于普通文件，其余用户可写入文件；对于目录，其他用户组可创建/删除目录项。</p>          <p>- 0o001：其他执行。对于普通文件，其余用户可执行文件；对于目录，其他用户组可在目录中搜索给定路径名。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">uid</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文件所有者的ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">gid</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文件所有组的ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">size</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>文件的大小，以字节为单位。仅对普通文件有效。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">atime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>上次访问该文件的时间，表示距1970年1月1日0时0分0秒的秒数。</p>          <p><strong>注意</strong>：目前用户数据分区默认以“noatime”方式挂载，atime更新被禁用。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">mtime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>上次修改该文件的时间，表示距1970年1月1日0时0分0秒的秒数。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ctime</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">最近改变文件状态的时间，表示距1970年1月1日0时0分0秒的秒数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">atimeNs<sup>15+</sup></td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>上次访问该文件的时间，表示距1970年1月1日0时0分0秒的纳秒数。</p>          <p><strong>注意</strong>：目前用户数据分区默认以“noatime”方式挂载，atime更新被禁用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">mtimeNs<sup>15+</sup></td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">上次修改该文件的时间，表示距1970年1月1日0时0分0秒的纳秒数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ctimeNs<sup>15+</sup></td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">最近改变文件状态的时间，表示距1970年1月1日0时0分0秒的纳秒数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">location<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#locationtype11">LocationType</a></td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文件的位置，表示该文件是本地文件或者云端文件。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>Stat中部分属性仅支持普通文件获取，开发者可通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#isfile">isFile()</a>接口判断文件是否为普通文件。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 746px;">     <h3 id="isblockdevice" device-type="phone,2in1,tablet,wearable,tv">isBlockDevice<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isblockdevice" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isBlockDevice(): boolean</p>     <p>用于判断文件是否是块特殊文件。一个块特殊文件只能以块为粒度进行访问，且访问的时候带缓存。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.134.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">表示文件是否是块特殊设备。true：是块特殊设备；false：不是块特殊设备。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> isBLockDevice = fs.<span class="hljs-title function_">statSync</span>(filePath).<span class="hljs-title function_">isBlockDevice</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 746px;">     <h3 id="ischaracterdevice" device-type="phone,2in1,tablet,wearable,tv">isCharacterDevice<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ischaracterdevice" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isCharacterDevice(): boolean</p>     <p>判断文件是否为字符特殊文件。字符特殊设备支持随机访问，且访问时无缓存。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.135.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">表示文件是否是字符特殊设备。true：是字符特殊设备；false：不是字符特殊设备。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> isCharacterDevice = fs.<span class="hljs-title function_">statSync</span>(filePath).<span class="hljs-title function_">isCharacterDevice</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 770px;">     <h3 id="isdirectory" device-type="phone,2in1,tablet,wearable,tv">isDirectory<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isdirectory" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isDirectory(): boolean</p>     <p>判断文件是否为目录。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.136.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">表示文件是否是目录。true：是目录；false：不是目录。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> dirPath = pathDir + <span class="hljs-string">"/test"</span>;</li><li><span class="hljs-keyword">let</span> isDirectory = fs.<span class="hljs-title function_">statSync</span>(dirPath).<span class="hljs-title function_">isDirectory</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 722px;">     <h3 id="isfifo" device-type="phone,2in1,tablet,wearable,tv">isFIFO<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isfifo" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isFIFO(): boolean</p>     <p>用于判断文件是否是命名管道（有时也称为FIFO）。命名管道通常用于进程间通信。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.137.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">表示文件是否是 FIFO。true：是FIFO；false：不是FIFO。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> isFIFO = fs.<span class="hljs-title function_">statSync</span>(filePath).<span class="hljs-title function_">isFIFO</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 794px;">     <h3 id="isfile" device-type="phone,2in1,tablet,wearable,tv">isFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isfile" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isFile(): boolean</p>     <p>用于判断文件是否是普通文件。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.138.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">表示文件是否是普通文件。true：是普通文件；false：不是普通文件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> isFile = fs.<span class="hljs-title function_">statSync</span>(filePath).<span class="hljs-title function_">isFile</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 746px;">     <h3 id="issocket" device-type="phone,2in1,tablet,wearable,tv">isSocket<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="issocket" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isSocket(): boolean</p>     <p>判断文件是否是套接字。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.139.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.139.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">表示文件是否是套接字。true：是套接字；false：不是套接字。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> isSocket = fs.<span class="hljs-title function_">statSync</span>(filePath).<span class="hljs-title function_">isSocket</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 746px;">     <h3 id="issymboliclink" device-type="phone,2in1,tablet,wearable,tv">isSymbolicLink<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="issymboliclink" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isSymbolicLink(): boolean</p>     <p>判断文件是否为符号链接。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.140.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">表示文件是否是符号链接。true：是符号链接；false：不是符号链接。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> isSymbolicLink = fs.<span class="hljs-title function_">statSync</span>(filePath).<span class="hljs-title function_">isSymbolicLink</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="stream" device-type="phone,2in1,tablet,wearable,tv">Stream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stream" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文件流，在调用Stream的方法前，需要先通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#fscreatestream">fs.createStream</a>方法或者<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#fsfdopenstream">fs.fdopenStream</a>（同步或异步）来构建一个Stream实例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 898px;">     <h3 id="close" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">close<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="close" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(): Promise&lt;void&gt;</p>     <p>关闭文件流，使用promise异步回调。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.142.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">createStreamSync</span>(filePath, <span class="hljs-string">"r+"</span>);</li><li>stream.<span class="hljs-title function_">close</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"close fileStream succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"close fileStream  failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 966px;">     <h3 id="close-1" device-type="phone,2in1,tablet,wearable,tv">close<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="close-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(callback: AsyncCallback&lt;void&gt;): void</p>     <p>异步关闭文件流，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.143.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步关闭文件流之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">createStreamSync</span>(filePath, <span class="hljs-string">"r+"</span>);</li><li>stream.<span class="hljs-title function_">close</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"close stream failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"close stream succeed"</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 623px;">     <h3 id="closesync" device-type="phone,2in1,tablet,wearable,tv">closeSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closesync" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>closeSync(): void</p>     <p>同步关闭文件流。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">createStreamSync</span>(filePath, <span class="hljs-string">"r+"</span>);</li><li>stream.<span class="hljs-title function_">closeSync</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 938px;">     <h3 id="flush" device-type="phone,2in1,tablet,wearable,tv">flush<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="flush" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>flush(): Promise&lt;void&gt;</p>     <p>刷新文件流，使用promise异步回调。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.145.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回表示异步刷新文件流的结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">createStreamSync</span>(filePath, <span class="hljs-string">"r+"</span>);</li><li>stream.<span class="hljs-title function_">flush</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"flush succeed"</span>);</li><li>  stream.<span class="hljs-title function_">close</span>();</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"flush failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 990px;">     <h3 id="flush-1" device-type="phone,2in1,tablet,wearable,tv">flush<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="flush-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>flush(callback: AsyncCallback&lt;void&gt;): void</p>     <p>异步刷新文件流，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.146.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步刷新文件流后的回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">createStreamSync</span>(filePath, <span class="hljs-string">"r+"</span>);</li><li>stream.<span class="hljs-title function_">flush</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"flush stream failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"flush succeed"</span>);</li><li>    stream.<span class="hljs-title function_">close</span>();</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 647px;">     <h3 id="flushsync" device-type="phone,2in1,tablet,wearable,tv">flushSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="flushsync" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>flushSync(): void</p>     <p>同步刷新文件流。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">createStreamSync</span>(filePath, <span class="hljs-string">"r+"</span>);</li><li>stream.<span class="hljs-title function_">flushSync</span>();</li><li>stream.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1566px;">     <h3 id="write" device-type="phone,2in1,tablet,wearable,tv">write<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="write" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>write(buffer: ArrayBuffer | string, options?: WriteOptions): Promise&lt;number&gt;</p>     <p>将数据写入流文件，使用promise异步回调。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer | string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待写入文件的数据，可来自缓冲区或字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#writeoptions11">WriteOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- length，number类型，表示期望写入数据的长度。默认缓冲区长度。</p>          <p>- offset，number类型，表示期望写入文件的位置。可选，默认从当前位置开始写。</p>          <p>- encoding，string类型，当数据是string类型时有效，表示数据的编码方式，默认 'utf-8'。仅支持 'utf-8'。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.148.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回实际写入的长度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">WriteOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">createStreamSync</span>(filePath, <span class="hljs-string">"r+"</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">writeOption</span>: <span class="hljs-title class_">WriteOptions</span> = {</li><li>  <span class="hljs-attr">offset</span>: <span class="hljs-number">5</span>,</li><li>  <span class="hljs-attr">length</span>: <span class="hljs-number">5</span>,</li><li>  <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf-8'</span></li><li>};</li><li>stream.<span class="hljs-title function_">write</span>(<span class="hljs-string">"hello, world"</span>, writeOption).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">number</span>: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"write succeed and size is:"</span> + <span class="hljs-built_in">number</span>);</li><li>  stream.<span class="hljs-title function_">close</span>();</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"write failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1560px;">     <h3 id="write-1" device-type="phone,2in1,tablet,wearable,tv">write<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="write-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>write(buffer: ArrayBuffer | string, options?: WriteOptions, callback: AsyncCallback&lt;number&gt;): void</p>     <p>将数据写入流文件，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.149.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer | string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待写入文件的数据，可来自缓冲区或字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#writeoptions11">WriteOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- length，number类型，表示期望写入数据的长度。可选，默认缓冲区长度。</p>          <p>- offset，number类型，表示期望写入文件的位置。可选，默认从当前位置开始写。</p>          <p>- encoding，string类型，当数据是string类型时有效，表示数据的编码方式，默认 'utf-8'。仅支持 'utf-8'。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步写入完成后执行的回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">WriteOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">createStreamSync</span>(filePath, <span class="hljs-string">"r+"</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">writeOption</span>: <span class="hljs-title class_">WriteOptions</span> = {</li><li>  <span class="hljs-attr">offset</span>: <span class="hljs-number">5</span>,</li><li>  <span class="hljs-attr">length</span>: <span class="hljs-number">5</span>,</li><li>  <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf-8'</span></li><li>};</li><li>stream.<span class="hljs-title function_">write</span>(<span class="hljs-string">"hello, world"</span>, writeOption, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, bytesWritten: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"write stream failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-keyword">if</span> (bytesWritten) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"write succeed and size is:"</span> + bytesWritten);</li><li>    }</li><li>  }</li><li>  stream.<span class="hljs-title function_">close</span>();</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1446px;">     <h3 id="writesync" device-type="phone,2in1,tablet,wearable,tv">writeSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writesync" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeSync(buffer: ArrayBuffer | string, options?: WriteOptions): number</p>     <p>以同步方法将数据写入流文件。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.150.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer | string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待写入文件的数据，可来自缓冲区或字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#writeoptions11">WriteOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- length，number类型，表示期望写入数据的长度。可选，默认缓冲区长度。</p>          <p>- offset，number类型，表示期望写入文件的位置。可选，默认从当前位置开始写。</p>          <p>- encoding，string类型，当数据是string类型时有效，表示数据的编码方式，默认 'utf-8'。仅支持 'utf-8'。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.150.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">实际写入的长度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">WriteOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">createStreamSync</span>(filePath,<span class="hljs-string">"r+"</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">writeOption</span>: <span class="hljs-title class_">WriteOptions</span> = {</li><li>  <span class="hljs-attr">offset</span>: <span class="hljs-number">5</span>,</li><li>  <span class="hljs-attr">length</span>: <span class="hljs-number">5</span>,</li><li>  <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf-8'</span></li><li>};</li><li><span class="hljs-keyword">let</span> num = stream.<span class="hljs-title function_">writeSync</span>(<span class="hljs-string">"hello, world"</span>, writeOption);</li><li>stream.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1518px;">     <h3 id="read" device-type="phone,2in1,tablet,wearable,tv">read<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="read" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>read(buffer: ArrayBuffer, options?: ReadOptions): Promise&lt;number&gt;</p>     <p>从流文件读取数据，使用promise异步回调。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.151.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于读取文件的缓冲区。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readoptions11">ReadOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- length，number类型，表示期望读取数据的长度。可选，默认缓冲区长度。</p>          <p>- offset，number类型，表示期望读取文件的位置。可选，默认从当前位置开始读。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.151.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回读取的结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">ReadOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">createStreamSync</span>(filePath, <span class="hljs-string">"r+"</span>);</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">4096</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">readOption</span>: <span class="hljs-title class_">ReadOptions</span> = {</li><li>  <span class="hljs-attr">offset</span>: <span class="hljs-number">5</span>,</li><li>  <span class="hljs-attr">length</span>: <span class="hljs-number">5</span></li><li>};</li><li>stream.<span class="hljs-title function_">read</span>(arrayBuffer, readOption).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">readLen: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"read data succeed"</span>);</li><li>  <span class="hljs-keyword">let</span> buf = buffer.<span class="hljs-title function_">from</span>(arrayBuffer, <span class="hljs-number">0</span>, readLen);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The content of file: <span class="hljs-subst">${buf.toString()}</span>`</span>);</li><li>  stream.<span class="hljs-title function_">close</span>();</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"read data failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1440px;">     <h3 id="read-1" device-type="phone,2in1,tablet,wearable,tv">read<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="read-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>read(buffer: ArrayBuffer, options?: ReadOptions, callback: AsyncCallback&lt;number&gt;): void</p>     <p>从流文件读取数据，使用callback异步回调。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.152.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于读取文件的缓冲区。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readoptions11">ReadOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- length，number类型，表示期望读取数据的长度。可选，默认缓冲区长度。</p>          <p>- offset，number类型，表示期望读取文件的位置。可选，默认从当前位置开始读取。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步读取完成后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">ReadOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">createStreamSync</span>(filePath, <span class="hljs-string">"r+"</span>);</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">4096</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">readOption</span>: <span class="hljs-title class_">ReadOptions</span> = {</li><li>  <span class="hljs-attr">offset</span>: <span class="hljs-number">5</span>,</li><li>  <span class="hljs-attr">length</span>: <span class="hljs-number">5</span></li><li>};</li><li>stream.<span class="hljs-title function_">read</span>(arrayBuffer, readOption, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, readLen: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"read stream failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"read data succeed"</span>);</li><li>    <span class="hljs-keyword">let</span> buf = buffer.<span class="hljs-title function_">from</span>(arrayBuffer, <span class="hljs-number">0</span>, readLen);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The content of file: <span class="hljs-subst">${buf.toString()}</span>`</span>);</li><li>    stream.<span class="hljs-title function_">close</span>();</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1326px;">     <h3 id="readsync" device-type="phone,2in1,tablet,wearable,tv">readSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readsync" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readSync(buffer: ArrayBuffer, options?: ReadOptions): number</p>     <p>以同步方法从流文件读取数据。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.153.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于读取文件的缓冲区。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readoptions11">ReadOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- length，number类型，表示期望读取数据的长度。可选，默认缓冲区长度。</p>          <p>- offset，number类型，表示期望读取文件的位置。可选，默认从当前位置开始读。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.153.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">实际读取的长度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">ReadOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> stream = fs.<span class="hljs-title function_">createStreamSync</span>(filePath, <span class="hljs-string">"r+"</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">readOption</span>: <span class="hljs-title class_">ReadOptions</span> = {</li><li>  <span class="hljs-attr">offset</span>: <span class="hljs-number">5</span>,</li><li>  <span class="hljs-attr">length</span>: <span class="hljs-number">5</span></li><li>};</li><li><span class="hljs-keyword">let</span> buf = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">4096</span>);</li><li><span class="hljs-keyword">let</span> num = stream.<span class="hljs-title function_">readSync</span>(buf, readOption);</li><li>stream.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="file" device-type="phone,2in1,tablet,wearable,tv">File<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="file" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>由open接口打开的File对象。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 447px;">     <h3 id="属性-2" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.155.3.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.3.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.3.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.3.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.3.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">fd</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>打开的文件描述符。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">path<sup>10+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文件路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">name<sup>10+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文件名。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 794px;">     <h3 id="getparent11" device-type="phone,2in1,tablet,wearable,tv">getParent<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getparent11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getParent(): string</p>     <p>获取File对象对应文件父目录。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.156.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回父目录路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'The parent path is: '</span> + file.<span class="hljs-title function_">getParent</span>());</li><li>fs.<span class="hljs-title function_">closeSync</span>(file);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1113px;">     <h3 id="lock" device-type="phone,2in1,tablet,wearable,tv">lock<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="lock" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>lock(exclusive?: boolean): Promise&lt;void&gt;</p>     <p>对文件阻塞式施加共享锁或独占锁，使用promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.157.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">exclusive</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">是否施加独占锁，默认false。true：施加独占锁；false：不施加独占锁。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.157.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>file.<span class="hljs-title function_">lock</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"lock file succeed"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"lock file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>}).<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1011px;">     <h3 id="lock-1" device-type="phone,2in1,tablet,wearable,tv">lock<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="lock-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>lock(exclusive?: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>对文件阻塞式施加共享锁或独占锁，使Callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.158.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">exclusive</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">是否施加独占锁，默认false。true：施加独占锁；false：不施加独占锁。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步文件上锁之后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>file.<span class="hljs-title function_">lock</span>(<span class="hljs-literal">true</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"lock file failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"lock file succeed"</span>);</li><li>  }</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 822px;">     <h3 id="trylock" device-type="phone,2in1,tablet,wearable,tv">tryLock<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="trylock" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>tryLock(exclusive?: boolean): void</p>     <p>文件非阻塞式施加共享锁或独占锁。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.159.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">exclusive</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">是否施加独占锁，默认false。true：施加独占锁；false：不施加独占锁。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>file.<span class="hljs-title function_">tryLock</span>(<span class="hljs-literal">true</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"lock file succeed"</span>);</li><li>fs.<span class="hljs-title function_">closeSync</span>(file);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 647px;">     <h3 id="unlock" device-type="phone,2in1,tablet,wearable,tv">unlock<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unlock" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unlock(): void</p>     <p>以同步方式解锁文件。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>file.<span class="hljs-title function_">tryLock</span>(<span class="hljs-literal">true</span>);</li><li>file.<span class="hljs-title function_">unlock</span>();</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"unlock file succeed"</span>);</li><li>fs.<span class="hljs-title function_">closeSync</span>(file);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="fsdfslisteners12" device-type="phone,2in1,tablet,wearable,tv">fs.DfsListeners<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fsdfslisteners12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>事件监听类。创建DFSListener对象，用于监听分布式文件系统状态。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 642px;">     <h3 id="onstatus12" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">onStatus<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onstatus12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onStatus(networkId: string, status: number): void;</p>     <p>事件回调类。参数由<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#fsconnectdfs12">connectDfs</a>传入。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.162.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">networkId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设备的网络Id。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">status</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>分布式文件系统的状态码（以connectDfs回调onStatus的特定错误码作为入参）。触发场景为connectDfs调用过程中出现对端设备异常，对应错误码为：</p>          <p>- <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#section13900046-软件造成连接中断">13900046</a>：软件造成连接中断。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 206px;">     <h2 id="randomaccessfile10" device-type="phone,2in1,tablet,wearable,tv">RandomAccessFile<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="randomaccessfile10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>随机读写文件流。在调用RandomAccessFile的方法前，需要先通过createRandomAccessFile()方法（同步或异步）来构建一个RandomAccessFile实例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 330px;">     <h3 id="属性-3" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-3" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.164.3.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.3.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.3.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.3.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.3.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">fd</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">打开的文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">filePointer</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">RandomAccessFile对象的偏移指针。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 774px;">     <h3 id="setfilepointer10" device-type="phone,2in1,tablet,wearable,tv">setFilePointer<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setfilepointer10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setFilePointer(filePointer:number): void</p>     <p>设置文件偏移指针。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.165.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">filePointer</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RandomAccessFile对象的偏移指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> randomAccessFile = fs.<span class="hljs-title function_">createRandomAccessFileSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>randomAccessFile.<span class="hljs-title function_">setFilePointer</span>(<span class="hljs-number">1</span>);</li><li>randomAccessFile.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 575px;">     <h3 id="close10" device-type="phone,2in1,tablet,wearable,tv">close<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="close10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(): void</p>     <p>以同步方式关闭RandomAccessFile对象。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> randomAccessFile = fs.<span class="hljs-title function_">createRandomAccessFileSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>randomAccessFile.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1662px;">     <h3 id="write10" device-type="phone,2in1,tablet,wearable,tv">write<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="write10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>write(buffer: ArrayBuffer | string, options?: WriteOptions): Promise&lt;number&gt;</p>     <p>将数据写入文件，使用promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.167.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer | string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待写入文件的数据，可来自缓冲区或字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#writeoptions11">WriteOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- length，number类型，表示期望写入数据的长度。默认缓冲区长度。</p>          <p>- offset，number类型，表示期望写入文件位置（基于当前filePointer加上offset的位置）。可选，默认从偏移指针（filePointer）开始写。</p>          <p>- encoding，string类型，当数据是string类型时有效，表示数据的编码方式，默认 'utf-8'。仅支持 'utf-8'。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.167.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回实际写入的长度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">WriteOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-keyword">let</span> randomAccessFile = fs.<span class="hljs-title function_">createRandomAccessFileSync</span>(file);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">bufferLength</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">4096</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">writeOption</span>: <span class="hljs-title class_">WriteOptions</span> = {</li><li>  <span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>,</li><li>  <span class="hljs-attr">length</span>: <span class="hljs-number">5</span>,</li><li>  <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf-8'</span></li><li>};</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(bufferLength);</li><li>randomAccessFile.<span class="hljs-title function_">write</span>(arrayBuffer, writeOption).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">bytesWritten: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"randomAccessFile bytesWritten: "</span> + bytesWritten);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"create randomAccessFile failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>}).<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  randomAccessFile.<span class="hljs-title function_">close</span>();</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1632px;">     <h3 id="write10-1" device-type="phone,2in1,tablet,wearable,tv">write<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="write10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>write(buffer: ArrayBuffer | string, options?: WriteOptions, callback: AsyncCallback&lt;number&gt;): void</p>     <p>将数据写入文件，使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.168.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer | string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待写入文件的数据，可来自缓冲区或字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#writeoptions11">WriteOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- length，number类型，表示期望写入数据的长度。可选，默认为缓冲区长度。</p>          <p>- offset，number类型，表示期望写入文件位置（基于当前filePointer加上offset的位置）。可选，默认从偏移指针（filePointer）开始写。</p>          <p>- encoding，string类型，当数据是string类型时有效，表示数据的编码方式，默认 'utf-8'。仅支持 'utf-8'。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步写入完成后执行的回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">WriteOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-keyword">let</span> randomAccessFile = fs.<span class="hljs-title function_">createRandomAccessFileSync</span>(file);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">bufferLength</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">4096</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">writeOption</span>: <span class="hljs-title class_">WriteOptions</span> = {</li><li>  <span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>,</li><li>  <span class="hljs-attr">length</span>: bufferLength,</li><li>  <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf-8'</span></li><li>};</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(bufferLength);</li><li>randomAccessFile.<span class="hljs-title function_">write</span>(arrayBuffer, writeOption, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, bytesWritten: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"write failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-keyword">if</span> (bytesWritten) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"write succeed and size is:"</span> + bytesWritten);</li><li>    }</li><li>  }</li><li>  randomAccessFile.<span class="hljs-title function_">close</span>();</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1422px;">     <h3 id="writesync10" device-type="phone,2in1,tablet,wearable,tv">writeSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writesync10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeSync(buffer: ArrayBuffer | string, options?: WriteOptions): number</p>     <p>以同步方法将数据写入文件。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.169.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer | string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待写入文件的数据，可来自缓冲区或字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#writeoptions11">WriteOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- length，number类型，表示期望写入数据的长度。可选，默认缓冲区长度。</p>          <p>- offset，number类型，表示期望写入文件位置（基于当前filePointer加上offset的位置）。可选，默认从偏移指针（filePointer）开始写。</p>          <p>- encoding，string类型，当数据是string类型时有效，表示数据的编码方式，默认 'utf-8'。仅支持 'utf-8'。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.169.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">实际写入的长度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">WriteOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> randomAccessFile = fs.<span class="hljs-title function_">createRandomAccessFileSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">writeOption</span>: <span class="hljs-title class_">WriteOptions</span> = {</li><li>  <span class="hljs-attr">offset</span>: <span class="hljs-number">5</span>,</li><li>  <span class="hljs-attr">length</span>: <span class="hljs-number">5</span>,</li><li>  <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf-8'</span></li><li>};</li><li><span class="hljs-keyword">let</span> bytesWritten = randomAccessFile.<span class="hljs-title function_">writeSync</span>(<span class="hljs-string">"hello, world"</span>, writeOption);</li><li>randomAccessFile.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1518px;">     <h3 id="read10" device-type="phone,2in1,tablet,wearable,tv">read<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="read10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>read(buffer: ArrayBuffer, options?: ReadOptions): Promise&lt;number&gt;</p>     <p>从文件读取数据，使用promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.170.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于读取文件的缓冲区。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readoptions11">ReadOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- length，number类型，表示期望读取数据的长度。可选，默认为缓冲区长度。</p>          <p>- offset，number类型，表示期望读取文件位置（基于当前filePointer加上offset的位置）。可选，默认从偏移指针（filePointer）开始读。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.170.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回读取的结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">ReadOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-keyword">let</span> randomAccessFile = fs.<span class="hljs-title function_">createRandomAccessFileSync</span>(file);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">bufferLength</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">4096</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">readOption</span>: <span class="hljs-title class_">ReadOptions</span> = {</li><li>  <span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>,</li><li>  <span class="hljs-attr">length</span>: <span class="hljs-number">5</span></li><li>};</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(bufferLength);</li><li>randomAccessFile.<span class="hljs-title function_">read</span>(arrayBuffer, readOption).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">readLength: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"randomAccessFile readLength: "</span> + readLength);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"create randomAccessFile failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>}).<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  randomAccessFile.<span class="hljs-title function_">close</span>();</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1464px;">     <h3 id="read10-1" device-type="phone,2in1,tablet,wearable,tv">read<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="read10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>read(buffer: ArrayBuffer, options?: ReadOptions, callback: AsyncCallback&lt;number&gt;): void</p>     <p>从文件读取数据，使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.171.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于读取文件的缓冲区。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readoptions11">ReadOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- length，number类型，表示读取数据的长度。可选，默认为缓冲区长度。</p>          <p>- offset，number类型，表示读取文件位置（基于当前filePointer加上offset的位置）。可选，默认从filePointer开始读。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步读取完成后的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo <span class="hljs-keyword">as</span> fs, <span class="hljs-title class_">ReadOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-keyword">let</span> randomAccessFile = fs.<span class="hljs-title function_">createRandomAccessFileSync</span>(file);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">20</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">readOption</span>: <span class="hljs-title class_">ReadOptions</span> = {</li><li>  <span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>,</li><li>  <span class="hljs-attr">length</span>: <span class="hljs-number">5</span></li><li>};</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(length);</li><li>randomAccessFile.<span class="hljs-title function_">read</span>(arrayBuffer, readOption, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, readLength: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"read failed with error message: "</span> + err.<span class="hljs-property">message</span> + <span class="hljs-string">", error code: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-keyword">if</span> (readLength) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"read succeed and size is:"</span> + readLength);</li><li>    }</li><li>  }</li><li>  randomAccessFile.<span class="hljs-title function_">close</span>();</li><li>  fs.<span class="hljs-title function_">closeSync</span>(file);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1254px;">     <h3 id="readsync10" device-type="phone,2in1,tablet,wearable,tv">readSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readsync10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readSync(buffer: ArrayBuffer, options?: ReadOptions): number</p>     <p>以同步方法从文件读取数据。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.172.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于读取文件的缓冲区。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readoptions11">ReadOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持如下选项：</p>          <p>- length，number类型，表示期望读取数据的长度。可选，默认缓冲区长度。</p>          <p>- offset，number类型，表示期望读取文件位置（基于当前filePointer加上offset的位置）。可选，默认从偏移指针（filePointer）开始读。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.172.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">实际读取的长度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">openSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-keyword">let</span> randomAccessFile = fs.<span class="hljs-title function_">createRandomAccessFileSync</span>(file);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">4096</span>;</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(length);</li><li><span class="hljs-keyword">let</span> readLength = randomAccessFile.<span class="hljs-title function_">readSync</span>(arrayBuffer);</li><li>randomAccessFile.<span class="hljs-title function_">close</span>();</li><li>fs.<span class="hljs-title function_">closeSync</span>(file);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 698px;">     <h3 id="getreadstream12" device-type="phone,2in1,tablet,wearable,tv">getReadStream<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getreadstream12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getReadStream(): ReadStream</p>     <p>获取当前 RandomAccessFile 的一个 ReadStream 实例。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.173.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readstream12">ReadStream</a></td>         <td class="cellrowborder" width="50%">文件可读流。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">const</span> randomAccessFile = fs.<span class="hljs-title function_">createRandomAccessFileSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-keyword">const</span> rs = randomAccessFile.<span class="hljs-title function_">getReadStream</span>();</li><li>rs.<span class="hljs-title function_">close</span>();</li><li>randomAccessFile.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 698px;">     <h3 id="getwritestream12" device-type="phone,2in1,tablet,wearable,tv">getWriteStream<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwritestream12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWriteStream(): WriteStream</p>     <p>获取当前 RandomAccessFile 的一个 WriteStream 实例。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.174.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#writestream12">WriteStream</a></td>         <td class="cellrowborder" width="50%">文件可写流。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">const</span> randomAccessFile = fs.<span class="hljs-title function_">createRandomAccessFileSync</span>(filePath, fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fs.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span>);</li><li><span class="hljs-keyword">const</span> ws = randomAccessFile.<span class="hljs-title function_">getWriteStream</span>();</li><li>ws.<span class="hljs-title function_">close</span>();</li><li>randomAccessFile.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="watcher10" device-type="phone,2in1,tablet,wearable,tv">Watcher<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="watcher10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文件目录变化监听对象。由createWatcher接口获得。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 583px;">     <h3 id="start10" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">start<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="start10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>start(): void</p>     <p>开启监听。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> watcher = fs.<span class="hljs-title function_">createWatcher</span>(filePath, <span class="hljs-number">0xfff</span>, <span class="hljs-function">() =&gt;</span> {});</li><li>watcher.<span class="hljs-title function_">start</span>();</li><li>watcher.<span class="hljs-title function_">stop</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 599px;">     <h3 id="stop10" device-type="phone,2in1,tablet,wearable,tv">stop<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stop10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stop(): void</p>     <p>停止监听并移除Watcher对象。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">let</span> watcher = fs.<span class="hljs-title function_">createWatcher</span>(filePath, <span class="hljs-number">0xfff</span>, <span class="hljs-function">() =&gt;</span> {});</li><li>watcher.<span class="hljs-title function_">start</span>();</li><li>watcher.<span class="hljs-title function_">stop</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1386px;">     <h2 id="openmode" device-type="phone,2in1,tablet,wearable,tv">OpenMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="openmode" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>open接口flags参数常量。文件打开标签。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.178.4.1.5.1.1" width="25%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.4.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.4.1.5.1.3" width="25%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.4.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">READ_ONLY</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">0o0</td>         <td class="cellrowborder" width="25%">          <p>只读打开。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">WRITE_ONLY</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">0o1</td>         <td class="cellrowborder" width="25%">          <p>只写打开。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">READ_WRITE</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">0o2</td>         <td class="cellrowborder" width="25%">          <p>读写打开。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">CREATE</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">0o100</td>         <td class="cellrowborder" width="25%">          <p>若文件不存在，则创建文件。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">TRUNC</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">0o1000</td>         <td class="cellrowborder" width="25%">          <p>如果文件存在且以只写或读写的方式打开，则将其长度裁剪为零。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">APPEND</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">0o2000</td>         <td class="cellrowborder" width="25%">          <p>以追加方式打开，后续写将追加到文件末尾。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">NONBLOCK</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">0o4000</td>         <td class="cellrowborder" width="25%">如果path指向FIFO、块特殊文件或字符特殊文件，则本次打开及后续 IO 进行非阻塞操作。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">DIR</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">0o200000</td>         <td class="cellrowborder" width="25%">如果path不指向目录，则出错。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">NOFOLLOW</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">0o400000</td>         <td class="cellrowborder" width="25%">如果path指向符号链接，则出错。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">SYNC</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">0o4010000</td>         <td class="cellrowborder" width="25%">以同步IO的方式打开文件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 942px;">     <h2 id="filter10" device-type="phone,2in1,tablet,wearable,tv">Filter<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="filter10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文件过滤配置项，支持listFile接口使用。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.179.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">suffix</td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文件后缀名完全匹配，各个关键词OR关系。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">displayName</td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文件名模糊匹配，各个关键词OR关系。当前仅支持通配符*。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">mimeType</td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">mime类型完全匹配，各个关键词OR关系。预留字段，暂不支持使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fileSizeOver</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文件大小匹配，大于指定大小的文件。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">lastModifiedAfter</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文件最近修改时间匹配，在指定时间点及之后的文件。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">excludeMedia</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否排除Media中已有的文件。true：排除Media中已有的文件；false：不排除Media中已有的文件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 378px;">     <h2 id="conflictfiles10" device-type="phone,2in1,tablet,wearable,tv">ConflictFiles<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="conflictfiles10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>冲突文件信息，支持copyDir及moveDir接口使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.180.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.180.4.1.4.1.2" width="33.33333333333333%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.180.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">srcFile</td>         <td class="cellrowborder" width="33.33333333333333%">string</td>         <td class="cellrowborder" width="33.33333333333333%">源冲突文件路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">destFile</td>         <td class="cellrowborder" width="33.33333333333333%">string</td>         <td class="cellrowborder" width="33.33333333333333%">目标冲突文件路径。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 333px;">     <h2 id="options11" device-type="phone,2in1,tablet,wearable,tv">Options<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="options11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>可选项类型，支持readLines接口使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.181.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.4.1.4.1.2" width="33.33333333333333%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">encoding</td>         <td class="cellrowborder" width="33.33333333333333%">string</td>         <td class="cellrowborder" width="33.33333333333333%">文件编码方式。可选项。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 423px;">     <h2 id="whencetype11" device-type="phone,2in1,tablet,wearable,tv">WhenceType<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="whencetype11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，文件偏移指针相对偏移位置类型，支持lseek接口使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.182.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">SEEK_SET</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">文件起始位置处。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SEEK_CUR</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">当前文件偏移指针位置处。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SEEK_END</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">文件末尾位置处。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 378px;">     <h2 id="locationtype11" device-type="phone,2in1,tablet,wearable,tv">LocationType<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="locationtype11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，文件位置，表示该文件是否在本地或者云端存在。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.183.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">LOCAL</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">文件在本地存在。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CLOUD</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">文件在云端存在。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 516px;">     <h2 id="accessmodetype12" device-type="phone,2in1,tablet,wearable,tv">AccessModeType<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accessmodetype12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，表示需要校验的具体权限。若不填，默认校验文件是否存在。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.184.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">EXIST</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">文件是否存在。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">WRITE</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">文件是否具有写入权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">READ</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">文件是否具有读取权限。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">READ_WRITE</td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">文件是否具有读写权限。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 333px;">     <h2 id="accessflagtype12" device-type="phone,2in1,tablet,wearable,tv">AccessFlagType<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accessflagtype12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，表示需要校验的文件位置。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.185.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">LOCAL</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">文件是否在本地。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 642px;">     <h2 id="readoptions11" device-type="phone,2in1,tablet,wearable,tv">ReadOptions<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readoptions11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>可选项类型，支持read接口使用。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.186.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">length</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">期望读取数据的长度，单位为字节。可选，默认缓冲区长度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">offset</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">期望读取文件位置，单位为字节（基于当前filePointer加上offset的位置）。可选，默认从偏移指针（filePointer）开始读。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 711px;">     <h2 id="readtextoptions11" device-type="phone,2in1,tablet,wearable,tv">ReadTextOptions<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readtextoptions11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>可选项类型，支持readText接口使用，ReadTextOptions继承至<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#readoptions11">ReadOptions</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.187.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">length</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">期望读取数据的长度，单位为字节。可选，默认文件长度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">offset</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">期望读取文件的位置，单位为字节。可选，默认从当前位置开始读取。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">encoding</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>当数据是 string 类型时有效，表示数据的编码方式，默认 'utf-8'，仅支持 'utf-8'。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 903px;">     <h2 id="writeoptions11" device-type="phone,2in1,tablet,wearable,tv">WriteOptions<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeoptions11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>可选项类型，支持write接口使用，WriteOptions继承至<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#options11">Options</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.188.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">length</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>期望写入数据的长度，单位为字节。可选，默认缓冲区长度。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">offset</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>期望写入文件位置，单位为字节（基于当前filePointer加上offset的位置）。可选，默认从偏移指针（filePointer）开始写。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">encoding</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">当数据是string类型时有效，表示数据的编码方式。默认 'utf-8'。仅支持 'utf-8'。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 783px;">     <h2 id="listfileoptions11" device-type="phone,2in1,tablet,wearable,tv">ListFileOptions<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="listfileoptions11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>可选项类型，支持listFile接口使用。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.189.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">recursion</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否递归子目录下文件名。可选，默认为false。当recursion为false时，返回当前目录下满足过滤要求的文件名及目录名。当recursion为true时，返回此目录下所有满足过滤要求的文件的相对路径（以/开头）。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">listNum</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">列出文件名数量。可选，当设置0时，列出所有文件，默认为0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">filter</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#filter10">Filter</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文件过滤配置项。 可选，设置过滤条件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 426px;">     <h2 id="readstream12" device-type="phone,2in1,tablet,wearable,tv">ReadStream<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readstream12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文件可读流，需要先通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#fscreatereadstream12">fs.createReadStream</a>方法来构建一个ReadStream实例。ReadStream继承自数据流基类<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-stream#readable">stream</a>。</p>     <p><strong>规格</strong>：ReadStream读到的数据为解码后的字符串，其编码格式当前仅支持'utf-8'。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.190.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">bytesRead</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">可读流已经读取的字节数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">path</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">当前可读流对应的文件路径。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1070px;">     <h3 id="seek12" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">seek<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="seek12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>seek(offset: number, whence?: WhenceType): number</p>     <p>调整可读流偏移指针位置。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.191.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">相对偏移位置，单位为字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">whence</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#whencetype11">WhenceType</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">偏移指针相对位置类型。默认值：SEEK_SET，文件起始位置处。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.191.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">当前可读流偏移指针位置（相对于文件头的偏移量，单位为字节）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">const</span> rs = fs.<span class="hljs-title function_">createReadStream</span>(filePath);</li><li><span class="hljs-keyword">const</span> curOff = rs.<span class="hljs-title function_">seek</span>(<span class="hljs-number">5</span>, fs.<span class="hljs-property">WhenceType</span>.<span class="hljs-property">SEEK_SET</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`current offset is <span class="hljs-subst">${curOff}</span>`</span>);</li><li>rs.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 575px;">     <h3 id="close12" device-type="phone,2in1,tablet,wearable,tv">close<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="close12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(): void</p>     <p>关闭可读流。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">const</span> rs = fs.<span class="hljs-title function_">createReadStream</span>(filePath);</li><li>rs.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="writestream12" device-type="phone,2in1,tablet,wearable,tv">WriteStream<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writestream12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文件可写流，需要先通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#fscreatewritestream12">fs.createWriteStream</a>方法来构建一个WriteStream实例。WriteStream继承自数据流基类<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-stream#writable">stream</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 354px;">     <h3 id="属性-4" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-4" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.194.3.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.3.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.3.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.3.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.3.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">bytesWritten</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">可写流已经写入的字节数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">path</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">当前可写流对应的文件路径。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1086px;">     <h3 id="seek12-1" device-type="phone,2in1,tablet,wearable,tv">Seek<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="seek12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>seek(offset: number, whence?: WhenceType): number;</p>     <p>调整可写流的偏移指针位置。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.195.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">相对偏移位置，单位为字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">whence</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#whencetype11">WhenceType</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">偏移指针相对位置类型。默认值：SEEK_SET，文件起始位置处。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.195.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">当前可写流偏移指针位置（相对于文件头的偏移量，单位为字节）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">const</span> ws = fs.<span class="hljs-title function_">createWriteStream</span>(filePath);</li><li><span class="hljs-keyword">const</span> curOff = ws.<span class="hljs-title function_">seek</span>(<span class="hljs-number">5</span>, fs.<span class="hljs-property">WhenceType</span>.<span class="hljs-property">SEEK_SET</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`current offset is <span class="hljs-subst">${curOff}</span>`</span>);</li><li>ws.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 575px;">     <h3 id="close12-1" device-type="phone,2in1,tablet,wearable,tv">close<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="close12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(): void</p>     <p>关闭可写流。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <p><strong>错误码：</strong></p>     <p>接口抛出错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-filemanagement#基础文件io错误码">基础文件IO错误码</a>。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-kni-c106="" class="highlight-div"><div _ngcontent-kni-c106="" class="highlight-div-header"><div _ngcontent-kni-c106="" class="highlight-div-header-left"><div _ngcontent-kni-c106="" class="handle-button expand-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kni-c106="" class="highlight-div-header-right"><div _ngcontent-kni-c106="" class="handle-button ai-button"></div><div _ngcontent-kni-c106="" class="handle-button line-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kni-c106="" class="handle-button theme-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kni-c106="" class="handle-button copy-button"><div _ngcontent-kni-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kni-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> filePath = pathDir + <span class="hljs-string">"/test.txt"</span>;</li><li><span class="hljs-keyword">const</span> ws = fs.<span class="hljs-title function_">createWriteStream</span>(filePath);</li><li>ws.<span class="hljs-title function_">close</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 522px;">     <h2 id="randomaccessfileoptions12" device-type="phone,2in1,tablet,wearable,tv">RandomAccessFileOptions<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="randomaccessfileoptions12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>可选项类型，支持 createRandomAccessFile 接口使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.197.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.197.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.197.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.197.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.197.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">start</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示期望读取文件的位置，单位为字节。可选，默认从当前位置开始读。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">end</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示期望读取结束的位置，单位为字节。可选，默认文件末尾。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 522px;">     <h2 id="readstreamoptions12" device-type="phone,2in1,tablet,wearable,tv">ReadStreamOptions<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readstreamoptions12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>可选项类型，支持 createReadStream 接口使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.198.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">start</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示期望读取文件的位置，单位为字节。可选，默认从当前位置开始读。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">end</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示期望读取结束的位置，单位为字节。可选，默认文件末尾。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1722px;">     <h2 id="writestreamoptions12" device-type="phone,2in1,tablet,wearable,tv">WriteStreamOptions<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writestreamoptions12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>可选项类型，支持 createWriteStream 接口使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.File.FileIO</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.199.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">start</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示期望读取文件的位置，单位为字节。可选，默认从当前位置开始读。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">mode</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>创建文件可写流的<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-fs#openmode">选项</a>，必须指定如下选项中的一个，默认只写方式创建：</p>          <p>- OpenMode.READ_ONLY(0o0)：只读。</p>          <p>- OpenMode.WRITE_ONLY(0o1)：只写。</p>          <p>- OpenMode.READ_WRITE(0o2)：读写。</p>          <p>给定如下功能选项，以按位或的方式追加，默认不给定任何额外选项：</p>          <p>- OpenMode.CREATE(0o100)：若文件不存在，则创建文件。</p>          <p>- OpenMode.TRUNC(0o1000)：如果文件存在且文件具有写权限，则将其长度裁剪为零。</p>          <p>- OpenMode.APPEND(0o2000)：以追加方式打开，后续写将追加到文件末尾。</p>          <p>- OpenMode.NONBLOCK(0o4000)：如果path指向FIFO、块特殊文件或字符特殊文件，则本次打开及后续 IO 进行非阻塞操作。</p>          <p>- OpenMode.DIR(0o200000)：如果path不指向目录，则出错。不允许附加写权限。</p>          <p>- OpenMode.NOFOLLOW(0o400000)：如果path指向符号链接，则出错。</p>          <p>- OpenMode.SYNC(0o4010000)：以同步IO的方式打开文件。</p></td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>