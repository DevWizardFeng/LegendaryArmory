<h1 _ngcontent-whd-c119="" class="doc-title ng-star-inserted" title="@ohos.file.picker (选择器)"> @ohos.file.picker (选择器) </h1>

<div _ngcontent-whd-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>该模块接口从API version 9开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>     </div></div></div>    <p>选择器(Picker)是一个封装DocumentViewPicker、AudioViewPicker、PhotoViewPicker的API模块，具有选择与保存的能力。应用可以选择使用以下API来实现文件的选择和保存的功能。该类接口，需要应用在界面UIAbility中调用，否则无法拉起FilePicker应用、AudioPicker应用或PhotoPicker应用。</p>    <p>调用本模块接口返回的URI数组，URI中的中文及非数字字母的特殊字符会被编码为对应的ASCII码并拼接到URI中。</p>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 230px;">     <h2 id="documentviewpicker" device-type="2in1,tv,phone,tablet">DocumentViewPicker<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="documentviewpicker" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>文件选择器对象，用来支撑选择和保存各种格式文档。在使用前，需要先创建DocumentViewPicker实例。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1214px;">     <h3 id="constructor12" device-type="phone,2in1,tablet,tv" class="firsth2">constructor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor(context: Context)</p>     <p>创建DocumentViewPicker对象，推荐使用该构造函数，获取context参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#gethostcontext12">getHostContext</a>。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%">Context</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">应用上下文（仅支持UIAbilityContext）。Stage模型的应用Context定义见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context">Context</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello World'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>; <span class="hljs-comment">// 请确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li>            <span class="hljs-keyword">let</span> documentPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentViewPicker</span>(context);</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 479px;">     <h3 id="constructor12-1" device-type="phone,2in1,tablet,tv">constructor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor()</p>     <p>创建DocumentViewPicker对象，不推荐使用该构造函数，会出现概率性失败问题。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> documentPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentViewPicker</span>(); <span class="hljs-comment">// 不推荐使用无参构造，会出现概率性拉起失败问题</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1415px;">     <h3 id="constructor13" device-type="phone,2in1,tablet,tv">constructor<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor13" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor(context: Context, window: window.Window)</p>     <p>应用自行创建窗口中，可用通过该构造函数创建DocumentViewPicker对象。一般场景推荐使用constructor(context: Context)方法创建DocumentViewPicker对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 19开始，2in1和Tablet设备支持该方法。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%">Context</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">应用上下文（仅支持UIAbilityContext）。Stage模型的应用Context定义见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context">Context</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">window</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window">window.Window</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">应用创建的窗口实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello World'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>; <span class="hljs-comment">// 请确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>            windowClass = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">findWindow</span>(<span class="hljs-string">'test'</span>); <span class="hljs-comment">// 请确保window已创建，此处的'test'为window创建时的name参数</span></li><li>            <span class="hljs-keyword">let</span> documentPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentViewPicker</span>(context, windowClass);</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1305px;">     <h3 id="select" device-type="phone,2in1,tablet,tv">select<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="select" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>select(option?: DocumentSelectOptions): Promise&lt;Array&lt;string&gt;&gt;</p>     <p>通过选择模式拉起documentPicker界面，用户可以选择一个或多个文件。接口采用Promise异步返回形式，传入可选参数DocumentSelectOptions对象，返回选择文件的URI数组。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#documentselectoptions">DocumentSelectOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">documentPicker选择选项。若无此参数，则默认拉起documentPicker主界面。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="50%">          <p>Promise对象。返回documentPicker选择后的结果集。</p>          <p><strong>注意</strong>：此接口返回的URI数组的具体使用方式参见用户文件URI介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#文档类uri的使用方式" target="_blank">文档类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example07</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> documentSelectOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentSelectOptions</span>();</li><li>    <span class="hljs-keyword">let</span> documentPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentViewPicker</span>(context);</li><li>    documentPicker.<span class="hljs-title function_">select</span>(documentSelectOptions).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">documentSelectResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'DocumentViewPicker.select successfully, documentSelectResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(documentSelectResult));</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker.select failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1275px;">     <h3 id="select-1" device-type="phone,2in1,tablet,tv">select<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="select-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>select(option: DocumentSelectOptions, callback: AsyncCallback&lt;Array&lt;string&gt;&gt;): void</p>     <p>通过选择模式拉起documentPicker界面，用户可以选择一个或多个文件。接口采用callback异步返回形式，传入参数DocumentSelectOptions对象，返回选择文件的URI数组。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#documentselectoptions">DocumentSelectOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">documentPicker选择选项。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>callback 返回documentPicker选择后的结果集。</p>          <p><strong>注意</strong>：此接口返回的URI数组的具体使用方式参见用户文件URI介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#文档类uri的使用方式" target="_blank">文档类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example08</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> documentSelectOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentSelectOptions</span>();</li><li>    <span class="hljs-keyword">let</span> documentPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentViewPicker</span>(context);</li><li>    documentPicker.<span class="hljs-title function_">select</span>(documentSelectOptions, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, documentSelectResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker.select failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'DocumentViewPicker.select successfully, documentSelectResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(documentSelectResult));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1206px;">     <h3 id="select-2" device-type="phone,2in1,tablet,tv">select<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="select-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>select(callback: AsyncCallback&lt;Array&lt;string&gt;&gt;): void</p>     <p>通过选择模式拉起documentPicker界面，用户可以选择一个或多个文件。接口采用callback异步返回形式，返回选择文件的URI数组。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>callback 返回documentPicker选择后的结果集。</p>          <p><strong>注意</strong>：此接口返回的URI数组的具体使用方式参见用户文件URI介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#文档类uri的使用方式" target="_blank">文档类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example09</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> documentPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentViewPicker</span>(context);</li><li>    documentPicker.<span class="hljs-title function_">select</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, documentSelectResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker.select failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'DocumentViewPicker.select successfully, documentSelectResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(documentSelectResult));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1353px;">     <h3 id="save" device-type="phone,2in1,tablet,tv">save<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="save" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>save(option?: DocumentSaveOptions): Promise&lt;Array&lt;string&gt;&gt;</p>     <p>通过保存模式拉起documentPicker界面，用户可以保存一个或多个文件。接口采用Promise异步返回形式，传入可选参数DocumentSaveOptions对象，返回保存文件的URI数组。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#documentsaveoptions">DocumentSaveOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">documentPicker保存选项。若无此参数，则拉起documentPicker界面后需用户自行输入保存的文件名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="50%">          <p>Promise对象。返回documentPicker保存后的结果集。</p>          <p><strong>注意</strong>：此接口返回的URI数组的具体使用方式参见用户文件URI介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#文档类uri的使用方式" target="_blank">文档类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example10</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> documentSaveOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentSaveOptions</span>();</li><li>    documentSaveOptions.<span class="hljs-property">newFileNames</span> = [<span class="hljs-string">'DocumentViewPicker01.txt'</span>];</li><li>    <span class="hljs-keyword">let</span> documentPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentViewPicker</span>(context);</li><li>    documentPicker.<span class="hljs-title function_">save</span>(documentSaveOptions).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">documentSaveResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'DocumentViewPicker.save successfully, documentSaveResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(documentSaveResult));</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker.save failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1299px;">     <h3 id="save-1" device-type="phone,2in1,tablet,tv">save<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="save-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>save(option: DocumentSaveOptions, callback: AsyncCallback&lt;Array&lt;string&gt;&gt;): void</p>     <p>通过保存模式拉起documentPicker界面，用户可以保存一个或多个文件。接口采用callback异步返回形式，传入参数DocumentSaveOptions对象，返回保存文件的URI数组。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#documentsaveoptions">DocumentSaveOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">documentPicker保存选项。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>callback 返回documentPicker保存后的结果集。</p>          <p><strong>注意</strong>：此接口返回的URI数组的具体使用方式参见用户文件URI介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#文档类uri的使用方式" target="_blank">文档类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example11</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> documentSaveOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentSaveOptions</span>();</li><li>    documentSaveOptions.<span class="hljs-property">newFileNames</span> = [<span class="hljs-string">'DocumentViewPicker02.txt'</span>];</li><li>    <span class="hljs-keyword">let</span> documentPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentViewPicker</span>(context);</li><li>    documentPicker.<span class="hljs-title function_">save</span>(documentSaveOptions, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, documentSaveResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker.save failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'DocumentViewPicker.save successfully, documentSaveResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(documentSaveResult));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1206px;">     <h3 id="save-2" device-type="phone,2in1,tablet,tv">save<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="save-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>save(callback: AsyncCallback&lt;Array&lt;string&gt;&gt;): void</p>     <p>通过保存模式拉起documentPicker界面，用户可以保存一个或多个文件。接口采用callback异步返回形式，返回保存文件的URI数组。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>callback 返回documentPicker保存后的结果集。</p>          <p><strong>注意</strong>：此接口返回的URI数组的具体使用方式参见用户文件URI介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#文档类uri的使用方式" target="_blank">文档类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example12</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> documentPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentViewPicker</span>(context);</li><li>    documentPicker.<span class="hljs-title function_">save</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, documentSaveResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker.save failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'DocumentViewPicker.save successfully, documentSaveResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(documentSaveResult));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1466px;">     <h3 id="getselectedindex14" device-type="2in1,tv">getSelectedIndex<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getselectedindex14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">TV</span></div><p>getSelectedIndex(): number</p>     <p>获取保存成功后的文件后缀类型的下标。</p>     <p>该方法只在调用 <a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#save">save()</a>时使用生效，其他场景下不适用。</p>     <p>该方法需要配置参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#documentsaveoptions">DocumentSaveOptions.fileSuffixChoices</a>。</p>     <p>该方法返回的是所选后缀类型的下标(number)。所选的后缀类型是开发者所传的参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#documentsaveoptions">DocumentSaveOptions.fileSuffixChoices</a>里的某个后缀类型。如果没有传参，并且调用了getSelectedIndex()方法，返回值为-1。</p>     <p><strong>元服务API</strong>：从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService.FolderSelection</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回所选后缀类型在<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#documentsaveoptions">DocumentSaveOptions.fileSuffixChoices</a>里的下标(number)。默认返回-1。</td>        </tr>             </tbody></table></div>     </div>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">exampleIndex</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> documentSaveOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentSaveOptions</span>();</li><li>    <span class="hljs-comment">//保存文件的名字</span></li><li>    documentSaveOptions.<span class="hljs-property">newFileNames</span> = [<span class="hljs-string">'DocumentViewPicker01'</span>];</li><li>    <span class="hljs-comment">//保存文件的后缀类型</span></li><li>    documentSaveOptions.<span class="hljs-property">fileSuffixChoices</span> = [<span class="hljs-string">'txt'</span>, <span class="hljs-string">'mp4'</span>, <span class="hljs-string">'pdf'</span>];</li><li>    <span class="hljs-keyword">let</span> documentPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentViewPicker</span>(context);</li><li>    documentPicker.<span class="hljs-title function_">save</span>(documentSaveOptions).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">documentSaveResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (documentSaveOptions.<span class="hljs-property">fileSuffixChoices</span> != <span class="hljs-literal">undefined</span> &amp;&amp; documentSaveResult != <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-comment">//获取保存文件的后缀类型的下标</span></li><li>        <span class="hljs-keyword">let</span> index = documentPicker.<span class="hljs-title function_">getSelectedIndex</span>();</li><li>        <span class="hljs-comment">//获取保存文件的后缀类型。</span></li><li>        <span class="hljs-keyword">let</span> selectedsuffix = documentSaveOptions.<span class="hljs-property">fileSuffixChoices</span>[index];</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-property">info</span> (<span class="hljs-string">'DocumentViewPicker.save selectedsuffix is '</span> + selectedsuffix);</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'DocumentViewPicker.save successfully, documentSaveResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(documentSaveResult));</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker.save failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DocumentViewPicker failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="audioviewpicker" device-type="phone,2in1,tablet,tv">AudioViewPicker<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="audioviewpicker" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>音频选择器对象，用来支撑选择和保存音频类文件等用户场景。在使用前，需要先创建AudioViewPicker实例。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1214px;">     <h3 id="constructor12-2" device-type="phone,2in1,tablet,tv" class="firsth2">constructor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor12-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor(context: Context)</p>     <p>创建AudioViewPicker对象，推荐使用该构造函数，获取context参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#gethostcontext12">getHostContext</a>。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%">Context</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">应用上下文（仅支持UIAbilityContext）。Stage模型的应用Context定义见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context">Context</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello World'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>; <span class="hljs-comment">// 请确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li>            <span class="hljs-keyword">let</span> audioPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">AudioViewPicker</span>(context);</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 479px;">     <h3 id="constructor12-3" device-type="phone,2in1,tablet,tv">constructor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor12-3" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor()</p>     <p>创建AudioViewPicker对象，不推荐使用该构造函数，会出现概率性失败问题。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> audioPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">AudioViewPicker</span>(); <span class="hljs-comment">// 不推荐使用无参构造，会出现概率性拉起失败问题</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1305px;">     <h3 id="select-3" device-type="phone,2in1,tablet,tv">select<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="select-3" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>select(option?: AudioSelectOptions): Promise&lt;Array&lt;string&gt;&gt;</p>     <p>通过选择模式拉起audioPicker界面，用户可以选择一个或多个音频文件。接口采用Promise异步返回形式，传入可选参数AudioSelectOptions对象，返回选择音频文件的URI数组。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#audioselectoptions">AudioSelectOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">audioPicker音频选择选项。若无此参数，则默认拉起audioPicker主界面。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="50%">          <p>Promise对象。返回audioPicker选择音频后的结果集。</p>          <p><strong>注意</strong>： 此接口返回的URI数组的具体使用方式参见用户文件URI介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#媒体文件uri介绍" target="_blank">媒体类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example13</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> audioSelectOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">AudioSelectOptions</span>();</li><li>    <span class="hljs-keyword">let</span> audioPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">AudioViewPicker</span>(context);</li><li>    audioPicker.<span class="hljs-title function_">select</span>(audioSelectOptions).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">audioSelectResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'AudioViewPicker.select successfully, audioSelectResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(audioSelectResult));</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AudioViewPicker.select failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AudioViewPicker failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1203px;">     <h3 id="select-4" device-type="phone,2in1,tablet,tv">select<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="select-4" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>select(option: AudioSelectOptions, callback: AsyncCallback&lt;Array&lt;string&gt;&gt;): void</p>     <p>通过选择模式拉起audioPicker界面，用户可以选择一个或多个音频文件。接口采用callback异步返回形式，传入参数AudioSelectOptions对象，返回选择音频文件的URI数组。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#audioselectoptions">AudioSelectOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">audioPicker音频选择选项。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>callback 返回audioPicker选择音频后的结果集。</p>          <p><strong>注意</strong>： 此接口返回的URI数组的具体使用方式参见用户文件URI介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#媒体文件uri介绍" target="_blank">媒体类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example14</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> audioSelectOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">AudioSelectOptions</span>();</li><li>    <span class="hljs-keyword">let</span> audioPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">AudioViewPicker</span>(context);</li><li>    audioPicker.<span class="hljs-title function_">select</span>(audioSelectOptions, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, audioSelectResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AudioViewPicker.select failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'AudioViewPicker.select successfully, audioSelectResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(audioSelectResult));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AudioViewPicker failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1134px;">     <h3 id="select-5" device-type="phone,2in1,tablet,tv">select<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="select-5" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>select(callback: AsyncCallback&lt;Array&lt;string&gt;&gt;): void</p>     <p>通过选择模式拉起audioPicker界面，用户可以选择一个或多个音频文件。接口采用callback异步返回形式，返回选择音频文件的URI数组。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>callback 返回audioPicker选择音频后的结果集。</p>          <p><strong>注意</strong>： 此接口返回的URI数组的具体使用方式参见用户文件URI介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#媒体文件uri介绍" target="_blank">媒体类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example15</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> audioPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">AudioViewPicker</span>(context);</li><li>    audioPicker.<span class="hljs-title function_">select</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, audioSelectResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AudioViewPicker.select failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'AudioViewPicker.select successfully, audioSelectResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(audioSelectResult));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AudioViewPicker failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1353px;">     <h3 id="save-3" device-type="phone,2in1,tablet,tv">save<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="save-3" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>save(option?: AudioSaveOptions): Promise&lt;Array&lt;string&gt;&gt;</p>     <p>通过保存模式拉起audioPicker界面（目前拉起的是documentPicker，audioPicker在规划中），用户可以保存一个或多个音频文件。接口采用Promise异步返回形式，传入可选参数AudioSaveOptions对象，返回保存音频文件的URI数组。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#audiosaveoptions">AudioSaveOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">audioPicker保存音频文件选项。若无此参数，则拉起audioPicker界面后需用户自行输入保存的文件名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="50%">          <p>Promise对象。返回audioPicker保存音频文件后的结果集。</p>          <p><strong>注意</strong>： 此接口返回的URI数组的具体使用方式参见用户文件URI介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#文档类uri的使用方式" target="_blank">文档类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example16</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> audioSaveOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">AudioSaveOptions</span>();</li><li>    audioSaveOptions.<span class="hljs-property">newFileNames</span> = [<span class="hljs-string">'AudioViewPicker01.mp3'</span>];</li><li>    <span class="hljs-keyword">let</span> audioPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">AudioViewPicker</span>(context);</li><li>    audioPicker.<span class="hljs-title function_">save</span>(audioSaveOptions).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">audioSaveResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'AudioViewPicker.save successfully, audioSaveResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(audioSaveResult))</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AudioViewPicker.save failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AudioViewPicker failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1251px;">     <h3 id="save-4" device-type="phone,2in1,tablet,tv">save<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="save-4" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>save(option: AudioSaveOptions, callback: AsyncCallback&lt;Array&lt;string&gt;&gt;): void</p>     <p>通过保存模式拉起audioPicker界面（目前拉起的是documentPicker，audioPicker在规划中），用户可以保存一个或多个音频文件。接口采用callback异步返回形式，传入参数AudioSaveOptions对象，返回保存音频文件的URI数组。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#audiosaveoptions">AudioSaveOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">audioPicker保存音频文件选项。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>callback 返回audioPicker保存音频文件后的结果集。</p>          <p><strong>注意</strong>： 此接口返回的URI数组的具体使用方式参见用户文件URI介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#文档类uri的使用方式" target="_blank">文档类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example17</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> audioSaveOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">AudioSaveOptions</span>();</li><li>    audioSaveOptions.<span class="hljs-property">newFileNames</span> = [<span class="hljs-string">'AudioViewPicker02.mp3'</span>];</li><li>    <span class="hljs-keyword">let</span> audioPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">AudioViewPicker</span>(context);</li><li>    audioPicker.<span class="hljs-title function_">save</span>(audioSaveOptions, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, audioSaveResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AudioViewPicker.save failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'AudioViewPicker.save successfully, audioSaveResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(audioSaveResult));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AudioViewPicker failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1134px;">     <h3 id="save-5" device-type="phone,2in1,tablet,tv">save<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="save-5" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>save(callback: AsyncCallback&lt;Array&lt;string&gt;&gt;): void</p>     <p>通过保存模式拉起audioPicker界面（目前拉起的是documentPicker，audioPicker在规划中），用户可以保存一个或多个音频文件。接口采用callback异步返回形式，返回保存音频文件的URI数组。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>callback 返回audioPicker保存音频文件后的结果集。</p>          <p><strong>注意</strong>： 此接口返回的URI数组的具体使用方式参见用户文件URI介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#文档类uri的使用方式" target="_blank">文档类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example18</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> audioPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">AudioViewPicker</span>(context);</li><li>    audioPicker.<span class="hljs-title function_">save</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, audioSaveResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AudioViewPicker.save failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'AudioViewPicker.save successfully, audioSaveResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(audioSaveResult));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AudioViewPicker failed with err, code is: <span class="hljs-subst">${err.code}</span>, message is: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 471px;">     <h2 id="documentselectmode11" device-type="2in1,tv">DocumentSelectMode<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="documentselectmode11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">TV</span></div><p>枚举，picker选择的文档类型。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService.FolderSelection</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">FILE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">文件类型（默认类型）。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">FOLDER</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">文件夹类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MIXED</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">文件和文件夹混合类型。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 4125px;">     <h2 id="documentselectoptions" device-type="phone,2in1,tablet,tv">DocumentSelectOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="documentselectoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>文档选择选项。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">maxSelectNumber<sup>10+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>选择文件最大个数。</p>          <p>API version 20及之前的版本，单次选择最大文件个数上限为500个，默认值是500。选择目录仅对具有该系统能力的设备开放，且目录选择的最大个数为1。</p>          <p>API version 21及之后的版本取消限制。受系统能力限制，选择文件数量过大可能会出现功能异常或处理性能较差等情况，建议单次选择文件个数不超过1万个。</p>          <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">defaultFilePathUri<sup>10+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">指定选择的文件或者目录的URI。默认为空（效果为拉起最近打开页）。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fileSuffixFilters<sup>10+</sup></td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>选择文件的后缀类型。传入字符串数组，每一项代表一个后缀选项，每一项内部用"|"分为两部分，第一部分为描述，第二部分为过滤后缀。没有"|"则没有描述，该项整体是一个过滤后缀。每项过滤后缀可以存在多个后缀名，则每一个后缀名之间用英文逗号进行分隔，传入数组长度不能超过100，例如：['图片(.png, .jpg)|.png,.jpg', '文档|.txt', '视频|.mp4', '.pdf']。</p>          <p>默认不过滤，即显示所有文件。此外2in1设备支持通配符方式['所有文件(*.*)|.*']（说明：从API version 17开始，手机支持该配置），表示为显示所有文件。</p>          <p>仅对具有该系统能力的设备开放。<strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">selectMode<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#documentselectmode11">DocumentSelectMode</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>Picker选择的文档类型，默认值是FILE(文件类型)。</p>          <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService.FolderSelection</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">authMode<sup>12+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>拉起授权Picker，默认为false（非授权模式）。当authMode为true时为授权模式，defaultFilePathUri必填，表明待授权URI。</p>          <p><strong>设备行为差异</strong>：该参数在2in1设备中可正常使用，在其他设备中无效果。</p>          <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService.FolderSelection</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">multiAuthMode<sup>15+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>支持批量授权模式，默认为false（非批量授权模式）。当multiAuthMode为true时为批量授权模式。当multiAuthMode为true时，只有multiUriArray参数生效，其他参数不生效。</p>          <p><strong>设备行为差异</strong>：该参数在Phone设备中可正常使用，在其他设备中无效果。</p>          <p><strong>元服务API</strong>：从API version 15开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">multiUriArray<sup>15+</sup></td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>传入需要批量授权的URI数组（仅支持文件，文件夹不生效）。配合multiAuthMode使用。当multiAuthMode为false时，配置该参数不生效。默认为空（效果为拉起批量授权页面后展示的文件为空）。</p>          <p><strong>设备行为差异</strong>：该参数在Phone设备中可正常使用，在其他设备中无效果。</p>          <p><strong>元服务API</strong>：从API version 15开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">mergeMode<sup>15+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#mergetypemode15">MergeTypeMode</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>开启聚合视图模式，支持拉起文件管理应用的聚合视图。默认为DEFAULT，表示该参数不生效，非聚合视图。当该参数置为非DEFAULT时，其他参数不生效。</p>          <p><strong>设备行为差异</strong>：该参数在Phone设备中可正常使用，在其他设备中无效果。</p>          <p><strong>元服务API</strong>：从API version 15开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">isEncryptionSupported<sup>19+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>是否支持加密（仅支持文件，文件夹不生效），默认为false。该参数为true时，在Picker界面可以选择对文件进行加密。</p>          <p><strong>元服务API</strong>：从API version 19开始，该接口支持在元服务中使用。</p>          <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 498px;">     <h2 id="documentpickermode12" device-type="phone,2in1,tablet,tv">DocumentPickerMode<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="documentpickermode12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>枚举，picker保存的模式。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">DEFAULT</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">标准模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DOWNLOAD</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>下载模式。</p>          <p><strong>注意</strong>： DOWNLOAD模式创建的目录仅用于保存文件，目录之间无访问隔离，不建议保存应用敏感数据。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 609px;">     <h2 id="mergetypemode15" device-type="phone,2in1,tablet,tv">MergeTypeMode<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mergetypemode15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>枚举，文件聚合类型。</p>     <p><strong>元服务API</strong>：从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>设备行为差异</strong>：该接口在Phone设备中可正常调用，在其他设备中无效果。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">DEFAULT</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">默认模式，表示该参数不生效。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">AUDIO</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">音频文件模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">VIDEO</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">视频文件模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DOCUMENT</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">文档文件模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PICTURE</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">图片文件模式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1068px;">     <h2 id="documentsaveoptions" device-type="phone,2in1,tablet,tv">DocumentSaveOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="documentsaveoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>文档保存选项。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">newFileNames</td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">拉起documentPicker进行保存的文件名。若无此参数，则默认需要用户自行输入。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">defaultFilePathUri<sup>10+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">指定保存的文件或者目录的URI。默认为空。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fileSuffixChoices<sup>10+</sup></td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">保存文件的后缀类型。传入字符串数组，每一项代表一个后缀选项，每一项内部用"|"分为两部分，第一部分为描述，第二部分为要保存的后缀。没有"|"则没有描述，该项整体是一个保存的后缀。默认没有后缀类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pickerMode<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#documentpickermode12">DocumentPickerMode</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">拉起picker的类型, 默认为DEFAULT。当pickerMode设置为DOWNLOAD时，用户配置的参数newFileNames、defaultFilePathUri和fileSuffixChoices将不会生效。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 453px;">     <h2 id="audioselectoptions" device-type="phone,2in1,tablet,tv">AudioSelectOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="audioselectoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>音频选择选项。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">maxSelectNumber<sup>12+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">选择文件最大个数，默认值为1，上限为500个，有效值范围1-500。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 477px;">     <h2 id="audiosaveoptions" device-type="phone,2in1,tablet,tv">AudioSaveOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="audiosaveoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>音频保存选项。</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">newFileNames</td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">拉起audioPicker进行保存音频资源的文件名。若无此参数，则默认需要用户自行输入。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 346px;">     <h2 id="photoviewpickerdeprecated" device-type="phone,2in1,tablet,tv">PhotoViewPicker<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="photoviewpickerdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>图库选择器对象，用来支撑选择图片/视频和保存图片/视频等用户场景。选择文件推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoviewpicker">PhotoAccessHelper的PhotoViewPicker</a>。在使用前，需要先创建PhotoViewPicker实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoviewpicker">photoAccessHelper.PhotoViewPicker</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1258px;">     <h3 id="constructordeprecated" device-type="phone,2in1,tablet,tv" class="firsth2">constructor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructordeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor(context: Context)</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.5.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.5.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.5.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.5.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%">Context</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">应用上下文（仅支持UIAbilityContext）。Stage模型的应用Context定义见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context">Context</a>。</td>        </tr>             </tbody></table></div>     </div>     <p>创建PhotoViewPicker对象，推荐使用该构造函数，获取context参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#gethostcontext12">getHostContext</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 12开始支持，从API version 18开始废弃。</p>      </div></div></div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello World'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>; <span class="hljs-comment">// 请确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li>            <span class="hljs-keyword">let</span> photoPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">PhotoViewPicker</span>(context);</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 571px;">     <h3 id="constructordeprecated-1" device-type="phone,2in1,tablet,tv">constructor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructordeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor()</p>     <p><strong>元服务API</strong>：从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p>创建PhotoViewPicker对象，不推荐使用该构造函数，会出现概率性失败问题。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 12开始支持，从API version 18开始废弃。</p>      </div></div></div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> photoPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">PhotoViewPicker</span>(); <span class="hljs-comment">// 不推荐使用无参构造，会出现概率性拉起失败问题</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1541px;">     <h3 id="selectdeprecated" device-type="phone,2in1,tablet,tv">select<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="selectdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>select(option?: PhotoSelectOptions): Promise&lt;PhotoSelectResult&gt;</p>     <p>通过选择模式拉起photoPicker界面，用户可以选择一个或多个图片/视频。接口采用Promise异步返回形式，传入可选参数PhotoSelectOptions对象，返回PhotoSelectResult对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoviewpicker#select">photoAccessHelper.PhotoViewPicker#select</a>替代。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#photoselectoptionsdeprecated">PhotoSelectOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">photoPicker选择选项。若无此参数，则默认选择媒体文件类型为图片和视频类型。选择媒体文件数量的默认最大值为50。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#photoselectresultdeprecated">PhotoSelectResult</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>Promise对象。返回photoPicker选择后的结果集。</p>          <p><strong>注意</strong>：此接口返回的PhotoSelectResult对象中的photoUris只能通过临时授权的方式调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoaccesshelper#getassets">photoAccessHelper.getAssets接口</a>去使用，具体使用方式参见用户文件uri介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#媒体文件uri的使用方式" target="_blank">媒体文件uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example01</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> photoSelectOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">PhotoSelectOptions</span>();</li><li>    photoSelectOptions.<span class="hljs-property">MIMEType</span> = picker.<span class="hljs-property">PhotoViewMIMETypes</span>.<span class="hljs-property">IMAGE_TYPE</span>;</li><li>    photoSelectOptions.<span class="hljs-property">maxSelectNumber</span> = <span class="hljs-number">5</span>;</li><li>    <span class="hljs-keyword">let</span> photoPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">PhotoViewPicker</span>(context);</li><li>    photoPicker.<span class="hljs-title function_">select</span>(photoSelectOptions).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">photoSelectResult: picker.PhotoSelectResult</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PhotoViewPicker.select successfully, photoSelectResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(photoSelectResult));</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'PhotoViewPicker.select failed with err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'PhotoViewPicker failed with err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1487px;">     <h3 id="selectdeprecated-1" device-type="phone,2in1,tablet,tv">select<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="selectdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>select(option: PhotoSelectOptions, callback: AsyncCallback&lt;PhotoSelectResult&gt;): void</p>     <p>通过选择模式拉起photoPicker界面，用户可以选择一个或多个图片/视频。接口采用callback异步返回形式，传入参数PhotoSelectOptions对象，返回PhotoSelectResult对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoviewpicker#select-1">photoAccessHelper.PhotoViewPicker#select</a>替代。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#photoselectoptionsdeprecated">PhotoSelectOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">photoPicker选择选项。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#photoselectresultdeprecated">PhotoSelectResult</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>callback 返回photoPicker选择后的结果集。</p>          <p><strong>注意</strong>：此接口返回的PhotoSelectResult对象中的photoUris只能通过临时授权的方式调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoaccesshelper#getassets">photoAccessHelper.getAssets接口</a>去使用，具体使用方式参见用户文件uri介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#媒体文件uri的使用方式" target="_blank">媒体文件uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example02</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> photoSelectOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">PhotoSelectOptions</span>();</li><li>    photoSelectOptions.<span class="hljs-property">MIMEType</span> = picker.<span class="hljs-property">PhotoViewMIMETypes</span>.<span class="hljs-property">IMAGE_TYPE</span>;</li><li>    photoSelectOptions.<span class="hljs-property">maxSelectNumber</span> = <span class="hljs-number">5</span>;</li><li>    <span class="hljs-keyword">let</span> photoPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">PhotoViewPicker</span>(context);</li><li>    photoPicker.<span class="hljs-title function_">select</span>(photoSelectOptions, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, photoSelectResult: picker.PhotoSelectResult</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'PhotoViewPicker.select failed with err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PhotoViewPicker.select successfully, photoSelectResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(photoSelectResult));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'PhotoViewPicker failed with err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1370px;">     <h3 id="selectdeprecated-2" device-type="phone,2in1,tablet,tv">select<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="selectdeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>select(callback: AsyncCallback&lt;PhotoSelectResult&gt;): void</p>     <p>通过选择模式拉起photoPicker界面，用户可以选择一个或多个图片/视频。接口采用callback异步返回形式，返回PhotoSelectResult对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoviewpicker#select-2">photoAccessHelper.PhotoViewPicker#select</a>替代。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#photoselectresultdeprecated">PhotoSelectResult</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>callback 返回photoPicker选择后的结果集。</p>          <p><strong>注意</strong>：此接口返回的PhotoSelectResult对象中的photoUris只能通过临时授权的方式调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoaccesshelper#getassets">photoAccessHelper.getAssets接口</a>去使用，具体使用方式参见用户文件uri介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#媒体文件uri的使用方式" target="_blank">媒体文件uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example03</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> photoPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">PhotoViewPicker</span>(context);</li><li>    photoPicker.<span class="hljs-title function_">select</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, photoSelectResult: picker.PhotoSelectResult</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'PhotoViewPicker.select failed with err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PhotoViewPicker.select successfully, photoSelectResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(photoSelectResult));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'PhotoViewPicker failed with err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1445px;">     <h3 id="savedeprecated" device-type="phone,2in1,tablet,tv">save<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="savedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>save(option?: PhotoSaveOptions): Promise&lt;Array&lt;string&gt;&gt;</p>     <p>通过保存模式拉起photoPicker界面，用户可以保存一个或多个图片/视频。接口采用Promise异步返回形式，传入可选参数PhotoSaveOptions对象，返回保存文件的uri数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-security-components-savebutton">SaveButton</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#photosaveoptionsdeprecated">PhotoSaveOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">photoPicker保存图片或视频文件选项。若无此参数，则拉起photoPicker界面后需用户自行输入保存的文件名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="50%">          <p>Promise对象。返回photoPicker保存图片或视频文件后的结果集。</p>          <p><strong>注意</strong>：此接口会将文件保存在文件管理器，而不是图库。返回的uri数组的具体使用方式参见用户文件uri介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#文档类uri的使用方式" target="_blank">文档类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example04</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> photoSaveOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">PhotoSaveOptions</span>();</li><li>    photoSaveOptions.<span class="hljs-property">newFileNames</span> = [<span class="hljs-string">'PhotoViewPicker01.jpg'</span>, <span class="hljs-string">'PhotoViewPicker01.mp4'</span>];</li><li>    <span class="hljs-keyword">let</span> photoPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">PhotoViewPicker</span>(context);</li><li>    photoPicker.<span class="hljs-title function_">save</span>(photoSaveOptions).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">photoSaveResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PhotoViewPicker.save successfully, photoSaveResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(photoSaveResult));</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'PhotoViewPicker.save failed with err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'PhotoViewPicker failed with err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1391px;">     <h3 id="savedeprecated-1" device-type="phone,2in1,tablet,tv">save<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="savedeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>save(option: PhotoSaveOptions, callback: AsyncCallback&lt;Array&lt;string&gt;&gt;): void</p>     <p>通过保存模式拉起photoPicker界面，用户可以保存一个或多个图片/视频。接口采用callback异步返回形式，传入参数PhotoSaveOptions对象，返回保存文件的uri数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-security-components-savebutton">SaveButton</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#photosaveoptionsdeprecated">PhotoSaveOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">photoPicker保存图片或视频文件选项。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>callback 返回photoPicker保存图片或视频文件后的结果集。</p>          <p><strong>注意</strong>：此接口会将文件保存在文件管理器，而不是图库。返回的uri数组的具体使用方式参见用户文件uri介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#文档类uri的使用方式" target="_blank">文档类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example05</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> photoSaveOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">PhotoSaveOptions</span>();</li><li>    photoSaveOptions.<span class="hljs-property">newFileNames</span> = [<span class="hljs-string">'PhotoViewPicker02.jpg'</span>,<span class="hljs-string">'PhotoViewPicker02.mp4'</span>];</li><li>    <span class="hljs-keyword">let</span> photoPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">PhotoViewPicker</span>(context);</li><li>    photoPicker.<span class="hljs-title function_">save</span>(photoSaveOptions, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, photoSaveResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'PhotoViewPicker.save failed with err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PhotoViewPicker.save successfully, photoSaveResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(photoSaveResult));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'PhotoViewPicker failed with err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1274px;">     <h3 id="savedeprecated-2" device-type="phone,2in1,tablet,tv">save<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="savedeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>save(callback: AsyncCallback&lt;Array&lt;string&gt;&gt;): void</p>     <p>通过保存模式拉起photoPicker界面，用户可以保存一个或多个图片/视频。接口采用callback异步返回形式，返回保存文件的uri数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-security-components-savebutton">SaveButton</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>callback 返回photoPicker保存图片或视频文件后的结果集。</p>          <p><strong>注意</strong>：此接口会将文件保存在文件管理器，而不是图库。返回的uri数组的具体使用方式参见用户文件uri介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#文档类uri的使用方式" target="_blank">文档类uri的使用方式</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-whd-c106="" class="highlight-div"><div _ngcontent-whd-c106="" class="highlight-div-header"><div _ngcontent-whd-c106="" class="highlight-div-header-left"><div _ngcontent-whd-c106="" class="handle-button expand-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-whd-c106="" class="highlight-div-header-right"><div _ngcontent-whd-c106="" class="handle-button ai-button"></div><div _ngcontent-whd-c106="" class="handle-button line-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-whd-c106="" class="handle-button theme-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-whd-c106="" class="handle-button copy-button"><div _ngcontent-whd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-whd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span>  { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example06</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) { <span class="hljs-comment">// 需确保 context 由 UIAbilityContext 转换而来</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> photoPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">PhotoViewPicker</span>(context);</li><li>    photoPicker.<span class="hljs-title function_">save</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, photoSaveResult: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'PhotoViewPicker.save failed with err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PhotoViewPicker.save successfully, photoSaveResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(photoSaveResult));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'PhotoViewPicker failed with err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 707px;">     <h2 id="photoviewmimetypesdeprecated" device-type="phone,2in1,tablet,tv">PhotoViewMIMETypes<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="photoviewmimetypesdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>枚举，可选择的媒体文件类型。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-e#photoviewmimetypes">photoAccessHelper.PhotoViewMIMETypes</a>替代。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">IMAGE_TYPE</td>         <td class="cellrowborder" width="33.33333333333333%">'image/*'</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>图片类型。</p>          <p><strong>说明</strong>：从API version 9开始支持，从API version 18开始废弃。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">VIDEO_TYPE</td>         <td class="cellrowborder" width="33.33333333333333%">'video/*'</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>视频类型。</p>          <p><strong>说明</strong>：从API version 9开始支持，从API version 18开始废弃。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">IMAGE_VIDEO_TYPE</td>         <td class="cellrowborder" width="33.33333333333333%">'*/*'</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>图片和视频类型。</p>          <p><strong>说明</strong>：从API version 9开始支持，从API version 18开始废弃。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 782px;">     <h2 id="photoselectoptionsdeprecated" device-type="phone,2in1,tablet,tv">PhotoSelectOptions<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="photoselectoptionsdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>图库选择选项。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-class#photoselectoptions">photoAccessHelper.PhotoSelectOptions</a>替代。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">MIMEType</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-file-picker#photoviewmimetypesdeprecated">PhotoViewMIMETypes</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>可选择的媒体文件类型。若无此参数，则默认为图片和视频类型。</p>          <p><strong>说明</strong>：从API version 9开始支持，从API version 18开始废弃。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">maxSelectNumber</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>选择媒体文件数量的最大值，默认值为50，最大值为500。</p>          <p><strong>说明</strong>：从API version 9开始支持，从API version 18开始废弃。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 950px;">     <h2 id="photoselectresultdeprecated" device-type="phone,2in1,tablet,tv">PhotoSelectResult<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="photoselectresultdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>返回图库选择后的结果集。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-class#photoselectresult">photoAccessHelper.PhotoSelectResult</a>替代。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">photoUris</td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>返回图库选择后的媒体文件的uri数组。此uri数组只能通过临时授权的方式调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoaccesshelper#getassets">photoAccessHelper.getAssets接口</a>去使用，具体使用方式参见用户文件uri介绍中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#媒体文件uri的使用方式" target="_blank">媒体文件uri的使用方式</a>。</p>          <p><strong>说明</strong>：从API version 9开始支持，从API version 18开始废弃。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">isOriginalPhoto</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>返回图库选择后的媒体文件是否为原图。true为原图；false不是原图。</p>          <p><strong>说明</strong>：从API version 9开始支持，从API version 18开始废弃。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="photosaveoptionsdeprecated" device-type="phone,2in1,tablet,tv">PhotoSaveOptions<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="photosaveoptionsdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>图片或视频的保存选项。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃。无替代接口和替代方法。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.FileManagement.UserFileService</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">newFileNames</td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>拉起photoPicker进行保存图片或视频资源的文件名。若无此参数，则默认需要用户自行输入。</p>          <p><strong>说明</strong>：从API version 9开始支持，从API version 18开始废弃。</p></td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>