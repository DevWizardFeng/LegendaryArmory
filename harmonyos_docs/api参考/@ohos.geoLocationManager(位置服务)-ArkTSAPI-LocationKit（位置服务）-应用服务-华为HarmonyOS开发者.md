<h1 _ngcontent-eyx-c119="" class="doc-title ng-star-inserted" title="@ohos.geoLocationManager (位置服务)"> @ohos.geoLocationManager (位置服务) </h1>

<div _ngcontent-eyx-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>位置服务提供GNSS定位、网络定位（蜂窝基站、WLAN、蓝牙定位技术）、地理编码、逆地理编码、国家码和地理围栏等基本功能。</p>    <p>使用位置服务时请打开设备“位置”开关。如果“位置”开关关闭并且代码未设置捕获异常，可能导致应用异常。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 9开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>      <p>本模块能力仅支持WGS-84坐标系。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 182px;">     <h2 id="申请权限" device-type="phone,2in1,tablet,wearable">申请权限<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="申请权限" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/location-permission-guidelines" target="_blank">申请位置权限开发指导</a>。</p>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1017px;">     <h2 id="reversegeocoderequest" device-type="phone,2in1,tablet,wearable">ReverseGeoCodeRequest<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="reversegeocoderequest" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>逆地理编码请求参数。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geocoder</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">locale</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">指定位置描述信息的语言，“zh”代表中文，“en”代表英文。默认值从设置中的“语言和地区”获取。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">country<sup>12+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">限制查询结果在指定的国家内，采用ISO 3166-1 alpha-2 。“CN”代表中国。默认值从设置中的“语言和地区”获取。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">latitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示纬度信息，正值表示北纬，负值表示南纬。取值范围为-90到90。仅支持WGS84坐标系。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">longitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示经度信息，正值表示东经，负值表示西经。取值范围为-180到180。仅支持WGS84坐标系。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">maxItems</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">指定返回位置信息的最大个数。取值范围为大于等于0，推荐该值小于10。默认值是1。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1416px;">     <h2 id="geocoderequest" device-type="phone,2in1,tablet,wearable">GeoCodeRequest<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geocoderequest" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>地理编码请求参数。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geocoder</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">locale</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示位置描述信息的语言，“zh”代表中文，“en”代表英文。默认值从设置中的“语言和地区”获取。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">country<sup>12+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">限制查询结果在指定的国家内，采用ISO 3166-1 alpha-2 。“CN”代表中国。默认值从设置中的“语言和地区”获取。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">description</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示位置信息描述，如“上海市浦东新区xx路xx号”，字符串长度不超过100。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">maxItems</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示返回位置信息的最大个数。取值范围为大于等于0，推荐该值小于10。默认值是1。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">minLatitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示最小纬度信息，与下面三个参数一起，表示一个经纬度范围。取值范围为-90到90。仅支持WGS84坐标系。如果该参数有值时，下面三个参数必填。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">minLongitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示最小经度信息。取值范围为-180到180。仅支持WGS84坐标系。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">maxLatitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示最大纬度信息。取值范围为-90到90。仅支持WGS84坐标系。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">maxLongitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示最大经度信息。取值范围为-180到180。仅支持WGS84坐标系。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1722px;">     <h2 id="geoaddress" device-type="phone,2in1,tablet,wearable">GeoAddress<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geoaddress" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>地理编码地址信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geocoder</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">latitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示纬度信息，正值表示北纬，负值表示南纬。取值范围为-90到90。仅支持WGS84坐标系。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">longitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示经度信息，正值表示东经，负值表是西经。取值范围为-180到180。仅支持WGS84坐标系。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">locale</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示位置描述信息的语言，“zh”代表中文，“en”代表英文。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">placeName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示详细地址信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">countryCode</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示国家码信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">countryName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示国家信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">administrativeArea</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示国家以下的一级行政区，一般是省/州。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">subAdministrativeArea</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示国家以下的二级行政区，一般是市。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">locality</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示城市信息，一般是市。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">subLocality</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示子城市信息，一般是区/县。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">roadName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示路名信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">subRoadName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示子路名信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">premises</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示门牌号信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">postalCode</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示邮政编码信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">phoneNumber</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示联系方式信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">addressUrl</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示位置信息附件的网址信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">descriptions</td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示附加的描述信息。目前包含城市编码cityCode（Array下标为0）和区划编码adminCode（Array下标为1），例如["025","320114001"]。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">descriptionsSize</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示附加的描述信息数量。取值范围为大于等于0，推荐该值小于10。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2769px;">     <h2 id="locationrequest" device-type="phone,2in1,tablet,wearable">LocationRequest<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="locationrequest" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>位置信息请求参数。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">priority</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationrequestpriority">LocationRequestPriority</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示优先级信息。当scenario取值为UNSET时，priority参数生效，否则priority参数不生效；当scenario和priority均取值为UNSET时，无法发起定位请求。取值范围见<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationrequestpriority">LocationRequestPriority</a>的定义。默认值为FIRST_FIX。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">scenario</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationrequestscenario">LocationRequestScenario</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示场景信息。当scenario取值为UNSET时，priority参数生效，否则priority参数不生效；当scenario和priority均取值为UNSET时，无法发起定位请求。取值范围见<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationrequestscenario">LocationRequestScenario</a>的定义。默认值为UNSET。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">timeInterval</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示上报位置信息的时间间隔，单位为秒。</p>          <p>取值范围为大于等于0的值。</p>          <p>默认值为对应定位模式下允许的最小时间间隔：</p>          <p>默认值在GNSS定位时为1秒，网络定位时为20秒。</p>          <p>当设置值小于最小间隔时，以最小时间间隔生效。</p>          <p>设置为0时不对时间间隔进行校验，直接上报位置信息。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">distanceInterval</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示上报位置信息的距离间隔。单位是米，默认值为0，取值范围为大于等于0。等于0时对位置上报距离间隔无限制。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">maxAccuracy</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>应用向系统请求位置信息时要求的精度值，单位为米。该参数仅在精确位置功能场景（即同时授权了ohos.permission.APPROXIMATELY_LOCATION和ohos.permission.LOCATION 权限）下有效，模糊位置功能生效场景（即仅授权了ohos.permission.APPROXIMATELY_LOCATION 权限）下该字段无意义。</p>          <p>该参数生效的情况下，系统会对比GNSS或网络定位服务上报的位置信息与应用的位置信息申请。当位置信息<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#location">Location</a>中的精度值（accuracy）小于等于应用要求的精度值（maxAccuracy）时，位置信息会返回给应用；否则系统将丢弃本次收到的位置信息。</p>          <p>默认值为0，表示不限制位置信息的精度，取值范围为大于等于0。</p>          <p>当scenario为NAVIGATION/TRAJECTORY_TRACKING/CAR_HAILING或者priority为ACCURACY时建议设置maxAccuracy为大于10的值。</p>          <p>当scenario为DAILY_LIFE_SERVICE/NO_POWER或者priority为LOW_POWER/FIRST_FIX时建议设置maxAccuracy为大于100的值。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2292px;">     <h2 id="currentlocationrequest" device-type="phone,2in1,tablet,wearable">CurrentLocationRequest<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="currentlocationrequest" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>当前位置信息请求参数。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">priority</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationrequestpriority">LocationRequestPriority</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示优先级信息。当scenario取值为UNSET时，priority参数生效，否则priority参数不生效；当scenario和priority均取值为UNSET时，无法发起定位请求。取值范围见<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationrequestpriority">LocationRequestPriority</a>的定义。默认值为FIRST_FIX。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">scenario</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationrequestscenario">LocationRequestScenario</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示场景信息。当scenario取值为UNSET时，priority参数生效，否则priority参数不生效；当scenario和priority均取值为UNSET时，无法发起定位请求。取值范围见<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationrequestscenario">LocationRequestScenario</a>的定义。默认值为UNSET。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">maxAccuracy</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>应用向系统请求位置信息时要求的精度值，单位为米。该参数仅在精确位置功能场景（即同时授权了ohos.permission.APPROXIMATELY_LOCATION和ohos.permission.LOCATION 权限）下有效，模糊位置功能生效场景（即仅授权了ohos.permission.APPROXIMATELY_LOCATION 权限）下该字段无意义。</p>          <p>该参数生效的情况下，系统会对比GNSS或网络定位服务上报的位置信息与应用的位置信息申请。当位置信息<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#location">Location</a>中的精度值（accuracy）小于等于应用要求的精度值（maxAccuracy）时，位置信息会返回给应用；否则系统将丢弃本次收到的位置信息。</p>          <p>默认值为0，表示不限制位置信息的精度，取值范围为大于等于0。</p>          <p>当scenario为NAVIGATION/TRAJECTORY_TRACKING/CAR_HAILING或者priority为ACCURACY时建议设置maxAccuracy为大于10的值。</p>          <p>当scenario为DAILY_LIFE_SERVICE/NO_POWER或者priority为LOW_POWER/FIRST_FIX时建议设置maxAccuracy为大于100的值。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">timeoutMs</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示超时时间，单位是毫秒，最小为1000毫秒。取值范围为大于等于1000。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1311px;">     <h2 id="continuouslocationrequest12" device-type="phone,2in1,tablet,wearable">ContinuousLocationRequest<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="continuouslocationrequest12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>持续定位的请求参数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">interval</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示上报位置信息的时间间隔，单位是秒。默认值为1，取值范围为大于等于0。等于0时对位置上报时间间隔无限制。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">locationScenario</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#useractivityscenario12">UserActivityScenario</a> | <a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#powerconsumptionscenario12">PowerConsumptionScenario</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示定位的场景信息。取值范围见<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#useractivityscenario12">UserActivityScenario</a>和<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#powerconsumptionscenario12">PowerConsumptionScenario</a>的定义。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">needPoi<sup>19+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示是否需要获取当前位置附近的POI信息。false代表不需要获取当前位置附近的POI信息，true代表需要获取当前位置附近的POI信息。不设置时，默认值为false。</p>          <p>该参数仅在精确位置功能场景（即同时授权了ohos.permission.APPROXIMATELY_LOCATION和ohos.permission.LOCATION 权限）下有效，模糊位置功能生效场景（即仅授权了ohos.permission.APPROXIMATELY_LOCATION 权限）下不返回POI信息。</p>          <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1215px;">     <h2 id="singlelocationrequest12" device-type="phone,2in1,tablet,wearable">SingleLocationRequest<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="singlelocationrequest12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>单次定位的请求参数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">locatingPriority</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locatingpriority12">LocatingPriority</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示优先级信息。取值范围见<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locatingpriority12">LocatingPriority</a>的定义。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">locatingTimeoutMs</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示超时时间，单位是毫秒，最小为1000毫秒。取值范围为大于等于1000。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">needPoi<sup>19+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示是否需要获取当前位置附近的POI信息。false代表不需要获取当前位置附近的POI信息，true代表需要获取当前位置附近的POI信息。不设置时，默认值为false。</p>          <p>该参数仅在精确位置功能场景（即同时授权了ohos.permission.APPROXIMATELY_LOCATION和ohos.permission.LOCATION 权限）下有效，模糊位置功能生效场景（即仅授权了ohos.permission.APPROXIMATELY_LOCATION 权限）下不返回POI信息。</p>          <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1056px;">     <h2 id="satellitestatusinfo" device-type="phone,tablet,wearable">SatelliteStatusInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="satellitestatusinfo" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>卫星状态信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">satellitesNumber</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示卫星个数。取值范围为大于等于0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">satelliteIds</td>         <td class="cellrowborder" width="20%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示每个卫星的ID，数组类型。取值范围为大于等于0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">carrierToNoiseDensitys</td>         <td class="cellrowborder" width="20%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示载波噪声功率谱密度比，即cn0。取值范围为大于0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">altitudes</td>         <td class="cellrowborder" width="20%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示卫星高度角信息。单位是“度”，取值范围为-90到90。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">azimuths</td>         <td class="cellrowborder" width="20%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示方位角。单位是“度”，取值范围为0到360。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">carrierFrequencies</td>         <td class="cellrowborder" width="20%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示载波频率。单位是Hz，取值范围为大于等于0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">satelliteConstellation<sup>12+</sup></td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#satelliteconstellationcategory12">SatelliteConstellationCategory</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示卫星星座类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">satelliteAdditionalInfo<sup>12+</sup></td>         <td class="cellrowborder" width="20%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示卫星的附加信息。</p>          <p>每个比特位代表不同含义，具体定义参见<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#satelliteadditionalinfo12">SatelliteAdditionalInfo</a>。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 666px;">     <h2 id="cachedgnsslocationsrequest" device-type="phone,tablet,wearable">CachedGnssLocationsRequest<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cachedgnsslocationsrequest" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>请求订阅GNSS缓存位置上报功能接口的配置参数。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">reportingPeriodSec</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示GNSS缓存位置上报的周期，单位是毫秒。取值范围为大于0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">wakeUpCacheQueueFull</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>true表示GNSS芯片底层缓存队列满之后会主动唤醒AP芯片，并把缓存位置上报给应用。</p>          <p>false表示GNSS芯片底层缓存队列满之后不会主动唤醒AP芯片，会把缓存位置直接丢弃。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 801px;">     <h2 id="geofence" device-type="phone,tablet">Geofence<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geofence" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>GNSS围栏的配置参数。目前只支持圆形围栏。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">latitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示纬度。取值范围为-90到90。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">longitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示经度。取值范围为-180到180。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">coordinateSystemType<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#coordinatesystemtype12">CoordinateSystemType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示地理围栏圆心坐标的坐标系。</p>          <p>APP应先使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geolocationmanagergetgeofencesupportedcoordtypes12">getGeofenceSupportedCoordTypes</a>查询支持的坐标系，然后传入正确的圆心坐标。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">radius</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示圆形围栏的半径。单位是米，取值范围为大于0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">expiration</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">围栏存活的时间，单位是毫秒。取值范围为大于0。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 402px;">     <h2 id="geofencerequest" device-type="phone,tablet">GeofenceRequest<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geofencerequest" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>请求添加GNSS围栏消息中携带的参数，包括定位场景和围栏信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">scenario</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationrequestscenario">LocationRequestScenario</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示定位场景。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">geofence</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geofence">Geofence</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示围栏信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 426px;">     <h2 id="locationcommand" device-type="phone,2in1,tablet,wearable">LocationCommand<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="locationcommand" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>扩展命令参数。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">scenario</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationrequestscenario">LocationRequestScenario</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示定位场景。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">command</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">扩展命令字符串，字符串长度不超过100。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3357px;">     <h2 id="location" device-type="phone,2in1,tablet,wearable">Location<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="location" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>位置信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">latitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示纬度信息，正值表示北纬，负值表示南纬。取值范围为-90到90。仅支持WGS84坐标系。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">longitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示经度信息，正值表示东经，负值表是西经。取值范围为-180到180。仅支持WGS84坐标系。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">altitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示高度信息，单位米。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">accuracy</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示精度信息，单位米。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">speed</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示速度信息，单位米每秒。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">timeStamp</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示位置时间戳，UTC格式。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">direction</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示航向信息。单位是“度”，取值范围为0到360。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">timeSinceBoot</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>表示获取位置成功的时间戳，值表示从本次开机到获取位置成功所经过的时间，单位为纳秒。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">additions</td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>附加信息。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">additionSize</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>附加信息数量。取值范围为大于等于0。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">additionsMap<sup>12+</sup></td>         <td class="cellrowborder" width="20%">Map&lt;string, string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>附加信息。具体内容和顺序与additions一致。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">altitudeAccuracy<sup>12+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示高度信息的精度，单位米。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">speedAccuracy<sup>12+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示速度信息的精度，单位米每秒。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">directionAccuracy<sup>12+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示航向信息的精度。单位是“度”，取值范围为0到360。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">uncertaintyOfTimeSinceBoot<sup>12+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示位置时间戳的不确定度。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sourceType<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationsourcetype12">LocationSourceType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示定位结果的来源。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">poi<sup>19+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#poiinfo19">PoiInfo</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示当前位置附近的POI信息。</p>          <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 543px;">     <h2 id="geofencetransition12" device-type="phone,tablet">GeofenceTransition<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geofencetransition12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>地理围栏事件信息；包含地理围栏ID和具体的地理围栏事件。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">geofenceId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示地理围栏ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">transitionEvent</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geofencetransitionevent12">GeofenceTransitionEvent</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示当前发生的地理围栏事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">beaconFence<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#beaconfence20">BeaconFence</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>beacon围栏的参数配置。仅beacon围栏使用。</p>          <p>从API version 20开始，支持该字段。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 996px;">     <h2 id="gnssgeofencerequest12" device-type="phone,tablet">GnssGeofenceRequest<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gnssgeofencerequest12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>GNSS地理围栏请求参数。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">geofence</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geofence">Geofence</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示地理围栏信息，包含圆形围栏圆心坐标、半径等信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">monitorTransitionEvents</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geofencetransitionevent12">GeofenceTransitionEvent</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示APP监听的地理围栏事件列表。数组长度不超过3。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">notifications</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-notification#notificationrequest">NotificationRequest</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表示地理围栏事件发生后弹出的通知对象列表。</p>          <p>monitorTransitionEvents与notifications中的顺序要一一对应，例如monitorTransitionEvents[0]为<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geofencetransitionevent12">GeofenceTransitionEvent</a>.GEOFENCE_TRANSITION_EVENT_ENTER，那notifications[0]中就需要填入用户进入围栏时需要弹出的通知对象。默认值为空数组。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">geofenceTransitionCallback</td>         <td class="cellrowborder" width="20%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geofencetransition12">GeofenceTransition</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示用于接收地理围栏事件的回调函数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 402px;">     <h2 id="countrycode" device-type="phone,2in1,tablet,wearable">CountryCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="countrycode" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>国家码信息，包含国家码字符串和国家码的来源信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">country</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示国家码字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">type</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#countrycodetype">CountryCodeType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示国家码信息来源。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1116px;">     <h2 id="locationrequestpriority" device-type="phone,2in1,tablet,wearable">LocationRequestPriority<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="locationrequestpriority" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>位置请求中位置信息优先级类型。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">UNSET</td>         <td class="cellrowborder" width="33.33333333333333%">0x200</td>         <td class="cellrowborder" width="33.33333333333333%">表示未设置优先级，表示<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationrequestpriority">LocationRequestPriority</a>无效。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACCURACY</td>         <td class="cellrowborder" width="33.33333333333333%">0x201</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示精度优先。</p>          <p>定位精度优先策略主要以GNSS定位技术为主。我们会在GNSS提供稳定位置结果之前使用网络定位技术提供服务。在持续定位过程中，如果超过30秒无法获取GNSS定位结果则使用网络定位技术。对设备的硬件资源消耗较大，功耗较大。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">LOW_POWER</td>         <td class="cellrowborder" width="33.33333333333333%">0x202</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示低功耗优先。</p>          <p>低功耗定位优先策略仅使用网络定位技术，在室内和户外场景均可提供定位服务，因为其依赖周边基站、可见WLAN、蓝牙设备的分布情况，定位结果的精度波动范围较大，推荐在对定位结果精度要求不高的场景下使用该策略，可以有效节省设备功耗。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">FIRST_FIX</td>         <td class="cellrowborder" width="33.33333333333333%">0x203</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示快速获取位置优先，如果应用希望快速拿到一个位置，可以将优先级设置为该字段。</p>          <p>快速定位优先策略会同时使用GNSS定位和网络定位技术，以便在室内和户外场景下均可以快速获取到位置结果；当各种定位技术都有提供位置结果时，系统会选择其中精度较好的结果返回给应用。因为对各种定位技术同时使用，对设备的硬件资源消耗较大，功耗也较大。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1250px;">     <h2 id="locationrequestscenario" device-type="phone,2in1,tablet,wearable">LocationRequestScenario<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="locationrequestscenario" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>位置请求中定位场景类型。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当使用NAVIGATION/TRAJECTORY_TRACKING/CAR_HAILING场景进行单次定位或持续定位时，我们会在GNSS提供稳定位置结果之前使用网络定位技术提供服务；在持续定位时，如果超过30秒无法获取GNSS定位结果则会使用网络定位技术获取位置。</p>      </div></div></div>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">UNSET</td>         <td class="cellrowborder" width="33.33333333333333%">0x300</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示未设置场景信息。</p>          <p>表示<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationrequestscenario">LocationRequestScenario</a>字段无效。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NAVIGATION</td>         <td class="cellrowborder" width="33.33333333333333%">0x301</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示导航场景。</p>          <p>适用于在户外获取设备实时位置的场景，如车载、步行导航。</p>          <p>主要使用GNSS定位技术提供定位服务，功耗较高。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TRAJECTORY_TRACKING</td>         <td class="cellrowborder" width="33.33333333333333%">0x302</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示运动轨迹记录场景。</p>          <p>适用于记录用户位置轨迹的场景，如运动类应用记录轨迹功能。</p>          <p>主要使用GNSS定位技术提供定位服务，功耗较高。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CAR_HAILING</td>         <td class="cellrowborder" width="33.33333333333333%">0x303</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示打车场景。</p>          <p>适用于用户出行打车时定位当前位置的场景，如网约车类应用。</p>          <p>主要使用GNSS定位技术提供定位服务，功耗较高。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DAILY_LIFE_SERVICE</td>         <td class="cellrowborder" width="33.33333333333333%">0x304</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示日常服务使用场景。</p>          <p>适用于不需要定位用户精确位置的使用场景，如新闻资讯、网购、点餐类应用。</p>          <p>该场景仅使用网络定位技术提供定位服务，功耗较低。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NO_POWER</td>         <td class="cellrowborder" width="33.33333333333333%">0x305</td>         <td class="cellrowborder" width="33.33333333333333%">表示无功耗功场景，这种场景下不会主动触发定位，会在其他应用定位时，才给当前应用返回位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 540px;">     <h2 id="countrycodetype" device-type="phone,2in1,tablet,wearable">CountryCodeType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="countrycodetype" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>国家码来源类型。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">COUNTRY_CODE_FROM_LOCALE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">从全球化模块的语言配置信息中获取到的国家码。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">COUNTRY_CODE_FROM_SIM</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">从SIM卡中获取到的国家码。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">COUNTRY_CODE_FROM_LOCATION</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">基于用户的位置信息，通过逆地理编码查询到的国家码。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">COUNTRY_CODE_FROM_NETWORK</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">从蜂窝网络注册信息中获取到的国家码。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 450px;">     <h2 id="coordinatesystemtype12" device-type="phone,tablet">CoordinateSystemType<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="coordinatesystemtype12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>坐标系类型。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">WGS84</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">World Geodetic System 1984，是为GPS全球定位系统使用而建立的坐标系统。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">GCJ02</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">GCJ-02是由中国国家测绘局制订的地理信息系统的坐标系统。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 495px;">     <h2 id="geofencetransitionevent12" device-type="phone,tablet">GeofenceTransitionEvent<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geofencetransitionevent12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>地理围栏事件。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">GEOFENCE_TRANSITION_EVENT_ENTER</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">该事件表示设备从地理围栏外进入地理围栏内。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">GEOFENCE_TRANSITION_EVENT_EXIT</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">该事件表示设备从地理围栏内退出到地理围栏外。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">GEOFENCE_TRANSITION_EVENT_DWELL</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">该事件表示设备在地理围栏范围内，且持续徘徊超过10秒。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1248px;">     <h2 id="satelliteconstellationcategory12" device-type="phone,tablet,wearable">SatelliteConstellationCategory<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="satelliteconstellationcategory12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>卫星星座类型。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">CONSTELLATION_CATEGORY_UNKNOWN</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">默认值。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CONSTELLATION_CATEGORY_GPS</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">GPS（Global Positioning System），即全球定位系统，是美国研制发射的一种以人造地球卫星为基础的高精度无线电导航的定位系统。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CONSTELLATION_CATEGORY_SBAS</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">SBAS（Satellite-Based Augmentation System），即星基增强系统，通过地球静止轨道（GEO）卫星搭载卫星导航增强信号转发器，可以向用户播发星历误差、卫星钟差、电离层延迟等多种修正信息，实现对于原有卫星导航系统定位精度的改进。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CONSTELLATION_CATEGORY_GLONASS</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">GLONASS（GLOBAL NAVIGATION SATELLITE SYSTEM），是苏联/俄罗斯研制卫星导航系统。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CONSTELLATION_CATEGORY_QZSS</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">QZSS（Quasi-Zenith Satellite System），即准天顶卫星系统，是以三颗人造卫星透过时间转移完成全球定位系统区域性功能的卫星扩增系统，是日本研发的卫星系统。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CONSTELLATION_CATEGORY_BEIDOU</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">北斗卫星导航系统（Beidou Navigation Satellite System）是中国自行研制的全球卫星导航系统。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CONSTELLATION_CATEGORY_GALILEO</td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">GALILEO（Galileo satellite navigation system），即伽利略卫星导航系统，是由欧盟研制和建立的全球卫星导航定位系统。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CONSTELLATION_CATEGORY_IRNSS</td>         <td class="cellrowborder" width="33.33333333333333%">7</td>         <td class="cellrowborder" width="33.33333333333333%">IRNSS（Indian Regional Navigation Satellite System），即印度区域导航卫星系统，是一个由印度空间研究组织（ISRO）发展的自由区域型卫星导航系统。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 633px;">     <h2 id="satelliteadditionalinfo12" device-type="phone,tablet,wearable">SatelliteAdditionalInfo<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="satelliteadditionalinfo12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>卫星附加信息类型。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">SATELLITES_ADDITIONAL_INFO_NULL</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">默认值。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SATELLITES_ADDITIONAL_INFO_EPHEMERIS_DATA_EXIST</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示本卫星具有星历数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SATELLITES_ADDITIONAL_INFO_ALMANAC_DATA_EXIST</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">表示本卫星具有年历数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SATELLITES_ADDITIONAL_INFO_USED_IN_FIX</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">表示在最新的位置解算中使用了本卫星。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SATELLITES_ADDITIONAL_INFO_CARRIER_FREQUENCY_EXIST</td>         <td class="cellrowborder" width="33.33333333333333%">8</td>         <td class="cellrowborder" width="33.33333333333333%">表示本卫星具有载波频率。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 807px;">     <h2 id="powerconsumptionscenario12" device-type="phone,2in1,tablet,wearable">PowerConsumptionScenario<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="powerconsumptionscenario12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>位置请求中的功耗场景类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">HIGH_POWER_CONSUMPTION</td>         <td class="cellrowborder" width="33.33333333333333%">0x601</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>高功耗。</p>          <p>以GNSS定位技术为主。我们会在GNSS提供稳定位置结果之前使用网络定位技术提供服务；在持续定位时，如果超过30秒无法获取GNSS定位结果则会使用网络定位技术获取位置。对设备的硬件资源消耗较大，功耗较大。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">LOW_POWER_CONSUMPTION</td>         <td class="cellrowborder" width="33.33333333333333%">0x602</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>低功耗。</p>          <p>适用于对用户位置精度要求不高的使用场景，如新闻资讯、网购、点餐类应用。</p>          <p>该场景仅使用网络定位技术提供定位服务，功耗较低。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NO_POWER_CONSUMPTION</td>         <td class="cellrowborder" width="33.33333333333333%">0x603</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>无功耗。</p>          <p>这种场景下不会主动触发定位，会在其他应用定位时，才给当前应用返回位置。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1040px;">     <h2 id="useractivityscenario12" device-type="phone,2in1,tablet,wearable">UserActivityScenario<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="useractivityscenario12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>位置请求中的用户活动场景类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当使用NAVIGATION/SPORT/TRANSPORT场景进行单次定位或持续定位时，我们会在GNSS提供稳定位置结果之前使用网络定位技术提供服务；在持续定位时，如果超过30秒无法获取GNSS定位结果则会使用网络定位技术获取位置。</p>      </div></div></div>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NAVIGATION</td>         <td class="cellrowborder" width="33.33333333333333%">0x401</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示导航场景。</p>          <p>适用于在户外获取设备实时位置的场景，如车载、步行导航。</p>          <p>主要使用GNSS定位技术提供定位服务，功耗较高。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SPORT</td>         <td class="cellrowborder" width="33.33333333333333%">0x402</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示运动场景。</p>          <p>适用于记录用户位置轨迹的场景，如运动类应用记录轨迹功能。</p>          <p>主要使用GNSS定位技术提供定位服务，功耗较高。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TRANSPORT</td>         <td class="cellrowborder" width="33.33333333333333%">0x403</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示出行场景。</p>          <p>适用于用户出行场景，如打车、乘坐公共交通等场景。</p>          <p>主要使用GNSS定位技术提供定位服务，功耗较高。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DAILY_LIFE_SERVICE</td>         <td class="cellrowborder" width="33.33333333333333%">0x404</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示日常服务使用场景。</p>          <p>适用于不需要定位用户精确位置的使用场景，如新闻资讯、网购、点餐类应用。</p>          <p>该场景仅使用网络定位技术提供定位服务，功耗较低。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 810px;">     <h2 id="locatingpriority12" device-type="phone,2in1,tablet,wearable">LocatingPriority<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="locatingpriority12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>单次位置请求中的优先级类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">PRIORITY_ACCURACY</td>         <td class="cellrowborder" width="33.33333333333333%">0x501</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示精度优先。</p>          <p>定位精度优先策略会同时使用GNSS定位和网络定位技术，并把一段时间内精度较好的结果返回给应用；这个时间段长度为<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#singlelocationrequest12">SingleLocationRequest</a>.locatingTimeoutMs与“30秒”中的较小者。</p>          <p>对设备的硬件资源消耗较大，功耗较大。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PRIORITY_LOCATING_SPEED</td>         <td class="cellrowborder" width="33.33333333333333%">0x502</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示快速获取位置优先，如果应用希望快速拿到一个位置，可以将优先级设置为该类型。</p>          <p>快速定位优先策略会同时使用GNSS定位和网络定位技术，以便在室内和户外场景下均可以快速获取到位置结果，我们会把最先拿到的定位结果返回给应用。对设备的硬件资源消耗较大，功耗也较大。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 777px;">     <h2 id="locationerror12" device-type="phone,2in1,tablet,wearable">LocationError<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="locationerror12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>持续定位过程中的错误信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">LOCATING_FAILED_DEFAULT</td>         <td class="cellrowborder" width="33.33333333333333%">-1</td>         <td class="cellrowborder" width="33.33333333333333%">默认值。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">LOCATING_FAILED_LOCATION_PERMISSION_DENIED</td>         <td class="cellrowborder" width="33.33333333333333%">-2</td>         <td class="cellrowborder" width="33.33333333333333%">表示ohos.permission.APPROXIMATELY_LOCATION权限或ohos.permission.LOCATION权限校验失败导致持续定位失败。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">LOCATING_FAILED_BACKGROUND_PERMISSION_DENIED</td>         <td class="cellrowborder" width="33.33333333333333%">-3</td>         <td class="cellrowborder" width="33.33333333333333%">表示应用在后台时位置权限校验失败导致持续定位失败。APP在后台定位时的位置权限申请方式参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/location-permission-guidelines" target="_blank">申请位置权限开发指导</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">LOCATING_FAILED_LOCATION_SWITCH_OFF</td>         <td class="cellrowborder" width="33.33333333333333%">-4</td>         <td class="cellrowborder" width="33.33333333333333%">表示位置信息开关关闭导致持续定位失败。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">LOCATING_FAILED_INTERNET_ACCESS_FAILURE</td>         <td class="cellrowborder" width="33.33333333333333%">-5</td>         <td class="cellrowborder" width="33.33333333333333%">表示无法访问网络，导致网络定位失败。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 564px;">     <h2 id="locationsourcetype12" device-type="phone,2in1,tablet,wearable">LocationSourceType<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="locationsourcetype12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>定位结果的来源。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">GNSS</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示定位结果来自于GNSS定位技术。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NETWORK</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">表示定位结果来自于网络定位技术。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INDOOR</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">表示定位结果来自于室内高精度定位技术。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">RTK</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">表示定位结果来自于室外高精度定位技术。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 729px;">     <h2 id="bluetoothscanresult16" device-type="phone,2in1,tablet,wearable">BluetoothScanResult<sup>16+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bluetoothscanresult16" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>蓝牙扫描结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">deviceId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示扫描到的设备地址。例如："XX:XX:XX:XX:XX:XX"。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">rssi</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示扫描到的设备的rssi值。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">data</td>         <td class="cellrowborder" width="20%">ArrayBuffer</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示扫描到的设备发送的广播包。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">deviceName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示扫描到的设备名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">connectable</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示扫描到的设备是否可连接。true表示可连接，false表示不可连接。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1098px;">     <h2 id="poi19" device-type="phone,2in1,tablet,wearable">Poi<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="poi19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>POI(Point of Interest, 兴趣点)信息。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">id</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示POI的ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">confidence</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示POI信息的置信度。置信度越高，用户离该POI信息点越近。取值范围为0到1。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">name</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示POI的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">latitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示POI所在的纬度。取值范围为-90到90。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">longitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示POI所在的经度。取值范围为-180到180。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">administrativeArea</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示POI所在的国家以下的一级行政区，一般是省/州。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">subAdministrativeArea</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示POI所在的国家以下的二级行政区，一般是市。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">locality</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示POI所在的城市信息，一般是市。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">subLocality</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示POI所在的子城市信息，一般是区/县。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">address</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示POI的详细地址。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 474px;">     <h2 id="poiinfo19" device-type="phone,2in1,tablet,wearable">PoiInfo<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="poiinfo19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>POI信息结构体。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">poiArray</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#poi19">Poi</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示POI信息列表。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">timestamp</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示获取到POI信息时的时间戳，UTC时间，单位毫秒。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 471px;">     <h2 id="sportstype18" device-type="phone,2in1,tablet,wearable">SportsType<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sportstype18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>运动类型。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">RUNNING</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示跑步。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">WALKING</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">表示步行。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CYCLING</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">表示骑行。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 381px;">     <h2 id="beaconfenceinfotype20" device-type="phone,tablet">BeaconFenceInfoType<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="beaconfenceinfotype20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>beacon围栏信息类型。当前仅支持设备制造商数据过滤。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">BEACON_MANUFACTURE_DATA</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">标识使用beacon设备制造商数据。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 759px;">     <h2 id="beaconmanufacturedata20" device-type="phone,tablet">BeaconManufactureData<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="beaconmanufacturedata20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>beacon设备制造商数据。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">manufactureId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">制造商标识。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">manufactureData</td>         <td class="cellrowborder" width="20%">ArrayBuffer</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">厂商自定义数据。例如：[0x02,0x15,0x00...0xFF,0x11,0x22,0x33,0x44,0x55]</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">manufactureDataMask</td>         <td class="cellrowborder" width="20%">ArrayBuffer</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">搭配manufactureData使用，可设置过滤部分制造商数据，0xFF为全匹配，0x00为模糊匹配。例如：[0xFF,0xFF,0xFF...0xFF,0xFF,0xFF,0xFF,0xFF,0xFF]</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 567px;">     <h2 id="beaconfence20" device-type="phone,tablet">BeaconFence<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="beaconfence20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>beacon围栏的参数配置。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">identifier</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">beacon围栏标识。可自行定义，如："123", "beaconName"。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">beaconFenceInfoType</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#beaconfenceinfotype20">BeaconFenceInfoType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">beacon围栏信息类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">manufactureData</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#beaconmanufacturedata20">BeaconManufactureData</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">beacon设备制造商数据。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 567px;">     <h2 id="beaconfencerequest20" device-type="phone,tablet">BeaconFenceRequest<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="beaconfencerequest20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>beacon围栏请求参数。transitionCallback与fenceExtensionAbilityName任选其一，都不填则参数无效。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">beacon</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#beaconfence20">BeaconFence</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">beacon围栏的参数配置。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">transitionCallback</td>         <td class="cellrowborder" width="20%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geofencetransition12">GeofenceTransition</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">beacon围栏事件信息。仅支持前台回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fenceExtensionAbilityName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-fenceextensionability">FenceExtensionAbility</a>名称。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1959px;">     <h2 id="geolocationmanageronlocationchange" device-type="phone,2in1,tablet,wearable">geoLocationManager.on('locationChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageronlocationchange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>on(type: 'locationChange', request: LocationRequest | ContinuousLocationRequest, callback: Callback&lt;Location&gt;): void</p>     <p>开启位置变化订阅，并发起定位请求。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“locationChange”，表示位置变化。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">request</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationrequest">LocationRequest</a> | <a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#continuouslocationrequest12">ContinuousLocationRequest</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置位置请求参数。</p>          <p>ContinuousLocationRequest为API12新增参数。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#location">Location</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回位置信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.on('locationChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 方式一：使用LocationRequest作为入参</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">requestInfo</span>:geoLocationManager.<span class="hljs-property">LocationRequest</span> = {<span class="hljs-string">'priority'</span>: geoLocationManager.<span class="hljs-property">LocationRequestPriority</span>.<span class="hljs-property">FIRST_FIX</span>, <span class="hljs-string">'scenario'</span>: geoLocationManager.<span class="hljs-property">LocationRequestScenario</span>.<span class="hljs-property">UNSET</span>, <span class="hljs-string">'timeInterval'</span>: <span class="hljs-number">1</span>, <span class="hljs-string">'distanceInterval'</span>: <span class="hljs-number">0</span>, <span class="hljs-string">'maxAccuracy'</span>: <span class="hljs-number">0</span>};</li><li><span class="hljs-keyword">let</span> locationChange = (<span class="hljs-attr">location</span>:geoLocationManager.<span class="hljs-property">Location</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'locationChange: data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(location));</li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'locationChange'</span>, requestInfo, locationChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 方式二：使用ContinuousLocationRequest作为入参</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">request</span>:geoLocationManager.<span class="hljs-property">ContinuousLocationRequest</span> = {<span class="hljs-string">'interval'</span>: <span class="hljs-number">1</span>, <span class="hljs-string">'locationScenario'</span>: geoLocationManager.<span class="hljs-property">UserActivityScenario</span>.<span class="hljs-property">NAVIGATION</span>};</li><li><span class="hljs-keyword">let</span> locationCallback = (<span class="hljs-attr">location</span>:geoLocationManager.<span class="hljs-property">Location</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'locationCallback: data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(location));</li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'locationChange'</span>, request, locationCallback);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1643px;">     <h2 id="geolocationmanagerofflocationchange" device-type="phone,2in1,tablet,wearable">geoLocationManager.off('locationChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagerofflocationchange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>off(type: 'locationChange', callback?: Callback&lt;Location&gt;): void</p>     <p>关闭位置变化订阅，并删除对应的定位请求。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“locationChange”，表示位置变化。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#location">Location</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数。该回调函数需要与on接口传入的回调函数保持一致。若无此参数，则取消当前类型的所有订阅。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.off('locationChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">requestInfo</span>:geoLocationManager.<span class="hljs-property">LocationRequest</span> = {<span class="hljs-string">'priority'</span>: geoLocationManager.<span class="hljs-property">LocationRequestPriority</span>.<span class="hljs-property">FIRST_FIX</span>, <span class="hljs-string">'scenario'</span>: geoLocationManager.<span class="hljs-property">LocationRequestScenario</span>.<span class="hljs-property">UNSET</span>, <span class="hljs-string">'timeInterval'</span>: <span class="hljs-number">1</span>, <span class="hljs-string">'distanceInterval'</span>: <span class="hljs-number">0</span>, <span class="hljs-string">'maxAccuracy'</span>: <span class="hljs-number">0</span>};</li><li><span class="hljs-keyword">let</span> locationChange = (<span class="hljs-attr">location</span>:geoLocationManager.<span class="hljs-property">Location</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'locationChange: data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(location));</li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'locationChange'</span>, requestInfo, locationChange);</li><li>    geoLocationManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'locationChange'</span>, locationChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1787px;">     <h2 id="geolocationmanageronlocationerror12" device-type="phone,2in1,tablet,wearable">geoLocationManager.on('locationError')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageronlocationerror12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>on(type: 'locationError', callback: Callback&lt;LocationError&gt;): void</p>     <p>订阅持续定位过程中的错误码。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“locationError”，表示持续定位过程中的错误码变化。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationerror12">LocationError</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回持续定位过程中的错误码。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.on('locationError')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">requestInfo</span>:geoLocationManager.<span class="hljs-property">LocationRequest</span> = {<span class="hljs-string">'priority'</span>: geoLocationManager.<span class="hljs-property">LocationRequestPriority</span>.<span class="hljs-property">FIRST_FIX</span>, <span class="hljs-string">'scenario'</span>: geoLocationManager.<span class="hljs-property">LocationRequestScenario</span>.<span class="hljs-property">UNSET</span>, <span class="hljs-string">'timeInterval'</span>: <span class="hljs-number">1</span>, <span class="hljs-string">'distanceInterval'</span>: <span class="hljs-number">0</span>, <span class="hljs-string">'maxAccuracy'</span>: <span class="hljs-number">0</span>};</li><li><span class="hljs-keyword">let</span> locationChange = (<span class="hljs-attr">location</span>:geoLocationManager.<span class="hljs-property">Location</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'locationChange: data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(location));</li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'locationChange'</span>, requestInfo, locationChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> locationErrorChange = (<span class="hljs-attr">errcode</span>: geoLocationManager.<span class="hljs-property">LocationError</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'locationErrorChange: data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(errcode));</li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'locationError'</span>, locationErrorChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1643px;">     <h2 id="geolocationmanagerofflocationerror12" device-type="phone,2in1,tablet,wearable">geoLocationManager.off('locationError')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagerofflocationerror12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>off(type: 'locationError', callback?: Callback&lt;LocationError&gt;): void</p>     <p>取消订阅持续定位过程中的错误码。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“locationError”，表示持续定位过程中的错误码变化。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationerror12">LocationError</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数。该回调函数需要与on接口传入的回调函数保持一致。若无此参数，则取消当前类型的所有订阅。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.off('locationError')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> locationErrorChange = (<span class="hljs-attr">errcode</span>: geoLocationManager.<span class="hljs-property">LocationError</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'locationErrorChange: data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(errcode));</li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'locationError'</span>, locationErrorChange);</li><li>  geoLocationManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'locationError'</span>, locationErrorChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1396px;">     <h2 id="geolocationmanageronlocationenabledchange" device-type="phone,2in1,tablet,wearable">geoLocationManager.on('locationEnabledChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageronlocationenabledchange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>on(type: 'locationEnabledChange', callback: Callback&lt;boolean&gt;): void</p>     <p>订阅位置服务状态变化。使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“locationEnabledChange”，表示位置服务状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回true表示位置信息开关已经开启；返回false表示位置信息开关已经关闭。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.on('locationEnabledChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> locationEnabledChange = (<span class="hljs-attr">state</span>:<span class="hljs-built_in">boolean</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'locationEnabledChange: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(state));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'locationEnabledChange'</span>, locationEnabledChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1444px;">     <h2 id="geolocationmanagerofflocationenabledchange" device-type="phone,2in1,tablet,wearable">geoLocationManager.off('locationEnabledChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagerofflocationenabledchange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>off(type: 'locationEnabledChange', callback?: Callback&lt;boolean&gt;): void</p>     <p>取消订阅位置服务状态变化。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“locationEnabledChange”，表示位置服务状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数。该回调函数需要与on接口传入的回调函数保持一致。若无此参数，则取消当前类型的所有订阅。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.off('locationEnabledChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> locationEnabledChange = (<span class="hljs-attr">state</span>:<span class="hljs-built_in">boolean</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'locationEnabledChange: state: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(state));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'locationEnabledChange'</span>, locationEnabledChange);</li><li>    geoLocationManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'locationEnabledChange'</span>, locationEnabledChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1671px;">     <h2 id="geolocationmanageroncachedgnsslocationschange" device-type="phone,tablet,wearable">geoLocationManager.on('cachedGnssLocationsChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageroncachedgnsslocationschange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>on(type: 'cachedGnssLocationsChange', request: CachedGnssLocationsRequest, callback: Callback&lt;Array&lt;Location&gt;&gt;): void</p>     <p>订阅缓存GNSS定位结果上报事件。该接口功能由GNSS定位芯片提供（仅部分型号支持），如果设备无此芯片或使用的芯片型号不支持该功能，则返回错误码801（Capability not supported）。使用callback异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“cachedGnssLocationsChange”，表示GNSS缓存定位结果上报。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">request</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#cachedgnsslocationsrequest">CachedGnssLocationsRequest</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">GNSS缓存功能配置参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#location">Location</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回GNSS缓存位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.on('cachedGnssLocationsChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> cachedLocationsCb = (<span class="hljs-attr">locations</span>:<span class="hljs-title class_">Array</span>&lt;geoLocationManager.<span class="hljs-property">Location</span>&gt;):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'cachedGnssLocationsChange: locations: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(locations));</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">requestInfo</span>:geoLocationManager.<span class="hljs-property">CachedGnssLocationsRequest</span> = {<span class="hljs-string">'reportingPeriodSec'</span>: <span class="hljs-number">10</span>, <span class="hljs-string">'wakeUpCacheQueueFull'</span>: <span class="hljs-literal">true</span>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'cachedGnssLocationsChange'</span>, requestInfo, cachedLocationsCb);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1698px;">     <h2 id="geolocationmanageroffcachedgnsslocationschange" device-type="phone,tablet,wearable">geoLocationManager.off('cachedGnssLocationsChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageroffcachedgnsslocationschange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>off(type: 'cachedGnssLocationsChange', callback?: Callback&lt;Array&lt;Location&gt;&gt;): void</p>     <p>取消订阅缓存GNSS定位结果上报事件。该接口功能由GNSS定位芯片提供（仅部分型号支持），如果设备无此芯片或使用的芯片型号不支持该功能，则返回错误码801（Capability not supported）。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“cachedGnssLocationsChange”，表示GNSS缓存定位结果上报。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#location">Location</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数。该回调函数需要与on接口传入的回调函数保持一致。若无此参数，则取消当前类型的所有订阅。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.off('cachedGnssLocationsChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> cachedLocationsCb = (<span class="hljs-attr">locations</span>:<span class="hljs-title class_">Array</span>&lt;geoLocationManager.<span class="hljs-property">Location</span>&gt;):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'cachedGnssLocationsChange: locations: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(locations));</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">requestInfo</span>:geoLocationManager.<span class="hljs-property">CachedGnssLocationsRequest</span> = {<span class="hljs-string">'reportingPeriodSec'</span>: <span class="hljs-number">10</span>, <span class="hljs-string">'wakeUpCacheQueueFull'</span>: <span class="hljs-literal">true</span>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'cachedGnssLocationsChange'</span>, requestInfo, cachedLocationsCb);</li><li>    geoLocationManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'cachedGnssLocationsChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2274px;">     <h2 id="geolocationmanageronsatellitestatuschange" device-type="phone,tablet,wearable">geoLocationManager.on('satelliteStatusChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageronsatellitestatuschange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>on(type: 'satelliteStatusChange', callback: Callback&lt;SatelliteStatusInfo&gt;): void</p>     <p>订阅GNSS卫星状态信息上报事件。使用callback异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“satelliteStatusChange”，表示订阅GNSS卫星状态信息上报。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#satellitestatusinfo">SatelliteStatusInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回GNSS卫星状态信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.on('satelliteStatusChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> gnssStatusCb = (<span class="hljs-attr">satelliteStatusInfo</span>:geoLocationManager.<span class="hljs-property">SatelliteStatusInfo</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'satelliteStatusChange: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(satelliteStatusInfo));</li><li>    <span class="hljs-comment">// 表示卫星个数</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">totalNumber</span>: <span class="hljs-built_in">number</span> = satelliteStatusInfo.<span class="hljs-property">satellitesNumber</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">satelliteIds</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = satelliteStatusInfo.<span class="hljs-property">satelliteIds</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">carrierToNoiseDensitys</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = satelliteStatusInfo.<span class="hljs-property">carrierToNoiseDensitys</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">altitudes</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = satelliteStatusInfo.<span class="hljs-property">altitudes</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">azimuths</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = satelliteStatusInfo.<span class="hljs-property">azimuths</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">carrierFrequencies</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = satelliteStatusInfo.<span class="hljs-property">carrierFrequencies</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">satelliteConstellations</span>: <span class="hljs-title class_">Array</span>&lt;geoLocationManager.<span class="hljs-property">SatelliteConstellationCategory</span>&gt; | <span class="hljs-literal">undefined</span> = satelliteStatusInfo.<span class="hljs-property">satelliteConstellation</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">satelliteAdditionalInfos</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; | <span class="hljs-literal">undefined</span> = satelliteStatusInfo.<span class="hljs-property">satelliteAdditionalInfo</span>;</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;i &lt; totalNumber;i++) {</li><li>      <span class="hljs-comment">// 卫星的ID</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">satelliteId</span>: <span class="hljs-built_in">number</span> = satelliteIds[i];</li><li>      <span class="hljs-comment">// 表示卫星的ID为 ${satelliteId} 的卫星的载波噪声功率谱密度比</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">carrierToNoiseDensity</span>: <span class="hljs-built_in">number</span> = carrierToNoiseDensitys[i];</li><li>      <span class="hljs-comment">// 表示卫星的ID为 ${satelliteId} 的卫星的高度角信息</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">altitude</span>: <span class="hljs-built_in">number</span> = altitudes[i];</li><li>      <span class="hljs-comment">// 表示卫星的ID为 ${satelliteId} 的卫星的方位角</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">azimuth</span>: <span class="hljs-built_in">number</span> = azimuths[i];</li><li>      <span class="hljs-comment">// 表示卫星的ID为 ${satelliteId} 的卫星的载波频率</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">carrierFrequencie</span>: <span class="hljs-built_in">number</span> = carrierFrequencies[i];</li><li>      <span class="hljs-keyword">if</span> (satelliteConstellations != <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-comment">// 表示卫星的ID为 ${satelliteId} 的卫星的星座类型</span></li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">satelliteConstellation</span>: geoLocationManager.<span class="hljs-property">SatelliteConstellationCategory</span> = satelliteConstellations[i];</li><li>      }</li><li>      <span class="hljs-keyword">if</span> (satelliteAdditionalInfos != <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-comment">// 表示卫星的ID为 ${satelliteId} 的卫星的附加信息；表示是否在最新的位置解算中使用了本卫星，是否具有星历数据，是否具有年历数据，是否具有载波频率信息等。</span></li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">satelliteAdditionalInfo</span>: <span class="hljs-built_in">number</span> = satelliteAdditionalInfos[i];</li><li>      }</li><li>    }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'satelliteStatusChange'</span>, gnssStatusCb);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1650px;">     <h2 id="geolocationmanageroffsatellitestatuschange" device-type="phone,tablet,wearable">geoLocationManager.off('satelliteStatusChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageroffsatellitestatuschange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>off(type: 'satelliteStatusChange', callback?: Callback&lt;SatelliteStatusInfo&gt;): void</p>     <p>取消订阅GNSS卫星状态信息上报事件。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“satelliteStatusChange”，表示订阅GNSS卫星状态信息上报。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#satellitestatusinfo">SatelliteStatusInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数。该回调函数需要与on接口传入的回调函数保持一致。若无此参数，则取消当前类型的所有订阅。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.off('satelliteStatusChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> gnssStatusCb = (<span class="hljs-attr">satelliteStatusInfo</span>:geoLocationManager.<span class="hljs-property">SatelliteStatusInfo</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'satelliteStatusChange: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(satelliteStatusInfo));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'satelliteStatusChange'</span>, gnssStatusCb);</li><li>    geoLocationManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'satelliteStatusChange'</span>, gnssStatusCb);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1554px;">     <h2 id="geolocationmanageronnmeamessage" device-type="phone,tablet,wearable">geoLocationManager.on('nmeaMessage')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageronnmeamessage" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>on(type: 'nmeaMessage', callback: Callback&lt;string&gt;): void</p>     <p>订阅GNSS NMEA信息上报事件。使用callback异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.LOCATION 和 ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“nmeaMessage”，表示订阅GNSS NMEA信息上报。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回GNSS NMEA信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.on('nmeaMessage')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> nmeaCb = (<span class="hljs-attr">str</span>:<span class="hljs-built_in">string</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'nmeaMessage: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(str));</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'nmeaMessage'</span>, nmeaCb );</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1650px;">     <h2 id="geolocationmanageroffnmeamessage" device-type="phone,tablet,wearable">geoLocationManager.off('nmeaMessage')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageroffnmeamessage" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>off(type: 'nmeaMessage', callback?: Callback&lt;string&gt;): void</p>     <p>取消订阅GNSS NMEA信息上报事件。</p>     <p><strong>需要权限</strong>：ohos.permission.LOCATION 和 ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“nmeaMessage”，表示订阅GNSS NMEA信息上报。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;string&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数。该回调函数需要与on接口传入的回调函数保持一致。若无此参数，则取消当前类型的所有订阅。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.off('nmeaMessage')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> nmeaCb = (<span class="hljs-attr">str</span>:<span class="hljs-built_in">string</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'nmeaMessage: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(str));</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'nmeaMessage'</span>, nmeaCb);</li><li>    geoLocationManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'nmeaMessage'</span>, nmeaCb);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2014px;">     <h2 id="geolocationmanagerongnssfencestatuschange" device-type="phone,tablet">geoLocationManager.on('gnssFenceStatusChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagerongnssfencestatuschange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>on(type: 'gnssFenceStatusChange', request: GeofenceRequest, want: WantAgent): void</p>     <p>添加一个围栏，并订阅地理围栏事件。该接口功能由GNSS定位芯片提供（仅部分型号支持），如果设备无此芯片或使用的芯片型号不支持该功能，则返回错误码801（Capability not supported）。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“gnssFenceStatusChange”，表示订阅围栏事件上报。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">request</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geofencerequest">GeofenceRequest</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">围栏的配置参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">want</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-wantagent">WantAgent</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于接收地理围栏事件上报（进出围栏）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.on('gnssFenceStatusChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301600</td>         <td class="cellrowborder" width="50%">Failed to operate the geofence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { wantAgent } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantAgentInfo</span>:wantAgent.<span class="hljs-property">WantAgentInfo</span> = {</li><li>    <span class="hljs-attr">wants</span>: [</li><li>        {</li><li>            <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.example.myapplication"</span>,</li><li>            <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"EntryAbility"</span>,</li><li>            <span class="hljs-attr">action</span>: <span class="hljs-string">"action1"</span></li><li>        }</li><li>    ],</li><li>    <span class="hljs-attr">actionType</span>: wantAgent.<span class="hljs-property">OperationType</span>.<span class="hljs-property">START_ABILITY</span>,</li><li>    <span class="hljs-attr">requestCode</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">wantAgentFlags</span>: [wantAgent.<span class="hljs-property">WantAgentFlags</span>.<span class="hljs-property">UPDATE_PRESENT_FLAG</span>]</li><li>};</li><li>
</li><li>wantAgent.<span class="hljs-title function_">getWantAgent</span>(wantAgentInfo).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">wantAgentObj</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">requestInfo</span>:geoLocationManager.<span class="hljs-property">GeofenceRequest</span> = {<span class="hljs-string">'scenario'</span>: <span class="hljs-number">0x301</span>, <span class="hljs-string">"geofence"</span>: {<span class="hljs-string">"latitude"</span>: <span class="hljs-number">31.12</span>, <span class="hljs-string">"longitude"</span>: <span class="hljs-number">121.11</span>, <span class="hljs-string">"radius"</span>: <span class="hljs-number">100</span>, <span class="hljs-string">"expiration"</span>: <span class="hljs-number">10000</span>}};</li><li>  <span class="hljs-keyword">try</span> {</li><li>      geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'gnssFenceStatusChange'</span>, requestInfo, wantAgentObj);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2038px;">     <h2 id="geolocationmanageroffgnssfencestatuschange" device-type="phone,tablet">geoLocationManager.off('gnssFenceStatusChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageroffgnssfencestatuschange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>off(type: 'gnssFenceStatusChange', request: GeofenceRequest, want: WantAgent): void</p>     <p>删除一个围栏，并取消订阅该围栏事件。该接口功能由GNSS定位芯片提供（仅部分型号支持），如果设备无此芯片或使用的芯片型号不支持该功能，则返回错误码801（Capability not supported）。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“gnssFenceStatusChange”，表示订阅围栏事件上报。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">request</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geofencerequest">GeofenceRequest</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">围栏的配置参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">want</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-wantagent">WantAgent</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于接收地理围栏事件上报（进出围栏）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.off('gnssFenceStatusChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301600</td>         <td class="cellrowborder" width="50%">Failed to operate the geofence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { wantAgent } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantAgentInfo</span>:wantAgent.<span class="hljs-property">WantAgentInfo</span> = {</li><li>    <span class="hljs-attr">wants</span>: [</li><li>        {</li><li>            <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.example.myapplication"</span>,</li><li>            <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"EntryAbility"</span>,</li><li>            <span class="hljs-attr">action</span>: <span class="hljs-string">"action1"</span>,</li><li>        }</li><li>    ],</li><li>    <span class="hljs-attr">actionType</span>: wantAgent.<span class="hljs-property">OperationType</span>.<span class="hljs-property">START_ABILITY</span>,</li><li>    <span class="hljs-attr">requestCode</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">wantAgentFlags</span>: [wantAgent.<span class="hljs-property">WantAgentFlags</span>.<span class="hljs-property">UPDATE_PRESENT_FLAG</span>]</li><li>};</li><li>
</li><li>wantAgent.<span class="hljs-title function_">getWantAgent</span>(wantAgentInfo).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">wantAgentObj</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">requestInfo</span>:geoLocationManager.<span class="hljs-property">GeofenceRequest</span> = {<span class="hljs-string">'scenario'</span>: <span class="hljs-number">0x301</span>, <span class="hljs-string">"geofence"</span>: {<span class="hljs-string">"latitude"</span>: <span class="hljs-number">31.12</span>, <span class="hljs-string">"longitude"</span>: <span class="hljs-number">121.11</span>, <span class="hljs-string">"radius"</span>: <span class="hljs-number">100</span>, <span class="hljs-string">"expiration"</span>: <span class="hljs-number">10000</span>}};;</li><li>  <span class="hljs-keyword">try</span> {</li><li>      geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'gnssFenceStatusChange'</span>, requestInfo, wantAgentObj);</li><li>      geoLocationManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'gnssFenceStatusChange'</span>, requestInfo, wantAgentObj);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1451px;">     <h2 id="geolocationmanageroncountrycodechange" device-type="phone,2in1,tablet,wearable">geoLocationManager.on('countryCodeChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageroncountrycodechange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>on(type: 'countryCodeChange', callback: Callback&lt;CountryCode&gt;): void</p>     <p>订阅国家码信息变化事件。使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“countryCodeChange”，表示订阅国家码信息变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#countrycode">CountryCode</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回国家码信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.on('countryCodeChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301500</td>         <td class="cellrowborder" width="50%">Failed to query the area information.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> callback = (<span class="hljs-attr">code</span>:geoLocationManager.<span class="hljs-property">CountryCode</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'countryCodeChange: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(code));</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'countryCodeChange'</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1547px;">     <h2 id="geolocationmanageroffcountrycodechange" device-type="phone,2in1,tablet,wearable">geoLocationManager.off('countryCodeChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageroffcountrycodechange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>off(type: 'countryCodeChange', callback?: Callback&lt;CountryCode&gt;): void</p>     <p>取消订阅国家码变化事件。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“countryCodeChange”，表示取消订阅国家码信息变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#countrycode">CountryCode</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数。该回调函数需要与on接口传入的回调函数保持一致。若无此参数，则取消当前类型的所有订阅。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.off('countryCodeChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301500</td>         <td class="cellrowborder" width="50%">Failed to query the area information.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> callback = (<span class="hljs-attr">code</span>:geoLocationManager.<span class="hljs-property">CountryCode</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'countryCodeChange: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(code));</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'countryCodeChange'</span>, callback);</li><li>    geoLocationManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'countryCodeChange'</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2233px;">     <h2 id="geolocationmanagergetcurrentlocation" device-type="phone,2in1,tablet,wearable">geoLocationManager.getCurrentLocation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetcurrentlocation" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getCurrentLocation(request: CurrentLocationRequest | SingleLocationRequest, callback: AsyncCallback&lt;Location&gt;): void</p>     <p>获取当前位置，使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">request</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#currentlocationrequest">CurrentLocationRequest</a> | <a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#singlelocationrequest12">SingleLocationRequest</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置位置请求参数。</p>          <p>SingleLocationRequest为API12新增参数。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#location">Location</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回当前位置信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.58.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getCurrentLocation} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301200</td>         <td class="cellrowborder" width="50%">Failed to obtain the geographical location.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// 方式一：使用CurrentLocationRequest作为入参</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">requestInfo</span>:geoLocationManager.<span class="hljs-property">CurrentLocationRequest</span> = {<span class="hljs-string">'priority'</span>: geoLocationManager.<span class="hljs-property">LocationRequestPriority</span>.<span class="hljs-property">FIRST_FIX</span>, <span class="hljs-string">'scenario'</span>: geoLocationManager.<span class="hljs-property">LocationRequestScenario</span>.<span class="hljs-property">UNSET</span>,<span class="hljs-string">'maxAccuracy'</span>: <span class="hljs-number">0</span>};</li><li><span class="hljs-keyword">let</span> locationChange = (<span class="hljs-attr">err</span>:<span class="hljs-title class_">BusinessError</span>, <span class="hljs-attr">location</span>:geoLocationManager.<span class="hljs-property">Location</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'locationChange: err='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (location) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'locationChange: location='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(location));</li><li>    }</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">getCurrentLocation</span>(requestInfo, locationChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 方式二：使用SingleLocationRequest作为入参</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">request</span>:geoLocationManager.<span class="hljs-property">SingleLocationRequest</span> = {<span class="hljs-string">'locatingTimeoutMs'</span>: <span class="hljs-number">10000</span>, <span class="hljs-string">'locatingPriority'</span>: geoLocationManager.<span class="hljs-property">LocatingPriority</span>.<span class="hljs-property">PRIORITY_ACCURACY</span>};</li><li><span class="hljs-keyword">let</span> locationCallback = (<span class="hljs-attr">err</span>:<span class="hljs-title class_">BusinessError</span>, <span class="hljs-attr">location</span>:geoLocationManager.<span class="hljs-property">Location</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'locationChange: err='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (location) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'locationChange: location='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(location));</li><li>    }</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">getCurrentLocation</span>(request, locationCallback);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1684px;">     <h2 id="geolocationmanagergetcurrentlocation-1" device-type="phone,2in1,tablet,wearable">geoLocationManager.getCurrentLocation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetcurrentlocation-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getCurrentLocation(callback: AsyncCallback&lt;Location&gt;): void</p>     <p>获取当前位置，使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#location">Location</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回当前位置信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getCurrentLocation} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301200</td>         <td class="cellrowborder" width="50%">Failed to obtain the geographical location.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">locationChange</span> = (<span class="hljs-params">err:BusinessError, location:geoLocationManager.Location</span>) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'locationChange: err='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (location) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'locationChange: location='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(location));</li><li>    }</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">getCurrentLocation</span>(locationChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2167px;">     <h2 id="geolocationmanagergetcurrentlocation-2" device-type="phone,2in1,tablet,wearable">geoLocationManager.getCurrentLocation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetcurrentlocation-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getCurrentLocation(request?: CurrentLocationRequest | SingleLocationRequest): Promise&lt;Location&gt;</p>     <p>获取当前位置，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">request</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#currentlocationrequest">CurrentLocationRequest</a> | <a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#singlelocationrequest12">SingleLocationRequest</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>设置位置请求参数。</p>          <p>SingleLocationRequest为API12新增参数。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#location">Location</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回当前位置信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getCurrentLocation} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301200</td>         <td class="cellrowborder" width="50%">Failed to obtain the geographical location.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 方式一：使用CurrentLocationRequest作为入参</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">requestInfo</span>:geoLocationManager.<span class="hljs-property">CurrentLocationRequest</span> = {<span class="hljs-string">'priority'</span>: geoLocationManager.<span class="hljs-property">LocationRequestPriority</span>.<span class="hljs-property">FIRST_FIX</span>, <span class="hljs-string">'scenario'</span>: geoLocationManager.<span class="hljs-property">LocationRequestScenario</span>.<span class="hljs-property">UNSET</span>,<span class="hljs-string">'maxAccuracy'</span>: <span class="hljs-number">0</span>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">getCurrentLocation</span>(requestInfo).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'current location: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>    })</li><li>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error:BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'promise, getCurrentLocation: error='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 方式二：使用SingleLocationRequest作为入参</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">request</span>:geoLocationManager.<span class="hljs-property">SingleLocationRequest</span> = {<span class="hljs-string">'locatingTimeoutMs'</span>: <span class="hljs-number">10000</span>, <span class="hljs-string">'locatingPriority'</span>: geoLocationManager.<span class="hljs-property">LocatingPriority</span>.<span class="hljs-property">PRIORITY_ACCURACY</span>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">getCurrentLocation</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'current location: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>    })</li><li>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error:BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'promise, getCurrentLocation: error='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1337px;">     <h2 id="geolocationmanagergetlastlocation" device-type="phone,2in1,tablet,wearable">geoLocationManager.getLastLocation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetlastlocation" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getLastLocation(): Location</p>     <p>获取上一次位置。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#location">Location</a></td>         <td class="cellrowborder" width="50%">位置信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getLastLocation} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301200</td>         <td class="cellrowborder" width="50%">Failed to obtain the geographical location.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> location = geoLocationManager.<span class="hljs-title function_">getLastLocation</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1124px;">     <h2 id="geolocationmanagerislocationenabled" device-type="phone,2in1,tablet,wearable">geoLocationManager.isLocationEnabled<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagerislocationenabled" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>isLocationEnabled(): boolean</p>     <p>判断位置服务是否已经开启。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>true：位置信息开关已开启。</p>          <p>false：位置信息开关已关闭。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.isLocationEnabled} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> locationEnabled = geoLocationManager.<span class="hljs-title function_">isLocationEnabled</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1475px;">     <h2 id="geolocationmanagergetaddressesfromlocation" device-type="phone,2in1,tablet,wearable">geoLocationManager.getAddressesFromLocation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetaddressesfromlocation" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getAddressesFromLocation(request: ReverseGeoCodeRequest, callback: AsyncCallback&lt;Array&lt;GeoAddress&gt;&gt;): void</p>     <p>调用逆地理编码服务，将坐标转换为地理描述，使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geocoder</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">request</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#reversegeocoderequest">ReverseGeoCodeRequest</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置逆地理编码请求的相关参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geoaddress">GeoAddress</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回逆地理编码结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getAddressesFromLocation} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301300</td>         <td class="cellrowborder" width="50%">Reverse geocoding query failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">reverseGeocodeRequest</span>:geoLocationManager.<span class="hljs-property">ReverseGeoCodeRequest</span> = {<span class="hljs-string">"latitude"</span>: <span class="hljs-number">31.12</span>, <span class="hljs-string">"longitude"</span>: <span class="hljs-number">121.11</span>, <span class="hljs-string">"maxItems"</span>: <span class="hljs-number">1</span>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">getAddressesFromLocation</span>(reverseGeocodeRequest, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (err) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getAddressesFromLocation: err='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        }</li><li>        <span class="hljs-keyword">if</span> (data) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getAddressesFromLocation: data='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>        }</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1553px;">     <h2 id="geolocationmanagergetaddressesfromlocation-1" device-type="phone,2in1,tablet,wearable">geoLocationManager.getAddressesFromLocation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetaddressesfromlocation-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getAddressesFromLocation(request: ReverseGeoCodeRequest): Promise&lt;Array&lt;GeoAddress&gt;&gt;</p>     <p>调用逆地理编码服务，将坐标转换为地理描述，使用Promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geocoder</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">request</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#reversegeocoderequest">ReverseGeoCodeRequest</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置逆地理编码请求的相关参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geoaddress">GeoAddress</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回地理描述信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.64.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getAddressesFromLocation} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301300</td>         <td class="cellrowborder" width="50%">Reverse geocoding query failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">reverseGeocodeRequest</span>:geoLocationManager.<span class="hljs-property">ReverseGeoCodeRequest</span> = {<span class="hljs-string">"latitude"</span>: <span class="hljs-number">31.12</span>, <span class="hljs-string">"longitude"</span>: <span class="hljs-number">121.11</span>, <span class="hljs-string">"maxItems"</span>: <span class="hljs-number">1</span>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">getAddressesFromLocation</span>(reverseGeocodeRequest).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getAddressesFromLocation: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>    })</li><li>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error:BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'promise, getAddressesFromLocation: error='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1475px;">     <h2 id="geolocationmanagergetaddressesfromlocationname" device-type="phone,2in1,tablet,wearable">geoLocationManager.getAddressesFromLocationName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetaddressesfromlocationname" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getAddressesFromLocationName(request: GeoCodeRequest, callback: AsyncCallback&lt;Array&lt;GeoAddress&gt;&gt;): void</p>     <p>调用地理编码服务，将地理描述转换为具体坐标，使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geocoder</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">request</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geocoderequest">GeoCodeRequest</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置地理编码请求的相关参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geoaddress">GeoAddress</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回地理编码结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getAddressesFromLocationName} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301400</td>         <td class="cellrowborder" width="50%">Geocoding query failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">geocodeRequest</span>:geoLocationManager.<span class="hljs-property">GeoCodeRequest</span> = {<span class="hljs-string">"description"</span>: <span class="hljs-string">"上海市浦东新区xx路xx号"</span>, <span class="hljs-string">"maxItems"</span>: <span class="hljs-number">1</span>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">getAddressesFromLocationName</span>(geocodeRequest, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (err) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getAddressesFromLocationName: err='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        }</li><li>        <span class="hljs-keyword">if</span> (data) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getAddressesFromLocationName: data='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>        }</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1553px;">     <h2 id="geolocationmanagergetaddressesfromlocationname-1" device-type="phone,2in1,tablet,wearable">geoLocationManager.getAddressesFromLocationName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetaddressesfromlocationname-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getAddressesFromLocationName(request: GeoCodeRequest): Promise&lt;Array&lt;GeoAddress&gt;&gt;</p>     <p>调用地理编码服务，将地理描述转换为具体坐标，使用Promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geocoder</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">request</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geocoderequest">GeoCodeRequest</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置地理编码请求的相关参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geoaddress">GeoAddress</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回地理编码查询结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getAddressesFromLocationName} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301400</td>         <td class="cellrowborder" width="50%">Geocoding query failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">geocodeRequest</span>:geoLocationManager.<span class="hljs-property">GeoCodeRequest</span> = {<span class="hljs-string">"description"</span>: <span class="hljs-string">"上海市浦东新区xx路xx号"</span>, <span class="hljs-string">"maxItems"</span>: <span class="hljs-number">1</span>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">getAddressesFromLocationName</span>(geocodeRequest).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getAddressesFromLocationName: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>    })</li><li>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error:BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'promise, getAddressesFromLocationName: error='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1076px;">     <h2 id="geolocationmanagerisgeocoderavailable" device-type="phone,2in1,tablet,wearable">geoLocationManager.isGeocoderAvailable<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagerisgeocoderavailable" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>isGeocoderAvailable(): boolean</p>     <p>判断地理编码与逆地理编码服务状态。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geocoder</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>true:地理编码与逆地理编码服务可用。</p>          <p>false：地理编码与逆地理编码服务不可用。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.isGeocoderAvailable} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> isAvailable = geoLocationManager.<span class="hljs-title function_">isGeocoderAvailable</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1533px;">     <h2 id="geolocationmanagergetcachedgnsslocationssize" device-type="phone,tablet,wearable">geoLocationManager.getCachedGnssLocationsSize<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetcachedgnsslocationssize" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getCachedGnssLocationsSize(callback: AsyncCallback&lt;number&gt;): void</p>     <p>获取GNSS芯片缓存位置的个数。该接口功能由GNSS定位芯片提供（仅部分型号支持），如果设备无此芯片或使用的芯片型号不支持该功能，则返回错误码801（Capability not supported）。使用callback异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回GNSS芯片缓存位置个数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.68.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getCachedGnssLocationsSize} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">getCachedGnssLocationsSize</span>(<span class="hljs-function">(<span class="hljs-params">err, size</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (err) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getCachedGnssLocationsSize: err='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        }</li><li>        <span class="hljs-keyword">if</span> (size) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCachedGnssLocationsSize: size='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(size));</li><li>        }</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1402px;">     <h2 id="geolocationmanagergetcachedgnsslocationssize-1" device-type="phone,tablet,wearable">geoLocationManager.getCachedGnssLocationsSize<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetcachedgnsslocationssize-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getCachedGnssLocationsSize(): Promise&lt;number&gt;</p>     <p>获取GNSS芯片缓存位置的个数。该接口功能由GNSS定位芯片提供（仅部分型号支持），如果设备无此芯片或使用的芯片型号不支持该功能，则返回错误码801（Capability not supported）。使用Promise异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回GNSS缓存位置的个数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getCachedGnssLocationsSize} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">getCachedGnssLocationsSize</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'promise, getCachedGnssLocationsSize: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>    })</li><li>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error:BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'promise, getCachedGnssLocationsSize: error='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1540px;">     <h2 id="geolocationmanagerflushcachedgnsslocations" device-type="phone,tablet,wearable">geoLocationManager.flushCachedGnssLocations<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagerflushcachedgnsslocations" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>flushCachedGnssLocations(callback: AsyncCallback&lt;void&gt;): void</p>     <p>读取并清空GNSS芯片所有缓存位置。该接口功能由GNSS定位芯片提供（仅部分型号支持），如果设备无此芯片或使用的芯片型号不支持该功能，则返回错误码801（Capability not supported）。使用callback异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当操作成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.70.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.flushCachedGnssLocations} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301200</td>         <td class="cellrowborder" width="50%">Failed to obtain the geographical location.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">flushCachedGnssLocations</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (err) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'flushCachedGnssLocations: err='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        }</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1457px;">     <h2 id="geolocationmanagerflushcachedgnsslocations-1" device-type="phone,tablet,wearable">geoLocationManager.flushCachedGnssLocations<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagerflushcachedgnsslocations-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>flushCachedGnssLocations(): Promise&lt;void&gt;</p>     <p>读取并清空GNSS芯片所有缓存位置。该接口功能由GNSS定位芯片提供（仅部分型号支持），如果设备无此芯片或使用的芯片型号不支持该功能，则返回错误码801（Capability not supported）。使用Promise异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Gnss</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.flushCachedGnssLocations} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301200</td>         <td class="cellrowborder" width="50%">Failed to obtain the geographical location.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">flushCachedGnssLocations</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'promise, flushCachedGnssLocations success'</span>);</li><li>    })</li><li>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error:BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'promise, flushCachedGnssLocations: error='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1372px;">     <h2 id="geolocationmanagersendcommand" device-type="phone,2in1,tablet,wearable">geoLocationManager.sendCommand<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagersendcommand" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>sendCommand(command: LocationCommand, callback: AsyncCallback&lt;void&gt;): void</p>     <p>给位置服务子系统的各个部件发送扩展命令。使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">command</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationcommand">LocationCommand</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定目标场景，和将要发送的命令（字符串）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当命令发送成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.sendCommand} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">requestInfo</span>:geoLocationManager.<span class="hljs-property">LocationCommand</span> = {<span class="hljs-string">'scenario'</span>: <span class="hljs-number">0x301</span>, <span class="hljs-string">'command'</span>: <span class="hljs-string">"command_1"</span>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">sendCommand</span>(requestInfo, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (err) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'sendCommand: err='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        }</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1498px;">     <h2 id="geolocationmanagersendcommand-1" device-type="phone,2in1,tablet,wearable">geoLocationManager.sendCommand<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagersendcommand-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>sendCommand(command: LocationCommand): Promise&lt;void&gt;</p>     <p>给位置服务子系统的各个部件发送扩展命令。使用Promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">command</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#locationcommand">LocationCommand</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定目标场景，和将要发送的命令（字符串）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.73.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.sendCommand} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">requestInfo</span>:geoLocationManager.<span class="hljs-property">LocationCommand</span> = {<span class="hljs-string">'scenario'</span>: <span class="hljs-number">0x301</span>, <span class="hljs-string">'command'</span>: <span class="hljs-string">"command_1"</span>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">sendCommand</span>(requestInfo).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'promise, sendCommand success'</span>);</li><li>    })</li><li>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error:BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'promise, sendCommand: error='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1382px;">     <h2 id="geolocationmanagergetcountrycode" device-type="phone,2in1,tablet,wearable">geoLocationManager.getCountryCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetcountrycode" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getCountryCode(callback: AsyncCallback&lt;CountryCode&gt;): void</p>     <p>查询当前的国家码。使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#countrycode">CountryCode</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回国家码信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getCountryCode} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301500</td>         <td class="cellrowborder" width="50%">Failed to query the area information.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">getCountryCode</span>(<span class="hljs-function">(<span class="hljs-params">err, result</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (err) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getCountryCode: err='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        }</li><li>        <span class="hljs-keyword">if</span> (result) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCountryCode: result='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>        }</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1275px;">     <h2 id="geolocationmanagergetcountrycode-1" device-type="phone,2in1,tablet,wearable">geoLocationManager.getCountryCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetcountrycode-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getCountryCode(): Promise&lt;CountryCode&gt;</p>     <p>查询当前的国家码。使用Promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#countrycode">CountryCode</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回国家码信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getCountryCode} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301500</td>         <td class="cellrowborder" width="50%">Failed to query the area information.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">getCountryCode</span>()</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'promise, getCountryCode: result='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>    })</li><li>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error:BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'promise, getCountryCode: error='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3367px;">     <h2 id="geolocationmanageraddgnssgeofence12" device-type="phone,tablet">geoLocationManager.addGnssGeofence<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageraddgnssgeofence12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>addGnssGeofence(fenceRequest: GnssGeofenceRequest): Promise&lt;number&gt;</p>     <p>添加一个GNSS地理围栏，并订阅地理围栏事件。使用Promise异步回调。</p>     <p>APP可以在入参<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#gnssgeofencerequest12">GnssGeofenceRequest</a>中传入回调函数用于接收地理围栏事件；也可以传入通知对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-notification#notificationrequest">NotificationRequest</a>，在系统识别到地理围栏事件发生时会弹出APP创建的通知。</p>     <p>GNSS地理围栏功能依赖GNSS定位芯片（仅部分型号支持），如果设备无此芯片或使用的芯片型号不支持该功能，则返回错误码801（Capability not supported）。</p>     <p><strong>需要权限</strong>：ohos.permission.LOCATION 和 ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fenceRequest</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#gnssgeofencerequest12">GnssGeofenceRequest</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>添加GNSS地理围栏请求参数。</p>          <p>包含圆形围栏信息、需要监听的地理围栏事件、地理围栏事件触发后弹出的通知对象和监听地理围栏事件的回调函数。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回地理围栏ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.addGnssGeofence} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301601</td>         <td class="cellrowborder" width="50%">The number of geofences exceeds the maximum.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { notificationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NotificationKit'</span>;</li><li><span class="hljs-comment">// 创建围栏</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">geofence</span>: geoLocationManager.<span class="hljs-property">Geofence</span> = {</li><li>  <span class="hljs-string">"latitude"</span>: <span class="hljs-number">34.12</span>, <span class="hljs-string">"longitude"</span>: <span class="hljs-number">124.11</span>, <span class="hljs-string">"radius"</span>: <span class="hljs-number">10000.0</span>, <span class="hljs-string">"expiration"</span>: <span class="hljs-number">10000.0</span></li><li>}</li><li><span class="hljs-comment">// 指定APP需要监听的地理围栏事件类型，这里表示需要监听进入围栏和退出围栏事件</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">transitionStatusList</span>: <span class="hljs-title class_">Array</span>&lt;geoLocationManager.<span class="hljs-property">GeofenceTransitionEvent</span>&gt; = [</li><li>  geoLocationManager.<span class="hljs-property">GeofenceTransitionEvent</span>.<span class="hljs-property">GEOFENCE_TRANSITION_EVENT_ENTER</span>,</li><li>  geoLocationManager.<span class="hljs-property">GeofenceTransitionEvent</span>.<span class="hljs-property">GEOFENCE_TRANSITION_EVENT_EXIT</span>,</li><li>];</li><li><span class="hljs-comment">// 创建GEOFENCE_TRANSITION_EVENT_ENTER事件对应的通知对象</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">notificationRequest1</span>: notificationManager.<span class="hljs-property">NotificationRequest</span> = {</li><li>  <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,</li><li>  <span class="hljs-attr">content</span>: {</li><li>    <span class="hljs-attr">notificationContentType</span>: notificationManager.<span class="hljs-property">ContentType</span>.<span class="hljs-property">NOTIFICATION_CONTENT_BASIC_TEXT</span>,</li><li>    <span class="hljs-attr">normal</span>: {</li><li>      <span class="hljs-attr">title</span>: <span class="hljs-string">"围栏通知"</span>,</li><li>      <span class="hljs-attr">text</span>: <span class="hljs-string">"围栏进入"</span>,</li><li>      <span class="hljs-attr">additionalText</span>: <span class="hljs-string">""</span></li><li>    }</li><li>  }</li><li>};</li><li><span class="hljs-comment">// 创建GEOFENCE_TRANSITION_EVENT_EXIT事件对应的通知对象</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">notificationRequest2</span>: notificationManager.<span class="hljs-property">NotificationRequest</span> = {</li><li>  <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,</li><li>  <span class="hljs-attr">content</span>: {</li><li>    <span class="hljs-attr">notificationContentType</span>: notificationManager.<span class="hljs-property">ContentType</span>.<span class="hljs-property">NOTIFICATION_CONTENT_BASIC_TEXT</span>,</li><li>    <span class="hljs-attr">normal</span>: {</li><li>      <span class="hljs-attr">title</span>: <span class="hljs-string">'围栏通知'</span>,</li><li>      <span class="hljs-attr">text</span>: <span class="hljs-string">'围栏退出'</span>,</li><li>      <span class="hljs-attr">additionalText</span>: <span class="hljs-string">""</span></li><li>    }</li><li>  }</li><li>};</li><li><span class="hljs-comment">// 把创建的通知对象存入Array中，存入顺序与transitionStatusList一致</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">notificationRequestList</span>: <span class="hljs-title class_">Array</span>&lt;notificationManager.<span class="hljs-property">NotificationRequest</span>&gt; =</li><li>  [notificationRequest1, notificationRequest2];</li><li><span class="hljs-comment">// 构造GNSS地理围栏请求对象gnssGeofenceRequest</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">gnssGeofenceRequest</span>: geoLocationManager.<span class="hljs-property">GnssGeofenceRequest</span> = {</li><li>  <span class="hljs-comment">// 围栏属性，包含圆心和半径等信息</span></li><li>  <span class="hljs-attr">geofence</span>: geofence,</li><li>  <span class="hljs-comment">// 指定APP需要监听的地理围栏事件类型</span></li><li>  <span class="hljs-attr">monitorTransitionEvents</span>: transitionStatusList,</li><li>  <span class="hljs-comment">// 地理围栏事件对应的通知对象，该参数为可选</span></li><li>  <span class="hljs-attr">notifications</span>: notificationRequestList,</li><li>  <span class="hljs-comment">// 用于监听围栏事件的callback</span></li><li>  <span class="hljs-attr">geofenceTransitionCallback</span>: <span class="hljs-function">(<span class="hljs-params">err : BusinessError, transition : geoLocationManager.GeofenceTransition</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'geofenceTransitionCallback: err='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (transition) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"GeofenceTransition: %{public}s"</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(transition));</li><li>  }</li><li>  }</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 添加围栏</span></li><li>  geoLocationManager.<span class="hljs-title function_">addGnssGeofence</span>(gnssGeofenceRequest).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 围栏添加成功后返回围栏ID</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"addGnssGeofence success, fence id: "</span> + id);</li><li>    <span class="hljs-keyword">let</span> fenceId = id;</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"addGnssGeofence failed, promise errCode:"</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> +</li><li>      <span class="hljs-string">",errMessage:"</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"addGnssGeofence failed, err:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1728px;">     <h2 id="geolocationmanagerremovegnssgeofence12" device-type="phone,tablet">geoLocationManager.removeGnssGeofence<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagerremovegnssgeofence12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>removeGnssGeofence(geofenceId: number): Promise&lt;void&gt;</p>     <p>删除一个GNSS地理围栏，并取消订阅该地理围栏事件。使用Promise异步回调。</p>     <p>GNSS地理围栏功能依赖GNSS定位芯片（仅部分型号支持），如果设备无此芯片或使用的芯片型号不支持该功能，则返回错误码801（Capability not supported）。</p>     <p><strong>需要权限</strong>：ohos.permission.LOCATION 和 ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">geofenceId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">GNSS地理围栏的ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.77.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.77.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.removeGnssGeofence} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301602</td>         <td class="cellrowborder" width="50%">Failed to delete a geofence due to an incorrect ID.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// fenceId是在geoLocationManager.addGnssGeofence执行成功后获取的</span></li><li><span class="hljs-keyword">let</span> fenceId = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  geoLocationManager.<span class="hljs-title function_">removeGnssGeofence</span>(fenceId).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"removeGnssGeofence success fenceId:"</span> + fenceId);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error : BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"removeGnssGeofence: error="</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>  });</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"removeGnssGeofence: error="</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1076px;">     <h2 id="geolocationmanagergetgeofencesupportedcoordtypes12" device-type="phone,tablet">geoLocationManager.getGeofenceSupportedCoordTypes<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetgeofencesupportedcoordtypes12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>getGeofenceSupportedCoordTypes(): Array&lt;CoordinateSystemType&gt;</p>     <p>获取地理围栏功能支持的坐标系列表。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#coordinatesystemtype12">CoordinateSystemType</a>&gt;</td>         <td class="cellrowborder" width="50%">地理围栏功能支持的坐标系列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getGeofenceSupportedCoordTypes} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">supportedCoordTypes</span>: <span class="hljs-title class_">Array</span>&lt;geoLocationManager.<span class="hljs-property">CoordinateSystemType</span>&gt; = geoLocationManager.<span class="hljs-title function_">getGeofenceSupportedCoordTypes</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"getGeofenceSupportedCoordTypes return:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(supportedCoordTypes));</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"getGeofenceSupportedCoordTypes: error="</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1361px;">     <h2 id="geolocationmanagergetcurrentwifibssidforlocating14" device-type="phone,2in1,tablet,wearable">geoLocationManager.getCurrentWifiBssidForLocating<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetcurrentwifibssidforlocating14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getCurrentWifiBssidForLocating(): string</p>     <p>获取连接的Wi-Fi AP（Access Point）的Bssid（Basic Service Set Identifier）信息。如果当前设备未连接Wi-Fi，调用该接口将抛出错误码3301900。建议参考示例代码，通过try-catch结构捕获异常。</p>     <p><strong>需要权限</strong>：ohos.permission.LOCATION 和 ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">Wi-Fi Bssid</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.79.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getCurrentWifiBssidForLocating()} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301900</td>         <td class="cellrowborder" width="50%">Failed to obtain the BSSID of the Wi-Fi hotspot. The Wi-Fi network is not connected.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">bssid</span>: <span class="hljs-built_in">string</span> = geoLocationManager.<span class="hljs-title function_">getCurrentWifiBssidForLocating</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get wifi bssid:"</span> + bssid);</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"getCurrentWifiBssidForLocating: errCode"</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">", errMessage"</span> + error.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1770px;">     <h2 id="geolocationmanageronbluetoothscanresultchange16" device-type="phone,2in1,tablet,wearable">geoLocationManager.on('bluetoothScanResultChange')<sup>16+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageronbluetoothscanresultchange16" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>on(type: 'bluetoothScanResultChange', callback: Callback&lt;BluetoothScanResult&gt;): void</p>     <p>订阅蓝牙扫描信息上报事件，使用callback异步回调。</p>     <p>本API需要开发者向<a href="mailto:locationkit@huawei.com" target="_blank">locationkit@huawei.com</a>发送邮件申请，请在邮件中写明使用该API的业务场景和获取蓝牙deviceId（MAC）的真实用途，申请审批通过后会方可使用。</p>     <p>本API会启动蓝牙扫描，为了避免产生较多功耗，需要开发者在适当的时机调用 <a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geolocationmanageroffbluetoothscanresultchange16">geoLocationManager.off('bluetoothScanResultChange')</a>接口停止蓝牙扫描。</p>     <p>当前仅支持扫描BLE设备。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION 和 ohos.permission.LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“bluetoothScanResultChange”，表示订阅蓝牙扫描信息上报事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#bluetoothscanresult16">BluetoothScanResult</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回蓝牙扫描信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.on('bluetoothScanResultChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li>
</li><li><span class="hljs-keyword">let</span> callback = (<span class="hljs-attr">result</span>: geoLocationManager.<span class="hljs-property">BluetoothScanResult</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bluetoothScanResultChange: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'bluetoothScanResultChange'</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1595px;">     <h2 id="geolocationmanageroffbluetoothscanresultchange16" device-type="phone,2in1,tablet,wearable">geoLocationManager.off('bluetoothScanResultChange')<sup>16+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageroffbluetoothscanresultchange16" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>off(type: 'bluetoothScanResultChange', callback?: Callback&lt;BluetoothScanResult&gt;): void</p>     <p>取消订阅蓝牙扫描信息上报事件并停止蓝牙扫描。</p>     <p><strong>需要权限</strong>：ohos.permission.APPROXIMATELY_LOCATION 和 ohos.permission.LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置事件类型。type为“bluetoothScanResultChange”，表示停止订阅蓝牙扫描信息上报事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#bluetoothscanresult16">BluetoothScanResult</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数。该回调函数需要与on接口传入的回调函数保持一致。若无此参数，则取消当前类型的所有订阅。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.81.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.off('bluetoothScanResultChange')} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> callback = (<span class="hljs-attr">result</span>: geoLocationManager.<span class="hljs-property">BluetoothScanResult</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bluetoothScanResultChange: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>    geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'bluetoothScanResultChange'</span>, callback);</li><li>    geoLocationManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'bluetoothScanResultChange'</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 730px;">     <h2 id="geolocationmanagerispoiservicesupported20" device-type="phone,2in1,tablet,wearable">geoLocationManager.isPoiServiceSupported<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagerispoiservicesupported20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>isPoiServiceSupported(): boolean</p>     <p>查询系统（即软件）是否支持POI服务。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>true:POI服务可用。</p>          <p>false:POI服务不可用。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">let</span> poiServiceState = geoLocationManager.<span class="hljs-title function_">isPoiServiceSupported</span>();</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"poiServiceState:"</span> + poiServiceState);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1426px;">     <h2 id="geolocationmanagergetpoiinfo20" device-type="phone,2in1,tablet,wearable">geoLocationManager.getPoiInfo<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetpoiinfo20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getPoiInfo(): Promise&lt;PoiInfo&gt;</p>     <p>获取当前位置附近的POI信息。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.LOCATION 和 ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#poiinfo19">PoiInfo</a>&gt;</td>         <td class="cellrowborder" width="50%">当前位置附近的POI信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.getPoiInfo} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301000</td>         <td class="cellrowborder" width="50%">The location service is unavailable.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (geoLocationManager.<span class="hljs-title function_">isPoiServiceSupported</span>()) {</li><li>    geoLocationManager.<span class="hljs-title function_">getPoiInfo</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">poiInfo</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (poiInfo !== <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get PoiInfo:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(poiInfo));</li><li>      }</li><li>    })</li><li>  }</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"getPoiInfo errCode:"</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">", errMessage:"</span> + error.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1094px;">     <h2 id="geolocationmanagergetdistancebetweenlocations20" device-type="phone,2in1,tablet,wearable">geoLocationManager.getDistanceBetweenLocations<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagergetdistancebetweenlocations20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getDistanceBetweenLocations(location1: Location, location2: Location): number</p>     <p>获取两个位置之间的直线距离。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">location1</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#location">Location</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">位置1。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">location2</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#location">Location</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">位置2。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.84.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">两个位置之间的直线距离，单位为米。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">location1</span>: geoLocationManager.<span class="hljs-property">Location</span> = {<span class="hljs-string">"latitude"</span>: <span class="hljs-number">30.12</span>, <span class="hljs-string">"longitude"</span>: <span class="hljs-number">120.11</span>, <span class="hljs-string">"altitude"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"accuracy"</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-string">"speed"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"timeStamp"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"direction"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"timeSinceBoot"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"additionSize"</span>: <span class="hljs-number">0</span>}</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">location2</span>: geoLocationManager.<span class="hljs-property">Location</span> = {<span class="hljs-string">"latitude"</span>: <span class="hljs-number">30.12</span>, <span class="hljs-string">"longitude"</span>: <span class="hljs-number">120.11</span>, <span class="hljs-string">"altitude"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"accuracy"</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-string">"speed"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"timeStamp"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"direction"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"timeSinceBoot"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"additionSize"</span>: <span class="hljs-number">0</span>}</li><li>  <span class="hljs-keyword">let</span> distance = geoLocationManager.<span class="hljs-title function_">getDistanceBetweenLocations</span>(location1, location2);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"distance:"</span> + distance);</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"getDistanceBetweenLocations: errCode"</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">", errMessage"</span> + error.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2647px;">     <h2 id="geolocationmanageraddbeaconfence20" device-type="phone,tablet">geoLocationManager.addBeaconFence<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageraddbeaconfence20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>addBeaconFence(fenceRequest: BeaconFenceRequest): Promise&lt;number&gt;</p>     <p>添加一个beacon围栏，并订阅地理围栏事件。使用Promise异步回调。</p>     <p>beacon围栏是指通过蓝牙beacon设备和手机应用配合，实现“虚拟围栏”的功能。当用户靠近或离开某个特定的beacon设备时，手机应用会收到通知。</p>     <p>应用可以在入参<a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#beaconfencerequest20">BeaconFenceRequest</a>中传入回调函数用于接收围栏事件；也可以传入<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-fenceextensionability">FenceExtensionAbility</a>名称，在系统识别到围栏事件发生时通知应用。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.LOCATION 和 ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fenceRequest</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#beaconfencerequest20">BeaconFenceRequest</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">添加beacon围栏请求参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回beacon围栏ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.addBeaconFence} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3501100</td>         <td class="cellrowborder" width="50%">Failed to add a beacon fence because the location switch is off.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3501101</td>         <td class="cellrowborder" width="50%">Failed to add a beacon fence because the bluetooth switch is off.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3501601</td>         <td class="cellrowborder" width="50%">The number of beacon fence exceeds the maximum.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3501603</td>         <td class="cellrowborder" width="50%">Duplicate beacon fence information.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 以iBeacon协议为例，格式如下</span></li><li>  <span class="hljs-comment">// 01 byte    type = 0x02</span></li><li>  <span class="hljs-comment">// 01 byte    len = 0x15 = 21</span></li><li>  <span class="hljs-comment">// 16 byte    UUID</span></li><li>  <span class="hljs-comment">// 02 byte    major</span></li><li>  <span class="hljs-comment">// 02 byte    minor</span></li><li>  <span class="hljs-comment">// 01 byte    tx power</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">manufactureDataBuffer</span>: <span class="hljs-title class_">Uint8Array</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">0X02</span>, <span class="hljs-number">0X15</span>, <span class="hljs-number">0X00</span>, <span class="hljs-number">0X11</span>, <span class="hljs-number">0X22</span>, <span class="hljs-number">0X33</span>, <span class="hljs-number">0X44</span>, <span class="hljs-number">0X55</span>,</li><li>    <span class="hljs-number">0X66</span>, <span class="hljs-number">0X77</span>, <span class="hljs-number">0X88</span>, <span class="hljs-number">0X99</span>, <span class="hljs-number">0XAA</span>, <span class="hljs-number">0XBB</span>, <span class="hljs-number">0XCC</span>, <span class="hljs-number">0XDD</span>, <span class="hljs-number">0XEE</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0X11</span>, <span class="hljs-number">0X22</span>, <span class="hljs-number">0X33</span>, <span class="hljs-number">0X44</span>, <span class="hljs-number">0X55</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">manufactureDataMaskBuffer</span>: <span class="hljs-title class_">Uint8Array</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>,</li><li>    <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>]);</li><li>
</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">manufactureData</span>:geoLocationManager.<span class="hljs-property">BeaconManufactureData</span> = {</li><li>    <span class="hljs-attr">manufactureId</span>: <span class="hljs-number">0X004C</span>,</li><li>    <span class="hljs-attr">manufactureData</span>: manufactureDataBuffer.<span class="hljs-property">buffer</span>,</li><li>    <span class="hljs-attr">manufactureDataMask</span>: manufactureDataMaskBuffer.<span class="hljs-property">buffer</span></li><li>  };</li><li>
</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">beacon</span>:geoLocationManager.<span class="hljs-property">BeaconFence</span> = {</li><li>    <span class="hljs-attr">identifier</span>: <span class="hljs-string">"11"</span>,</li><li>    <span class="hljs-attr">beaconFenceInfoType</span>: geoLocationManager.<span class="hljs-property">BeaconFenceInfoType</span>.<span class="hljs-property">BEACON_MANUFACTURE_DATA</span>,</li><li>    <span class="hljs-attr">manufactureData</span>:manufactureData</li><li>  };</li><li>
</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">fenceRequest</span>:geoLocationManager.<span class="hljs-property">BeaconFenceRequest</span> = {</li><li>    <span class="hljs-attr">beacon</span>: beacon,</li><li>    <span class="hljs-attr">transitionCallback</span>: <span class="hljs-function">(<span class="hljs-params">transition : geoLocationManager.GeofenceTransition</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (transition) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"GeofenceTransition: err"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(transition));</li><li>      }</li><li>    },</li><li>    <span class="hljs-attr">fenceExtensionAbilityName</span>: <span class="hljs-string">"MyFenceExtensionAbility"</span>,</li><li>  };</li><li>  geoLocationManager.<span class="hljs-title function_">addBeaconFence</span>(fenceRequest).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"addBeaconFence success, fence id:"</span> + id);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err : BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'promise, addBeaconFence: error='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>  });</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"addBeaconFence: errCode"</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">", errMessage"</span> + error.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1978px;">     <h2 id="geolocationmanagerremovebeaconfence20" device-type="phone,tablet">geoLocationManager.removeBeaconFence<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagerremovebeaconfence20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>removeBeaconFence(beaconFence?: BeaconFence): Promise&lt;void&gt;</p>     <p>删除beacon围栏，并取消订阅地理围栏事件。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.LOCATION 和 ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">beaconFence</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#beaconfence20">BeaconFence</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传入beaconFence参数，删除指定围栏；不传入参数，删除该应用所有围栏。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.removeBeaconFence} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3501602</td>         <td class="cellrowborder" width="50%">Failed to delete the fence due to incorrect beacon fence information.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">manufactureDataBuffer</span>: <span class="hljs-title class_">Uint8Array</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">0X02</span>, <span class="hljs-number">0X15</span>, <span class="hljs-number">0X00</span>, <span class="hljs-number">0X11</span>, <span class="hljs-number">0X22</span>, <span class="hljs-number">0X33</span>, <span class="hljs-number">0X44</span>, <span class="hljs-number">0X55</span>,</li><li>    <span class="hljs-number">0X66</span>, <span class="hljs-number">0X77</span>, <span class="hljs-number">0X88</span>, <span class="hljs-number">0X99</span>, <span class="hljs-number">0XAA</span>, <span class="hljs-number">0XBB</span>, <span class="hljs-number">0XCC</span>, <span class="hljs-number">0XDD</span>, <span class="hljs-number">0XEE</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0X11</span>, <span class="hljs-number">0X22</span>, <span class="hljs-number">0X33</span>, <span class="hljs-number">0X44</span>, <span class="hljs-number">0X55</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">manufactureDataMaskBuffer</span>: <span class="hljs-title class_">Uint8Array</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>,</li><li>    <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>, <span class="hljs-number">0XFF</span>]);</li><li>
</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">manufactureData</span>:geoLocationManager.<span class="hljs-property">BeaconManufactureData</span> = {</li><li>    <span class="hljs-attr">manufactureId</span>: <span class="hljs-number">0X004C</span>,</li><li>    <span class="hljs-attr">manufactureData</span>: manufactureDataBuffer.<span class="hljs-property">buffer</span>,</li><li>    <span class="hljs-attr">manufactureDataMask</span>: manufactureDataMaskBuffer.<span class="hljs-property">buffer</span></li><li>  };</li><li>
</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">beacon</span>:geoLocationManager.<span class="hljs-property">BeaconFence</span> = {</li><li>    <span class="hljs-attr">identifier</span>: <span class="hljs-string">"11"</span>,</li><li>    <span class="hljs-attr">beaconFenceInfoType</span>: geoLocationManager.<span class="hljs-property">BeaconFenceInfoType</span>.<span class="hljs-property">BEACON_MANUFACTURE_DATA</span>,</li><li>    <span class="hljs-attr">manufactureData</span>:manufactureData</li><li>  };</li><li>  geoLocationManager.<span class="hljs-title function_">removeBeaconFence</span>(beacon).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"promise, removeBeaconFence success"</span>);</li><li>  })</li><li>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error:BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"promise, removeBeaconFence: errCode"</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">", errMessage"</span> + error.<span class="hljs-property">message</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"removeBeaconFence: errCode"</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">", errMessage"</span> + error.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 802px;">     <h2 id="geolocationmanagerisbeaconfencesupported20" device-type="phone,tablet">geoLocationManager.isBeaconFenceSupported<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanagerisbeaconfencesupported20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>isBeaconFenceSupported(): boolean;</p>     <p>判断当前设备是否支持beacon围栏。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Geofence</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>true：支持beacon围栏。</p>          <p>false：不支持beacon围栏。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> isBeaconFenceSupported = geoLocationManager.<span class="hljs-title function_">isBeaconFenceSupported</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">", message:"</span>  + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1931px;">     <h2 id="geolocationmanageriswlanbssidmatched21" device-type="phone,2in1,tablet,wearable">geoLocationManager.isWlanBssidMatched<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationmanageriswlanbssidmatched21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>isWlanBssidMatched(wlanBssidArray: Array&lt;string&gt;, rssiThreshold: number, needStartScan: boolean): Promise&lt;boolean&gt;</p>     <p>判断指定的BSSID是否存在于最新的WLAN扫描结果里。</p>     <p><strong>元服务API：</strong> 从API version 21开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.LOCATION 和 ohos.permission.APPROXIMATELY_LOCATION</p>     <p><strong>系统能力</strong>：SystemCapability.Location.Location.Core</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.88.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">wlanBssidArray</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">请求匹配的BSSID列表。单个字符串的长度不超过64，数组的长度不超过1000。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">rssiThreshold</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RSSI阈值。只匹配RSSI大于此阈值的BSSID，取值范围为-10000至10000（单位：dBm）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">needStartScan</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">是否需要发起WLAN扫描。需要发起WLAN扫描设置为true。不需要发起WLAN扫描，使用最近一次WLAN扫描结果进行匹配设置为false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.88.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">表示匹配是否成功。当扫描结果中存在wlanBssidArray中的任意BSSID，且其RSSI值高于rssiThreshold时，返回true，否则返回false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-geolocationmanager">位置服务子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.88.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call ${geoLocationManager.isWlanBssidMatched} due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301100</td>         <td class="cellrowborder" width="50%">The location switch is off.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3301800</td>         <td class="cellrowborder" width="50%">Failed to start WiFi scanning.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">wlanBssidArray</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">"02:1b:32:23:ea:91"</span>, <span class="hljs-string">"02:1b:32:23:ea:93"</span>];</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">rssiThreshold</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">70</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">needStartScan</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>  geoLocationManager.<span class="hljs-title function_">isWlanBssidMatched</span>(wlanBssidArray, rssiThreshold, needStartScan).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Wlan Bssid Matched Result:"</span> + res);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"isWlanBssidMatched: errCode"</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">", errMessage"</span> + error.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>