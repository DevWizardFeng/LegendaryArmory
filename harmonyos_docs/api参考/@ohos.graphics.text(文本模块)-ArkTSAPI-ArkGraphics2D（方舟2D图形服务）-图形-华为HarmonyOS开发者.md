<h1 _ngcontent-qjn-c119="" class="doc-title ng-star-inserted" title="@ohos.graphics.text (文本模块)"> @ohos.graphics.text (文本模块) </h1>

<div _ngcontent-qjn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>本模块提供一系列用于文本布局和字体管理的编程接口。文本布局相关的接口旨在提供高质量的排版，包括字符到字形的转换、字距调整、换行、对齐、文本测量等。字体管理接口提供字体注册、字体描述符、字体集管理等功能。</p>    <p>该模块提供以下创建复杂样式的文本段落的常用类：</p>    <ul>     <li><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>：文本样式，控制文本的字体类型、大小、间距等属性。</li>     <li><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontcollection">FontCollection</a>：字体集，控制各种不同的字体。</li>     <li><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontdescriptor14">FontDescriptor</a>：字体描述符信息。</li>     <li><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#paragraphstyle">ParagraphStyle</a>：段落样式，控制整个段落的断行策略、断词策略等属性。</li>     <li><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#paragraphbuilder">ParagraphBuilder</a>：段落生成器，控制生成不同的段落对象。</li>     <li><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#paragraph">Paragraph</a>：段落，由ParagraphBuilder类调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#build">build()</a>接口构建而成。</li>     <li><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#linetypeset18">LineTypeset</a>：行排版器，由ParagraphBuilder类调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#buildlinetypeset18">buildLineTypeset()</a>接口构建而成。</li>     <li><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textline">TextLine</a>：以行为单位的段落文本的载体，由Paragraph类调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#gettextlines">getTextLines()</a>接口获取。</li>     <li><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#run">Run</a>：文本排版单元，由TextLine类调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#getglyphruns">getGlyphRuns()</a>接口获取。</li>    </ul>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 12开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 758px;">     <h2 id="textsettexthighcontrast20" device-type="phone,2in1,tablet,wearable">text.setTextHighContrast<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textsettexthighcontrast20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>setTextHighContrast(action: TextHighContrast): void</p>     <p>用于设置文字渲染高对比度模式。</p>     <p>该接口设置后整个进程都会生效，进程内所有页面共用相同模式。</p>     <p>可调用此接口设置，也可通过系统设置界面中<strong>高对比度文字配置开关</strong>进行开启/关闭。使用此接口设置开启/关闭文字渲染高对比度配置的优先级高于系统开关设置。</p>     <p>该接口针对应用的文字自绘制场景不生效。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">action</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#texthighcontrast20">TextHighContrast</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文字渲染高对比度模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>text.<span class="hljs-title function_">setTextHighContrast</span>(text.<span class="hljs-property">TextHighContrast</span>.<span class="hljs-property">TEXT_APP_DISABLE_HIGH_CONTRAST</span>)</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 766px;">     <h2 id="textsettextundefinedglyphdisplay20" device-type="phone,2in1,tablet,wearable">text.setTextUndefinedGlyphDisplay<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textsettextundefinedglyphdisplay20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>setTextUndefinedGlyphDisplay(noGlyphShow: TextUndefinedGlyphDisplay): void</p>     <p>设置字符映射到.notdef（未定义）字形时要使用的字形类型。</p>     <p>影响此调用后呈现的所有文本。</p>     <p>此配置会影响显示字体中未定义字符的方式：</p>     <ul>      <li>默认行为遵循字体的内部.notdef字形设计。</li>      <li>开启后将强制使缺失字形的字符以豆腐块形式显示。</li>     </ul>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">noGlyphShow</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textundefinedglyphdisplay20">TextUndefinedGlyphDisplay</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">无法塑形字符的显示方式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>text.<span class="hljs-title function_">setTextUndefinedGlyphDisplay</span>(text.<span class="hljs-property">TextUndefinedGlyphDisplay</span>.<span class="hljs-property">USE_TOFU</span>)</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1916px;">     <h2 id="textmatchfontdescriptors18" device-type="phone,2in1,tablet,wearable">text.matchFontDescriptors<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textmatchfontdescriptors18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>matchFontDescriptors(desc: FontDescriptor): Promise&lt;Array&lt;FontDescriptor&gt;&gt;</p>     <p>根据指定的字体描述符返回所有符合要求的系统字体描述符，使用Promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">desc</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontdescriptor14">FontDescriptor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定需要用来做匹配的字体描述符。如果不指定任何字段，则返回系统的所有字体描述符。如果填写了指定字段，则按照指定字段进行匹配。如果匹配失败，返回空数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontdescriptor14">FontDescriptor</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回所有匹配到的系统字体描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"font descriptor"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Get font descriptor start`</span>)</li><li>            <span class="hljs-keyword">let</span> promise = text.<span class="hljs-title function_">matchFontDescriptors</span>({</li><li>              <span class="hljs-attr">weight</span>: text.<span class="hljs-property">FontWeight</span>.<span class="hljs-property">W400</span>,</li><li>            })</li><li>            promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Font descriptor array size: <span class="hljs-subst">${data.length}</span>`</span>);</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Font descriptor result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>)</li><li>            }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to match the font descriptor, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>            });</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1772px;">     <h2 id="textgetsystemfontfullnamesbytype14" device-type="phone,2in1,tablet,wearable">text.getSystemFontFullNamesByType<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textgetsystemfontfullnamesbytype14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getSystemFontFullNamesByType(fontType: SystemFontType): Promise&lt;Array&lt;string&gt;&gt;</p>     <p>根据字体类型返回该类型对应的所有字体的字体名称，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fontType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#systemfonttype14">SystemFontType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的字体类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回相应字体类型的所有字体的fullName。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified;2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"get font list"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">fontType</span>:text.<span class="hljs-property">SystemFontType</span> = text.<span class="hljs-property">SystemFontType</span>.<span class="hljs-property">GENERIC</span></li><li>            <span class="hljs-keyword">let</span> promise = text.<span class="hljs-title function_">getSystemFontFullNamesByType</span>(fontType)</li><li>            promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`then font list size: <span class="hljs-subst">${data.length}</span>`</span>)</li><li>              data.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">fontItem</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(fontItem)</li><li>              })</li><li>            }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get font fullNames by type, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>            });</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1817px;">     <h2 id="textgetfontdescriptorbyfullname14" device-type="phone,2in1,tablet,wearable">text.getFontDescriptorByFullName<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textgetfontdescriptorbyfullname14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getFontDescriptorByFullName(fullName: string, fontType: SystemFontType): Promise&lt;FontDescriptor&gt;</p>     <p>根据字体名称和类型获取字体描述符，使用Promise异步回调。</p>     <p>字体描述符是描述字体特征的数据结构，包含字体外观和属性的详细信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fullName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的字体名称。可以使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textgetsystemfontfullnamesbytype14">getSystemFontFullNamesByType</a>获取。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">fontType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#systemfonttype14">SystemFontType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的字体类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontdescriptor14">FontDescriptor</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回指定的字体描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"get fontDescriptor"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">fontType</span>:text.<span class="hljs-property">SystemFontType</span> = text.<span class="hljs-property">SystemFontType</span>.<span class="hljs-property">GENERIC</span></li><li>            <span class="hljs-keyword">let</span> promise = text.<span class="hljs-title function_">getFontDescriptorByFullName</span>(<span class="hljs-string">"HarmonyOS Sans"</span>, fontType)</li><li>            promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">fontDescriptor</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`desc: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(fontDescriptor)}</span>`</span>)</li><li>            }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get fontDescriptor by fullName, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>            });</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 543px;">     <h2 id="texthighcontrast20" device-type="phone,2in1,tablet,wearable">TextHighContrast<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="texthighcontrast20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文字渲染高对比度配置类型枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">TEXT_FOLLOW_SYSTEM_HIGH_CONTRAST</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">跟随系统设置中的高对比度文字配置。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TEXT_APP_DISABLE_HIGH_CONTRAST</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">关闭APP的文字渲染高对比度配置，该模式的优先级要高于系统设置中的高对比度文字配置。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TEXT_APP_ENABLE_HIGH_CONTRAST</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">开启APP的文字渲染高对比度配置，该模式的优先级要高于系统设置中的高对比度文字配置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 474px;">     <h2 id="textundefinedglyphdisplay20" device-type="phone,2in1,tablet,wearable">TextUndefinedGlyphDisplay<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textundefinedglyphdisplay20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文本未定义字形时的显示方式枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">USE_DEFAULT</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">使用字体的内部.notdef字形。遵循字体的内部.notdef字形设计，可以是空框、空格或自定义符号。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">USE_TOFU</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">总是用显式的豆腐块替换未定义的字形，覆盖字体的默认行为。用于调试缺失字符或强制一致的缺失符号显示。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 606px;">     <h2 id="textalign" device-type="phone,2in1,tablet,wearable">TextAlign<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textalign" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文本对齐方式枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">LEFT</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">文本靠左对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">RIGHT</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">文本靠右对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CENTER</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">文本居中对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">JUSTIFY</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">文本两侧对齐，对最后一行无效。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">START</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">基于文本的方向<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textdirection">TextDirection</a>，文本靠开头方向对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">END</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">基于文本的方向<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textdirection">TextDirection</a>，文本以结束方向对齐。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 468px;">     <h2 id="textverticalalign20" device-type="phone,2in1,tablet,wearable">TextVerticalAlign<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textverticalalign20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文本垂直对齐方式枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">BASELINE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">文本基线对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BOTTOM</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">文本底部对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CENTER</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">文本居中对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TOP</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">文本顶部对齐。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 378px;">     <h2 id="textdirection" device-type="phone,2in1,tablet,wearable">TextDirection<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textdirection" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文本排版方向枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">RTL</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">文本从右到左排版。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">LTR</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">文本从左到右排版。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 471px;">     <h2 id="breakstrategy" device-type="phone,2in1,tablet,wearable">BreakStrategy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="breakstrategy" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>断行策略枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">GREEDY</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">尽可能将当前行填满，不会自动添加连词符。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">HIGH_QUALITY</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">布局优化，必要时会自动添加连词符。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BALANCED</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">保证一个段落的每一行的宽度相同，必要时会添加连词符。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 804px;">     <h2 id="wordbreak" device-type="phone,2in1,tablet,wearable">WordBreak<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wordbreak" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>断词策略枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NORMAL</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">默认的换行规则。依据各自语言的规则，允许在字间发生换行。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BREAK_ALL</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">对于Non-CJK（非中文，日文，韩文）文本允许在任意字符内发生换行。该值适合包含一些非亚洲文本的亚洲文本，比如使连续的英文字符断行。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BREAK_WORD</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">对于Non-CJK的文本可在任意2个字符间断行，一行文本中有断行破发点（如空白符）时，优先按破发点换行，保障单词优先完整显示。若整一行文本均无断行破发点时，则在任意2个字符间断行。对于CJK与NORMAL效果一致。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BREAK_HYPHEN<sup>18+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>每行末尾单词尝试通过连字符“-”进行断行，若无法添加连字符“-”，则跟BREAK_WORD保持一致。</p>          <p>使用此断词策略时，需与<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>中locale属性配合使用，通过locale定义语言环境共同作用影响断词效果。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 636px;">     <h2 id="decoration" device-type="phone,2in1,tablet,wearable">Decoration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="decoration" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文本装饰线。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">textDecoration</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textdecorationtype">TextDecorationType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">装饰线类型，默认为NONE。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">color</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#color">common2D.Color</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">装饰线颜色，默认为跟随文本颜色。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">decorationStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textdecorationstyle">TextDecorationStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">装饰线样式，默认为SOLID。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">decorationThicknessScale</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">装饰线粗细系数，浮点数，默认为1.0。如果设置的值小于等于0，则不会绘制装饰线。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 468px;">     <h2 id="textdecorationtype" device-type="phone,2in1,tablet,wearable">TextDecorationType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textdecorationtype" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>装饰线类型枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NONE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">无装饰线。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">UNDERLINE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">下划线。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">OVERLINE</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">上划线。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">LINE_THROUGH</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">删除线。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 513px;">     <h2 id="textdecorationstyle" device-type="phone,2in1,tablet,wearable">TextDecorationStyle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textdecorationstyle" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>装饰线样式枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">SOLID</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">实线。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DOUBLE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">双层线。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DOTTED</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">点状线。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DASHED</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">虚线。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">WAVY</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">波浪线。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 693px;">     <h2 id="fontweight" device-type="phone,2in1,tablet,wearable">FontWeight<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fontweight" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>字重枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">W100</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">100字重。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">W200</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">200字重。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">W300</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">300字重。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">W400</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">400字重。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">W500</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">500字重。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">W600</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">600字重。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">W700</td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">700字重。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">W800</td>         <td class="cellrowborder" width="33.33333333333333%">7</td>         <td class="cellrowborder" width="33.33333333333333%">800字重。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">W900</td>         <td class="cellrowborder" width="33.33333333333333%">8</td>         <td class="cellrowborder" width="33.33333333333333%">900字重。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 693px;">     <h2 id="fontwidth" device-type="phone,2in1,tablet,wearable">FontWidth<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fontwidth" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>字体宽度的枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">ULTRA_CONDENSED</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">超窄字宽。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">EXTRA_CONDENSED</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">特窄字宽。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CONDENSED</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">窄的字宽。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SEMI_CONDENSED</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">半窄字宽。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NORMAL</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">常规字宽。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SEMI_EXPANDED</td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">半宽字宽。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">EXPANDED</td>         <td class="cellrowborder" width="33.33333333333333%">7</td>         <td class="cellrowborder" width="33.33333333333333%">宽的字宽。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">EXTRA_EXPANDED</td>         <td class="cellrowborder" width="33.33333333333333%">8</td>         <td class="cellrowborder" width="33.33333333333333%">特宽字宽。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ULTRA_EXPANDED</td>         <td class="cellrowborder" width="33.33333333333333%">9</td>         <td class="cellrowborder" width="33.33333333333333%">超宽的字宽。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 471px;">     <h2 id="fontstyle" device-type="phone,2in1,tablet,wearable">FontStyle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fontstyle" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>字体样式枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NORMAL</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">常规样式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ITALIC</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">斜体。如果当前字体没有可用的斜体版本，会选用倾斜体替代。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">OBLIQUE</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">倾斜体。如果当前字体没有可用的倾斜体版本，会选用斜体替代。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 564px;">     <h2 id="textheightbehavior" device-type="phone,2in1,tablet,wearable">TextHeightBehavior<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textheightbehavior" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文本高度修饰符模式枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">ALL</td>         <td class="cellrowborder" width="33.33333333333333%">0x0</td>         <td class="cellrowborder" width="33.33333333333333%">高度修饰符设置为段落中第一行上升、最后一行下降。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DISABLE_FIRST_ASCENT</td>         <td class="cellrowborder" width="33.33333333333333%">0x1</td>         <td class="cellrowborder" width="33.33333333333333%">高度修饰符设置为禁止段落中第一行上升。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DISABLE_LAST_ASCENT</td>         <td class="cellrowborder" width="33.33333333333333%">0x2</td>         <td class="cellrowborder" width="33.33333333333333%">高度修饰符设置为禁止段落中最后一行下降。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DISABLE_ALL</td>         <td class="cellrowborder" width="33.33333333333333%">0x1 | 0x2</td>         <td class="cellrowborder" width="33.33333333333333%">高度修饰符设置为禁止段落中第一行上升、最后一行下降。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 402px;">     <h2 id="textbaseline" device-type="phone,2in1,tablet,wearable">TextBaseline<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textbaseline" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文本基线类型枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">ALPHABETIC</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">用于拉丁字母的文本基线对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">IDEOGRAPHIC</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">用于CJK（中文，日文，韩文）的文本基线对齐。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 519px;">     <h2 id="ellipsismode" device-type="phone,2in1,tablet,wearable">EllipsisMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ellipsismode" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>省略号类型枚举。</p>     <p>EllipsisMode.START和EllipsisMode.MIDDLE仅在单行超长文本生效。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">START</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">开头省略号，只在<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#paragraphstyle">ParagraphStyle</a>中设置maxLines为1时生效。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MIDDLE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">中间省略号，只在<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#paragraphstyle">ParagraphStyle</a>中设置maxLines为1时生效。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">END</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">末尾省略号。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 567px;">     <h2 id="textshadow" device-type="phone,2in1,tablet,wearable">TextShadow<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textshadow" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>字体阴影。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">color</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#color">common2D.Color</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体阴影的颜色，默认为黑色Color(255, 0, 0, 0)。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">point</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#point12">common2D.Point</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体阴影基于当前文本的偏移位置，横、纵坐标要大于等于零。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">blurRadius</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">模糊半径，浮点数，默认为0.0px。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 513px;">     <h2 id="rectstyle" device-type="phone,2in1,tablet,wearable">RectStyle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rectstyle" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>矩形框样式。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">color</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#color">common2D.Color</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">矩形框的颜色。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">leftTopRadius</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">矩形框的左上半径。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">rightTopRadius</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">矩形框的右上半径。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">rightBottomRadius</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">矩形框的右下半径。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">leftBottomRadius</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">矩形框的左下半径。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 450px;">     <h2 id="fontfeature" device-type="phone,2in1,tablet,wearable">FontFeature<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fontfeature" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文本字体特征。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">name</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">字体特征键值对中的关键字标识的字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">value</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">字体特征键值对的值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 450px;">     <h2 id="fontvariation" device-type="phone,2in1,tablet,wearable">FontVariation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fontvariation" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>可变字体属性。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">axis</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">可变字体属性键值对中的关键字标识的字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">value</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">可变字体属性键值对的值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 423px;">     <h2 id="textbadgetype20" device-type="phone,2in1,tablet,wearable">TextBadgeType<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textbadgetype20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文本上下标枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">TEXT_BADGE_NONE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">不使能上下标。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TEXT_SUPERSCRIPT</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">使能上标。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TEXT_SUBSCRIPT</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">使能下标。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 474px;">     <h2 id="lineheightstyle21" device-type="phone,2in1,tablet,wearable">LineHeightStyle<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="lineheightstyle21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>行高缩放基数枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">FONT_SIZE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">以字号大小作为缩放基数。最终行高为<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>.fontSize * <a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>.heightScale。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">FONT_HEIGHT</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">以字形高度作为缩放基数。最终行高为塑形后字形高度 * <a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>.heightScale。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3069px;">     <h2 id="textstyle" device-type="phone,2in1,tablet,wearable">TextStyle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textstyle" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文本样式。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">decoration</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#decoration">Decoration</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">装饰线设置，默认不使用装饰线。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">color</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#color">common2D.Color</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文字颜色，默认为白色。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontWeight</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontweight">FontWeight</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字重，默认为W400。 目前只有系统默认字体支持字重的调节，其他字体设置字重值小于semi-bold（即W600）时字体粗细无变化，当设置字重值大于等于semi-bold（即W600）时可能会触发伪加粗效果。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontWidth<sup>21+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontwidth">FontWidth</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体宽度，默认为NORMAL。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontstyle">FontStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体样式，默认为常规样式。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">baseline</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textbaseline">TextBaseline</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文本基线类型，默认为ALPHABETIC。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontFamilies</td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体家族名称列表，默认为空，匹配系统字体。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontSize</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体大小，浮点数，默认为14.0，单位为px。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">letterSpacing</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字符间距，正数拉开字符距离，若是负数则拉近字符距离，浮点数，默认为0.0，单位为物理像素px。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">wordSpacing</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">单词间距，浮点数，默认为0.0，单位为px。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">heightScale</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">行高缩放倍数，浮点数，默认为1.0，heightOnly为true时生效。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">heightOnly</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">true表示根据字体大小和heightScale设置文本框的高度，false表示根据行高和行距，默认为false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">halfLeading</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">true表示将行间距平分至行的顶部与底部，false则不平分，默认为false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ellipsis</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">省略号文本，表示省略号生效后使用该字段值替换省略号部分。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ellipsisMode</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#ellipsismode">EllipsisMode</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">省略号类型，默认为END，行尾省略号。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">locale</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">语言类型，如字段为'en'代表英文，'zh-Hans'代表简体中文，'zh-Hant'代表繁体中文。具体请参照ISO 639-1规范，默认为空字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">baselineShift</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文本下划线的偏移距离，浮点数，默认为0.0px。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontFeatures</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontfeature">FontFeature</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文本字体特征数组。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontVariations</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontvariation">FontVariation</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可变字体属性数组。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">textShadows</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textshadow">TextShadow</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文本阴影数组。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">backgroundRect</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#rectstyle">RectStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文本矩形框样式。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">badgeType<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textbadgetype20">TextBadgeType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">设置文本排版时是否使能上标或下标。TEXT_SUPERSCRIPT表示使能上标，TEXT_SUBSCRIPT表示使能下标，默认值为TEXT_BADGE_NONE表示不使能。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">lineHeightMaximum<sup>21+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">行高上限。若同时应用行高缩放，行高上限在<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>.heightScale大于0时生效。取值为正数浮点数，默认值为Number.MAX_VALUE。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">lineHeightMinimum<sup>21+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">行高下限。若同时应用行高缩放，行高下限在<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>.heightScale大于0时生效。取值范围为非负浮点数，默认值为0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">lineHeightStyle<sup>21+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#lineheightstyle21">LineHeightStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">行高缩放基数样式。默认为FONT_SIZE。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1407px;">     <h2 id="strutstyle" device-type="phone,2in1,tablet,wearable">StrutStyle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="strutstyle" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>支柱样式，用于控制绘制文本的行间距、基线对齐方式以及其他与行高相关的属性，默认不开启。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">fontFamilies</td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体家族名称列表，默认为空，匹配系统字体。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontstyle">FontStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体样式，默认为常规样式。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontWidth</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontwidth">FontWidth</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体宽度，默认为NORMAL。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontWeight</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontweight">FontWeight</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字重，默认为W400。系统默认字体支持字重调节，其他字体设置字重值小于W600时无变化，大于等于W600时可能触发伪加粗效果。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontSize</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体大小，浮点数，默认14.0，单位物理像素px。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">height</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">行高缩放倍数，浮点数，默认为1.0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">leading</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">以自定义行距应用于支柱的行距，浮点数，默认为-1.0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">forceHeight</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否所有行都将使用支柱的高度，true表示使用，false表示不使用，默认为false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">enabled</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否启用支柱样式，true表示使用，false表示不使用，默认为false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">heightOverride</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否覆盖高度，true表示覆盖，false表示不覆盖，默认为false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">halfLeading</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">true表示将行间距平分至行的顶部与底部，false则不平分，默认为false。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1266px;">     <h2 id="fontdescriptor14" device-type="phone,2in1,tablet,wearable">FontDescriptor<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fontdescriptor14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>字体描述符信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">path</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体绝对路径，可取遵循系统限制的任意字符串，默认为空字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">postScriptName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体唯一标识名称，可取任意字符串，默认为空字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fullName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体名称，可取任意字符串，默认为空字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontFamily</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体家族，可取任意字符串，默认为空字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontSubfamily</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">子字体家族，可取任意字符串，默认为空字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">weight</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontweight">FontWeight</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体字重，默认值为0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">width</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">字体宽度，取值范围1-9整数，默认值为0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">italic</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否是斜体字体，0表示非斜体，1表示斜体，默认值为0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">monoSpace</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否是等宽字体，true表示等宽，false表示非等宽，默认值为false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">symbolic</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否支持符号，true表示支持，false表示不支持，默认值为false。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="fontcollection" device-type="phone,2in1,tablet,wearable">FontCollection<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fontcollection" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>字体集。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 994px;">     <h3 id="getglobalinstance" device-type="phone,2in1,tablet,wearable" class="firsth2">getGlobalInstance<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getglobalinstance" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>static getGlobalInstance(): FontCollection</p>     <p>获取应用全局FontCollection实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontcollection">FontCollection</a></td>         <td class="cellrowborder" width="50%">FontCollection对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> fontCollection = text.<span class="hljs-property">FontCollection</span>.<span class="hljs-title function_">getGlobalInstance</span>();</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>();</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1467px;">     <h3 id="loadfontsync" device-type="phone,2in1,tablet,wearable">loadFontSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadfontsync" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>loadFontSync(name: string, path: string | Resource): void</p>     <p>同步接口，加载自定义字体。其中参数name对应的值需要在<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>中的fontFamilies属性配置，才能显示自定义字体效果。支持的字体文件格式包含：ttf、otf。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">加载成字体后，调用该字体所使用的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resource">Resource</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要导入的字体文件的路径，应为 "file:// + 字体文件绝对路径" 或 "rawfile/目录or文件名"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">fontCollection</span>: text.<span class="hljs-property">FontCollection</span> = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">FontCollection</span>();</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RenderTest</span> {</li><li>  <span class="hljs-title class_">LoadFontSyncTest</span>() {</li><li>    fontCollection.<span class="hljs-title function_">loadFontSync</span>(<span class="hljs-string">'Clock_01'</span>, <span class="hljs-string">'file:///system/fonts/HarmonyClock_01.ttf'</span>)</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">fontFamilies</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">"Clock_01"</span>]</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">myTextStyle</span>: text.<span class="hljs-property">TextStyle</span> = {</li><li>      <span class="hljs-attr">fontFamilies</span>: fontFamilies</li><li>    };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">myParagraphStyle</span>: text.<span class="hljs-property">ParagraphStyle</span> = {</li><li>      <span class="hljs-attr">textStyle</span>: myTextStyle,</li><li>    }</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">paragraphBuilder</span>: text.<span class="hljs-property">ParagraphBuilder</span> = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">ParagraphBuilder</span>(myParagraphStyle, fontCollection);</li><li>
</li><li>    <span class="hljs-keyword">let</span> textData = <span class="hljs-string">"测试 loadFontSync 加载字体HarmonyClock_01.ttf"</span>;</li><li>    paragraphBuilder.<span class="hljs-title function_">addText</span>(textData);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">paragraph</span>: text.<span class="hljs-property">Paragraph</span> = paragraphBuilder.<span class="hljs-title function_">build</span>();</li><li>    paragraph.<span class="hljs-title function_">layoutSync</span>(<span class="hljs-number">600</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">LoadFontSyncTest</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1737px;">     <h3 id="loadfont18" device-type="phone,2in1,tablet,wearable">loadFont<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadfont18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>loadFont(name: string, path: string | Resource): Promise&lt;void&gt;</p>     <p>异步接口，加载自定义字体。其中参数name对应的值需要在<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>中的fontFamilies属性配置，才能显示自定义字体效果，支持的字体文件格式包含：ttf、otf。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">加载字体后，调用该字体所使用的别名，可填写任意字符串，可使用该别名指定并使用该字体。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resource">Resource</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要加载的字体文件的路径，支持两种格式： "file:// + 字体文件绝对路径" 或 "rawfile/目录or文件名"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified;2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">fontCollection</span>: text.<span class="hljs-property">FontCollection</span> = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">FontCollection</span>();</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RenderTest</span> {</li><li>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadFontPromise</span>(<span class="hljs-params"></span>) {</li><li>    fontCollection.<span class="hljs-title function_">loadFont</span>(<span class="hljs-string">'testName'</span>, <span class="hljs-string">'file:///system/fonts/a.ttf'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in doing loadFont <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span> `</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to do loadFont, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span> message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>    });</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadFontPromise</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1462px;">     <h3 id="unloadfontsync20" device-type="phone,2in1,tablet,wearable">unloadFontSync<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unloadfontsync20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>unloadFontSync(name: string): void</p>     <p>卸载指定的自定义字体，此接口为同步接口。</p>     <p>使用此接口卸载字体别名所对应的自定义字体后，对应的自定义字体将不再可用。</p>     <p>所有使用该字体别名的排版对象都应该被销毁重建。</p>     <ul>      <li>卸载不存在的字体别名不会产生任何效果且不会抛出错误。</li>      <li>此操作仅影响后续字体使用。</li>      <li>卸载正在使用的字体可能导致文本渲染异常（如乱码或字形缺失）。</li>     </ul>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要取消注册的字体别名，与加载字体时使用的别名相同。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">UnloadFontSyncTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">fc</span>: text.<span class="hljs-property">FontCollection</span> = text.<span class="hljs-property">FontCollection</span>.<span class="hljs-title function_">getGlobalInstance</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"默认字体"</span></li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>)</li><li>        .<span class="hljs-title function_">fontFamily</span>(<span class="hljs-string">"custom"</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"load font"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">fc</span>.<span class="hljs-title function_">loadFontSync</span>(<span class="hljs-string">"custom"</span>, <span class="hljs-string">"file:///system/fonts/NotoSansCJK-Regular.ttc"</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-string">"自定义字体"</span></li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"unload font"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">fc</span>.<span class="hljs-title function_">unloadFontSync</span>(<span class="hljs-string">"custom"</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-string">"默认字体"</span></li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>    .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1633px;">     <h3 id="unloadfont20" device-type="phone,2in1,tablet,wearable">unloadFont<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unloadfont20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>unloadFont(name: string): Promise&lt;void&gt;</p>     <p>卸载指定的自定义字体。使用Promise异步回调。</p>     <p>使用此接口卸载字体别名所对应的自定义字体后，对应的自定义字体将不再可用。</p>     <p>所有使用该字体别名的排版对象都应该被销毁重建。</p>     <ul>      <li>卸载不存在的字体别名不会产生任何效果且不会抛出错误。</li>      <li>此操作仅影响后续字体使用。</li>      <li>卸载正在使用的字体可能导致文本渲染异常（如乱码或字形缺失）。</li>     </ul>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要卸载的字体的别名，与加载字体时使用的别名相同。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">UnloadFontTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">fc</span>: text.<span class="hljs-property">FontCollection</span> = text.<span class="hljs-property">FontCollection</span>.<span class="hljs-title function_">getGlobalInstance</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"默认字体"</span></li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>)</li><li>        .<span class="hljs-title function_">fontFamily</span>(<span class="hljs-string">"custom"</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"load font"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-keyword">async</span> () =&gt; {</li><li>          <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">fc</span>.<span class="hljs-title function_">loadFont</span>(<span class="hljs-string">"custom"</span>, <span class="hljs-string">"file:///system/fonts/NotoSansCJK-Regular.ttc"</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-string">"自定义字体"</span></li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"unload font"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-keyword">async</span> () =&gt; {</li><li>          <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">fc</span>.<span class="hljs-title function_">unloadFont</span>(<span class="hljs-string">"custom"</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-string">"默认字体"</span></li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>    .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 719px;">     <h3 id="clearcaches" device-type="phone,2in1,tablet,wearable">clearCaches<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clearcaches" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>clearCaches(): void</p>     <p>清理字体排版缓存（字体排版缓存本身设有内存上限和清理机制，所占内存有限，如无内存要求，不建议清理）。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        text.<span class="hljs-property">FontCollection</span>.<span class="hljs-title function_">getGlobalInstance</span>().<span class="hljs-title function_">clearCaches</span>();</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2361px;">     <h2 id="paragraphstyle" device-type="phone,2in1,tablet,wearable">ParagraphStyle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="paragraphstyle" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>段落样式。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">textStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">作用于整个段落的文本样式，默认为初始的文本样式。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">textDirection</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textdirection">TextDirection</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文本方向，默认为LTR。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">align</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textalign">TextAlign</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文本对齐方式，默认为START。若同时配置tab属性，制表符对齐方式将失效。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">wordBreak</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#wordbreak">WordBreak</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">断词类型，默认为BREAK_WORD。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">maxLines</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">最大行数限制，整数，默认为1e9。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">breakStrategy</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#breakstrategy">BreakStrategy</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">断行策略，默认为GREEDY。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">strutStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#strutstyle">StrutStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">支柱样式，默认为初始的StrutStyle。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">textHeightBehavior</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textheightbehavior">TextHeightBehavior</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文本高度修饰符模式，默认为ALL。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">tab<sup>18+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#texttab18">TextTab</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示段落中文本制表符后的文本对齐方式及位置，默认将制表符替换为一个空格。此参数与文本对齐方式（align属性）或省略号样式（<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>中的ellipsis属性）共同配置时无效。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">trailingSpaceOptimized<sup>20+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示文本排版时行尾空格是否参与对齐计算。true表示行尾空格不参与计算，false表示行尾空格参与计算，默认值为false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">autoSpace<sup>20+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">设置文本排版时是否使能自动间距。true表示使能自动间距，则会在文本排版时自动调整CJK（中文字符、日文字符、韩文字符）与西文（拉丁字母、西里尔字母、希腊字母）、CJK与数字、CJK与版权符号、版权符号与数字、版权符号与西文之间的间距。false表示不使能自动间距，默认值为false。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">verticalAlign<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textverticalalign20">TextVerticalAlign</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文本垂直对齐方式，开启行高缩放（即设置<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>的heightScale）或行内不同字号（即设置<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>的fontSize）文本混排时生效。若行内有上下标文本（即设置<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>的badgeType属性文本），上下标文本将与普通文本一样参与垂直对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">lineSpacing<sup>21+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">行间距，默认值为0。lineSpacing不受<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>中lineHeightMaximum和lineHeightMinimum限制。尾行默认添加行间距，可通过设置<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a>.textHeightBehavior为DISABLE_ALL或DISABLE_LAST_ASCENT禁用尾行行间距。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1188px;">     <h2 id="placeholderalignment" device-type="phone,2in1,tablet,wearable">PlaceholderAlignment<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="placeholderalignment" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>占位符相对于周围文本的纵向对齐方式。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">OFFSET_AT_BASELINE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">基线与文本基线对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ABOVE_BASELINE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">底部与文本基线对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BELOW_BASELINE</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">顶部与文本基线对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TOP_OF_ROW_BOX</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">顶部与文本顶部对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BOTTOM_OF_ROW_BOX</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">底部与文本底部对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CENTER_OF_ROW_BOX</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">居中对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">FOLLOW_PARAGRAPH<sup>20+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">跟随文本排版对齐。</td>        </tr>             </tbody></table></div>     </div>     <p><span><img originheight="328" originwidth="909" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115128.31323205110601266917463257253100:50001231000000:2800:5160C3EA6AC0197EA34ECF859EF1A62881E8AF05DCE19209C038463FEB3060F1.png" width="909" height="328"></span></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>示意图展示了后三种对齐方式，前三种对齐方式类似，比较位置是文本基线，即绿色线条部分。</p>       <p><span><img originheight="141" originwidth="236" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115128.59150800587513880713219128423752:50001231000000:2800:6C2872F739257AACF1870A4783B68FB8D7FD96AA4896AE18DF5C58EEE94409AD.png" class="notEnlarge" width="236" height="141"></span></p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 681px;">     <h2 id="placeholderspan" device-type="phone,2in1,tablet,wearable">PlaceholderSpan<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="placeholderspan" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>描述占位符样式。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">width</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">占位符的宽度，浮点数，单位为物理像素px。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">height</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">占位符的高度，浮点数，单位为物理像素px。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">align</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#placeholderalignment">PlaceholderAlignment</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">相对于周围文本的纵向对齐方式。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">baseline</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textbaseline">TextBaseline</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">基线类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">baselineOffset</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">基线偏移量，浮点数，单位为物理像素px。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 426px;">     <h2 id="range" device-type="phone,2in1,tablet,wearable">Range<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="range" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>描述左闭右开区间。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">start</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">区间左侧端点索引，整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">end</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">区间右侧端点索引，整数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="paragraph" device-type="phone,2in1,tablet,wearable">Paragraph<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="paragraph" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>保存文本内容及样式的载体，支持排版与绘制操作。</p>     <p>下列API示例中都需先使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#paragraphbuilder">ParagraphBuilder</a>类的<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#build">build()</a>接口获取到Paragraph对象实例，再通过此实例调用对应方法。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 590px;">     <h3 id="layoutsync" device-type="phone,2in1,tablet,wearable" class="firsth2">layoutSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="layoutsync" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>layoutSync(width: number): void</p>     <p>进行排版并计算所有字形位置。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">单行的最大宽度，浮点数，单位为物理像素px。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>paragraph.<span class="hljs-title function_">layoutSync</span>(<span class="hljs-number">100</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3020px;">     <h3 id="layout18" device-type="phone,2in1,tablet,wearable">layout<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="layout18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>layout(width: number): Promise&lt;void&gt;</p>     <p>进行排版并计算所有字形位置，使用Promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">单行的最大宽度，浮点数，单位为物理像素px。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { drawing, text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span></li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">textStyle</span>: text.<span class="hljs-property">TextStyle</span> = {</li><li>  <span class="hljs-attr">color</span>: {</li><li>    <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>,</li><li>    <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>,</li><li>    <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span></li><li>  },</li><li>  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span>,</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">paragraphStyle</span>: text.<span class="hljs-property">ParagraphStyle</span> = {</li><li>  <span class="hljs-attr">textStyle</span>: textStyle,</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">fontCollection</span>: text.<span class="hljs-property">FontCollection</span> = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">FontCollection</span>();</li><li><span class="hljs-keyword">let</span> paragraphBuilder = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">ParagraphBuilder</span>(paragraphStyle, fontCollection);</li><li><span class="hljs-comment">// 添加文本字符串</span></li><li>paragraphBuilder.<span class="hljs-title function_">addText</span>(<span class="hljs-string">"test"</span>);</li><li><span class="hljs-comment">// 生成排版对象</span></li><li><span class="hljs-keyword">let</span> paragraph = paragraphBuilder.<span class="hljs-title function_">build</span>();</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params">pixelmap: PixelMap</span>) {</li><li>  <span class="hljs-comment">// 通过图片对象构造画布</span></li><li>  <span class="hljs-keyword">let</span> canvas = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Canvas</span>(pixelmap);</li><li>  <span class="hljs-comment">// 进行绘制文本字符串</span></li><li>  paragraph.<span class="hljs-title function_">paint</span>(canvas, <span class="hljs-number">100</span>, <span class="hljs-number">10</span>);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> pixelmap?: <span class="hljs-title class_">PixelMap</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>
</li><li>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">prepareLayoutPromise</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 排版对象进行布局计算</span></li><li>    paragraph.<span class="hljs-title function_">layout</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in doing layout,  <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to do layout, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span> message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>    });</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">prepareLayoutPromise</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Image</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>);</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"layout"</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">const</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">160000</span>);</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">opts</span>: image.<span class="hljs-property">InitializationOptions</span> = { <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">size</span>: { <span class="hljs-attr">height</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span> } }</li><li>          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span> == <span class="hljs-literal">undefined</span>) {</li><li>            <span class="hljs-comment">// 构造图片对象</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span> = image.<span class="hljs-title function_">createPixelMapSync</span>(color, opts);</li><li>          }</li><li>          <span class="hljs-comment">// 进行绘制文字</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span>);</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>示意图展示了点击按钮后layout接口示例代码的运行结果。</p>       <p><span><img originheight="305" originwidth="274" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115128.81894662909650627718731617429945:50001231000000:2800:11A4F60FBAAAABD7348BBFF505BB664E36A63AD1C9BDC6AD62461DD37D34796C.png" class="notEnlarge" width="274" height="305"></span></p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 816px;">     <h3 id="paint" device-type="phone,2in1,tablet,wearable">paint<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="paint" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>paint(canvas: drawing.Canvas, x: number, y: number): void</p>     <p>在画布上以 (x, y) 为左上角绘制文本。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">canvas</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas">drawing.Canvas</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制的目标画布。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制的左上角位置的横坐标，浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制的左上角位置的纵坐标，浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">160000</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">opts</span>: image.<span class="hljs-property">InitializationOptions</span> = { <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">size</span>: { <span class="hljs-attr">height</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span> } }</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">pixelMap</span>: image.<span class="hljs-property">PixelMap</span> = image.<span class="hljs-title function_">createPixelMapSync</span>(color, opts);</li><li><span class="hljs-keyword">let</span> canvas = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Canvas</span>(pixelMap);</li><li>paragraph.<span class="hljs-title function_">paint</span>(canvas, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 933px;">     <h3 id="paintonpath" device-type="phone,2in1,tablet,wearable">paintOnPath<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="paintonpath" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>paintOnPath(canvas: drawing.Canvas, path: drawing.Path, hOffset: number, vOffset: number): void</p>     <p>在画布上沿路径绘制文本。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">canvas</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas">drawing.Canvas</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制的目标画布。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-path">drawing.Path</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">确认文字位置的路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">hOffset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">沿路径方向偏置，从路径起点向前为正，向后为负。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">vOffset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">沿路径垂直方向偏置，沿路径方向左侧为负，右侧为正。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">160000</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">opts</span>: image.<span class="hljs-property">InitializationOptions</span> = { <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">size</span>: { <span class="hljs-attr">height</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span> } }</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">pixelMap</span>: image.<span class="hljs-property">PixelMap</span> = image.<span class="hljs-title function_">createPixelMapSync</span>(color, opts);</li><li><span class="hljs-keyword">let</span> canvas = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Canvas</span>(pixelMap);</li><li><span class="hljs-keyword">let</span> path = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Path</span>();</li><li>path.<span class="hljs-title function_">arcTo</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">180</span>, <span class="hljs-number">180</span>, <span class="hljs-number">180</span>, <span class="hljs-number">90</span>);</li><li>paragraph.<span class="hljs-title function_">paintOnPath</span>(canvas, path, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="getmaxwidth" device-type="phone,2in1,tablet,wearable">getMaxWidth<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmaxwidth" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getMaxWidth(): number</p>     <p>获取文本最大行宽。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">最大的行宽，浮点数，单位为物理像素px。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> maxWidth = paragraph.<span class="hljs-title function_">getMaxWidth</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="getheight" device-type="phone,2in1,tablet,wearable">getHeight<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getheight" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getHeight(): number</p>     <p>获取文本总高度。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">总高度，浮点数，单位为物理像素px。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> height = paragraph.<span class="hljs-title function_">getHeight</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="getlongestline" device-type="phone,2in1,tablet,wearable">getLongestLine<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlongestline" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getLongestLine(): number</p>     <p>获取文本最长行宽。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">最长一行的宽度，浮点数，单位为物理像素px。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> longestLine = paragraph.<span class="hljs-title function_">getLongestLine</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 626px;">     <h3 id="getlongestlinewithindent13" device-type="phone,2in1,tablet,wearable">getLongestLineWithIndent<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlongestlinewithindent13" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getLongestLineWithIndent(): number</p>     <p>获取文本最长一行的宽度（包含缩进），建议向上取整。文本内容为空时返回0。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">最长一行的宽度（该宽度包含当前行缩进的宽度），浮点数，单位为物理像素px。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> longestLineWithIndent = paragraph.<span class="hljs-title function_">getLongestLineWithIndent</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 626px;">     <h3 id="getminintrinsicwidth" device-type="phone,2in1,tablet,wearable">getMinIntrinsicWidth<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getminintrinsicwidth" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getMinIntrinsicWidth(): number</p>     <p>获取段落最小固有宽度。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">该段落所占水平空间的最小固有宽度，浮点数，单位为物理像素px。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> minIntrinsicWidth = paragraph.<span class="hljs-title function_">getMinIntrinsicWidth</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 626px;">     <h3 id="getmaxintrinsicwidth" device-type="phone,2in1,tablet,wearable">getMaxIntrinsicWidth<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmaxintrinsicwidth" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getMaxIntrinsicWidth(): number</p>     <p>获取段落最大固有宽度。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">该段落所占水平空间的最大固有宽度，浮点数，单位为物理像素px。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> maxIntrinsicWidth = paragraph.<span class="hljs-title function_">getMaxIntrinsicWidth</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="getalphabeticbaseline" device-type="phone,2in1,tablet,wearable">getAlphabeticBaseline<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getalphabeticbaseline" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getAlphabeticBaseline(): number</p>     <p>获取拉丁字母基线位置。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">拉丁字母下的基线位置，浮点数，单位为物理像素px。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> alphabeticBaseline = paragraph.<span class="hljs-title function_">getAlphabeticBaseline</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="getideographicbaseline" device-type="phone,2in1,tablet,wearable">getIdeographicBaseline<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getideographicbaseline" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getIdeographicBaseline(): number</p>     <p>获取表意字（如CJK（中文，日文，韩文））下的基线位置。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">获取表意字下的基线位置，浮点数，单位为物理像素px。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> ideographicBaseline = paragraph.<span class="hljs-title function_">getIdeographicBaseline</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 939px;">     <h3 id="getrectsforrange" device-type="phone,2in1,tablet,wearable">getRectsForRange<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getrectsforrange" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getRectsForRange(range: Range, widthStyle: RectWidthStyle, heightStyle: RectHeightStyle): Array&lt;TextBox&gt;</p>     <p>获取给定的矩形区域宽度以及矩形区域高度的规格下，文本中该区间范围内的字符所占的矩形区域。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">range</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#range">Range</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要获取的区域的文本区间。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">widthStyle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#rectwidthstyle">RectWidthStyle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">返回的矩形区域的宽度的规格。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">heightStyle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#rectheightstyle">RectHeightStyle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">返回的矩形区域的高度的规格。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textbox">TextBox</a>&gt;</td>         <td class="cellrowborder" width="50%">矩形区域数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">range</span>: text.<span class="hljs-property">Range</span> = { <span class="hljs-attr">start</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">end</span>: <span class="hljs-number">1</span>};</li><li><span class="hljs-keyword">let</span> rects = paragraph.<span class="hljs-title function_">getRectsForRange</span>(range, text.<span class="hljs-property">RectWidthStyle</span>.<span class="hljs-property">TIGHT</span>, text.<span class="hljs-property">RectHeightStyle</span>.<span class="hljs-property">TIGHT</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="getrectsforplaceholders" device-type="phone,2in1,tablet,wearable">getRectsForPlaceholders<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getrectsforplaceholders" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getRectsForPlaceholders(): Array&lt;TextBox&gt;</p>     <p>获取文本中所有占位符所占的矩形区域。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textbox">TextBox</a>&gt;</td>         <td class="cellrowborder" width="50%">矩形区域数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> placeholderRects = paragraph.<span class="hljs-title function_">getRectsForPlaceholders</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 798px;">     <h3 id="getglyphpositionatcoordinate" device-type="phone,2in1,tablet,wearable">getGlyphPositionAtCoordinate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getglyphpositionatcoordinate" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getGlyphPositionAtCoordinate(x: number, y: number): PositionWithAffinity</p>     <p>获取与给定坐标最接近的字形位置信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.62.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">横坐标，浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">纵坐标，浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#positionwithaffinity">PositionWithAffinity</a></td>         <td class="cellrowborder" width="50%">字形位置信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> positionWithAffinity = paragraph.<span class="hljs-title function_">getGlyphPositionAtCoordinate</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 753px;">     <h3 id="getwordboundary" device-type="phone,2in1,tablet,wearable">getWordBoundary<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwordboundary" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getWordBoundary(offset: number): Range</p>     <p>返回给定offset的字形所在单词的索引区间。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">字形的偏移量，整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#range">Range</a></td>         <td class="cellrowborder" width="50%">单词的索引区间。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> wordRange = paragraph.<span class="hljs-title function_">getWordBoundary</span>(<span class="hljs-number">0</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="getlinecount" device-type="phone,2in1,tablet,wearable">getLineCount<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlinecount" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getLineCount(): number</p>     <p>返回文本行数。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">文本行数量，整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> lineCount = paragraph.<span class="hljs-title function_">getLineCount</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 777px;">     <h3 id="getlineheight" device-type="phone,2in1,tablet,wearable">getLineHeight<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlineheight" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getLineHeight(line: number): number</p>     <p>返回指定行的行高。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">line</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文本行索引，整数，范围为0~getLineCount()-1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">行高。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> lineHeight = paragraph.<span class="hljs-title function_">getLineHeight</span>(<span class="hljs-number">0</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 777px;">     <h3 id="getlinewidth" device-type="phone,2in1,tablet,wearable">getLineWidth<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlinewidth" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getLineWidth(line: number): number</p>     <p>返回指定行的行宽。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">line</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文本行索引，整数，范围为0~getLineCount()-1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">行宽。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> lineWidth = paragraph.<span class="hljs-title function_">getLineWidth</span>(<span class="hljs-number">0</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 626px;">     <h3 id="didexceedmaxlines" device-type="phone,2in1,tablet,wearable">didExceedMaxLines<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="didexceedmaxlines" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>didExceedMaxLines(): boolean</p>     <p>返回段落是否超过最大行数。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true表示段落超出了最大行限制，false则表示没有超出最大行限制。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> didExceed = paragraph.<span class="hljs-title function_">didExceedMaxLines</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="gettextlines" device-type="phone,2in1,tablet,wearable">getTextLines<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettextlines" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getTextLines(): Array&lt;TextLine&gt;</p>     <p>返回所有的文本行。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textline">TextLine</a>&gt;</td>         <td class="cellrowborder" width="50%">文本行载体数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> lines = paragraph.<span class="hljs-title function_">getTextLines</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1014px;">     <h3 id="getactualtextrange" device-type="phone,2in1,tablet,wearable">getActualTextRange<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getactualtextrange" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getActualTextRange(lineNumber: number, includeSpaces: boolean): Range</p>     <p>获取指定行的实际可见文本范围，不包括溢出的省略号。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">lineNumber</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要获取文本范围的行索引，行索引从0开始。该接口只能获取已有行的边界，即输入行索引从0开始。最大行索引为文本行数量-1，文本行数量可通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#getlinecount">getLineCount</a>接口获取。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">includeSpaces</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示是否应包含空白字符。true表示包含空白字符，false表示不包含空白字符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#range">Range</a></td>         <td class="cellrowborder" width="50%">返回对应行数的实际文本范围。如果行索引非法，返回的start和end均为0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> rang = paragraph.<span class="hljs-title function_">getActualTextRange</span>(<span class="hljs-number">0</span>, <span class="hljs-literal">true</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="getlinemetrics" device-type="phone,2in1,tablet,wearable">getLineMetrics<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlinemetrics" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getLineMetrics(): Array&lt;LineMetrics&gt;</p>     <p>获取文本行的行度量数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#linemetrics">LineMetrics</a>&gt;</td>         <td class="cellrowborder" width="50%">文本行的行度量数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> arrLineMetric =  paragraph.<span class="hljs-title function_">getLineMetrics</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 825px;">     <h3 id="getlinemetrics-1" device-type="phone,2in1,tablet,wearable">getLineMetrics<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlinemetrics-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getLineMetrics(lineNumber: number): LineMetrics | undefined</p>     <p>获取特定行号的行度量信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">lineNumber</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要查询度量信息的行的编号，行号从0开始。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#linemetrics">LineMetrics</a> | undefined</td>         <td class="cellrowborder" width="50%">如果指定的行号有效且度量信息存在，则返回一个包含该行度量数据的LineMetrics对象；如果行号无效或无法获取度量信息，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> lineMetrics =  paragraph.<span class="hljs-title function_">getLineMetrics</span>(<span class="hljs-number">0</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 582px;">     <h3 id="updatecolor20" device-type="phone,2in1,tablet,wearable">updateColor<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatecolor20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>updateColor(color: common2D.Color): void;</p>     <p>更新整个文本段落的颜色。如果当前装饰线未设置颜色，使用该接口也会同时更新装饰线的颜色。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">color</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#color">common2D.Color</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">更新后的字体色。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>paragraph.<span class="hljs-title function_">updateColor</span>({ <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> });</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 702px;">     <h3 id="updatedecoration20" device-type="phone,2in1,tablet,wearable">updateDecoration<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatedecoration20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>updateDecoration(decoration: Decoration): void;</p>     <p>更新整个文本段落的装饰线。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">decoration</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#decoration">Decoration</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">更新后的装饰线。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>paragraph.<span class="hljs-title function_">updateDecoration</span>({</li><li>  <span class="hljs-attr">textDecoration</span>: text.<span class="hljs-property">TextDecorationType</span>.<span class="hljs-property">OVERLINE</span>,</li><li>  <span class="hljs-attr">color</span>: { <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> },</li><li>  <span class="hljs-attr">decorationStyle</span>: text.<span class="hljs-property">TextDecorationStyle</span>.<span class="hljs-property">WAVY</span>,</li><li>  <span class="hljs-attr">decorationThicknessScale</span>: <span class="hljs-number">2.0</span>,</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 254px;">     <h2 id="linetypeset18" device-type="phone,2in1,tablet,wearable">LineTypeset<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="linetypeset18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>保存着文本内容以及样式的载体，可以用于计算单行排版信息。</p>     <p>下列API示例中都需先使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#paragraphbuilder">ParagraphBuilder</a>类的<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#buildlinetypeset18">buildLineTypeset()</a>接口获取到LineTypeset对象实例，再通过此实例调用对应方法。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1265px;">     <h3 id="getlinebreak18" device-type="phone,2in1,tablet,wearable" class="firsth2">getLineBreak<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlinebreak18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getLineBreak(startIndex: number, width: number): number</p>     <p>计算在限定宽度下，从指定位置开始可以排版的字符数。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">startIndex</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">开始计算排版的起始位置（包括起始位置）。取值范围需要为[0,文本字符总数）的整数，参数非法时抛出异常。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">可用于排版的宽度，大于0的浮点数，单位为物理像素px。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.75.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回在限定排版宽度下，从指定位置开始可排版的字符总数，取值为整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.75.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> startIndex = <span class="hljs-number">0</span>;</li><li><span class="hljs-keyword">let</span> width = <span class="hljs-number">100.0</span>;</li><li><span class="hljs-keyword">let</span> count = lineTypeset.<span class="hljs-title function_">getLineBreak</span>(startIndex, width);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1377px;">     <h3 id="createline18" device-type="phone,2in1,tablet,wearable">createLine<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createline18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>createLine(startIndex: number, count: number): TextLine</p>     <p>根据指定的排版区间生成文本行对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">startIndex</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">开始计算排版的起始位置，整数，取值范围为[0, 文本字符总数)。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">count</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">从指定起始位置开始进行排版的字符个数，取值为[0,文本字符总数)的整数，startIndex和count之和不能大于文本字符总数。当count为0时，表示排版区间为[startIndex, 文本结尾]。可以先使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#getlinebreak18">getLineBreak</a>获取合理的排版字符总数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textline">TextLine</a></td>         <td class="cellrowborder" width="50%">根据文本区间字符生成的TextLine对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> startIndex = <span class="hljs-number">0</span>;</li><li><span class="hljs-keyword">let</span> width = <span class="hljs-number">100.0</span>;</li><li><span class="hljs-keyword">let</span> count = lineTypeset.<span class="hljs-title function_">getLineBreak</span>(startIndex, width);</li><li><span class="hljs-keyword">let</span> line : text.<span class="hljs-property">TextLine</span> = lineTypeset.<span class="hljs-title function_">createLine</span>(startIndex, count);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 378px;">     <h2 id="runmetrics" device-type="phone,2in1,tablet,wearable">RunMetrics<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="runmetrics" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>描述文本行中连续文本块的布局信息和度量数据。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.77.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">textStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">字体的样式信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontMetrics</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-i#fontmetrics">drawing.FontMetrics</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">字体度量信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1167px;">     <h2 id="linemetrics" device-type="phone,2in1,tablet,wearable">LineMetrics<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="linemetrics" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>描述文本布局中单行文字的度量信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.78.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">startIndex</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文本缓冲区中该行开始的索引位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">endIndex</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文本缓冲区中该行结束的索引位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ascent</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文字上升高度，即从基线到字符顶部的距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">descent</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文字下降高度，即从基线到字符底部的距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">height</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">当前行的高度，计算方式为 Math.round(ascent + descent)</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">width</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">行的宽度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">left</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">行的左边缘位置。右边缘可通过 left+width 计算得出。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">baseline</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">该行基线相对于段落顶部的 Y 坐标位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">lineNumber</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">行号，从0开始计数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">topHeight</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">从顶部到当前行的高度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">runMetrics</td>         <td class="cellrowborder" width="20%">Map&lt;number, <a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#runmetrics">RunMetrics</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文本索引范围与关联的字体度量信息之间的映射。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 378px;">     <h2 id="textbox" device-type="phone,2in1,tablet,wearable">TextBox<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textbox" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文本矩形区域。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.79.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">rect</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">矩形区域信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">direction</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textdirection">TextDirection</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文本方向。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 402px;">     <h2 id="positionwithaffinity" device-type="phone,2in1,tablet,wearable">PositionWithAffinity<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="positionwithaffinity" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>位置和亲和度。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.80.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">position</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">字形相对于段落的索引，整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">affinity</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#affinity">Affinity</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">位置亲和度。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 426px;">     <h2 id="rectwidthstyle" device-type="phone,2in1,tablet,wearable">RectWidthStyle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rectwidthstyle" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>矩形区域宽度规格枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.81.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">TIGHT</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">不设置letterSpacing时，与字形紧贴，否则包含letterSpacing的宽度。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MAX</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">扩展宽度，以匹配所有行上最宽矩形的位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 606px;">     <h2 id="rectheightstyle" device-type="phone,2in1,tablet,wearable">RectHeightStyle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rectheightstyle" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>矩形区域高度规格枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.82.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">TIGHT</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">与字形紧贴。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MAX</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">扩展高度，以匹配所有行上最高矩形的位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INCLUDE_LINE_SPACE_MIDDLE</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">每个矩形的顶部和底部将覆盖行上方和行下方的一半空间。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INCLUDE_LINE_SPACE_TOP</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">行间距将被添加到矩形的顶部。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INCLUDE_LINE_SPACE_BOTTOM</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">行间距将被添加到矩形的底部。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">STRUT</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">高度按照文本的样式设置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 378px;">     <h2 id="affinity" device-type="phone,2in1,tablet,wearable">Affinity<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="affinity" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>位置亲和度枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.83.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">UPSTREAM</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">该位置与文本位置的前一位有关联。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DOWNSTREAM</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">该位置与文本位置的后一位有关联。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="paragraphbuilder" device-type="phone,2in1,tablet,wearable">ParagraphBuilder<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="paragraphbuilder" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>段落生成器。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1235px;">     <h3 id="constructor" device-type="phone,2in1,tablet,wearable" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>constructor(paragraphStyle: ParagraphStyle, fontCollection: FontCollection)</p>     <p>ParagraphBuilder对象的构造函数。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">paragraphStyle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#paragraphstyle">ParagraphStyle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">段落样式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">fontCollection</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#fontcollection">FontCollection</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">字体集。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myTextStyle</span>: text.<span class="hljs-property">TextStyle</span> = {</li><li>    <span class="hljs-attr">color</span>: { <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> },</li><li>    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">33</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myParagraphStyle</span>: text.<span class="hljs-property">ParagraphStyle</span> = {</li><li>    <span class="hljs-attr">textStyle</span>: myTextStyle,</li><li>    <span class="hljs-attr">align</span>: text.<span class="hljs-property">TextAlign</span>.<span class="hljs-property">END</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> fontCollection = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">FontCollection</span>();</li><li>  <span class="hljs-keyword">let</span> paragraphBuilder = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">ParagraphBuilder</span>(myParagraphStyle, fontCollection);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>();</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1490px;">     <h3 id="pushstyle" device-type="phone,2in1,tablet,wearable">pushStyle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pushstyle" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>pushStyle(textStyle: TextStyle): void</p>     <p>更新当前文本块的样式。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>更新当前文本块的样式，之后添加文字均采用该样式。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">textStyle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textstyle">TextStyle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">包含了对文本的各种视觉属性的定义，如字体、字号、颜色、字重、字间距、行距、装饰（如下划线、删除线）、文本阴影等。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { common2D } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myTextStyle</span>: text.<span class="hljs-property">TextStyle</span> = {</li><li>    <span class="hljs-attr">color</span>: { <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> },</li><li>    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">33</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myParagraphStyle</span>: text.<span class="hljs-property">ParagraphStyle</span> = {</li><li>    <span class="hljs-attr">textStyle</span>: myTextStyle,</li><li>    <span class="hljs-attr">align</span>: text.<span class="hljs-property">TextAlign</span>.<span class="hljs-property">CENTER</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> fontCollection = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">FontCollection</span>();</li><li>  <span class="hljs-keyword">let</span> paragraphBuilder = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">ParagraphBuilder</span>(myParagraphStyle, fontCollection);</li><li>  paragraphBuilder.<span class="hljs-title function_">pushStyle</span>(myTextStyle);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>();</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1175px;">     <h3 id="popstyle" device-type="phone,2in1,tablet,wearable">popStyle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="popstyle" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>popStyle(): void</p>     <p>弹出当前文本样式。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { common2D } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myTextStyle</span>: text.<span class="hljs-property">TextStyle</span> = {</li><li>    <span class="hljs-attr">color</span>: { <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> },</li><li>    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">33</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myParagraphStyle</span>: text.<span class="hljs-property">ParagraphStyle</span> = {</li><li>    <span class="hljs-attr">textStyle</span>: myTextStyle,</li><li>    <span class="hljs-attr">align</span>: text.<span class="hljs-property">TextAlign</span>.<span class="hljs-property">END</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> fontCollection = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">FontCollection</span>();</li><li>  <span class="hljs-keyword">let</span> paragraphBuilder = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">ParagraphBuilder</span>(myParagraphStyle, fontCollection);</li><li>  paragraphBuilder.<span class="hljs-title function_">pushStyle</span>(myTextStyle);</li><li>  paragraphBuilder.<span class="hljs-title function_">popStyle</span>();</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>();</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1350px;">     <h3 id="addtext" device-type="phone,2in1,tablet,wearable">addText<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addtext" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>addText(text: string): void</p>     <p>向正在构建的文本段落中插入具体的文本字符串。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">段落中插入的具体文本字符串，传入非法Unicode时会显示�。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { common2D } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myTextStyle</span>: text.<span class="hljs-property">TextStyle</span> = {</li><li>    <span class="hljs-attr">color</span>: { <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> },</li><li>    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">33</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myParagraphStyle</span>: text.<span class="hljs-property">ParagraphStyle</span> = {</li><li>    <span class="hljs-attr">textStyle</span>: myTextStyle,</li><li>    <span class="hljs-attr">align</span>: text.<span class="hljs-property">TextAlign</span>.<span class="hljs-property">END</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> fontCollection = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">FontCollection</span>();</li><li>  <span class="hljs-keyword">let</span> paragraphBuilder = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">ParagraphBuilder</span>(myParagraphStyle, fontCollection);</li><li>  paragraphBuilder.<span class="hljs-title function_">addText</span>(<span class="hljs-string">"123666"</span>);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>();</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1398px;">     <h3 id="addplaceholder" device-type="phone,2in1,tablet,wearable">addPlaceholder<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addplaceholder" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>addPlaceholder(placeholderSpan: PlaceholderSpan): void</p>     <p>用于构建文本段落时插入占位符。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">placeholderSpan</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#placeholderspan">PlaceholderSpan</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">定义了占位符的尺寸、对齐方式、基线类型以及基线偏移量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { common2D } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myParagraphStyle</span>: text.<span class="hljs-property">ParagraphStyle</span> = {</li><li>    <span class="hljs-attr">align</span>: text.<span class="hljs-property">TextAlign</span>.<span class="hljs-property">END</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myPlaceholderSpan</span>: text.<span class="hljs-property">PlaceholderSpan</span> = {</li><li>    <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,</li><li>    <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>,</li><li>    <span class="hljs-attr">align</span>: text.<span class="hljs-property">PlaceholderAlignment</span>.<span class="hljs-property">ABOVE_BASELINE</span>,</li><li>    <span class="hljs-attr">baseline</span>: text.<span class="hljs-property">TextBaseline</span>.<span class="hljs-property">ALPHABETIC</span>,</li><li>    <span class="hljs-attr">baselineOffset</span>: <span class="hljs-number">100</span></li><li>  };</li><li>  <span class="hljs-keyword">let</span> fontCollection = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">FontCollection</span>();</li><li>  <span class="hljs-keyword">let</span> paragraphBuilder = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">ParagraphBuilder</span>(myParagraphStyle, fontCollection);</li><li>  paragraphBuilder.<span class="hljs-title function_">addPlaceholder</span>(myPlaceholderSpan);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>();</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1298px;">     <h3 id="build" device-type="phone,2in1,tablet,wearable">build<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="build" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>build(): Paragraph</p>     <p>用于构建段落，生成可用于后续排版渲染的段落对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#paragraph">Paragraph</a></td>         <td class="cellrowborder" width="50%">可用于后续渲染的 Paragraph 对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { drawing, text, common2D } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myTextStyle</span>: text.<span class="hljs-property">TextStyle</span> = {</li><li>    color : {<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>},</li><li>    fontSize : <span class="hljs-number">20</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myParagraphStyle</span>: text.<span class="hljs-property">ParagraphStyle</span> = {</li><li>    textStyle : myTextStyle,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> fontCollection = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">FontCollection</span>();</li><li>  <span class="hljs-keyword">let</span> paragraphBuilder = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">ParagraphBuilder</span>(myParagraphStyle, fontCollection);</li><li>  paragraphBuilder.<span class="hljs-title function_">addText</span>(<span class="hljs-string">"123456789"</span>);</li><li>  <span class="hljs-keyword">let</span> paragraph = paragraphBuilder.<span class="hljs-title function_">build</span>();</li><li>  paragraph.<span class="hljs-title function_">layoutSync</span>(<span class="hljs-number">200</span>);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>();</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1154px;">     <h3 id="buildlinetypeset18" device-type="phone,2in1,tablet,wearable">buildLineTypeset<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="buildlinetypeset18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>buildLineTypeset(): LineTypeset</p>     <p>构建行排版器。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#linetypeset18">LineTypeset</a></td>         <td class="cellrowborder" width="50%">可用于后续渲染的LineTypeset对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myParagraphStyle</span>: text.<span class="hljs-property">ParagraphStyle</span> = {</li><li>    <span class="hljs-attr">align</span>: text.<span class="hljs-property">TextAlign</span>.<span class="hljs-property">JUSTIFY</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> fontCollection = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">FontCollection</span>();</li><li>  <span class="hljs-keyword">let</span> paragraphBuilder = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">ParagraphBuilder</span>(myParagraphStyle, fontCollection);</li><li>  paragraphBuilder.<span class="hljs-title function_">addText</span>(<span class="hljs-string">"123456789"</span>);</li><li>  <span class="hljs-keyword">let</span> lineTypeset = paragraphBuilder.<span class="hljs-title function_">buildLineTypeset</span>();</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = test;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>();</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1374px;">     <h3 id="addsymbol" device-type="phone,2in1,tablet,wearable">addSymbol<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addsymbol" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>addSymbol(symbolId: number): void</p>     <p>向正在构建的文本段落中插入具体符号。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">symbolId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要设置的symbol码位，十六进制，当前支持的取值范围为：0xF0000-0xF0C97。可设置的symbol码位（即列表视图下的unicode值）请见<a href="https://developer.huawei.com/consumer/cn/design/harmonyos-symbol/" target="_blank">主题图标库</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myTextStyle</span>: text.<span class="hljs-property">TextStyle</span> = {</li><li>    <span class="hljs-attr">color</span>: { <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> },</li><li>    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">33</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">myParagraphStyle</span>: text.<span class="hljs-property">ParagraphStyle</span> = {</li><li>    <span class="hljs-attr">textStyle</span>: myTextStyle,</li><li>    <span class="hljs-attr">align</span>: text.<span class="hljs-property">TextAlign</span>.<span class="hljs-property">END</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> fontCollection = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">FontCollection</span>();</li><li>  <span class="hljs-keyword">let</span> paragraphBuilder = <span class="hljs-keyword">new</span> text.<span class="hljs-title class_">ParagraphBuilder</span>(myParagraphStyle, fontCollection);</li><li>  paragraphBuilder.<span class="hljs-title function_">addSymbol</span>(<span class="hljs-number">0xF0000</span>);</li><li>  <span class="hljs-keyword">let</span> paragraph = paragraphBuilder.<span class="hljs-title function_">build</span>();</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>();</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1444px;">     <h2 id="typographicbounds18" device-type="phone,2in1,tablet,wearable">TypographicBounds<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="typographicbounds18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文本行的排版边界。文本行排版边界与排版字体、排版字号有关，与字符本身无关，例如字符串为" a b "，'a'字符前面有1个空格，'b'字符后面有1个空格，排版边界就包括行首和末尾空格的边界。例如字符串为"j"或"E"，排版边界相同，即与字符本身无关。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.93.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">ascent</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文本行的上升高度，浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">descent</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文本行的下降高度，浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">leading</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文本行的行间距，浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">width</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">排版边界的总宽度，浮点数。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>示意图展示了ascent、descent、leading、top、baseline、bottom、next line top的含义。width为文本行排版包括左右空格的宽度。ascent为文本行上升高度最高点，descent为文本行下降高度最低点，leading为文本行间距，top为文本行的最高点，baseline为字符基线，bottom为文本行的最低点，next line top为下一个文本行的最高点。</p>       <p><span><img originheight="186" originwidth="347" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115128.39284800588397384375726929298174:50001231000000:2800:1289A98ECCA1250046DA6032CF0106343942EBDF0A1CD693DB458F63FD31DF15.png" width="347" height="186"></span></p>       <p>示意图展示了字符串为" a b "的排版边界。</p>       <p><span><img originheight="248" originwidth="341" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115128.00889623380620352236480070409404:50001231000000:2800:C9EC997FD05A9AEEE8F9CDB1195BF8AC147AAC0B1D5BE67DCC564841CE467E98.png" width="341" height="248"></span></p>       <p>示意图展示了字符串为"j"或"E"的排版边界。</p>       <p><span><img originheight="234" originwidth="297" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115129.38011641707821437537239487514813:50001231000000:2800:B81A7AF4E45F7E9644EBE5BD85B4089ECF1B5A14E6CB299630006724A81D502A.png" class="notEnlarge" width="297" height="234"></span></p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 858px;">     <h2 id="caretoffsetscallback18" device-type="phone,2in1,tablet,wearable">CaretOffsetsCallback<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="caretoffsetscallback18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>type CaretOffsetsCallback = (offset: number, index: number, leadingEdge: boolean) =&gt; boolean</p>     <p>将文本行中每个字符的偏移量和索引值作为参数的回调方法。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.94.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文本行中每个字符的偏移量，浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">index</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文本行中每个字符的索引值，整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">leadingEdge</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">光标是否位于字符的前缘，true表示位于字符前缘，即偏移量不包含该字符宽度，false表示位于字符后缘，即偏移量包含该字符宽度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.94.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">表示是否停止调用该回调函数，true表示停止调用该回调函数，false表示继续调用该回调函数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 254px;">     <h2 id="textline" device-type="phone,2in1,tablet,wearable">TextLine<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textline" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>描述段落基础文本行结构的载体。</p>     <p>下列API示例中都需先使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#paragraph">Paragraph</a>类的<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#gettextlines">getTextLines()</a>接口或者<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#linetypeset18">LineTypeset</a>类的<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#createline18">createLine()</a>接口获取到TextLine对象实例，再通过此实例调用对应方法。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 586px;">     <h3 id="getglyphcount" device-type="phone,2in1,tablet,wearable" class="firsth2">getGlyphCount<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getglyphcount" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getGlyphCount(): number</p>     <p>获取文本行中字形的数量。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">该文本行中字形数量，整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> glyphCount = lines[<span class="hljs-number">0</span>].<span class="hljs-title function_">getGlyphCount</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="gettextrange" device-type="phone,2in1,tablet,wearable">getTextRange<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettextrange" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getTextRange(): Range</p>     <p>获取该行文本在整个段落文本中的索引区间。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#range">Range</a></td>         <td class="cellrowborder" width="50%">该行文本在整个段落文本中的索引区间。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> textRange = lines[<span class="hljs-number">0</span>].<span class="hljs-title function_">getTextRange</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="getglyphruns" device-type="phone,2in1,tablet,wearable">getGlyphRuns<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getglyphruns" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getGlyphRuns(): Array&lt;Run&gt;</p>     <p>获取文本行的排版单元数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#run">Run</a>&gt;</td>         <td class="cellrowborder" width="50%">该文本行中的文本排版单元数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> runs = lines[<span class="hljs-number">0</span>].<span class="hljs-title function_">getGlyphRuns</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1392px;">     <h3 id="paint-1" device-type="phone,2in1,tablet,wearable">paint<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="paint-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>paint(canvas: drawing.Canvas, x: number, y: number): void</p>     <p>在画布上以坐标点(x, y)为左上角位置绘制该文本行。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">canvas</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas">drawing.Canvas</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制的目标canvas。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制的左上角位置的横坐标，浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制的左上角位置的纵坐标，浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { common2D } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params">pixelmap: PixelMap</span>) {</li><li>  <span class="hljs-keyword">let</span> canvas = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Canvas</span>(pixelmap);</li><li>  lines[<span class="hljs-number">0</span>].<span class="hljs-title function_">paint</span>(canvas, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> pixelmap?: <span class="hljs-title class_">PixelMap</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Image</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>);</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span> == <span class="hljs-literal">undefined</span>) {</li><li>          <span class="hljs-keyword">const</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">160000</span>);</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">opts</span>: image.<span class="hljs-property">InitializationOptions</span> = { <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">size</span>: { <span class="hljs-attr">height</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span> } }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span> = image.<span class="hljs-title function_">createPixelMapSync</span>(color, opts);</li><li>        }</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span>);</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1539px;">     <h3 id="createtruncatedline18" device-type="phone,2in1,tablet,wearable">createTruncatedLine<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createtruncatedline18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>createTruncatedLine(width: number, ellipsisMode: EllipsisMode, ellipsis: string): TextLine</p>     <p>创建一个截断的文本行对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">截断后的行宽度，浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">ellipsisMode</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#ellipsismode">EllipsisMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">截断的类型，当前仅支持头部截断START和尾部截断END。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">ellipsis</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">截断的标记字符串。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.100.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textline">TextLine</a></td>         <td class="cellrowborder" width="50%">截断的文本行对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { drawing, text, common2D } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params">pixelmap: PixelMap</span>) {</li><li>  <span class="hljs-keyword">let</span> canvas = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Canvas</span>(pixelmap);</li><li>  <span class="hljs-keyword">let</span> truncatedTextLine = lines[<span class="hljs-number">0</span>].<span class="hljs-title function_">createTruncatedLine</span>(<span class="hljs-number">100</span>, text.<span class="hljs-property">EllipsisMode</span>.<span class="hljs-property">START</span>, <span class="hljs-string">"..."</span>);</li><li>  truncatedTextLine.<span class="hljs-title function_">paint</span>(canvas, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> pixelmap?: <span class="hljs-title class_">PixelMap</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Image</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>);</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span> == <span class="hljs-literal">undefined</span>) {</li><li>          <span class="hljs-keyword">const</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">160000</span>);</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">opts</span>: image.<span class="hljs-property">InitializationOptions</span> = { <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">size</span>: { <span class="hljs-attr">height</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span> } }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span> = image.<span class="hljs-title function_">createPixelMapSync</span>(color, opts);</li><li>        }</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span>);</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1248px;">     <h3 id="gettypographicbounds18" device-type="phone,2in1,tablet,wearable">getTypographicBounds<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettypographicbounds18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getTypographicBounds(): TypographicBounds</p>     <p>获取文本行的排版边界。文本行排版边界与排版字体、排版字号有关，与字符本身无关。例如字符串为" a b "，'a'字符前面有1个空格，'b'字符后面有1个空格，排版边界就包括行首和末尾空格的边界。例如字符串为"j"或"E"，排版边界相同，即与字符本身无关。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>示意图展示了字符串为" a b "的排版边界。</p>       <p><span><img originheight="248" originwidth="341" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115129.10834700248902489859176605123297:50001231000000:2800:BE172C96181613964DD2A318EBB62EBF693AD425C7F3045F6B5CCB1704A03FFE.png" width="341" height="248"></span></p>       <p>示意图展示了字符串为"j"或"E"的排版边界。</p>       <p><span><img originheight="234" originwidth="297" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115129.35607036866517358296472436087616:50001231000000:2800:C37367DD2D809820F1536ACE37DBC92295BBB0D563271A2D13D800289CB88703.png" class="notEnlarge" width="297" height="234"></span></p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#typographicbounds18">TypographicBounds</a></td>         <td class="cellrowborder" width="50%">文本行的排版边界。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> bounds = lines[<span class="hljs-number">0</span>].<span class="hljs-title function_">getTypographicBounds</span>();</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'textLine ascent:'</span> + bounds.<span class="hljs-property">ascent</span> + <span class="hljs-string">', descent:'</span> + bounds.<span class="hljs-property">descent</span> + <span class="hljs-string">', leading:'</span> + bounds.<span class="hljs-property">leading</span> + <span class="hljs-string">', width:'</span> + bounds.<span class="hljs-property">width</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1257px;">     <h3 id="getimagebounds18" device-type="phone,2in1,tablet,wearable">getImageBounds<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getimagebounds18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getImageBounds(): common2D.Rect</p>     <p>获取文本行的图像边界。文本行图像边界与排版字体、排版字号、字符本身都有关，相当于视觉边界。例如字符串为" a b "，'a'字符前面有1个空格，'b'字符后面有1个空格，用户在界面上只能看到"a b"，图像边界即为不包括带行首和末尾空格的边界。例如字符串为"j"或"E"，视觉边界不同，即与字符本身有关，"j"字符串的视觉边界宽度小于"E"字符串的视觉边界宽度，"j"字符串的视觉边界高度大于"E"字符串的视觉边界高度。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>示意图展示了字符串为" a b "的图像边界。</p>       <p><span><img originheight="237" originwidth="306" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115129.65607825749333410572297185610996:50001231000000:2800:6A94F6C26BC7CD8973BB791B20295E8342CAC4A24C3083B6B37882461EE7798A.png" width="306" height="237"></span></p>       <p>示意图展示了字符串为"j"或"E"的图像边界。</p>       <p><span><img originheight="230" originwidth="272" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115129.14324713581362852888427786347383:50001231000000:2800:EEDB82F31E312B6AF2FABD9772F9CD43ABD7F63B9D6DA440280BBFDEE8751862.png" class="notEnlarge" width="272" height="230"></span></p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="50%">文本行的图像边界。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> imageBounds = lines[<span class="hljs-number">0</span>].<span class="hljs-title function_">getImageBounds</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="gettrailingspacewidth18" device-type="phone,2in1,tablet,wearable">getTrailingSpaceWidth<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettrailingspacewidth18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getTrailingSpaceWidth(): number</p>     <p>获取文本行尾部空白字符的宽度。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">文本行尾部空白字符的宽度，浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> trailingSpaceWidth = lines[<span class="hljs-number">0</span>].<span class="hljs-title function_">getTrailingSpaceWidth</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 777px;">     <h3 id="getstringindexforposition18" device-type="phone,2in1,tablet,wearable">getStringIndexForPosition<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getstringindexforposition18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getStringIndexForPosition(point: common2D.Point): number</p>     <p>获取给定位置在原始字符串中的字符索引。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.104.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">point</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#point12">common2D.Point</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要查找索引的位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.104.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">给定位置在文本行中对应的字符串索引，整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> point : common2D.<span class="hljs-property">Point</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">15.0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">2.0</span> };</li><li><span class="hljs-keyword">let</span> index = lines[<span class="hljs-number">0</span>].<span class="hljs-title function_">getStringIndexForPosition</span>(point);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 777px;">     <h3 id="getoffsetforstringindex18" device-type="phone,2in1,tablet,wearable">getOffsetForStringIndex<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getoffsetforstringindex18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getOffsetForStringIndex(index: number): number</p>     <p>获取文本行中给定字符串索引处的偏移量。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.105.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">index</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要获取偏移量的字符串索引，整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.105.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">给定字符串索引处的偏移量，浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> offset = lines[<span class="hljs-number">0</span>].<span class="hljs-title function_">getOffsetForStringIndex</span>(<span class="hljs-number">3</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 726px;">     <h3 id="enumeratecaretoffsets18" device-type="phone,2in1,tablet,wearable">enumerateCaretOffsets<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enumeratecaretoffsets18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>enumerateCaretOffsets(callback: CaretOffsetsCallback): void</p>     <p>枚举文本行中每个字符的偏移量和索引值。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.106.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#caretoffsetscallback18">CaretOffsetsCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用户自定义函数。回调方法参数包括文本行中每个字符的偏移量和索引值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">offset: <span class="hljs-built_in">number</span>, index: <span class="hljs-built_in">number</span>, leadingEdge: <span class="hljs-built_in">boolean</span></span>): <span class="hljs-built_in">boolean</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'textLine: offset: '</span> + offset + <span class="hljs-string">', index: '</span> + index + <span class="hljs-string">', leadingEdge: '</span> + leadingEdge);</li><li>  <span class="hljs-keyword">return</span> index &gt; <span class="hljs-number">50</span>;</li><li>}</li><li>lines[<span class="hljs-number">0</span>].<span class="hljs-title function_">enumerateCaretOffsets</span>(callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 990px;">     <h3 id="getalignmentoffset18" device-type="phone,2in1,tablet,wearable">getAlignmentOffset<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getalignmentoffset18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getAlignmentOffset(alignmentFactor: number, alignmentWidth: number): number</p>     <p>获取文本行根据对齐因子和对齐宽度计算的对齐所需偏移量。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.107.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">alignmentFactor</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">对齐因子，即对齐的程度，浮点数。小于等于0.0表示左对齐，大于0.0小于0.5表示偏左对齐，0.5表示居中对齐，大于0.5小于1.0表示偏右对齐，大于等于1.0表示右对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">alignmentWidth</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">对齐宽度，即文本行的宽度，浮点数。小于文本行的实际宽度时，返回0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.107.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">计算得到的对齐所需偏移量，浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> alignmentOffset = lines[<span class="hljs-number">0</span>].<span class="hljs-title function_">getAlignmentOffset</span>(<span class="hljs-number">0.5</span>, <span class="hljs-number">500</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="run" device-type="phone,2in1,tablet,wearable">Run<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="run" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>文本排版单元。</p>     <p>下列API示例中都需先使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textline">TextLine</a>类的<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#getglyphruns">getGlyphRuns()</a>接口获取Run对象实例，再通过此实例调用对应方法。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 586px;">     <h3 id="getglyphcount-1" device-type="phone,2in1,tablet,wearable" class="firsth2">getGlyphCount<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getglyphcount-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getGlyphCount(): number</p>     <p>获取该排版单元中字形的数量。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.109.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">该排版单元中字形数量，整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> glyphs = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getGlyphCount</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="getglyphs" device-type="phone,2in1,tablet,wearable">getGlyphs<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getglyphs" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getGlyphs(): Array&lt;number&gt;</p>     <p>获取该排版单元中每个字符的字形序号。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.110.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="50%">该排版单元中每个字符对应的字形序号。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> glyph = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getGlyphs</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1473px;">     <h3 id="getglyphs18" device-type="phone,2in1,tablet,wearable">getGlyphs<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getglyphs18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getGlyphs(range: Range): Array&lt;number&gt;</p>     <p>获取该排版单元指定范围内每个字符的字形序号。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.111.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">range</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#range">Range</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要获取的字形序号范围，range.start表示范围开始的位置，range.end表示范围的长度，如果长度是0表示从范围range.start开始获取到渲染块结束。当range.end、range.start为负数，或者传入null、undefined时，该方法将返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.111.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="50%">该排版单元中每个字符对应的字形序号。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> glyphs = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getGlyphs</span>(); <span class="hljs-comment">// 获取渲染块全部字形序号</span></li><li>  <span class="hljs-keyword">let</span> glyphsRange = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getGlyphs</span>({<span class="hljs-attr">start</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>:<span class="hljs-number">2</span>}); <span class="hljs-comment">// 获取渲染块从起始位置1开始, 长度为2范围内的字形序号</span></li><li>  glyphsRange = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getGlyphs</span>({<span class="hljs-attr">start</span>:-<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>:<span class="hljs-number">2</span>}); <span class="hljs-comment">// -1是非法参数，将返回undefined</span></li><li>  glyphsRange = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getGlyphs</span>({<span class="hljs-attr">start</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">end</span>:-<span class="hljs-number">10</span>}); <span class="hljs-comment">// -10是非法参数，将返回undefined</span></li><li>  <span class="hljs-keyword">let</span> glyphsNull = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getGlyphs</span>(<span class="hljs-literal">null</span>); <span class="hljs-comment">// null是非法参数，将返回undefined</span></li><li>  <span class="hljs-keyword">let</span> glyphsUndefined = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getGlyphs</span>(<span class="hljs-literal">undefined</span>); <span class="hljs-comment">// undefined是非法参数，将返回undefined</span></li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>();</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="getpositions" device-type="phone,2in1,tablet,wearable">getPositions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpositions" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getPositions(): Array&lt;common2D.Point&gt;</p>     <p>获取该排版单元中每个字形相对于每行的字形位置。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#point12">common2D.Point</a>&gt;</td>         <td class="cellrowborder" width="50%">该排版单元中每个字形相对于每行的字形位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> positions = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getPositions</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1473px;">     <h3 id="getpositions18" device-type="phone,2in1,tablet,wearable">getPositions<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpositions18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getPositions(range: Range): Array&lt;common2D.Point&gt;</p>     <p>获取该排版单元指定范围内每个字形相对于每行的字形位置数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.113.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">range</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#range">Range</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要获取的字形位置范围，range.start表示范围开始的位置，range.end表示范围的长度，如果长度是0表示从范围range.start开始获取到渲染块结束。当range.end、range.start为负数，或者传入null、undefined时，该方法将返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.113.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#point12">common2D.Point</a>&gt;</td>         <td class="cellrowborder" width="50%">该排版单元中每个字形相对于每行的字形位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> positions = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getPositions</span>(); <span class="hljs-comment">// 获取渲染块全部字形位置</span></li><li>  <span class="hljs-keyword">let</span> positionsRange = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getPositions</span>({<span class="hljs-attr">start</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>:<span class="hljs-number">2</span>}); <span class="hljs-comment">// 获取渲染块从起始位置1开始, 长度为2范围内的字形位置</span></li><li>  positionsRange = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getPositions</span>({<span class="hljs-attr">start</span>:-<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>:<span class="hljs-number">2</span>}); <span class="hljs-comment">// -1是非法参数，将返回undefined</span></li><li>  positionsRange = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getPositions</span>({<span class="hljs-attr">start</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">end</span>:-<span class="hljs-number">10</span>}); <span class="hljs-comment">// -10是非法参数，将返回undefined</span></li><li>  <span class="hljs-keyword">let</span> positionsNull = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getPositions</span>(<span class="hljs-literal">null</span>); <span class="hljs-comment">// null是非法参数，将返回undefined</span></li><li>  <span class="hljs-keyword">let</span> positionsUndefined = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getPositions</span>(<span class="hljs-literal">undefined</span>); <span class="hljs-comment">// undefined是非法参数，将返回undefined</span></li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>();</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="getoffsets" device-type="phone,2in1,tablet,wearable">getOffsets<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getoffsets" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getOffsets(): Array&lt;common2D.Point&gt;</p>     <p>获取该排版单元中每个字形的索引偏移量。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.114.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#point12">common2D.Point</a>&gt;</td>         <td class="cellrowborder" width="50%">该排版单元中每个字形相对于其索引的偏移量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> offsets = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getOffsets</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="getfont" device-type="phone,2in1,tablet,wearable">getFont<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getfont" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getFont(): drawing.Font</p>     <p>获取排版单元的字体属性对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.115.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-font">drawing.Font</a></td>         <td class="cellrowborder" width="50%">该排版单元的字体属性对象实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> font = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getFont</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1392px;">     <h3 id="paint-2" device-type="phone,2in1,tablet,wearable">paint<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="paint-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>paint(canvas: drawing.Canvas, x: number, y: number): void</p>     <p>在画布上以(x, y)为左上角位置绘制排版单元。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.116.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">canvas</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas">drawing.Canvas</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制的目标 canvas。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制的左上角位置的横坐标，浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制的左上角位置的纵坐标。浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { common2D } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params">pixelmap: PixelMap</span>) {</li><li>  <span class="hljs-keyword">let</span> canvas = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Canvas</span>(pixelmap);</li><li>  runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">paint</span>(canvas, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> pixelmap?: <span class="hljs-title class_">PixelMap</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Image</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>);</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span> == <span class="hljs-literal">undefined</span>) {</li><li>          <span class="hljs-keyword">const</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">160000</span>);</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">opts</span>: image.<span class="hljs-property">InitializationOptions</span> = { <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">size</span>: { <span class="hljs-attr">height</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span> } }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span> = image.<span class="hljs-title function_">createPixelMapSync</span>(color, opts);</li><li>        }</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelmap</span>);</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 698px;">     <h3 id="getstringrange18" device-type="phone,2in1,tablet,wearable">getStringRange<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getstringrange18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getStringRange(): Range</p>     <p>获取排版单元生成字形的字符范围。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.117.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#range">Range</a></td>         <td class="cellrowborder" width="50%">排版单元生成字形的字符范围，Range类型中的start表示字符范围的开始位置，该位置是相对于整个段落的索引，Range类型中的end表示字符范围的长度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> runStringRange = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getStringRange</span>();</li><li><span class="hljs-keyword">let</span> location = runStringRange.<span class="hljs-property">start</span>;</li><li><span class="hljs-keyword">let</span> length = runStringRange.<span class="hljs-property">end</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1521px;">     <h3 id="getstringindices18" device-type="phone,2in1,tablet,wearable">getStringIndices<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getstringindices18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getStringIndices(range?: Range): Array&lt;number&gt;</p>     <p>获取排版单元指定范围内字形的字符索引，该索引是相对于整个段落的偏移。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.118.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">range</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#range">Range</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">要获取的字符索引范围，range.start表示范围开始的位置，range.end表示范围的长度，如果长度是0表示从范围range.start开始获取到渲染块结束。当range.end、range.start为负数，或者传入null、undefined时，该方法将返回undefined。不传该参数时，默认获取整个渲染块。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.118.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="50%">返回每个字符的索引。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">textFunc</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> indices = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getStringIndices</span>(); <span class="hljs-comment">// 获取渲染块全部字符索引</span></li><li>  <span class="hljs-keyword">let</span> indicesRange = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getStringIndices</span>({<span class="hljs-attr">start</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>:<span class="hljs-number">2</span>}); <span class="hljs-comment">// 获取渲染块从起始位置1开始, 长度为2范围内的字符索引</span></li><li>  indicesRange = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getStringIndices</span>({<span class="hljs-attr">start</span>:-<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>:<span class="hljs-number">2</span>}); <span class="hljs-comment">// -1是非法参数，将返回undefined</span></li><li>  indicesRange = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getStringIndices</span>({<span class="hljs-attr">start</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">end</span>:-<span class="hljs-number">10</span>}); <span class="hljs-comment">// -10是非法参数，将返回undefined</span></li><li>  <span class="hljs-keyword">let</span> indicesNull = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getStringIndices</span>(<span class="hljs-literal">null</span>); <span class="hljs-comment">// null是非法参数，将返回undefined</span></li><li>  <span class="hljs-keyword">let</span> indicesUndefined = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getStringIndices</span>(<span class="hljs-literal">undefined</span>); <span class="hljs-comment">// undefined是非法参数，将返回undefined</span></li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">fun</span>: <span class="hljs-title class_">Function</span> = textFunc;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>().<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fun</span>();</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1209px;">     <h3 id="getimagebounds18-1" device-type="phone,2in1,tablet,wearable">getImageBounds<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getimagebounds18-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getImageBounds(): common2D.Rect</p>     <p>获取该排版单元的图像边界，图像边界与排版字体、排版字号、字符本身都有关，相当于视觉边界，例如字符串为" a b "，'a'字符前面有1个空格，'b'字符后面有1个空格，用户在界面上只能看到"a b"，图像边界即为不包括带行首和末尾空格的边界。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>示意图展示了字符串为" a b "的图像边界。</p>       <p><span><img originheight="237" originwidth="306" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115129.17000991071437100353168250777171:50001231000000:2800:06C3926657FD27A6B693A0D777B93CC1FD968F6FBE458524169390043B1AF279.png" width="306" height="237"></span></p>       <p>示意图展示了字符串为"j"或"E"的图像边界。</p>       <p><span><img originheight="230" originwidth="272" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115129.07005092288454511268839904305057:50001231000000:2800:828EB83B20A3C3DEC3B2FCEB4615F56F04619CF19A04C1CC975EBD0F511083C5.png" class="notEnlarge" width="272" height="230"></span></p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.119.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="50%">该排版单元的图像边界。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> bounds = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getImageBounds</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1224px;">     <h3 id="gettypographicbounds18-1" device-type="phone,2in1,tablet,wearable">getTypographicBounds<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettypographicbounds18-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getTypographicBounds(): TypographicBounds</p>     <p>获取该排版单元的排版边界，排版边界与排版字体、排版字号有关，与字符本身无关，例如字符串为" a b "，'a'字符前面有1个空格，'b'字符后面有1个空格，排版边界就包括行首和末尾空格的边界。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>示意图展示了字符串为" a b "的排版边界。</p>       <p><span><img originheight="248" originwidth="341" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115129.78847781449305063022157660037172:50001231000000:2800:15B70347C0428E2627DCD8FA7C1BF2FDE8134F9B219904A8E46450A5C2371D64.png" width="341" height="248"></span></p>       <p>示意图展示了字符串为"j"或"E"的排版边界。</p>       <p><span><img originheight="234" originwidth="297" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115129.97144272027130087365891619251639:50001231000000:2800:6B05CD4D50A8111D6E4145B6004ACF5399CC911B5B10A61C55B77545EB97CD1E.png" class="notEnlarge" width="297" height="234"></span></p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.120.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#typographicbounds18">TypographicBounds</a></td>         <td class="cellrowborder" width="50%">该排版单元的排版边界。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> typographicBounds = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getTypographicBounds</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 602px;">     <h3 id="gettextdirection20" device-type="phone,2in1,tablet,wearable">getTextDirection<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettextdirection20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getTextDirection(): TextDirection</p>     <p>获取该排版单元的文本方向。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.121.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textdirection">TextDirection</a></td>         <td class="cellrowborder" width="50%">返回该排版单元的文本方向。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> textDirection = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getTextDirection</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1065px;">     <h3 id="getadvances20" device-type="phone,2in1,tablet,wearable">getAdvances<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getadvances20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getAdvances(range: Range): Array&lt;common2D.Point&gt;</p>     <p>获取该排版单元指定范围内每个字形的字形宽度数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.122.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">range</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#range">Range</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要获取的字形位置范围。range.start表示范围开始的位置，range.end表示范围的长度。如果长度是0表示从range.start开始获取到渲染块结束。当range.end、range.start为负数，或者传入null、undefined时，该方法将返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.122.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#point12">common2D.Point</a>&gt;</td>         <td class="cellrowborder" width="50%">返回该排版单元中每个字形相对于水平方向的字形宽度数组。其中，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#point12">common2D.Point</a>中的x值代表每个字形相对于水平方向的字形宽度，y值为保留字段，默认返回0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qjn-c106="" class="highlight-div"><div _ngcontent-qjn-c106="" class="highlight-div-header"><div _ngcontent-qjn-c106="" class="highlight-div-header-left"><div _ngcontent-qjn-c106="" class="handle-button expand-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjn-c106="" class="highlight-div-header-right"><div _ngcontent-qjn-c106="" class="handle-button ai-button"></div><div _ngcontent-qjn-c106="" class="handle-button line-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjn-c106="" class="handle-button theme-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjn-c106="" class="handle-button copy-button"><div _ngcontent-qjn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> advancesRange = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getAdvances</span>({<span class="hljs-attr">start</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>:<span class="hljs-number">2</span>}); <span class="hljs-comment">// 获取渲染块从起始位置1开始, 长度为2范围内的字形宽度</span></li><li>advancesRange = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getAdvances</span>({<span class="hljs-attr">start</span>:-<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>:<span class="hljs-number">2</span>}); <span class="hljs-comment">// -1是非法参数，将返回undefined</span></li><li>advancesRange = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getAdvances</span>({<span class="hljs-attr">start</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">end</span>:-<span class="hljs-number">10</span>}); <span class="hljs-comment">// -10是非法参数，将返回undefined</span></li><li><span class="hljs-keyword">let</span> advancesNull = runs[<span class="hljs-number">0</span>].<span class="hljs-title function_">getAdvances</span>(<span class="hljs-literal">null</span>); <span class="hljs-comment">// null是非法参数，将返回undefined</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1184px;">     <h2 id="texttab18" device-type="phone,2in1,tablet,wearable">TextTab<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="texttab18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>段落风格的文本制表符，储存了对齐方式和位置。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.123.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">alignment</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textalign">TextAlign</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">段落中制表符之后的文本对齐方式，支持设置<a href="/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#textalign">TextAlign</a>的LEFT左对齐、RIGHT右对齐和CENTER居中对齐方式，其他枚举值为左对齐，默认为左对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">location</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">制表符之后的文本对齐位置，浮点数，单位为物理像素px，最小值为1.0，当该值小于1.0时，该制表符会被替换为一个空格。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>alignment为CENTER，location为200，文本为"12/t345"：</p>     <p><span><img originheight="68" originwidth="345" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115129.74288642336916789426038688600068:50001231000000:2800:3C5C17F78413740B6302E598A153BAD7409C7DEC9EF1E4EB95F85FDF402EE337.png" width="345" height="68"></span></p>     <p>alignment为LEFT，location为100，文本为"abccccccccc/tdef"：</p>     <p><span><img originheight="77" originwidth="529" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115129.31446011133108024266897825740825:50001231000000:2800:B12C0AC37DFDD7C5AAFE0A930A9F09057D61BAD85E409991D9D6D740813AB529.png" width="529" height="77"></span></p>     <p>alignment为RIGHT，location为100，文本为"aabcdef/tg hi/tjkl/tmno/tp qr"：</p>     <p><span><img originheight="109" originwidth="631" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115129.58353138364819021917362355938846:50001231000000:2800:F66F5F15BEE7F26960089B846D7C1EA21473156BB9F9AC4367F574C7B7CB3275.png" width="631" height="109"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 561px;">     <h2 id="systemfonttype14" device-type="phone,2in1,tablet,wearable">SystemFontType<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="systemfonttype14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>字体类型枚举，通过位或运算可实现组合类型。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.124.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">ALL</td>         <td class="cellrowborder" width="33.33333333333333%">1 &lt;&lt; 0</td>         <td class="cellrowborder" width="33.33333333333333%">所有字体类型，包括系统字体类型、风格字体类型和用户已安装字体类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">GENERIC</td>         <td class="cellrowborder" width="33.33333333333333%">1 &lt;&lt; 1</td>         <td class="cellrowborder" width="33.33333333333333%">系统字体类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">STYLISH</td>         <td class="cellrowborder" width="33.33333333333333%">1 &lt;&lt; 2</td>         <td class="cellrowborder" width="33.33333333333333%">风格字体类型。风格字体类型是专为2in1设备设计的字体类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INSTALLED</td>         <td class="cellrowborder" width="33.33333333333333%">1 &lt;&lt; 3</td>         <td class="cellrowborder" width="33.33333333333333%">用户已安装的字体类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CUSTOMIZED<sup>18+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">1 &lt;&lt; 4</td>         <td class="cellrowborder" width="33.33333333333333%">自定义字体类型。</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>