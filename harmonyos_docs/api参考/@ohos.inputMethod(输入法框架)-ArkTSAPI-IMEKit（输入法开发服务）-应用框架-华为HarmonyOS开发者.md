<h1 _ngcontent-nhx-c119="" class="doc-title ng-star-inserted" title="@ohos.inputMethod (输入法框架)"> @ohos.inputMethod (输入法框架) </h1>

<div _ngcontent-nhx-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>本模块主要面向普通前台应用（备忘录、信息、设置等系统应用与三方应用），提供对输入法（输入法应用）的控制、管理能力，包括显示/隐藏输入法软键盘、切换输入法、获取所有输入法列表等等。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 6开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { inputMethod } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IMEKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 333px;">     <h2 id="常量" device-type="phone,2in1,tablet,wearable,tv">常量<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="常量" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>常量值。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.5.1.3" width="25%">常量值</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">MAX_TYPE_NUM<sup>8+</sup></td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">128</td>         <td class="cellrowborder" width="25%">可支持的最大输入法个数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 3258px;">     <h2 id="inputmethodproperty8" device-type="phone,2in1,tablet,wearable,tv">InputMethodProperty<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodproperty8" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>输入法应用属性。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">name<sup>9+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">必填。输入法包名。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">id<sup>9+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">必填。输入法扩展在应用内唯一标识，与name一起组成输入法扩展的全局唯一标识。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">label<sup>9+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>非必填。</p>          <p>- 当InputMethodProperty用于切换、查询等接口的入参时，开发者可不填写此字段，通过name和id即可唯一指定一个输入法扩展。</p>          <p>- 当InputMethodProperty作为查询接口的返回值时（如<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodgetcurrentinputmethod9">getCurrentInputMethod</a>），此字段表示输入法扩展对外显示的名称，优先使用InputMethodExtensionAbility中配置的label，若未配置，自动使用应用入口ability的label；当应用入口ability未配置label时，自动使用应用AppScope中配置的label。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">labelId<sup>10+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>非必填。</p>          <p>- 当InputMethodProperty用于切换、查询等接口的入参时，开发者可不填写此字段，通过name和id即可唯一指定一个输入法扩展。</p>          <p>- 当InputMethodProperty作为查询接口的返回值时（如<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodgetcurrentinputmethod9">getCurrentInputMethod</a>），此字段表示label字段的资源号。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">icon<sup>9+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>非必填。</p>          <p>- 当InputMethodProperty用于切换、查询等接口的入参时，开发者可不填写此字段，通过name和id即可唯一指定一个输入法扩展。</p>          <p>- 当InputMethodProperty作为查询接口的返回值时（如<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodgetcurrentinputmethod9">getCurrentInputMethod</a>），此字段表示输入法图标数据，可以通过iconId查询获取。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">iconId<sup>9+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>非必填。</p>          <p>- 当InputMethodProperty用于切换、查询等接口的入参时，开发者可不填写此字段，通过name和id即可唯一指定一个输入法扩展。</p>          <p>- 当InputMethodProperty作为查询接口的返回值时（如<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodgetcurrentinputmethod9">getCurrentInputMethod</a>），此字段表示icon字段的资源号。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">enabledState<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#enabledstate15">EnabledState</a></td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>非必填。</p>          <p>- 当InputMethodProperty用于切换、查询等接口的入参时，开发者可不填写此字段，通过name和id即可唯一指定一个输入法扩展</p>          <p>- 当InputMethodProperty作为查询接口的返回值时（如<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodgetcurrentinputmethod9">getCurrentInputMethod</a>），此字段表示该输入法启用状态。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">extra<sup>9+</sup></td>         <td class="cellrowborder" width="20%">object</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>输入法扩展信息。预留字段，当前无具体含义，暂不支持使用。</p>          <p>- API version 10起：非必填；</p>          <p>- API version 9：必填。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">packageName<sup>(deprecated)</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>输入法包名。必填。</p>          <p>说明：从API version 8开始支持，从API version 9开始废弃，建议使用name替代。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">methodId<sup>(deprecated)</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>输入法唯一标识。必填。</p>          <p>说明：从API version 8开始支持，从API version 9开始废弃，建议使用id替代。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 468px;">     <h2 id="capitalizemode20" device-type="phone,2in1,tablet,wearable,tv">CapitalizeMode<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="capitalizemode20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举，定义了文本首字母大写的不同模式。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NONE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">不进行任何首字母大写处理。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENTENCES</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">每个句子的首字母大写。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">WORDS</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">每个单词首字母大写。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CHARACTERS</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">每个字母都大写。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 853px;">     <h2 id="inputmethodgetcontroller9" device-type="phone,2in1,tablet,wearable,tv">inputMethod.getController<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodgetcontroller9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getController(): InputMethodController</p>     <p>获取客户端实例<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodcontroller">InputMethodController</a>。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodcontroller">InputMethodController</a></td>         <td class="cellrowborder" width="50%">返回当前客户端实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800006</td>         <td class="cellrowborder" width="50%">input method controller error. Possible cause: create InputMethodController object failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 853px;">     <h2 id="inputmethodgetdefaultinputmethod11" device-type="phone,2in1,tablet,wearable,tv">inputMethod.getDefaultInputMethod<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodgetdefaultinputmethod11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDefaultInputMethod(): InputMethodProperty</p>     <p>获取默认输入法。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a></td>         <td class="cellrowborder" width="50%">返回默认输入法属性对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">defaultIme</span>: inputMethod.<span class="hljs-property">InputMethodProperty</span> = inputMethod.<span class="hljs-title function_">getDefaultInputMethod</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 901px;">     <h2 id="inputmethodgetsysteminputmethodconfigability11" device-type="phone,2in1,tablet,wearable,tv">inputMethod.getSystemInputMethodConfigAbility<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodgetsysteminputmethodconfigability11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSystemInputMethodConfigAbility(): ElementName</p>     <p>获取系统输入法设置界面Ability信息。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-elementname">ElementName</a></td>         <td class="cellrowborder" width="50%">系统输入法设置界面Ability的ElementName。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodConfig</span>: bundleManager.<span class="hljs-property">ElementName</span> = inputMethod.<span class="hljs-title function_">getSystemInputMethodConfigAbility</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 853px;">     <h2 id="inputmethodgetsetting9" device-type="phone,2in1,tablet,wearable,tv">inputMethod.getSetting<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodgetsetting9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSetting(): InputMethodSetting</p>     <p>获取客户端设置实例<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodsetting8">InputMethodSetting</a>。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodsetting8">InputMethodSetting</a></td>         <td class="cellrowborder" width="50%">返回当前客户端设置实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800007</td>         <td class="cellrowborder" width="50%">input method setter error. Possible cause: create InputMethodSetting object failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodSetting</span>: inputMethod.<span class="hljs-property">InputMethodSetting</span> = inputMethod.<span class="hljs-title function_">getSetting</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1615px;">     <h2 id="inputmethodswitchinputmethod9" device-type="phone,2in1,tablet,wearable,tv">inputMethod.switchInputMethod<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodswitchinputmethod9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>switchInputMethod(target: InputMethodProperty, callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>切换输入法，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>在API version 9-10版本，仅支持系统应用调用且需要权限ohos.permission.CONNECT_IME_ABILITY。</li>        <li>在API version 11版本起，仅支持当前输入法应用调用。</li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">target</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标输入法。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当输入法切换成功，err为undefined，data为true；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800005</td>         <td class="cellrowborder" width="50%">configuration persistence error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">currentIme</span>: inputMethod.<span class="hljs-property">InputMethodProperty</span> = inputMethod.<span class="hljs-title function_">getCurrentInputMethod</span>();</li><li>inputMethod.<span class="hljs-title function_">switchInputMethod</span>(currentIme, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, result: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to switchInputMethod, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">if</span> (result) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in switching input method.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to switch input method.'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在 API11 中 201 permissions check fails. 这个错误码被移除。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1669px;">     <h2 id="inputmethodswitchinputmethod9-1" device-type="phone,2in1,tablet,wearable,tv">inputMethod.switchInputMethod<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodswitchinputmethod9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>switchInputMethod(target: InputMethodProperty): Promise&lt;boolean&gt;</p>     <p>切换输入法，使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>在API version 9-10版本，仅支持系统应用调用且需要权限ohos.permission.CONNECT_IME_ABILITY。</li>        <li>在API version 11版本起，仅支持当前输入法应用调用。</li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">target</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标输入法。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回true表示切换输入法成功，返回false表示切换输入法失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800005</td>         <td class="cellrowborder" width="50%">configuration persistence error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">currentIme</span>: inputMethod.<span class="hljs-property">InputMethodProperty</span> = inputMethod.<span class="hljs-title function_">getCurrentInputMethod</span>();</li><li>inputMethod.<span class="hljs-title function_">switchInputMethod</span>(currentIme).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (result) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in switching input method.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to switch input method.'</span>);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to switchInputMethod, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在 API11 中 201 permissions check fails. 这个错误码被移除。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 610px;">     <h2 id="inputmethodgetcurrentinputmethod9" device-type="phone,2in1,tablet,wearable,tv">inputMethod.getCurrentInputMethod<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodgetcurrentinputmethod9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCurrentInputMethod(): InputMethodProperty</p>     <p>使用同步方法获取当前输入法。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a></td>         <td class="cellrowborder" width="50%">返回当前输入法属性对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">currentIme</span>: inputMethod.<span class="hljs-property">InputMethodProperty</span> = inputMethod.<span class="hljs-title function_">getCurrentInputMethod</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1911px;">     <h2 id="inputmethodswitchcurrentinputmethodsubtype9" device-type="phone,2in1,tablet,wearable,tv">inputMethod.switchCurrentInputMethodSubtype<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodswitchcurrentinputmethodsubtype9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>switchCurrentInputMethodSubtype(target: InputMethodSubtype, callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>切换当前输入法的子类型。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>在API version 9版本，仅支持系统应用调用且需要权限ohos.permission.CONNECT_IME_ABILITY。</li>        <li>在API version 10版本，支持系统应用和当前输入法应用调用；需要权限ohos.permission.CONNECT_IME_ABILITY。</li>        <li>在API version 11版本起，仅支持当前输入法调用。</li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">target</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethod-subtype#inputmethodsubtype">InputMethodSubtype</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标输入法子类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当输入法子类型切换成功，err为undefined，data为true；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800005</td>         <td class="cellrowborder" width="50%">configuration persistence error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">extra</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {}</li><li>inputMethod.<span class="hljs-title function_">switchCurrentInputMethodSubtype</span>({</li><li>  <span class="hljs-attr">id</span>: <span class="hljs-string">"ServiceExtAbility"</span>,</li><li>  <span class="hljs-attr">label</span>: <span class="hljs-string">""</span>,</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">"com.example.keyboard"</span>,</li><li>  <span class="hljs-attr">mode</span>: <span class="hljs-string">"upper"</span>,</li><li>  <span class="hljs-attr">locale</span>: <span class="hljs-string">""</span>,</li><li>  <span class="hljs-attr">language</span>: <span class="hljs-string">""</span>,</li><li>  <span class="hljs-attr">icon</span>: <span class="hljs-string">""</span>,</li><li>  <span class="hljs-attr">iconId</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">extra</span>: extra</li><li>}, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, result: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to switchCurrentInputMethodSubtype, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">if</span> (result) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in switching currentInputMethodSubtype.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to switchCurrentInputMethodSubtype'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在 API11 中 201 permissions check fails. 这个错误码被移除。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1941px;">     <h2 id="inputmethodswitchcurrentinputmethodsubtype9-1" device-type="phone,2in1,tablet,wearable,tv">inputMethod.switchCurrentInputMethodSubtype<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodswitchcurrentinputmethodsubtype9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>switchCurrentInputMethodSubtype(target: InputMethodSubtype): Promise&lt;boolean&gt;</p>     <p>切换当前输入法的子类型。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>在API version 9版本，仅支持系统应用调用且需要权限ohos.permission.CONNECT_IME_ABILITY。</li>        <li>在API version 10版本，支持系统应用和当前输入法应用调用；需要权限ohos.permission.CONNECT_IME_ABILITY。</li>        <li>在API version 11版本起，仅支持当前输入法调用。</li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">target</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethod-subtype#inputmethodsubtype">InputMethodSubtype</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标输入法子类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回true表示当前输入法切换子类型成功，返回false表示当前输入法切换子类型成功失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800005</td>         <td class="cellrowborder" width="50%">configuration persistence error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">extra</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {}</li><li>inputMethod.<span class="hljs-title function_">switchCurrentInputMethodSubtype</span>({</li><li>  <span class="hljs-attr">id</span>: <span class="hljs-string">"ServiceExtAbility"</span>,</li><li>  <span class="hljs-attr">label</span>: <span class="hljs-string">""</span>,</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">"com.example.keyboard"</span>,</li><li>  <span class="hljs-attr">mode</span>: <span class="hljs-string">"upper"</span>,</li><li>  <span class="hljs-attr">locale</span>: <span class="hljs-string">""</span>,</li><li>  <span class="hljs-attr">language</span>: <span class="hljs-string">""</span>,</li><li>  <span class="hljs-attr">icon</span>: <span class="hljs-string">""</span>,</li><li>  <span class="hljs-attr">iconId</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">extra</span>: extra</li><li>}).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (result) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in switching currentInputMethodSubtype.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to switchCurrentInputMethodSubtype.'</span>);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to switchCurrentInputMethodSubtype, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在 API11 中 201 permissions check fails. 这个错误码被移除。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 658px;">     <h2 id="inputmethodgetcurrentinputmethodsubtype9" device-type="phone,2in1,tablet,wearable,tv">inputMethod.getCurrentInputMethodSubtype<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodgetcurrentinputmethodsubtype9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCurrentInputMethodSubtype(): InputMethodSubtype</p>     <p>获取当前输入法的子类型。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethod-subtype#inputmethodsubtype">InputMethodSubtype</a></td>         <td class="cellrowborder" width="50%">返回当前输入法子类型对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">InputMethodSubtype</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IMEKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">currentImeSubType</span>: <span class="hljs-title class_">InputMethodSubtype</span> = inputMethod.<span class="hljs-title function_">getCurrentInputMethodSubtype</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1780px;">     <h2 id="inputmethodswitchcurrentinputmethodandsubtype9" device-type="phone,2in1,tablet,wearable,tv">inputMethod.switchCurrentInputMethodAndSubtype<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodswitchcurrentinputmethodandsubtype9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>switchCurrentInputMethodAndSubtype(inputMethodProperty: InputMethodProperty, inputMethodSubtype: InputMethodSubtype, callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>切换至指定输入法的指定子类型，适用于跨输入法切换子类型。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>在API version 9-10版本，仅支持系统应用调用且需要权限ohos.permission.CONNECT_IME_ABILITY。</li>        <li>在API version 11版本起，仅支持当前输入法调用。</li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">inputMethodProperty</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标输入法。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">inputMethodSubtype</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethod-subtype#inputmethodsubtype">InputMethodSubtype</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标输入法子类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当输入法和子类型切换成功，err为undefined，data为获取到的切换子类型结果true；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800005</td>         <td class="cellrowborder" width="50%">configuration persistence error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">InputMethodSubtype</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IMEKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">currentIme</span>: inputMethod.<span class="hljs-property">InputMethodProperty</span> = inputMethod.<span class="hljs-title function_">getCurrentInputMethod</span>();</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">imSubType</span>: <span class="hljs-title class_">InputMethodSubtype</span> = inputMethod.<span class="hljs-title function_">getCurrentInputMethodSubtype</span>();</li><li>inputMethod.<span class="hljs-title function_">switchCurrentInputMethodAndSubtype</span>(currentIme, imSubType, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, result: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to switchCurrentInputMethodAndSubtype, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">if</span> (result) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in switching currentInputMethodAndSubtype.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to switchCurrentInputMethodAndSubtype.'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在 API11 中 201 permissions check fails. 这个错误码被移除。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1786px;">     <h2 id="inputmethodswitchcurrentinputmethodandsubtype9-1" device-type="phone,2in1,tablet,wearable,tv">inputMethod.switchCurrentInputMethodAndSubtype<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodswitchcurrentinputmethodandsubtype9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>switchCurrentInputMethodAndSubtype(inputMethodProperty: InputMethodProperty, inputMethodSubtype: InputMethodSubtype): Promise&lt;boolean&gt;</p>     <p>切换至指定输入法的指定子类型，适用于跨输入法切换子类型。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>在API version 9-10版本，仅支持系统应用调用且需要权限ohos.permission.CONNECT_IME_ABILITY。</li>        <li>在API version 11版本起，仅支持当前输入法调用。</li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">inputMethodProperty</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标输入法。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">inputMethodSubtype</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethod-subtype#inputmethodsubtype">InputMethodSubtype</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标输入法子类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回true表示切换至指定输入法的指定子类型成功，返回false表示切换至指定输入法的指定子类型失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800005</td>         <td class="cellrowborder" width="50%">configuration persistence error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">InputMethodSubtype</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IMEKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">currentIme</span>: inputMethod.<span class="hljs-property">InputMethodProperty</span> = inputMethod.<span class="hljs-title function_">getCurrentInputMethod</span>();</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">imSubType</span>: <span class="hljs-title class_">InputMethodSubtype</span> = inputMethod.<span class="hljs-title function_">getCurrentInputMethodSubtype</span>();</li><li>inputMethod.<span class="hljs-title function_">switchCurrentInputMethodAndSubtype</span>(currentIme, imSubType).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (result) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in switching currentInputMethodAndSubtype.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to switchCurrentInputMethodAndSubtype.'</span>);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to switchCurrentInputMethodAndSubtype, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在 API11 中 201 permissions check fails. 这个错误码被移除。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 702px;">     <h2 id="inputmethodgetinputmethodcontrollerdeprecated" device-type="phone,2in1,tablet,wearable,tv">inputMethod.getInputMethodController<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodgetinputmethodcontrollerdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getInputMethodController(): InputMethodController</p>     <p>获取客户端实例<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodcontroller">InputMethodController</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 6开始支持，从API version 9开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodgetcontroller9">getController()</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodcontroller">InputMethodController</a></td>         <td class="cellrowborder" width="50%">回调返回当前客户端实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getInputMethodController</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 702px;">     <h2 id="inputmethodgetinputmethodsettingdeprecated" device-type="phone,2in1,tablet,wearable,tv">inputMethod.getInputMethodSetting<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodgetinputmethodsettingdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getInputMethodSetting(): InputMethodSetting</p>     <p>获取客户端设置实例<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodsetting8">InputMethodSetting</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodgetsetting9">getSetting()</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodsetting8">InputMethodSetting</a></td>         <td class="cellrowborder" width="50%">返回当前客户端设置实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodSetting</span>: inputMethod.<span class="hljs-property">InputMethodSetting</span> = inputMethod.<span class="hljs-title function_">getInputMethodSetting</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 758px;">     <h2 id="inputmethodsetsimplekeyboardenabled20" device-type="phone,2in1,tablet,wearable,tv">inputMethod.setSimpleKeyboardEnabled<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodsetsimplekeyboardenabled20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSimpleKeyboardEnabled(enable: boolean): void</p>     <p>编辑框应用设置简单键盘标志。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>简单键盘是否使能标志，true标识简单键盘使能，false标识简单键盘去使能。</p>          <p>原生编辑框组件在下一次点击获焦时生效；自绘控件在下一次调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#attach10">attach</a>绑定输入法时生效。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">enable</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  inputMethod.<span class="hljs-title function_">setSimpleKeyboardEnabled</span>(enable);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 963px;">     <h2 id="textinputtype10" device-type="phone,2in1,tablet,wearable,tv">TextInputType<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textinputtype10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文本输入类型。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NONE</td>         <td class="cellrowborder" width="33.33333333333333%">-1</td>         <td class="cellrowborder" width="33.33333333333333%">NONE。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TEXT</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">文本类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MULTILINE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">多行类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NUMBER</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">数字类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PHONE</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">电话号码类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DATETIME</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">日期类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">EMAIL_ADDRESS</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">邮箱地址类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">URL</td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">链接类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">VISIBLE_PASSWORD</td>         <td class="cellrowborder" width="33.33333333333333%">7</td>         <td class="cellrowborder" width="33.33333333333333%">密码类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NUMBER_PASSWORD<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">8</td>         <td class="cellrowborder" width="33.33333333333333%">数字密码类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SCREEN_LOCK_PASSWORD<sup>20+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">9</td>         <td class="cellrowborder" width="33.33333333333333%">锁屏密码类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">USER_NAME<sup>20+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">10</td>         <td class="cellrowborder" width="33.33333333333333%">用户名类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NEW_PASSWORD<sup>20+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">11</td>         <td class="cellrowborder" width="33.33333333333333%">新密码类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NUMBER_DECIMAL<sup>20+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">12</td>         <td class="cellrowborder" width="33.33333333333333%">带小数点的数字类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ONE_TIME_CODE<sup>20+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">13</td>         <td class="cellrowborder" width="33.33333333333333%">验证码类型。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 693px;">     <h2 id="enterkeytype10" device-type="phone,2in1,tablet,wearable,tv">EnterKeyType<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enterkeytype10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Enter键的功能类型。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">UNSPECIFIED</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">未指定。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NONE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">NONE。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">GO</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">前往。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SEARCH</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">查找。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SEND</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">发送。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NEXT</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">下一步。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DONE</td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">完成。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PREVIOUS</td>         <td class="cellrowborder" width="33.33333333333333%">7</td>         <td class="cellrowborder" width="33.33333333333333%">上一步。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NEWLINE<sup>12+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">8</td>         <td class="cellrowborder" width="33.33333333333333%">换行。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 423px;">     <h2 id="keyboardstatus10" device-type="phone,2in1,tablet,wearable,tv">KeyboardStatus<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="keyboardstatus10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>输入法软键盘状态。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NONE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">NONE。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">HIDE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">隐藏状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SHOW</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">显示状态。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 468px;">     <h2 id="direction10" device-type="phone,2in1,tablet,wearable,tv">Direction<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="direction10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>光标移动方向。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">CURSOR_UP</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">向上。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CURSOR_DOWN</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">向下。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CURSOR_LEFT</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">向左。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CURSOR_RIGHT</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">向右。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 468px;">     <h2 id="extendaction10" device-type="phone,2in1,tablet,wearable,tv">ExtendAction<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="extendaction10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>编辑框中文本的扩展编辑操作类型，如剪切、复制等。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">SELECT_ALL</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">全选。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CUT</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">剪切。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">COPY</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">复制。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PASTE</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">粘贴。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 333px;">     <h2 id="functionkey10" device-type="phone,2in1,tablet,wearable,tv">FunctionKey<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="functionkey10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>输入法功能键类型。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">enterKeyType<sup>10+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#enterkeytype10">EnterKeyType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">输入法enter键类型。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1164px;">     <h2 id="inputattribute10" device-type="phone,2in1,tablet,wearable,tv">InputAttribute<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputattribute10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>编辑框属性，包含文本输入类型和Enter键功能类型。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">textInputType<sup>10+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#textinputtype10">TextInputType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文本输入类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">enterKeyType<sup>10+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#enterkeytype10">EnterKeyType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">Enter键功能类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">placeholder<sup>20+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>编辑框设置的占位符信息。</p>          <p>- 编辑框设置占位符信息时，长度不超过255个字符（如果超出将会自动截断为255个字符），用于提示或引导用户输入临时性文本或符号。（例如：提示输入项为"必填"或"非必填"的输入结果反馈。）</p>          <p>- 编辑框没有设置占位符信息时，默认为空字符串。</p>          <p>- 该字段在调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#attach10">attach</a>时提供给输入法应用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">abilityName<sup>20+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>编辑框设置的ability名称。</p>          <p>- 编辑框设置ability名称时，长度不超过127个字符（如果超出将会自动截断为127个字符）。</p>          <p>- 编辑框未设置ability名称时，默认为空字符串。</p>          <p>- 该字段在调用绑定<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#attach10">attach</a>时提供给输入法应用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 846px;">     <h2 id="textconfig10" device-type="phone,2in1,tablet,wearable,tv">TextConfig<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textconfig10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>编辑框的配置信息。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">inputAttribute<sup>10+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputattribute10">InputAttribute</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">编辑框属性。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">cursorInfo<sup>10+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#cursorinfo10">CursorInfo</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">光标信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">selection<sup>10+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#range10">Range</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文本选中的范围。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">windowId<sup>10+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>编辑框所在的窗口Id，该参数应为整数。</p>          <p>推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowproperties9">getWindowProperties()</a>方法获取窗口id属性。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">newEditBox<sup>20+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示是否为新编辑框。true表示新编辑框，false表示非新编辑框。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">capitalizeMode<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#capitalizemode20">CapitalizeMode</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">编辑框设置大小写模式。如果没有设置或设置非法值，默认不进行任何首字母大写处理。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 828px;">     <h2 id="cursorinfo10" device-type="phone,2in1,tablet,wearable,tv">CursorInfo<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cursorinfo10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>光标信息。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">left</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">光标的横坐标，单位为px。该参数应为整数，最小值为0，最大值为当前屏幕的宽度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">top</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">光标的纵坐标，单位为px。该参数应为整数，最小值为0，最大值为当前屏幕的高度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">width</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">光标的宽度，单位为px。该参数应为整数，最小值为0，最大值为当前屏幕的宽度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">height</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">光标的高度,单位为px。该参数应为整数，最小值为0，最大值为当前屏幕的高度</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 594px;">     <h2 id="range10" device-type="phone,2in1,tablet,wearable,tv">Range<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="range10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文本的选中范围。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">start</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">选中文本的首字符在编辑框的索引值。该参数应为大于或等于0的整数，不超过文本实际长度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">end</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">选中文本的末字符在编辑框的索引值。该参数应为大于或等于0的整数，不超过文本实际长度，end值要大于start值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 357px;">     <h2 id="movement10" device-type="phone,2in1,tablet,wearable,tv">Movement<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="movement10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>选中文本时，光标移动的方向。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">direction</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#direction10">Direction</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">选中文本时，光标的移动方向。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 945px;">     <h2 id="inputwindowinfo10" device-type="phone,2in1,tablet,wearable,tv">InputWindowInfo<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputwindowinfo10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>输入法软键盘的窗口信息。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">name</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">输入法窗口的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">left</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">输入法窗口左上顶点的横坐标，单位为px。该参数应为整数，最小值为0，最大值为当前屏幕的宽度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">top</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">输入法窗口左上顶点的纵坐标，单位为px。该参数应为整数，最小值为0，最大值为当前屏幕的高度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">width</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">输入法窗口的宽度，单位为px。该参数应为整数，最小值为0，最大值为当前屏幕的宽度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">height</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">输入法窗口的高度，单位为px。该参数应为整数，最小值为0，最大值为当前屏幕的高度。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 423px;">     <h2 id="enabledstate15" device-type="phone,2in1,tablet,wearable,tv">EnabledState<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enabledstate15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>输入法启用状态。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">DISABLED</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">未启用。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BASIC_MODE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">基础模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">FULL_EXPERIENCE_MODE</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">完整体验模式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 468px;">     <h2 id="requestkeyboardreason15" device-type="phone,2in1,tablet,wearable,tv">RequestKeyboardReason<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="requestkeyboardreason15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>请求键盘输入的原因。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NONE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">表示没有特定的原因触发键盘请求。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MOUSE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示键盘请求是由鼠标操作触发的。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TOUCH</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">表示键盘请求是由触摸操作触发的。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">OTHER</td>         <td class="cellrowborder" width="33.33333333333333%">20</td>         <td class="cellrowborder" width="33.33333333333333%">表示键盘请求是由其他原因触发的。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 346px;">     <h2 id="messagehandler15" device-type="phone,2in1,tablet,wearable,tv">MessageHandler<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="messagehandler15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>自定义通信对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>开发者可通过注册此对象来接收输入法应用发送的自定义通信数据，接收到自定义通信数据时会触发此对象中<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#onmessage15">onMessage</a>回调函数。</p>       <p>此对象全局唯一，多次注册仅保留最后一次注册的对象及有效性，并触发上一个已注册对象的<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#onterminated15">onTerminated</a>回调函数。</p>       <p>若取消注册全局已注册的对象时，会触发被取消对象中<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#onterminated15">onTerminated</a>回调函数。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1015px;">     <h3 id="onmessage15" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">onMessage<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onmessage15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onMessage(msgId: string, msgParam?: ArrayBuffer): void</p>     <p>接收输入法应用发送的自定义数据回调函数。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当已注册的MessageHandler接收到来自输入法应用发送的自定义通信数据时，会触发该回调函数。</p>       <p>msgId为必选参数，msgParam为可选参数。存在收到仅有msgId自定义数据的可能，需与数据发送方确认自定义数据。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">msgId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收到的自定义通信数据的标识符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">msgParam</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">接收到的自定义通信数据的消息体。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">messageHandler</span>: inputMethod.<span class="hljs-property">MessageHandler</span> = {</li><li>  <span class="hljs-title function_">onTerminated</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'OnTerminated.'</span>);</li><li>  },</li><li>  <span class="hljs-title function_">onMessage</span>(<span class="hljs-attr">msgId</span>: <span class="hljs-built_in">string</span>, msgParam?: <span class="hljs-title class_">ArrayBuffer</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'recv message.'</span>);</li><li>  }</li><li>};</li><li>inputMethodController.<span class="hljs-title function_">recvMessage</span>(messageHandler);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 787px;">     <h3 id="onterminated15" device-type="phone,2in1,tablet,wearable,tv">onTerminated<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onterminated15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onTerminated(): void</p>     <p>监听对象终止回调函数。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当应用注册新的MessageHandler对象时，会触发上一个已注册MessageHandler对象的OnTerminated回调函数。</p>       <p>当应用取消注册时，会触发当前已注册MessageHandler对象的OnTerminated回调函数。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">messageHandler</span>: inputMethod.<span class="hljs-property">MessageHandler</span> = {</li><li>  <span class="hljs-title function_">onTerminated</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'OnTerminated.'</span>);</li><li>  },</li><li>  <span class="hljs-title function_">onMessage</span>(<span class="hljs-attr">msgId</span>: <span class="hljs-built_in">string</span>, msgParam?: <span class="hljs-title class_">ArrayBuffer</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'recv message.'</span>);</li><li>  }</li><li>};</li><li>inputMethodController.<span class="hljs-title function_">recvMessage</span>(messageHandler);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 474px;">     <h2 id="setpreviewtextcallback17" device-type="phone,2in1,tablet,wearable,tv">SetPreviewTextCallback<sup>17+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setpreviewtextcallback17" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type SetPreviewTextCallback = (text: string, range: Range) =&gt; void</p>     <p>当输入法框架需要显示预览文本时触发的回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">预览文本内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">range</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#range10">Range</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文本的选中范围。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="inputmethodcontroller" device-type="phone,2in1,tablet,wearable,tv">InputMethodController<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodcontroller" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>下列API示例中都需使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodgetcontroller9">getController</a>获取到InputMethodController实例，再通过实例调用对应方法。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1725px;">     <h3 id="attach10" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">attach<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="attach10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>attach(showKeyboard: boolean, textConfig: TextConfig, callback: AsyncCallback&lt;void&gt;): void</p>     <p>自绘控件绑定输入法。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>需要先调用此接口，完成自绘控件与输入法的绑定，才能使用以下功能：显示/隐藏键盘、更新光标信息、更改编辑框选中范围、保存配置信息、监听处理由输入法应用发送的信息或命令等。</p>       <p>当自绘控件所在窗口通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowfocusable9">setWindowFocusable</a>设置为不可获焦窗口时，系统将无法保证自绘输入控件与输入法正常交互。若开发者希望在不可获焦窗口中绘制输入框，建议参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/use-inputmethod-in-not-focusable-window" target="_blank">不可获焦窗口中输入框与输入法交互指南</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">showKeyboard</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绑定输入法成功后，是否拉起输入法键盘。</p>          <p>- true表示拉起。</p>          <p>- false表示不拉起。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">textConfig</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#textconfig10">TextConfig</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">编辑框的配置信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当绑定输入法成功后，err为undefined；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputAttribute</span>: inputMethod.<span class="hljs-property">InputAttribute</span> = {</li><li>  <span class="hljs-attr">textInputType</span>: inputMethod.<span class="hljs-property">TextInputType</span>.<span class="hljs-property">TEXT</span>,</li><li>  <span class="hljs-attr">enterKeyType</span>: inputMethod.<span class="hljs-property">EnterKeyType</span>.<span class="hljs-property">GO</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">textConfig</span>: inputMethod.<span class="hljs-property">TextConfig</span> = { <span class="hljs-attr">inputAttribute</span>: inputAttribute };</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">attach</span>(<span class="hljs-literal">true</span>, textConfig, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to attach, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in attaching the inputMethod.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1771px;">     <h3 id="attach10-1" device-type="phone,2in1,tablet,wearable,tv">attach<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="attach10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>attach(showKeyboard: boolean, textConfig: TextConfig): Promise&lt;void&gt;</p>     <p>自绘控件绑定输入法。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>需要先调用此接口，完成自绘控件与输入法的绑定，才能使用以下功能：显示/隐藏键盘、更新光标信息、更改编辑框选中范围、保存配置信息、监听处理由输入法应用发送的信息或命令等。</p>       <p>当自绘控件所在窗口通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowfocusable9">setWindowFocusable</a>设置为不可获焦窗口时，系统将无法保证自绘输入控件与输入法正常交互。若开发者希望在不可获焦窗口中绘制输入框，建议参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/use-inputmethod-in-not-focusable-window" target="_blank">不可获焦窗口中输入框与输入法交互指南</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">showKeyboard</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绑定输入法成功后，是否拉起输入法键盘。</p>          <p>- true表示拉起。</p>          <p>- false表示不拉起。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">textConfig</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#textconfig10">TextConfig</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">编辑框的配置信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputAttribute</span>: inputMethod.<span class="hljs-property">InputAttribute</span> = {</li><li>  <span class="hljs-attr">textInputType</span>: inputMethod.<span class="hljs-property">TextInputType</span>.<span class="hljs-property">TEXT</span>,</li><li>  <span class="hljs-attr">enterKeyType</span>: inputMethod.<span class="hljs-property">EnterKeyType</span>.<span class="hljs-property">GO</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">textConfig</span>: inputMethod.<span class="hljs-property">TextConfig</span> = { <span class="hljs-attr">inputAttribute</span>: inputAttribute };</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">attach</span>(<span class="hljs-literal">true</span>, textConfig).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in attaching inputMethod.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to attach, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1864px;">     <h3 id="attach15" device-type="phone,2in1,tablet,wearable,tv">attach<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="attach15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>attach(showKeyboard: boolean, textConfig: TextConfig, requestKeyboardReason: RequestKeyboardReason): Promise&lt;void&gt;</p>     <p>自绘控件绑定输入法。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>需要先调用此接口，完成自绘控件与输入法的绑定，才能使用以下功能：显示/隐藏键盘、更新光标信息、更改编辑框选中范围、保存配置信息、监听处理由输入法应用发送的信息或命令等。</p>       <p>当自绘控件所在窗口通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowfocusable9">setWindowFocusable</a>设置为不可获焦窗口时，系统将无法保证自绘输入控件与输入法正常交互。若开发者希望在不可获焦窗口中绘制输入框，建议参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/use-inputmethod-in-not-focusable-window" target="_blank">不可获焦窗口中输入框与输入法交互指南</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">showKeyboard</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绑定输入法成功后，是否拉起输入法键盘。</p>          <p>- true表示拉起。</p>          <p>- false表示不拉起。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">textConfig</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#textconfig10">TextConfig</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">编辑框的配置信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">requestKeyboardReason</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#requestkeyboardreason15">RequestKeyboardReason</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">请求键盘输入的原因。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputAttribute</span>: inputMethod.<span class="hljs-property">InputAttribute</span> = {</li><li>  <span class="hljs-attr">textInputType</span>: inputMethod.<span class="hljs-property">TextInputType</span>.<span class="hljs-property">TEXT</span>,</li><li>  <span class="hljs-attr">enterKeyType</span>: inputMethod.<span class="hljs-property">EnterKeyType</span>.<span class="hljs-property">GO</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">textConfig</span>: inputMethod.<span class="hljs-property">TextConfig</span> = { <span class="hljs-attr">inputAttribute</span>: inputAttribute };</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">requestKeyboardReason</span>: inputMethod.<span class="hljs-property">RequestKeyboardReason</span> = inputMethod.<span class="hljs-property">RequestKeyboardReason</span>.<span class="hljs-property">MOUSE</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">attach</span>(<span class="hljs-literal">true</span>, textConfig, requestKeyboardReason).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in attaching inputMethod.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to attach, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1239px;">     <h3 id="discardtypingtext20" device-type="phone,2in1,tablet,wearable,tv">discardTypingText<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="discardtypingtext20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>discardTypingText(): Promise&lt;void&gt;</p>     <p>编辑框应用发送“清空正在输入的文字”命令到输入法。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当编辑框应用与输入法绑定成功后，才可调用该接口实现此功能。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800015</td>         <td class="cellrowborder" width="50%">the other side does not accept the request.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">discardTypingText</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded discardTypingText.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to discardTypingText, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1339px;">     <h3 id="showtextinput10" device-type="phone,2in1,tablet,wearable,tv">showTextInput<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showtextinput10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showTextInput(callback: AsyncCallback&lt;void&gt;): void</p>     <p>进入文本编辑状态。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>编辑框与输入法绑定成功后，可调用该接口拉起软键盘，进入文本编辑状态。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。若成功进入编辑状态，err为undefined；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">showTextInput</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to showTextInput, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in showing the inputMethod.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1263px;">     <h3 id="showtextinput10-1" device-type="phone,2in1,tablet,wearable,tv">showTextInput<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showtextinput10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showTextInput(): Promise&lt;void&gt;</p>     <p>进入文本编辑状态。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>编辑框与输入法绑定成功后，可调用该接口拉起软键盘，进入文本编辑状态。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">showTextInput</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in showing text input.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to showTextInput, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1462px;">     <h3 id="showtextinput15" device-type="phone,2in1,tablet,wearable,tv">showTextInput<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showtextinput15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showTextInput(requestKeyboardReason: RequestKeyboardReason): Promise&lt;void&gt;</p>     <p>进入文本编辑状态。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>编辑框与输入法绑定成功后，可调用该接口拉起软键盘，进入文本编辑状态。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">requestKeyboardReason</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#requestkeyboardreason15">RequestKeyboardReason</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">请求键盘输入的原因。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">requestKeyboardReason</span>: inputMethod.<span class="hljs-property">RequestKeyboardReason</span> = inputMethod.<span class="hljs-property">RequestKeyboardReason</span>.<span class="hljs-property">MOUSE</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">showTextInput</span>(requestKeyboardReason).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in showing text input.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to showTextInput, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1363px;">     <h3 id="hidetextinput10" device-type="phone,2in1,tablet,wearable,tv">hideTextInput<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hidetextinput10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>hideTextInput(callback: AsyncCallback&lt;void&gt;): void</p>     <p>退出文本编辑状态。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>调用接口时，若软键盘处于显示状态，调用接口后软键盘会被隐藏。</p>       <p>调用该接口不会解除与输入法的绑定，再次调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#showtextinput10">showTextInput</a>时，可重新进入文本编辑状态。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当成功退出编辑状态时，err为undefined；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">hideTextInput</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to hideTextInput, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in hiding text input.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1287px;">     <h3 id="hidetextinput10-1" device-type="phone,2in1,tablet,wearable,tv">hideTextInput<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hidetextinput10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>hideTextInput(): Promise&lt;void&gt;</p>     <p>退出文本编辑状态。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>调用接口时，若软键盘处于显示状态，调用接口后软键盘会被隐藏。</p>       <p>调用该接口不会解除与输入法的绑定，再次调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#showtextinput10">showTextInput</a>时，可重新进入文本编辑状态。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">hideTextInput</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in hiding inputMethod.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to hideTextInput, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1192px;">     <h3 id="detach10" device-type="phone,2in1,tablet,wearable,tv">detach<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="detach10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>detach(callback: AsyncCallback&lt;void&gt;): void</p>     <p>自绘控件解除与输入法的绑定。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当解绑定输入法成功时，err为undefined；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">detach</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to detach, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in detaching inputMethod.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1116px;">     <h3 id="detach10-1" device-type="phone,2in1,tablet,wearable,tv">detach<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="detach10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>detach(): Promise&lt;void&gt;</p>     <p>自绘控件解除与输入法的绑定。使用promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">detach</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in detaching inputMethod.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to detach, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1559px;">     <h3 id="setcallingwindow10" device-type="phone,2in1,tablet,wearable,tv">setCallingWindow<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcallingwindow10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setCallingWindow(windowId: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置要避让软键盘的窗口。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>将绑定到输入法的应用程序所在的窗口Id传入，此窗口可以避让输入法窗口。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">windowId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定输入法应用的应用程序所在的窗口Id。该参数应为整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当设置成功时，err为undefined；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">windowId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">2000</span>;</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">setCallingWindow</span>(windowId, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to setCallingWindow, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting callingWindow.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1589px;">     <h3 id="setcallingwindow10-1" device-type="phone,2in1,tablet,wearable,tv">setCallingWindow<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcallingwindow10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setCallingWindow(windowId: number): Promise&lt;void&gt;</p>     <p>设置要避让软键盘的窗口。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>将绑定到输入法的应用程序所在的窗口Id传入，此窗口可以避让输入法窗口。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">windowId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定输入法应用的应用程序所在的窗口Id。该参数应为整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">windowId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">2000</span>;</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">setCallingWindow</span>(windowId).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting callingWindow.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to setCallingWindow, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1539px;">     <h3 id="updatecursor10" device-type="phone,2in1,tablet,wearable,tv">updateCursor<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatecursor10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateCursor(cursorInfo: CursorInfo, callback: AsyncCallback&lt;void&gt;): void</p>     <p>当编辑框内的光标信息发生变化时，调用该接口使输入法感知到光标变化。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cursorInfo</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#cursorinfo10">CursorInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">光标信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当光标信息更新成功时，err为undefined；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">cursorInfo</span>: inputMethod.<span class="hljs-property">CursorInfo</span> = {</li><li>  <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">width</span>: <span class="hljs-number">600</span>,</li><li>  <span class="hljs-attr">height</span>: <span class="hljs-number">800</span></li><li>};</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">updateCursor</span>(cursorInfo, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to updateCursor, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in updating cursorInfo.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1569px;">     <h3 id="updatecursor10-1" device-type="phone,2in1,tablet,wearable,tv">updateCursor<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatecursor10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateCursor(cursorInfo: CursorInfo): Promise&lt;void&gt;</p>     <p>当编辑框内的光标信息发生变化时，调用该接口使输入法感知到光标变化。使用promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cursorInfo</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#cursorinfo10">CursorInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">光标信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">cursorInfo</span>: inputMethod.<span class="hljs-property">CursorInfo</span> = {</li><li>  <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">width</span>: <span class="hljs-number">600</span>,</li><li>  <span class="hljs-attr">height</span>: <span class="hljs-number">800</span></li><li>};</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">updateCursor</span>(cursorInfo).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in updating cursorInfo.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to updateCursor, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1557px;">     <h3 id="changeselection10" device-type="phone,2in1,tablet,wearable,tv">changeSelection<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="changeselection10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>changeSelection(text: string, start: number, end: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>当编辑框内被选中的文本信息内容或文本范围发生变化时，可调用该接口更新文本信息，使输入法应用感知到变化。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">整个输入文本。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">start</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所选文本的起始位置。该参数应为大于或等于0的整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">end</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所选文本的结束位置。该参数应为大于或等于0的整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当文本信息更新成功时，err为undefined；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">changeSelection</span>(<span class="hljs-string">'text'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to changeSelection, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in changing selection.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1587px;">     <h3 id="changeselection10-1" device-type="phone,2in1,tablet,wearable,tv">changeSelection<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="changeselection10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>changeSelection(text: string, start: number, end: number): Promise&lt;void&gt;</p>     <p>当编辑框内被选中的文本信息内容或文本范围发生变化时，可调用该接口更新文本信息，使输入法应用感知到变化。使用promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">整个输入文本。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">start</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所选文本的起始位置。该参数应为大于或等于0的整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">end</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所选文本的结束位置。该参数应为大于或等于0的整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">changeSelection</span>(<span class="hljs-string">'test'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in changing selection.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to changeSelection, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1443px;">     <h3 id="updateattribute10" device-type="phone,2in1,tablet,wearable,tv">updateAttribute<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updateattribute10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateAttribute(attribute: InputAttribute, callback: AsyncCallback&lt;void&gt;): void</p>     <p>更新编辑框属性信息。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">attribute</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputattribute10">InputAttribute</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">编辑框属性对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当编辑框属性信息更新成功时，err为undefined；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.58.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputAttribute</span>: inputMethod.<span class="hljs-property">InputAttribute</span> = { <span class="hljs-attr">textInputType</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">enterKeyType</span>: <span class="hljs-number">1</span> };</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">updateAttribute</span>(inputAttribute, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to updateAttribute, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in updating attribute.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1449px;">     <h3 id="updateattribute10-1" device-type="phone,2in1,tablet,wearable,tv">updateAttribute<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updateattribute10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateAttribute(attribute: InputAttribute): Promise&lt;void&gt;</p>     <p>更新编辑框属性信息。使用promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">attribute</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputattribute10">InputAttribute</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">编辑框属性对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputAttribute</span>: inputMethod.<span class="hljs-property">InputAttribute</span> = { <span class="hljs-attr">textInputType</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">enterKeyType</span>: <span class="hljs-number">1</span> };</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">updateAttribute</span>(inputAttribute).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in updating attribute.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to updateAttribute, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1404px;">     <h3 id="stopinputsession9" device-type="phone,2in1,tablet,wearable,tv">stopInputSession<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopinputsession9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopInputSession(callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>结束输入会话。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口需要编辑框与输入法绑定时才能调用，即点击编辑控件后，才可调用该接口结束输入会话。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当结束输入会话成功时，err为undefined，data为true；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">stopInputSession</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, result: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stopInputSession, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">if</span> (result) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in stopping inputSession.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to stopInputSession.'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1328px;">     <h3 id="stopinputsession9-1" device-type="phone,2in1,tablet,wearable,tv">stopInputSession<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopinputsession9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopInputSession(): Promise&lt;boolean&gt;</p>     <p>结束输入会话。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口需要编辑框与输入法绑定时才能调用，即点击编辑控件后，才可调用该接口结束输入会话。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回true表示结束输入会话成功，返回false表示结束输入会话失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">stopInputSession</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (result) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in stopping inputSession.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to stopInputSession.'</span>);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stopInputSession, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1387px;">     <h3 id="showsoftkeyboard9" device-type="phone,2in1,tablet,wearable,tv">showSoftKeyboard<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showsoftkeyboard9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showSoftKeyboard(callback: AsyncCallback&lt;void&gt;): void</p>     <p>显示输入法软键盘。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口需要编辑框与输入法绑定时才能调用，即点击编辑控件后，才可调用显示当前输入法的软键盘。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.CONNECT_IME_ABILITY，仅系统应用可用。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当软键盘显示成功。err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">permissions check fails.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">showSoftKeyboard</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (!err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in showing softKeyboard.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to show softKeyboard, <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1311px;">     <h3 id="showsoftkeyboard9-1" device-type="phone,2in1,tablet,wearable,tv">showSoftKeyboard<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showsoftkeyboard9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showSoftKeyboard(): Promise&lt;void&gt;</p>     <p>显示输入法软键盘。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口需要编辑框与输入法绑定时才能调用，即点击编辑控件后，才可调用显示当前输入法的软键盘。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.CONNECT_IME_ABILITY，仅系统应用可用。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">permissions check fails.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">showSoftKeyboard</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in showing softKeyboard.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to show softKeyboard, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1387px;">     <h3 id="hidesoftkeyboard9" device-type="phone,2in1,tablet,wearable,tv">hideSoftKeyboard<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hidesoftkeyboard9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>hideSoftKeyboard(callback: AsyncCallback&lt;void&gt;): void</p>     <p>隐藏输入法软键盘。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口需要编辑框与输入法绑定时才能调用，即点击编辑控件后，才可调用隐藏当前输入法的软键盘。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.CONNECT_IME_ABILITY，仅系统应用可用。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当软键盘隐藏成功。err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.64.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">permissions check fails.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">hideSoftKeyboard</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (!err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in hiding softKeyboard.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to hide softKeyboard, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1311px;">     <h3 id="hidesoftkeyboard9-1" device-type="phone,2in1,tablet,wearable,tv">hideSoftKeyboard<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hidesoftkeyboard9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>hideSoftKeyboard(): Promise&lt;void&gt;</p>     <p>隐藏输入法软键盘。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口需要编辑框与输入法绑定时才能调用，即点击编辑控件后，才可调用隐藏当前输入法的软键盘。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.CONNECT_IME_ABILITY，仅系统应用可用。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">permissions check fails.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">hideSoftKeyboard</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in hiding softKeyboard.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to hide softKeyboard, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1744px;">     <h3 id="sendmessage15" device-type="phone,2in1,tablet,wearable,tv">sendMessage<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendmessage15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendMessage(msgId: string, msgParam?: ArrayBuffer): Promise&lt;void&gt;</p>     <p>发送自定义通信至输入法应用。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口需要编辑框与输入法绑定并进入编辑状态，且输入法应用处于完整体验模式时才能调用。</p>       <p>msgId最大限制256B，msgParam最大限制128KB。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">msgId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要发送至输入法应用的自定义数据的标识符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">msgParam</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要发送至输入法应用的自定义数据的消息体。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Incorrect parameter types. 2. Incorrect parameter length.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800003</td>         <td class="cellrowborder" width="50%">input method client error. Possible causes: 1.the edit box is not focused. 2.no edit box is bound to current input method application. 3.ipc failed due to the large amount of data transferred or other reasons.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800014</td>         <td class="cellrowborder" width="50%">the input method is in basic mode.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800015</td>         <td class="cellrowborder" width="50%">the other side does not accept the request.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800016</td>         <td class="cellrowborder" width="50%">input method client is not editable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">msgId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"testMsgId"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">msgParam</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">128</span>);</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">sendMessage</span>(msgId, msgParam).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded send message.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to send message, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1469px;">     <h3 id="recvmessage15" device-type="phone,2in1,tablet,wearable,tv">recvMessage<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="recvmessage15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>recvMessage(msgHandler?: MessageHandler): void</p>     <p>注册或取消注册MessageHandler。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#messagehandler15">MessageHandler</a>对象全局唯一，多次注册仅保留最后一次注册的对象及有效性，并触发上一个已注册对象的<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#onterminated15">onTerminated</a>回调函数。</p>       <p>未填写参数，则取消全局已注册的<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#messagehandler15">MessageHandler</a>，并触发被取消注册对象中<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#onterminated15">onTerminated</a>回调函数。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">msgHandler</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#messagehandler15">MessageHandler</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>该对象通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#onmessage15">onMessage</a>接收来自输入法应用所发送的自定义通信数据，并通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#onterminated15">onTerminated</a>接收终止此对象订阅的消息。</p>          <p>若不填写此参数，则取消全局已注册的<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#messagehandler15">MessageHandler</a>对象，同时触发其<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#onterminated15">onTerminated</a>回调函数。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">messageHandler</span>: inputMethod.<span class="hljs-property">MessageHandler</span> = {</li><li>  <span class="hljs-title function_">onTerminated</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'OnTerminated.'</span>);</li><li>  },</li><li>  <span class="hljs-title function_">onMessage</span>(<span class="hljs-attr">msgId</span>: <span class="hljs-built_in">string</span>, msgParam?: <span class="hljs-title class_">ArrayBuffer</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'recv message.'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">recvMessage</span>(messageHandler);</li><li><span class="hljs-comment">// 取消已注册的MessageHandler</span></li><li>inputMethodController.<span class="hljs-title function_">recvMessage</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1034px;">     <h3 id="stopinputdeprecated" device-type="phone,2in1,tablet,wearable,tv">stopInput<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopinputdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopInput(callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>结束输入会话。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口需要编辑框与输入法绑定时才能调用，即点击编辑控件后，才可调用该接口结束输入会话。</p>       <p>从API version 6开始支持，从API version 9开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#stopinputsession9">stopInputSession()</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当会话结束成功，err为undefined，data为true；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">stopInput</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, result: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stopInput, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">if</span> (result) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in stopping input.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to stopInput.'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 982px;">     <h3 id="stopinputdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">stopInput<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopinputdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopInput(): Promise&lt;boolean&gt;</p>     <p>结束输入会话。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口需要编辑框与输入法绑定时才能调用，即点击编辑控件后，才可调用该接口结束输入会话。</p>       <p>从API version 6开始支持，从API version 9开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#stopinputsession9">stopInputSession()</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回true表示会话结束成功；返回false表示会话结束失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">stopInput</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (result) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in stopping input.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to stopInput.'</span>);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stopInput, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1405px;">     <h3 id="oninserttext10" device-type="phone,2in1,tablet,wearable,tv">on('insertText')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oninserttext10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'insertText', callback: (text: string) =&gt; void): void</p>     <p>订阅输入法应用插入文本事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'insertText'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(text: string) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数，返回需要插入的文本内容。</p>          <p>根据传入的文本，在回调函数中操作编辑框中的内容。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.70.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting callback1, data: <span class="hljs-subst">${text}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting callback2, data: <span class="hljs-subst">${text}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li><span class="hljs-comment">// 注册回调</span></li><li>inputMethodController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'insertText'</span>, callback1);</li><li>inputMethodController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'insertText'</span>, callback2);</li><li><span class="hljs-comment">// 仅取消insertText的callback1的回调</span></li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'insertText'</span>, callback1);</li><li><span class="hljs-comment">// 取消insertText的所有回调</span></li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'insertText'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 915px;">     <h3 id="offinserttext10" device-type="phone,2in1,tablet,wearable,tv">off('insertText')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offinserttext10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'insertText', callback?: (text: string) =&gt; void): void</p>     <p>取消订阅输入法应用插入文本事件。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'insertText'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(text: string) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>取消订阅的回调函数，需要与on接口传入的保持一致。</p>          <p>参数不填写时，取消订阅type对应的所有回调事件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Callback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onInsertTextCallback</span>: <span class="hljs-title class_">Callback</span>&lt;<span class="hljs-built_in">string</span>&gt; = (<span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing insertText: <span class="hljs-subst">${text}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'insertText'</span>, onInsertTextCallback);</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'insertText'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1117px;">     <h3 id="ondeleteleft10" device-type="phone,2in1,tablet,wearable,tv">on('deleteLeft')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondeleteleft10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'deleteLeft', callback: (length: number) =&gt; void): void</p>     <p>订阅输入法应用向左删除文本事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'deleteLeft'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(length: number) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数，返回需要向左删除的文本长度。</p>          <p>根据传入的删除长度，在回调函数中操作编辑框中的文本。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">'deleteLeft'</span>, <span class="hljs-function">(<span class="hljs-params">length: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing deleteLeft, length: <span class="hljs-subst">${length}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 915px;">     <h3 id="offdeleteleft10" device-type="phone,2in1,tablet,wearable,tv">off('deleteLeft')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offdeleteleft10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'deleteLeft', callback?: (length: number) =&gt; void): void</p>     <p>取消订阅输入法应用向左删除文本事件。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听，固定取值为'deleteLeft'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(length: number) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>取消订阅的回调函数，需要与on接口传入的保持一致。</p>          <p>参数不填写时，取消订阅type对应的所有回调事件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Callback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onDeleteLeftCallback</span>: <span class="hljs-title class_">Callback</span>&lt;<span class="hljs-built_in">number</span>&gt; = (<span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing deleteLeft, length: <span class="hljs-subst">${length}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'deleteLeft'</span>, onDeleteLeftCallback);</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'deleteLeft'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1117px;">     <h3 id="ondeleteright10" device-type="phone,2in1,tablet,wearable,tv">on('deleteRight')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondeleteright10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'deleteRight', callback: (length: number) =&gt; void): void</p>     <p>订阅输入法应用向右删除文本事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'deleteRight'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(length: number) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数，返回需要向右删除的文本长度。</p>          <p>根据传入的删除长度，在回调函数中操作编辑框中的文本。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">'deleteRight'</span>, <span class="hljs-function">(<span class="hljs-params">length: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing deleteRight, length: <span class="hljs-subst">${length}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 891px;">     <h3 id="offdeleteright10" device-type="phone,2in1,tablet,wearable,tv">off('deleteRight')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offdeleteright10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'deleteRight', callback?: (length: number) =&gt; void): void</p>     <p>取消订阅输入法应用向右删除文本事件。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为deleteRight。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(length: number) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>取消订阅的回调函数，需要与on接口传入的保持一致。</p>          <p>参数不填写时，取消订阅type对应的所有回调事件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Callback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onDeleteRightCallback</span>: <span class="hljs-title class_">Callback</span>&lt;<span class="hljs-built_in">number</span>&gt; = (<span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing deleteRight, length: <span class="hljs-subst">${length}</span>`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'deleteRight'</span>, onDeleteRightCallback);</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'deleteRight'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1093px;">     <h3 id="onsendkeyboardstatus10" device-type="phone,2in1,tablet,wearable,tv">on('sendKeyboardStatus')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onsendkeyboardstatus10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'sendKeyboardStatus', callback: (keyboardStatus: KeyboardStatus) =&gt; void): void</p>     <p>订阅输入法应用发送输入法软键盘状态事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'sendKeyboardStatus'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(keyboardStatus: <a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#keyboardstatus10">KeyboardStatus</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数，返回软键盘状态。</p>          <p>根据传入的软键盘状态，在回调函数中做相应操作。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">'sendKeyboardStatus'</span>, <span class="hljs-function">(<span class="hljs-params">keyboardStatus: inputMethod.KeyboardStatus</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing sendKeyboardStatus, keyboardStatus: <span class="hljs-subst">${keyboardStatus}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 891px;">     <h3 id="offsendkeyboardstatus10" device-type="phone,2in1,tablet,wearable,tv">off('sendKeyboardStatus')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offsendkeyboardstatus10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'sendKeyboardStatus', callback?: (keyboardStatus: KeyboardStatus) =&gt; void): void</p>     <p>取消订阅输入法应用发送输入法软键盘状态事件。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'sendKeyboardStatus'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(keyboardStatus: <a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#keyboardstatus10">KeyboardStatus</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">取消订阅的回调函数。参数不填写时，取消订阅type对应的所有回调事件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Callback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onSendKeyboardStatus</span>: <span class="hljs-title class_">Callback</span>&lt;inputMethod.<span class="hljs-property">KeyboardStatus</span>&gt; = (<span class="hljs-attr">keyboardStatus</span>: inputMethod.<span class="hljs-property">KeyboardStatus</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing sendKeyboardStatus, keyboardStatus: <span class="hljs-subst">${keyboardStatus}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'sendKeyboardStatus'</span>, onSendKeyboardStatus);</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'sendKeyboardStatus'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1093px;">     <h3 id="onsendfunctionkey10" device-type="phone,2in1,tablet,wearable,tv">on('sendFunctionKey')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onsendfunctionkey10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'sendFunctionKey', callback: (functionKey: FunctionKey) =&gt; void): void</p>     <p>订阅输入法应用发送功能键事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'sendFunctionKey'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(functionKey: <a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#functionkey10">FunctionKey</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数，返回输入法应用发送的功能键信息。</p>          <p>根据返回的功能键信息，做相应操作。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">'sendFunctionKey'</span>, <span class="hljs-function">(<span class="hljs-params">functionKey: inputMethod.FunctionKey</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing sendFunctionKey, functionKey.enterKeyType: <span class="hljs-subst">${functionKey.enterKeyType}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 915px;">     <h3 id="offsendfunctionkey10" device-type="phone,2in1,tablet,wearable,tv">off('sendFunctionKey')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offsendfunctionkey10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'sendFunctionKey', callback?: (functionKey: FunctionKey) =&gt; void): void</p>     <p>取消订阅输入法应用发送功能键事件。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'sendFunctionKey'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(functionKey: <a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#functionkey10">FunctionKey</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>取消订阅的回调函数，需要与on接口传入的保持一致。</p>          <p>参数不填写时，取消订阅type对应的所有回调事件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Callback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onSendFunctionKey</span>: <span class="hljs-title class_">Callback</span>&lt;inputMethod.<span class="hljs-property">FunctionKey</span>&gt; = (<span class="hljs-attr">functionKey</span>: inputMethod.<span class="hljs-property">FunctionKey</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing sendFunctionKey, functionKey: <span class="hljs-subst">${functionKey.enterKeyType}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'sendFunctionKey'</span>, onSendFunctionKey);</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'sendFunctionKey'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1093px;">     <h3 id="onmovecursor10" device-type="phone,2in1,tablet,wearable,tv">on('moveCursor')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onmovecursor10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'moveCursor', callback: (direction: Direction) =&gt; void): void</p>     <p>订阅输入法应用移动光标事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'moveCursor'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(direction: <a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#direction10">Direction</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数，返回光标信息。</p>          <p>根据返回的光标移动方向，改变光标位置，如光标向上或向下。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">'moveCursor'</span>, <span class="hljs-function">(<span class="hljs-params">direction: inputMethod.Direction</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing moveCursor, direction: <span class="hljs-subst">${direction}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 915px;">     <h3 id="offmovecursor10" device-type="phone,2in1,tablet,wearable,tv">off('moveCursor')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offmovecursor10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'moveCursor', callback?: (direction: Direction) =&gt; void): void</p>     <p>取消订阅输入法应用移动光标事件。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'moveCursor'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(direction: <a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#direction10">Direction<sup>10+</sup></a>) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>取消订阅的回调函数，需要与on接口传入的保持一致。</p>          <p>参数不填写时，取消订阅type对应的所有回调事件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Callback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onMoveCursorCallback</span>: <span class="hljs-title class_">Callback</span>&lt;inputMethod.<span class="hljs-property">Direction</span>&gt; = (<span class="hljs-attr">direction</span>: inputMethod.<span class="hljs-property">Direction</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing moveCursor, direction: <span class="hljs-subst">${direction}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'moveCursor'</span>, onMoveCursorCallback);</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'moveCursor'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1117px;">     <h3 id="onhandleextendaction10" device-type="phone,2in1,tablet,wearable,tv">on('handleExtendAction')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onhandleextendaction10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'handleExtendAction', callback: (action: ExtendAction) =&gt; void): void</p>     <p>订阅输入法应用发送扩展编辑操作事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'handleExtendAction'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(action: <a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#extendaction10">ExtendAction</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数，返回扩展编辑操作类型。</p>          <p>根据传入的扩展编辑操作类型，做相应的操作，如剪切、复制等。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">'handleExtendAction'</span>, <span class="hljs-function">(<span class="hljs-params">action: inputMethod.ExtendAction</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing handleExtendAction, action: <span class="hljs-subst">${action}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 915px;">     <h3 id="offhandleextendaction10" device-type="phone,2in1,tablet,wearable,tv">off('handleExtendAction')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offhandleextendaction10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'handleExtendAction', callback?: (action: ExtendAction) =&gt; void): void</p>     <p>取消订阅输入法应用发送扩展编辑操作事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'handleExtendAction'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(action: <a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#extendaction10">ExtendAction</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>取消订阅的回调函数，需要与on接口传入的保持一致。</p>          <p>参数不填写时，取消订阅type对应的所有回调事件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Callback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onHandleExtendActionCallback</span>: <span class="hljs-title class_">Callback</span>&lt;inputMethod.<span class="hljs-property">ExtendAction</span>&gt; = (<span class="hljs-attr">action</span>: inputMethod.<span class="hljs-property">ExtendAction</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing handleExtendAction, action: <span class="hljs-subst">${action}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'handleExtendAction'</span>, onHandleExtendActionCallback);</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'handleExtendAction'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1062px;">     <h3 id="onselectbyrange10" device-type="phone,2in1,tablet,wearable,tv">on('selectByRange')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onselectbyrange10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'selectByRange', callback: Callback&lt;Range&gt;): void</p>     <p>订阅输入法应用按范围选中文本事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'selectByRange'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#range10">Range</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数，返回需要选中的文本范围。</p>          <p>根据传入的文本范围，开发者在回调函数中编辑框中相应文本。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.84.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">'selectByRange'</span>, <span class="hljs-function">(<span class="hljs-params">range: inputMethod.Range</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing selectByRange: start: <span class="hljs-subst">${range.start}</span> , end: <span class="hljs-subst">${range.end}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 915px;">     <h3 id="offselectbyrange10" device-type="phone,2in1,tablet,wearable,tv">off('selectByRange')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offselectbyrange10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'selectByRange', callback?: Callback&lt;Range&gt;): void</p>     <p>取消订阅输入法应用按范围选中文本事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'selectByRange'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#range10">Range</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>取消订阅的回调函数，需要与on接口传入的保持一致。</p>          <p>参数不填写时，取消订阅type对应的所有回调事件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Callback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onSelectByRangeCallback</span>: <span class="hljs-title class_">Callback</span>&lt;inputMethod.<span class="hljs-property">Range</span>&gt; = (<span class="hljs-attr">range</span>: inputMethod.<span class="hljs-property">Range</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing selectByRange, start: <span class="hljs-subst">${range.start}</span> , end: <span class="hljs-subst">${range.end}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'selectByRange'</span>, onSelectByRangeCallback);</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'selectByRange'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1038px;">     <h3 id="onselectbymovement10" device-type="phone,2in1,tablet,wearable,tv">on('selectByMovement')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onselectbymovement10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'selectByMovement', callback: Callback&lt;Movement&gt;): void</p>     <p>订阅输入法应用按光标移动方向，选中文本事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.86.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'selectByMovement'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#movement10">Movement</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数，返回光标移动的方向。</p>          <p>根据传入的光标移动方向，选中编辑框中相应文本。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">'selectByMovement'</span>, <span class="hljs-function">(<span class="hljs-params">movement: inputMethod.Movement</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in subscribing selectByMovement: direction: '</span> + movement.<span class="hljs-property">direction</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 915px;">     <h3 id="offselectbymovement10" device-type="phone,2in1,tablet,wearable,tv">off('selectByMovement')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offselectbymovement10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'selectByMovement', callback?: Callback&lt;Movement&gt;): void</p>     <p>取消订阅输入法应用按光标移动方向，选中文本事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.87.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'selectByMovement'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#movement10">Movement</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>取消订阅的回调函数，需要与on接口传入的保持一致。</p>          <p>参数不填写时，取消订阅type对应的所有回调事件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Callback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onSelectByMovementCallback</span>: <span class="hljs-title class_">Callback</span>&lt;inputMethod.<span class="hljs-property">Movement</span>&gt; = (<span class="hljs-attr">movement</span>: inputMethod.<span class="hljs-property">Movement</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing selectByMovement, movement.direction: <span class="hljs-subst">${movement.direction}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'selectByMovement'</span>, onSelectByMovementCallback);</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'selectByMovement'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1117px;">     <h3 id="ongetlefttextofcursor10" device-type="phone,2in1,tablet,wearable,tv">on('getLeftTextOfCursor')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ongetlefttextofcursor10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'getLeftTextOfCursor', callback: (length: number) =&gt; string): void</p>     <p>订阅输入法应用获取光标左侧指定长度文本事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'getLeftTextOfCursor'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(length: number) =&gt; string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，获取编辑框最新状态下光标左侧指定长度的文本内容并返回。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.88.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">'getLeftTextOfCursor'</span>, <span class="hljs-function">(<span class="hljs-params">length: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing getLeftTextOfCursor, length: <span class="hljs-subst">${length}</span>`</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-keyword">return</span> text;</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 915px;">     <h3 id="offgetlefttextofcursor10" device-type="phone,2in1,tablet,wearable,tv">off('getLeftTextOfCursor')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offgetlefttextofcursor10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'getLeftTextOfCursor', callback?: (length: number) =&gt; string): void</p>     <p>取消订阅输入法应用获取光标左侧指定长度文本事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'getLeftTextOfCursor'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(length: number) =&gt; string</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>取消订阅的回调函数，需要与on接口传入的保持一致。</p>          <p>参数不填写时，取消订阅type对应的所有回调事件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">getLeftTextOfCursorCallback</span>: <span class="hljs-function">(<span class="hljs-params">length: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">string</span> = (<span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in unsubscribing getLeftTextOfCursor, length: <span class="hljs-subst">${length}</span>`</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-keyword">return</span> text;</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'getLeftTextOfCursor'</span>, getLeftTextOfCursorCallback);</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'getLeftTextOfCursor'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1117px;">     <h3 id="ongetrighttextofcursor10" device-type="phone,2in1,tablet,wearable,tv">on('getRightTextOfCursor')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ongetrighttextofcursor10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'getRightTextOfCursor', callback: (length: number) =&gt; string): void</p>     <p>订阅输入法应用获取光标右侧指定长度文本事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'getRightTextOfCursor'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(length: number) =&gt; string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，获取编辑框最新状态下光标右侧指定长度的文本内容并返回。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.90.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">'getRightTextOfCursor'</span>, <span class="hljs-function">(<span class="hljs-params">length: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing getRightTextOfCursor, length: <span class="hljs-subst">${length}</span>`</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-keyword">return</span> text;</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 915px;">     <h3 id="offgetrighttextofcursor10" device-type="phone,2in1,tablet,wearable,tv">off('getRightTextOfCursor')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offgetrighttextofcursor10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'getRightTextOfCursor', callback?: (length: number) =&gt; string): void</p>     <p>取消订阅输入法应用获取光标右侧指定长度文本事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'getRightTextOfCursor'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(length: number) =&gt; string</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>取消订阅的回调函数，需要与on接口传入的保持一致。</p>          <p>参数不填写时，取消订阅type对应的所有回调事件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">getRightTextOfCursorCallback</span>: <span class="hljs-function">(<span class="hljs-params">length: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">string</span> = (<span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in unsubscribing getRightTextOfCursor, length: <span class="hljs-subst">${length}</span>`</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-keyword">return</span> text;</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'getRightTextOfCursor'</span>, getRightTextOfCursorCallback);</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'getRightTextOfCursor'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1117px;">     <h3 id="ongettextindexatcursor10" device-type="phone,2in1,tablet,wearable,tv">on('getTextIndexAtCursor')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ongettextindexatcursor10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'getTextIndexAtCursor', callback: () =&gt; number): void</p>     <p>订阅输入法应用获取光标处文本索引事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'getTextIndexAtCursor'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，获取编辑框最新状态下光标处文本索引并返回。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.92.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800009</td>         <td class="cellrowborder" width="50%">input method client detached.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">'getTextIndexAtCursor'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing getTextIndexAtCursor.`</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">return</span> index;</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 915px;">     <h3 id="offgettextindexatcursor10" device-type="phone,2in1,tablet,wearable,tv">off('getTextIndexAtCursor')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offgettextindexatcursor10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'getTextIndexAtCursor', callback?: () =&gt; number): void</p>     <p>取消订阅输入法应用获取光标处文本索引事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.93.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'getTextIndexAtCursor'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>取消订阅的回调函数，需要与on接口传入的保持一致。</p>          <p>参数不填写时，取消订阅type对应的所有回调事件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">getTextIndexAtCursorCallback</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">number</span> = (): <span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in unsubscribing getTextIndexAtCursor.`</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">return</span> index;</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'getTextIndexAtCursor'</span>, getTextIndexAtCursorCallback);</li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'getTextIndexAtCursor'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1466px;">     <h3 id="onsetpreviewtext17" device-type="phone,2in1,tablet,wearable,tv">on('setPreviewText')<sup>17+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onsetpreviewtext17" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'setPreviewText', callback: SetPreviewTextCallback): void</p>     <p>订阅输入法应用操作文本预览内容的事件。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>使用预览文本功能，需在调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#attach10">attach</a>前订阅此事件，并和<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#onfinishtextpreview17">on('finishTextPreview')</a>一起订阅。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'setPreviewText'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#setpreviewtextcallback17">SetPreviewTextCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。用于接收文本预览的内容并返回。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.94.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">setPreviewTextCallback1</span>: inputMethod.<span class="hljs-property">SetPreviewTextCallback</span> = (<span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">range</span>: inputMethod.<span class="hljs-property">Range</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`SetPreviewTextCallback1: Received text - <span class="hljs-subst">${text}</span>, Received range - start: <span class="hljs-subst">${range.start}</span>, end: <span class="hljs-subst">${range.end}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">setPreviewTextCallback2</span>: inputMethod.<span class="hljs-property">SetPreviewTextCallback</span> = (<span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">range</span>: inputMethod.<span class="hljs-property">Range</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`setPreviewTextCallback2: Received text - <span class="hljs-subst">${text}</span>, Received range - start: <span class="hljs-subst">${range.start}</span>, end: <span class="hljs-subst">${range.end}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'setPreviewText'</span>, setPreviewTextCallback1);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`SetPreviewTextCallback1 subscribed to setPreviewText`</span>);</li><li>inputMethodController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'setPreviewText'</span>, setPreviewTextCallback2);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`SetPreviewTextCallback2 subscribed to setPreviewText`</span>);</li><li><span class="hljs-comment">// 仅取消setPreviewText的callback1的回调。</span></li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'setPreviewText'</span>, setPreviewTextCallback1);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`SetPreviewTextCallback1 unsubscribed from setPreviewText`</span>);</li><li><span class="hljs-comment">// 取消setPreviewText的所有回调。</span></li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'setPreviewText'</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`All callbacks unsubscribed from setPreviewText`</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1155px;">     <h3 id="offsetpreviewtext17" device-type="phone,2in1,tablet,wearable,tv">off('setPreviewText')<sup>17+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offsetpreviewtext17" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'setPreviewText', callback?: SetPreviewTextCallback): void</p>     <p>取消订阅输入法应用操作文本预览内容的事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'setPreviewText'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#setpreviewtextcallback17">SetPreviewTextCallback</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>取消订阅的回调函数，需要与on接口传入的保持一致。</p>          <p>参数不填写时，取消订阅type对应的所有回调事件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">setPreviewTextCallback1</span>: inputMethod.<span class="hljs-property">SetPreviewTextCallback</span> = (<span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">range</span>: inputMethod.<span class="hljs-property">Range</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`SetPreviewTextCallback1: Received text - <span class="hljs-subst">${text}</span>, Received range - start: <span class="hljs-subst">${range.start}</span>, end: <span class="hljs-subst">${range.end}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">setPreviewTextCallback2</span>: inputMethod.<span class="hljs-property">SetPreviewTextCallback</span> = (<span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">range</span>: inputMethod.<span class="hljs-property">Range</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`setPreviewTextCallback2: Received text - <span class="hljs-subst">${text}</span>, Received range - start: <span class="hljs-subst">${range.start}</span>, end: <span class="hljs-subst">${range.end}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'setPreviewText'</span>, setPreviewTextCallback1);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`SetPreviewTextCallback1 subscribed to setPreviewText`</span>);</li><li>inputMethodController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'setPreviewText'</span>, setPreviewTextCallback2);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`SetPreviewTextCallback2 subscribed to setPreviewText`</span>);</li><li><span class="hljs-comment">// 仅取消setPreviewText的callback1的回调。</span></li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'setPreviewText'</span>, setPreviewTextCallback1);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`SetPreviewTextCallback1 unsubscribed from setPreviewText`</span>);</li><li><span class="hljs-comment">// 取消setPreviewText的所有回调。</span></li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'setPreviewText'</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`All callbacks unsubscribed from setPreviewText`</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1514px;">     <h3 id="onfinishtextpreview17" device-type="phone,2in1,tablet,wearable,tv">on('finishTextPreview')<sup>17+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onfinishtextpreview17" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'finishTextPreview', callback: Callback&lt;void&gt;): void</p>     <p>订阅结束文本预览事件。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>使用预览文本功能，需在调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#attach10">attach</a>前订阅此事件，并和<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#onsetpreviewtext17">on('setPreviewText')</a>一起订阅。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'finishTextPreview'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。用于处理预览文本结束的逻辑，类型为void。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.96.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Callback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">finishTextPreviewCallback1</span>: <span class="hljs-title class_">Callback</span>&lt;<span class="hljs-built_in">void</span>&gt; = (): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`FinishTextPreviewCallback1: finishTextPreview event triggered`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">finishTextPreviewCallback2</span>: <span class="hljs-title class_">Callback</span>&lt;<span class="hljs-built_in">void</span>&gt; = (): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`FinishTextPreviewCallback2: finishTextPreview event triggered`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'finishTextPreview'</span>, finishTextPreviewCallback1);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`FinishTextPreviewCallback1 subscribed to finishTextPreview`</span>);</li><li>inputMethodController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'finishTextPreview'</span>, finishTextPreviewCallback2);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`FinishTextPreviewCallback2 subscribed to finishTextPreview`</span>);</li><li><span class="hljs-comment">// 仅取消finishTextPreview的callback1的回调。</span></li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'finishTextPreview'</span>, finishTextPreviewCallback1);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`FinishTextPreviewCallback1 unsubscribed from finishTextPreview`</span>);</li><li><span class="hljs-comment">// 取消finishTextPreview的所有回调。</span></li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'finishTextPreview'</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`All callbacks unsubscribed from finishTextPreview`</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1179px;">     <h3 id="offfinishtextpreview17" device-type="phone,2in1,tablet,wearable,tv">off('finishTextPreview')<sup>17+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offfinishtextpreview17" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'finishTextPreview', callback?: Callback&lt;void&gt;): void</p>     <p>取消订阅结束文本预览事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'finishTextPreview'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>取消订阅的回调函数，需要与on接口传入的保持一致。</p>          <p>参数不填写时，取消订阅type对应的所有回调事件。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Callback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">finishTextPreviewCallback1</span>: <span class="hljs-title class_">Callback</span>&lt;<span class="hljs-built_in">void</span>&gt; = (): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`FinishTextPreviewCallback1: finishTextPreview event triggered`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">finishTextPreviewCallback2</span>: <span class="hljs-title class_">Callback</span>&lt;<span class="hljs-built_in">void</span>&gt; = (): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`FinishTextPreviewCallback2: finishTextPreview event triggered`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodController</span>: inputMethod.<span class="hljs-property">InputMethodController</span> = inputMethod.<span class="hljs-title function_">getController</span>();</li><li>inputMethodController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'finishTextPreview'</span>, finishTextPreviewCallback1);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`FinishTextPreviewCallback1 subscribed to finishTextPreview`</span>);</li><li>inputMethodController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'finishTextPreview'</span>, finishTextPreviewCallback2);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`FinishTextPreviewCallback2 subscribed to finishTextPreview`</span>);</li><li><span class="hljs-comment">// 仅取消finishTextPreview的callback1的回调。</span></li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'finishTextPreview'</span>, finishTextPreviewCallback1);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`FinishTextPreviewCallback1 unsubscribed from finishTextPreview`</span>);</li><li><span class="hljs-comment">// 取消finishTextPreview的所有回调。</span></li><li>inputMethodController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'finishTextPreview'</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`All callbacks unsubscribed from finishTextPreview`</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="inputmethodsetting8" device-type="phone,2in1,tablet,wearable,tv">InputMethodSetting<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="inputmethodsetting8" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>下列API均需使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodgetsetting9">getSetting</a>获取到InputMethodSetting实例后，通过实例调用。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 899px;">     <h3 id="onimechange9" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">on('imeChange')<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onimechange9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'imeChange', callback: (inputMethodProperty: InputMethodProperty, inputMethodSubtype: InputMethodSubtype) =&gt; void): void</p>     <p>订阅输入法及子类型变化监听事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'imeChange'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(inputMethodProperty: <a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a>, inputMethodSubtype: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethod-subtype#inputmethodsubtype">InputMethodSubtype</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回输入法属性对象及子类型对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">InputMethodSubtype</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IMEKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getSetting</span>()</li><li>  .<span class="hljs-title function_">on</span>(<span class="hljs-string">'imeChange'</span>, <span class="hljs-function">(<span class="hljs-params">inputMethodProperty: inputMethod.InputMethodProperty, inputMethodSubtype: InputMethodSubtype</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing imeChange: inputMethodProperty.name: <span class="hljs-subst">${inputMethodProperty.name}</span> `</span> +</li><li>      <span class="hljs-string">`, inputMethodSubtype.id: <span class="hljs-subst">${inputMethodSubtype.id}</span>`</span>);</li><li>  });</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 771px;">     <h3 id="offimechange9" device-type="phone,2in1,tablet,wearable,tv">off('imeChange')<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offimechange9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'imeChange', callback?: (inputMethodProperty: InputMethodProperty, inputMethodSubtype: InputMethodSubtype) =&gt; void): void</p>     <p>取消订阅输入法及子类型变化监听事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置监听类型，固定取值为'imeChange'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(inputMethodProperty: <a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a>, inputMethodSubtype: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethod-subtype#inputmethodsubtype">InputMethodSubtype</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，返回取消订阅的输入法属性对象及子类型对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">off</span>(<span class="hljs-string">'imeChange'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1508px;">     <h3 id="listinputmethodsubtype9" device-type="phone,2in1,tablet,wearable,tv">listInputMethodSubtype<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="listinputmethodsubtype9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>listInputMethodSubtype(inputMethodProperty: InputMethodProperty, callback: AsyncCallback&lt;Array&lt;InputMethodSubtype&gt;&gt;): void</p>     <p>获取指定输入法应用的所有子类型。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.101.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">inputMethodProperty</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">输入法应用。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethod-subtype#inputmethodsubtype">InputMethodSubtype</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回指定输入法应用的所有子类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.101.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800001</td>         <td class="cellrowborder" width="50%">bundle manager error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">InputMethodSubtype</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IMEKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodProperty</span>: inputMethod.<span class="hljs-property">InputMethodProperty</span> = {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">'com.example.keyboard'</span>,</li><li>  <span class="hljs-attr">id</span>: <span class="hljs-string">'propertyId'</span>,</li><li>  <span class="hljs-attr">packageName</span>: <span class="hljs-string">'com.example.keyboard'</span>,</li><li>  <span class="hljs-attr">methodId</span>: <span class="hljs-string">'propertyId'</span>,</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodSetting</span>: inputMethod.<span class="hljs-property">InputMethodSetting</span> = inputMethod.<span class="hljs-title function_">getSetting</span>();</li><li>
</li><li>inputMethodSetting.<span class="hljs-title function_">listInputMethodSubtype</span>(inputMethodProperty,</li><li>  <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;InputMethodSubtype&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to listInputMethodSubtype, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in listing inputMethodSubtype.'</span>);</li><li>  });</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1514px;">     <h3 id="listinputmethodsubtype9-1" device-type="phone,2in1,tablet,wearable,tv">listInputMethodSubtype<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="listinputmethodsubtype9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>listInputMethodSubtype(inputMethodProperty: InputMethodProperty): Promise&lt;Array&lt;InputMethodSubtype&gt;&gt;</p>     <p>获取指定输入法应用的所有子类型。使用promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.102.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">inputMethodProperty</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">输入法应用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.102.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethod-subtype#inputmethodsubtype">InputMethodSubtype</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回指定输入法应用的所有子类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.102.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800001</td>         <td class="cellrowborder" width="50%">bundle manager error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">InputMethodSubtype</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IMEKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodProperty</span>: inputMethod.<span class="hljs-property">InputMethodProperty</span> = {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">'com.example.keyboard'</span>,</li><li>  <span class="hljs-attr">id</span>: <span class="hljs-string">'propertyId'</span>,</li><li>  <span class="hljs-attr">packageName</span>: <span class="hljs-string">'com.example.keyboard'</span>,</li><li>  <span class="hljs-attr">methodId</span>: <span class="hljs-string">'propertyId'</span>,</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodSetting</span>: inputMethod.<span class="hljs-property">InputMethodSetting</span> = inputMethod.<span class="hljs-title function_">getSetting</span>();</li><li>
</li><li>inputMethodSetting.<span class="hljs-title function_">listInputMethodSubtype</span>(inputMethodProperty).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;InputMethodSubtype&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in listing inputMethodSubtype.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to listInputMethodSubtype, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1144px;">     <h3 id="listcurrentinputmethodsubtype9" device-type="phone,2in1,tablet,wearable,tv">listCurrentInputMethodSubtype<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="listcurrentinputmethodsubtype9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>listCurrentInputMethodSubtype(callback: AsyncCallback&lt;Array&lt;InputMethodSubtype&gt;&gt;): void</p>     <p>查询当前输入法应用的所有子类型。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethod-subtype#inputmethodsubtype">InputMethodSubtype</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回当前输入法应用的所有子类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.103.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800001</td>         <td class="cellrowborder" width="50%">bundle manager error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">InputMethodSubtype</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IMEKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodSetting</span>: inputMethod.<span class="hljs-property">InputMethodSetting</span> = inputMethod.<span class="hljs-title function_">getSetting</span>();</li><li>inputMethodSetting.<span class="hljs-title function_">listCurrentInputMethodSubtype</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;InputMethodSubtype&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to listCurrentInputMethodSubtype, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in listing currentInputMethodSubtype.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1116px;">     <h3 id="listcurrentinputmethodsubtype9-1" device-type="phone,2in1,tablet,wearable,tv">listCurrentInputMethodSubtype<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="listcurrentinputmethodsubtype9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>listCurrentInputMethodSubtype(): Promise&lt;Array&lt;InputMethodSubtype&gt;&gt;</p>     <p>查询当前输入法应用的所有子类型。使用promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.104.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethod-subtype#inputmethodsubtype">InputMethodSubtype</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回当前输入法应用的所有子类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.104.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800001</td>         <td class="cellrowborder" width="50%">bundle manager error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">InputMethodSubtype</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IMEKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">inputMethodSetting</span>: inputMethod.<span class="hljs-property">InputMethodSetting</span> = inputMethod.<span class="hljs-title function_">getSetting</span>();</li><li>
</li><li>inputMethodSetting.<span class="hljs-title function_">listCurrentInputMethodSubtype</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;InputMethodSubtype&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in listing currentInputMethodSubtype.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to listCurrentInputMethodSubtype, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1432px;">     <h3 id="getinputmethods9" device-type="phone,2in1,tablet,wearable,tv">getInputMethods<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getinputmethods9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getInputMethods(enable: boolean, callback: AsyncCallback&lt;Array&lt;InputMethodProperty&gt;&gt;): void</p>     <p>获取已激活/未激活的输入法应用列表。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>已激活输入法为使能的输入法应用。默认输入法默认使能，其他输入法可被设置为使能或非使能。</p>       <p>已激活输入法列表包括默认输入法和已被设置为使能的输入法应用，未激活输入法列表包括除使能输入法以外的其他已安装的输入法。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">true表示返回已激活输入法列表，false表示返回未激活输入法列表。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回已激活/未激活输入法列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.105.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800001</td>         <td class="cellrowborder" width="50%">bundle manager error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">getInputMethods</span>(<span class="hljs-literal">true</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;inputMethod.InputMethodProperty&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getInputMethods, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting inputMethods.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1486px;">     <h3 id="getinputmethods9-1" device-type="phone,2in1,tablet,wearable,tv">getInputMethods<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getinputmethods9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getInputMethods(enable: boolean): Promise&lt;Array&lt;InputMethodProperty&gt;&gt;</p>     <p>获取已激活/未激活的输入法应用列表。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>已激活输入法为使能的输入法应用。默认输入法默认使能，其他输入法可被设置为使能或非使能。</p>       <p>已激活输入法列表包括默认输入法和已被设置为使能的输入法应用，未激活输入法列表包括除使能输入法以外的其他已安装的输入法。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">- true表示返回已激活输入法列表，false表示返回未激活输入法列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.106.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回已激活/未激活输入法列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.106.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800001</td>         <td class="cellrowborder" width="50%">bundle manager error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">getInputMethods</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;inputMethod.InputMethodProperty&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting inputMethods.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getInputMethods, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1342px;">     <h3 id="getinputmethodssync11" device-type="phone,2in1,tablet,wearable,tv">getInputMethodsSync<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getinputmethodssync11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getInputMethodsSync(enable: boolean): Array&lt;InputMethodProperty&gt;</p>     <p>获取已激活/未激活的输入法应用列表。同步接口。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>已激活输入法为使能的输入法应用。默认输入法默认使能，其他输入法可被设置为使能或非使能。</p>       <p>已激活输入法列表包括默认输入法和已被设置为使能的输入法应用，未激活输入法列表包括除使能输入法以外的其他已安装的输入法。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">- true表示返回已激活输入法列表，false表示返回未激活输入法列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.107.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a>&gt;</td>         <td class="cellrowborder" width="50%">返回已激活/未激活输入法列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.107.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800001</td>         <td class="cellrowborder" width="50%">bundle manager error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">imeProperty</span>: <span class="hljs-title class_">Array</span>&lt;inputMethod.<span class="hljs-property">InputMethodProperty</span>&gt; = inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">getInputMethodsSync</span>(<span class="hljs-literal">true</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1096px;">     <h3 id="getallinputmethods11" device-type="phone,2in1,tablet,wearable,tv">getAllInputMethods<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getallinputmethods11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAllInputMethods(callback: AsyncCallback&lt;Array&lt;InputMethodProperty&gt;&gt;): void</p>     <p>获取所有输入法应用列表。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.108.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回所有输入法列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.108.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800001</td>         <td class="cellrowborder" width="50%">bundle manager error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">getAllInputMethods</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;inputMethod.InputMethodProperty&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getAllInputMethods, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting all inputMethods.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1044px;">     <h3 id="getallinputmethods11-1" device-type="phone,2in1,tablet,wearable,tv">getAllInputMethods<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getallinputmethods11-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAllInputMethods(): Promise&lt;Array&lt;InputMethodProperty&gt;&gt;</p>     <p>获取所有输入法应用列表。使用promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.109.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回所有输入法列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.109.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800001</td>         <td class="cellrowborder" width="50%">bundle manager error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">getAllInputMethods</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;inputMethod.InputMethodProperty&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting all inputMethods.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getAllInputMethods, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 900px;">     <h3 id="getallinputmethodssync11" device-type="phone,2in1,tablet,wearable,tv">getAllInputMethodsSync<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getallinputmethodssync11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAllInputMethodsSync(): Array&lt;InputMethodProperty&gt;</p>     <p>获取所有输入法应用列表。同步接口。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.110.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a>&gt;</td>         <td class="cellrowborder" width="50%">返回所有输入法列表</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.110.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800001</td>         <td class="cellrowborder" width="50%">bundle manager error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">imeProperty</span>: <span class="hljs-title class_">Array</span>&lt;inputMethod.<span class="hljs-property">InputMethodProperty</span>&gt; = inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">getAllInputMethodsSync</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1277px;">     <h3 id="showoptionalinputmethodsdeprecated" device-type="phone,2in1,tablet,wearable,tv">showOptionalInputMethods<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showoptionalinputmethodsdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showOptionalInputMethods(callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>显示输入法选择对话框。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 18开始废弃。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.111.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当输入法选择对话框显示成功，err为undefined，data为true；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.111.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">showOptionalInputMethods</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, result: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to showOptionalInputMethods, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">if</span> (result) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in showing optionalInputMethods.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to showOptionalInputMethods.`</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1201px;">     <h3 id="showoptionalinputmethodsdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">showOptionalInputMethods<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showoptionalinputmethodsdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showOptionalInputMethods(): Promise&lt;boolean&gt;</p>     <p>显示输入法选择对话框。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 18开始废弃。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.112.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当输入法选择对话框显示成功，err为undefined，data为true；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.112.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">showOptionalInputMethods</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (result) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in showing optionalInputMethods.'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to showOptionalInputMethods.`</span>);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to showOptionalInputMethods, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 890px;">     <h3 id="listinputmethoddeprecated" device-type="phone,2in1,tablet,wearable,tv">listInputMethod<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="listinputmethoddeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>listInputMethod(callback: AsyncCallback&lt;Array&lt;InputMethodProperty&gt;&gt;): void</p>     <p>查询已安装的输入法列表。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#getinputmethods9">getInputMethods</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.113.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回已安装的输入法列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">listInputMethod</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;inputMethod.InputMethodProperty&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to listInputMethod, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in listing inputMethod.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 838px;">     <h3 id="listinputmethoddeprecated-1" device-type="phone,2in1,tablet,wearable,tv">listInputMethod<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="listinputmethoddeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>listInputMethod(): Promise&lt;Array&lt;InputMethodProperty&gt;&gt;</p>     <p>查询已安装的输入法列表。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#getinputmethods9-1">getInputMethods</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.114.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#inputmethodproperty8">InputMethodProperty</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回已安装输入法列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">listInputMethod</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;inputMethod.InputMethodProperty&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in listing inputMethod.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to listInputMethod, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 938px;">     <h3 id="displayoptionalinputmethoddeprecated" device-type="phone,2in1,tablet,wearable,tv">displayOptionalInputMethod<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="displayoptionalinputmethoddeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>displayOptionalInputMethod(callback: AsyncCallback&lt;void&gt;): void</p>     <p>显示输入法选择对话框。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.115.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当输入法选择对话框显示成功。err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">displayOptionalInputMethod</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to displayOptionalInputMethod, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in displaying optionalInputMethod.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 838px;">     <h3 id="displayoptionalinputmethoddeprecated-1" device-type="phone,2in1,tablet,wearable,tv">displayOptionalInputMethod<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="displayoptionalinputmethoddeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>displayOptionalInputMethod(): Promise&lt;void&gt;</p>     <p>显示输入法选择对话框。使用promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">displayOptionalInputMethod</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in displaying optionalInputMethod.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to displayOptionalInputMethod, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1116px;">     <h3 id="getinputmethodstate15" device-type="phone,2in1,tablet,wearable,tv">getInputMethodState<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getinputmethodstate15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getInputMethodState(): Promise&lt;EnabledState&gt;</p>     <p>查询输入法的启用状态。使用promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.MiscServices.InputMethodFramework</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.117.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inputmethod#enabledstate15">EnabledState</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回EnabledState.DISABLED表示未启用; 返回EnabledState.BASIC_MODE表示基础模式; 返回EnabledState.FULL_EXPERIENCE_MODE表示完整体验模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-inputmethod-framework">输入法框架错误码</a>，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.117.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">12800004</td>         <td class="cellrowborder" width="50%">not an input method application.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">12800008</td>         <td class="cellrowborder" width="50%">input method manager service error. Possible cause: a system error, such as null pointer, IPC exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nhx-c106="" class="highlight-div"><div _ngcontent-nhx-c106="" class="highlight-div-header"><div _ngcontent-nhx-c106="" class="highlight-div-header-left"><div _ngcontent-nhx-c106="" class="handle-button expand-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nhx-c106="" class="highlight-div-header-right"><div _ngcontent-nhx-c106="" class="handle-button ai-button"></div><div _ngcontent-nhx-c106="" class="handle-button line-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nhx-c106="" class="handle-button theme-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nhx-c106="" class="handle-button copy-button"><div _ngcontent-nhx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nhx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>inputMethod.<span class="hljs-title function_">getSetting</span>().<span class="hljs-title function_">getInputMethodState</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">status: inputMethod.EnabledState</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getInputMethodState, status: <span class="hljs-subst">${status}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getInputMethodState, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>})</li></ol></pre></div></div>    </div>   </div>   <div></div></div>