<h1 _ngcontent-ciq-c119="" class="doc-title ng-star-inserted" title="@ohos.mediaquery (媒体查询)"> @ohos.mediaquery (媒体查询) </h1>

<div _ngcontent-ciq-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>提供根据不同媒体类型定义不同的样式。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>        <p>本模块首批接口从API version 7开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p></li>       <li>        <p>该模块不支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability">UIAbility</a>的文件声明处使用，即不能在UIAbility的生命周期中调用，需要在创建组件实例后使用。</p></li>       <li>        <p>本模块功能依赖UI的执行上下文，不可在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-global-interface#ui上下文不明确" target="_blank">UI上下文不明确</a>的地方使用，参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a>说明。</p></li>      </ul>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ciq-c106="" class="highlight-div"><div _ngcontent-ciq-c106="" class="highlight-div-header"><div _ngcontent-ciq-c106="" class="highlight-div-header-left"><div _ngcontent-ciq-c106="" class="handle-button expand-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ciq-c106="" class="highlight-div-header-right"><div _ngcontent-ciq-c106="" class="handle-button ai-button"></div><div _ngcontent-ciq-c106="" class="handle-button line-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ciq-c106="" class="handle-button theme-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ciq-c106="" class="handle-button copy-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ciq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { mediaquery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="mediaquerymatchmediasyncdeprecated" device-type="phone,2in1,tablet,wearable,tv">mediaquery.matchMediaSync<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mediaquerymatchmediasyncdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>matchMediaSync(condition: string): MediaQueryListener</p>     <p>设置媒体查询的查询条件，并返回对应的监听句柄。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>从API version 18开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a>中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#getmediaquery">getMediaQuery</a>获取<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-mediaquery">MediaQuery</a>对象，再通过此对象调用替代方法<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-mediaquery#matchmediasync">matchMediaSync</a>。</p></li>        <li>         <p>从API version 10开始，可以通过使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a>中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#getmediaquery">getMediaQuery</a>方法获取当前UI上下文关联的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-mediaquery">MediaQuery</a>对象。</p></li>       </ul>      </div></div></div>     <p><strong>卡片能力：</strong> 从API version 12开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">condition</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">媒体事件的匹配条件，具体可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-layout-development-media-query#语法规则" target="_blank">媒体查询语法规则</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-mediaquery#mediaquerylistener">MediaQueryListener</a></td>         <td class="cellrowborder" width="50%">媒体事件监听句柄，用于注册和去注册监听回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ciq-c106="" class="highlight-div"><div _ngcontent-ciq-c106="" class="highlight-div-header"><div _ngcontent-ciq-c106="" class="highlight-div-header-left"><div _ngcontent-ciq-c106="" class="handle-button expand-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ciq-c106="" class="highlight-div-header-right"><div _ngcontent-ciq-c106="" class="handle-button ai-button"></div><div _ngcontent-ciq-c106="" class="handle-button line-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ciq-c106="" class="handle-button theme-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ciq-c106="" class="handle-button copy-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ciq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { mediaquery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">listener</span>: mediaquery.<span class="hljs-property">MediaQueryListener</span> = mediaquery.<span class="hljs-title function_">matchMediaSync</span>(<span class="hljs-string">'(orientation: landscape)'</span>); <span class="hljs-comment">//监听横屏事件</span></li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="mediaquerylistener" device-type="phone,2in1,tablet,wearable,tv">MediaQueryListener<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mediaquerylistener" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>媒体查询的句柄，并包含了申请句柄时的首次查询结果。媒体查询根据设置的条件语句，比如'(width &lt;= 600vp)'，比较系统信息，若首次查询时相关信息未初始化，matches返回false。</p>     <p>继承自<a href="/consumer/cn/doc/harmonyos-references/js-apis-mediaquery#mediaqueryresult">MediaQueryResult</a>。</p>     <p><strong>卡片能力：</strong> 从API version 12开始，该类型支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection">     <h3 id="onchange" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">on('change')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onchange" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'change', callback: Callback&lt;MediaQueryResult&gt;): void</p>     <p>通过句柄向对应的查询条件注册回调，当媒体属性发生变更时会触发该回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>注册的回调中不允许进一步调用on或off。</p>      </div></div></div>     <p><strong>卡片能力：</strong> 从API version 12开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">必须填写字符串'change'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-mediaquery#mediaqueryresult">MediaQueryResult</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">向媒体查询注册的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>详见<a href="/consumer/cn/doc/harmonyos-references/js-apis-mediaquery#offchange">off示例</a>。</p>    </div>    <div class="tiledSection">     <h3 id="offchange" device-type="phone,2in1,tablet,wearable,tv">off('change')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offchange" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'change', callback?: Callback&lt;MediaQueryResult&gt;): void</p>     <p>通过句柄向对应的查询条件取消注册回调，当媒体属性发生变更时不再触发指定的回调。</p>     <p><strong>卡片能力：</strong> 从API version 12开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">必须填写字符串'change'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-mediaquery#mediaqueryresult">MediaQueryResult</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消注册的回调，如果参数缺省则去注册该句柄下所有的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ciq-c106="" class="highlight-div"><div _ngcontent-ciq-c106="" class="highlight-div-header"><div _ngcontent-ciq-c106="" class="highlight-div-header-left"><div _ngcontent-ciq-c106="" class="handle-button expand-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ciq-c106="" class="highlight-div-header-right"><div _ngcontent-ciq-c106="" class="handle-button ai-button"></div><div _ngcontent-ciq-c106="" class="handle-button line-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ciq-c106="" class="handle-button theme-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ciq-c106="" class="handle-button copy-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ciq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { mediaquery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">listener</span>: mediaquery.<span class="hljs-property">MediaQueryListener</span> = mediaquery.<span class="hljs-title function_">matchMediaSync</span>(<span class="hljs-string">'(orientation: landscape)'</span>); <span class="hljs-comment">//监听横屏事件</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onPortrait</span>(<span class="hljs-params">mediaQueryResult:mediaquery.MediaQueryResult</span>) {</li><li>  <span class="hljs-keyword">if</span> (mediaQueryResult.<span class="hljs-property">matches</span>) {</li><li>    <span class="hljs-comment">// do something here</span></li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-comment">// do something here</span></li><li>  }</li><li>}</li><li>listener.<span class="hljs-title function_">on</span>(<span class="hljs-string">'change'</span>, onPortrait) <span class="hljs-comment">// 注册回调</span></li><li>listener.<span class="hljs-title function_">off</span>(<span class="hljs-string">'change'</span>, onPortrait) <span class="hljs-comment">// 取消注册回调</span></li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="mediaqueryresult" device-type="phone,2in1,tablet,wearable,tv">MediaQueryResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mediaqueryresult" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>用于执行媒体查询操作。</p>     <p><strong>卡片能力：</strong> 从API version 12开始，该类型支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection">     <h3 id="属性" class="firsth2">属性<i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">matches</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是否符合匹配条件。true表示满足查询条件，false表示不满足查询条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">media</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">媒体事件的匹配条件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="示例">示例<i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h3>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>推荐通过使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a>中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#getmediaquery">getMediaQuery</a>方法获取当前UI上下文关联的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-mediaquery">MediaQuery</a>对象。</p>      </div></div></div>     <div _ngcontent-ciq-c106="" class="highlight-div"><div _ngcontent-ciq-c106="" class="highlight-div-header"><div _ngcontent-ciq-c106="" class="highlight-div-header-left"><div _ngcontent-ciq-c106="" class="handle-button expand-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ciq-c106="" class="highlight-div-header-right"><div _ngcontent-ciq-c106="" class="handle-button ai-button"></div><div _ngcontent-ciq-c106="" class="handle-button line-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ciq-c106="" class="handle-button theme-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ciq-c106="" class="handle-button copy-button"><div _ngcontent-ciq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ciq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { mediaquery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MediaQueryExample</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'#DB7093'</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Portrait'</span></li><li>  <span class="hljs-attr">listener</span>: mediaquery.<span class="hljs-property">MediaQueryListener</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getMediaQuery</span>().<span class="hljs-title function_">matchMediaSync</span>(<span class="hljs-string">'(orientation: landscape)'</span>); <span class="hljs-comment">//监听横屏事件，mediaquery.matchMediaSync接口已废弃，建议使用this.getUIContext().getMediaQuery().matchMediaSync()来获取</span></li><li>
</li><li>  <span class="hljs-title function_">onPortrait</span>(<span class="hljs-params">mediaQueryResult:mediaquery.MediaQueryResult</span>) {</li><li>    <span class="hljs-keyword">if</span> (mediaQueryResult.<span class="hljs-property">matches</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = <span class="hljs-string">'#FFD700'</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-string">'Landscape'</span></li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = <span class="hljs-string">'#DB7093'</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-string">'Portrait'</span></li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> portraitFunc = (<span class="hljs-attr">mediaQueryResult</span>: mediaquery.<span class="hljs-property">MediaQueryResult</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onPortrait</span>(mediaQueryResult)</li><li>    <span class="hljs-comment">// 绑定回调函数</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listener</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'change'</span>, portraitFunc);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 解绑listener中注册的回调函数</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listener</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'change'</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="717" originwidth="1174" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115713.83934389507014102049289988721658:50001231000000:2800:24E7A56F84AB4378A123E687B81136623399A10579F4DAF67C9242DCAAEDCDD6.png" width="920" height="561.8739352640546"></span></p>    </div>   </div>   <div></div></div>