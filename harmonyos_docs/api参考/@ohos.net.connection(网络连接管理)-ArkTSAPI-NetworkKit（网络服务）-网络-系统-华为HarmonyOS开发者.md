<h1 _ngcontent-gvt-c119="" class="doc-title ng-star-inserted" title="@ohos.net.connection (网络连接管理)"> @ohos.net.connection (网络连接管理) </h1>

<div _ngcontent-gvt-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>网络连接管理提供管理网络一些基础能力，包括获取默认激活的数据网络、获取所有激活数据网络列表、开启关闭飞行模式、获取网络能力信息等功能。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 8开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>      <p>无特殊说明，接口默认不支持并发。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv,lite_wearable">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1330px;">     <h2 id="connectioncreatenetconnection" device-type="phone,2in1,tablet,wearable,tv">connection.createNetConnection<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectioncreatenetconnection" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNetConnection(netSpecifier?: NetSpecifier, timeout?: number): NetConnection</p>     <p>创建一个NetConnection对象，<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netspecifier">netSpecifier</a>指定关注的网络的各项特征；timeout是超时时间(单位是毫秒)；netSpecifier是timeout的必要条件，两者都没有则表示关注默认网络。</p>     <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <p>createNetConnection注册回调函数的数量不能超过2000（个），否则无法继续注册网络监听。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netSpecifier</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netspecifier">NetSpecifier</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">指定待关注网络的特征，缺省表示关注默认网络。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">timeout</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">获取netSpecifier指定网络时的超时时间，传入值需为uint32_t范围内的整数，仅netSpecifier存在时生效，默认值为0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netconnection">NetConnection</a></td>         <td class="cellrowborder" width="50%">所关注的网络的句柄。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 关注默认网络, 不需要传参。</span></li><li><span class="hljs-keyword">let</span> netConnection = connection.<span class="hljs-title function_">createNetConnection</span>();</li><li>
</li><li><span class="hljs-comment">// 关注蜂窝网络，需要传入相关网络特征，timeout参数未传入说明未使用超时时间，此时timeout为0。</span></li><li><span class="hljs-keyword">let</span> netConnectionCellular = connection.<span class="hljs-title function_">createNetConnection</span>({</li><li>  <span class="hljs-attr">netCapabilities</span>: {</li><li>    <span class="hljs-attr">bearerTypes</span>: [connection.<span class="hljs-property">NetBearType</span>.<span class="hljs-property">BEARER_CELLULAR</span>]</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1382px;">     <h2 id="connectiongetdefaultnet" device-type="phone,2in1,tablet,wearable,tv">connection.getDefaultNet<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetdefaultnet" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDefaultNet(callback: AsyncCallback&lt;NetHandle&gt;): void</p>     <p>异步获取默认激活的数据网络，使用callback方式作为异步方法。可以使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#connectiongetnetcapabilities">getNetCapabilities</a>去获取网络类型、拥有能力等信息。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当成功获取默认激活的数据网络时，error为undefined，data为默认激活的数据网络；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get default net. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1155px;">     <h2 id="connectiongetdefaultnet-1" device-type="phone,2in1,tablet,wearable,tv">connection.getDefaultNet<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetdefaultnet-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDefaultNet(): Promise&lt;NetHandle&gt;</p>     <p>异步获取默认激活的数据网络，使用Promise方式作为异步方法。可以使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#connectiongetnetcapabilities">getNetCapabilities</a>去获取网络的类型、拥有的能力等信息。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>&gt;</td>         <td class="cellrowborder" width="50%">以Promise形式返回默认激活的数据网络。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1083px;">     <h2 id="connectiongetdefaultnetsync9" device-type="phone,2in1,tablet,wearable,tv">connection.getDefaultNetSync<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetdefaultnetsync9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDefaultNetSync(): NetHandle</p>     <p>使用同步方法获取默认激活的数据网络。可以使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#connectiongetnetcapabilities">getNetCapabilities</a>去获取网络的类型、拥有的能力等信息。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="50%">以同步方式返回默认激活的数据网络。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> netHandle = connection.<span class="hljs-title function_">getDefaultNetSync</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1628px;">     <h2 id="connectionsetapphttpproxy11" device-type="phone,2in1,tablet,wearable,tv">connection.setAppHttpProxy<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionsetapphttpproxy11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAppHttpProxy(httpProxy: HttpProxy): void</p>     <p>设置应用级Http代理配置信息。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>若需使用本接口所配置的代理信息，则需在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-http#httprequestoptions">HttpRequestOptions</a>字段中将usingProxy设置为true以启用代理转发。本接口仅负责配置代理规则，不校验代理服务的有效性。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">httpProxy</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#httpproxy10">HttpProxy</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">网络应用级Http代理配置信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid http proxy.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { http } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> exclusionStr = <span class="hljs-string">"192.168,baidu.com"</span>;</li><li><span class="hljs-keyword">let</span> exclusionArray = exclusionStr.<span class="hljs-title function_">split</span>(<span class="hljs-string">','</span>);</li><li>connection.<span class="hljs-title function_">setAppHttpProxy</span>({</li><li>  <span class="hljs-attr">host</span>: <span class="hljs-string">"192.168.xx.xxx"</span>,</li><li>  <span class="hljs-attr">port</span>: <span class="hljs-number">8080</span>,</li><li>  <span class="hljs-attr">exclusionList</span>: exclusionArray</li><li>} <span class="hljs-keyword">as</span> connection.<span class="hljs-property">HttpProxy</span>);</li><li><span class="hljs-keyword">let</span> httpRequest = http.<span class="hljs-title function_">createHttp</span>();</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: http.<span class="hljs-property">HttpRequestOptions</span> = {</li><li>  <span class="hljs-attr">usingProxy</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 选择使用网络代理，从API 10开始支持该属性。</span></li><li>};</li><li><span class="hljs-comment">// 发起一个HTTP请求。</span></li><li>httpRequest.<span class="hljs-title function_">request</span>(<span class="hljs-string">"EXAMPLE_URL"</span>, options, <span class="hljs-function">(<span class="hljs-params">err: <span class="hljs-built_in">Error</span>, data: http.HttpResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (!err) {</li><li>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Result: <span class="hljs-subst">${data.result}</span>`</span>);</li><li>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`code: <span class="hljs-subst">${data.responseCode}</span>`</span>);</li><li>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`type: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data.resultType)}</span>`</span>);</li><li>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`header: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data.header)}</span>`</span>);</li><li>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`cookies: <span class="hljs-subst">${data.cookies}</span>`</span>); <span class="hljs-comment">// 从API version 8开始支持cookie。</span></li><li>  } <span class="hljs-keyword">else</span> {</li><li>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1224px;">     <h2 id="connectiongetdefaulthttpproxy10" device-type="phone,2in1,tablet,wearable,tv">connection.getDefaultHttpProxy<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetdefaulthttpproxy10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDefaultHttpProxy(callback: AsyncCallback&lt;HttpProxy&gt;): void</p>     <p>获取网络默认的代理配置信息。如果设置了全局代理，则会返回全局代理配置信息。如果进程使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#connectionsetappnet9">setAppNet</a>绑定到指定<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>对应的网络，则返回<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>对应网络的代理配置信息。在其它情况下，将返回默认网络的代理配置信息。使用callback方式作为异步方法。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#httpproxy10">HttpProxy</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当成功获取网络默认的代理配置信息时，error为undefined，data为网络默认的代理配置信息；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultHttpProxy</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: connection.HttpProxy</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get default http proxy. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1100px;">     <h2 id="connectiongetdefaulthttpproxy10-1" device-type="phone,2in1,tablet,wearable,tv">connection.getDefaultHttpProxy<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetdefaulthttpproxy10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDefaultHttpProxy(): Promise&lt;HttpProxy&gt;</p>     <p>获取网络默认的代理配置信息。如果设置了全局代理，则会返回全局代理配置信息。如果进程使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#connectionsetappnet9">setAppNet</a>绑定到指定<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>对应的网络，则返回<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>对应网络的代理配置信息。在其它情况下，将返回默认网络的代理配置信息。使用Promise方式作为异步方法。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#httpproxy10">HttpProxy</a>&gt;</td>         <td class="cellrowborder" width="50%">以Promise形式返回网络默认的代理配置信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultHttpProxy</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: connection.HttpProxy</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1231px;">     <h2 id="connectiongetappnet9" device-type="phone,2in1,tablet,wearable,tv">connection.getAppNet<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetappnet9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAppNet(callback: AsyncCallback&lt;NetHandle&gt;): void</p>     <p>异步获取App绑定的网络信息，使用callback方式作为异步方法。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当成功获取App绑定的网络信息时，error为undefined，data为获取到App绑定的网络信息；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getAppNet</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get App net. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1052px;">     <h2 id="connectiongetappnet9-1" device-type="phone,2in1,tablet,wearable,tv">connection.getAppNet<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetappnet9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAppNet(): Promise&lt;NetHandle&gt;</p>     <p>异步获取App绑定的网络信息，使用Promise方式作为异步方法。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>&gt;</td>         <td class="cellrowborder" width="50%">以Promise形式返回App绑定的网络信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getAppNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 932px;">     <h2 id="connectiongetappnetsync10" device-type="phone,2in1,tablet,wearable,tv">connection.getAppNetSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetappnetsync10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAppNetSync(): NetHandle</p>     <p>使用同步方法获取App绑定的网络信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="50%">返回App绑定的数据网络。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> netHandle = connection.<span class="hljs-title function_">getAppNetSync</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1554px;">     <h2 id="connectionsetappnet9" device-type="phone,2in1,tablet,wearable,tv">connection.setAppNet<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionsetappnet9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAppNet(netHandle: NetHandle, callback: AsyncCallback&lt;void&gt;): void</p>     <p>将App异步绑定到特定的网络，绑定后App只能通过netHandle对应的网络访问网络，使用callback方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当成功绑定App到指定网络时，error为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError, netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandle的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  connection.<span class="hljs-title function_">setAppNet</span>(netHandle, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">void</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get default net. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1584px;">     <h2 id="connectionsetappnet9-1" device-type="phone,2in1,tablet,wearable,tv">connection.setAppNet<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionsetappnet9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAppNet(netHandle: NetHandle): Promise&lt;void&gt;</p>     <p>将App异步绑定到特定的网络，绑定后App只能通过netHandle对应的网络访问网络。使用Promise方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandle的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>
</li><li>  connection.<span class="hljs-title function_">setAppNet</span>(netHandle).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"success"</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>  })</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1526px;">     <h2 id="connectiongetallnets" device-type="phone,2in1,tablet,wearable,tv">connection.getAllNets<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetallnets" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAllNets(callback: AsyncCallback&lt;Array&lt;NetHandle&gt;&gt;): void</p>     <p>获取所有处于连接状态的网络列表，使用callback方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当成功获取所有处于连接状态的网络列表时，error为undefined，data为处于激活状态的数据网络列表；否则为错误对象。在Wi-Fi和蜂窝数据开关均开启的情况下，若无应用指定使用蜂窝网络，则仅激活Wi-Fi网络，因此仅返回Wi-Fi的NetHandle。除非有特定应用启动蜂窝网络，才能同时获取Wi-Fi和蜂窝数据的NetHandle。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getAllNets</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: connection.NetHandle[]</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get all nets. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1083px;">     <h2 id="connectiongetallnets-1" device-type="phone,2in1,tablet,wearable,tv">connection.getAllNets<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetallnets-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAllNets(): Promise&lt;Array&lt;NetHandle&gt;&gt;</p>     <p>获取所有处于连接状态的网络列表，使用Promise方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">以Promise形式返回处于激活状态的数据网络列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getAllNets</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: connection.NetHandle[]</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1035px;">     <h2 id="connectiongetallnetssync10" device-type="phone,2in1,tablet,wearable,tv">connection.getAllNetsSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetallnetssync10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAllNetsSync(): Array&lt;NetHandle&gt;</p>     <p>使用同步方法获取所有处于连接状态的网络列表。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>&gt;</td>         <td class="cellrowborder" width="50%">返回所有处于连接状态的数据网络列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> netHandle = connection.<span class="hljs-title function_">getAllNetsSync</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1602px;">     <h2 id="connectiongetconnectionproperties" device-type="phone,2in1,tablet,wearable,tv">connection.getConnectionProperties<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetconnectionproperties" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getConnectionProperties(netHandle: NetHandle, callback: AsyncCallback&lt;ConnectionProperties&gt;): void</p>     <p>获取netHandle对应的网络的连接信息，使用callback方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#connectionproperties">ConnectionProperties</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当成功获取netHandle对应的网络的连接信息时，error为undefined，data为获取的网络连接信息；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandle的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  connection.<span class="hljs-title function_">getConnectionProperties</span>(netHandle, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: connection.ConnectionProperties</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get connection properties. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  })</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1512px;">     <h2 id="connectiongetconnectionproperties-1" device-type="phone,2in1,tablet,wearable,tv">connection.getConnectionProperties<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetconnectionproperties-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getConnectionProperties(netHandle: NetHandle): Promise&lt;ConnectionProperties&gt;</p>     <p>获取netHandle对应的网络的连接信息，使用Promise方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#connectionproperties">ConnectionProperties</a>&gt;</td>         <td class="cellrowborder" width="50%">以Promise形式返回网络的连接信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandle的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>
</li><li>  connection.<span class="hljs-title function_">getConnectionProperties</span>(netHandle).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: connection.ConnectionProperties</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  })</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1584px;">     <h2 id="connectiongetconnectionpropertiessync10" device-type="phone,2in1,tablet,wearable,tv">connection.getConnectionPropertiesSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetconnectionpropertiessync10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getConnectionPropertiesSync(netHandle: NetHandle): ConnectionProperties</p>     <p>获取netHandle对应的网络的连接信息，使用同步方法返回。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#connectionproperties">ConnectionProperties</a></td>         <td class="cellrowborder" width="50%">返回网络的连接信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">netHandle</span>: connection.<span class="hljs-property">NetHandle</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connectionproperties</span>: connection.<span class="hljs-property">ConnectionProperties</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandle的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  netHandle = connection.<span class="hljs-title function_">getDefaultNetSync</span>();</li><li>  connectionproperties = connection.<span class="hljs-title function_">getConnectionPropertiesSync</span>(netHandle);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get connectionproperties: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(connectionproperties));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1674px;">     <h2 id="connectiongetnetcapabilities" device-type="phone,2in1,tablet,wearable,tv">connection.getNetCapabilities<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetnetcapabilities" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getNetCapabilities(netHandle: NetHandle, callback: AsyncCallback&lt;NetCapabilities&gt;): void</p>     <p>获取netHandle对应网络的能力信息，使用callback方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netcapabilities">NetCapabilities</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当成功获取netHandle对应网络的能力信息时，error为undefined，data为获取到的网络能力信息；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandle的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  connection.<span class="hljs-title function_">getNetCapabilities</span>(netHandle, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: connection.NetCapabilities</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get net capabilities. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  })</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1608px;">     <h2 id="connectiongetnetcapabilities-1" device-type="phone,2in1,tablet,wearable,tv">connection.getNetCapabilities<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetnetcapabilities-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getNetCapabilities(netHandle: NetHandle): Promise&lt;NetCapabilities&gt;</p>     <p>获取netHandle对应网络的能力信息，使用Promise方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netcapabilities">NetCapabilities</a>&gt;</td>         <td class="cellrowborder" width="50%">以Promise形式返回网络的能力信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandle的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  connection.<span class="hljs-title function_">getNetCapabilities</span>(netHandle).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: connection.NetCapabilities</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  })</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1632px;">     <h2 id="connectiongetnetcapabilitiessync10" device-type="phone,2in1,tablet,wearable,tv">connection.getNetCapabilitiesSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetnetcapabilitiessync10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getNetCapabilitiesSync(netHandle: NetHandle): NetCapabilities</p>     <p>获取netHandle对应网络的能力信息，使用同步方式返回。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netcapabilities">NetCapabilities</a></td>         <td class="cellrowborder" width="50%">返回网络的能力信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">netHandle</span>: connection.<span class="hljs-property">NetHandle</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">getNetCapabilitiesSync</span>: connection.<span class="hljs-property">NetCapabilities</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandle的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>
</li><li>  getNetCapabilitiesSync = connection.<span class="hljs-title function_">getNetCapabilitiesSync</span>(netHandle);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get net capabilities sync: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(getNetCapabilitiesSync));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1262px;">     <h2 id="connectionisdefaultnetmetered9" device-type="phone,2in1,tablet,wearable,tv">connection.isDefaultNetMetered<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionisdefaultnetmetered9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isDefaultNetMetered(callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>检查当前网络上的数据流量使用是否被计费（例如：WiFi网络不会被计费，蜂窝网络会被计费）。使用callback方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当前网络上的数据流量是否被计费。true表示会被计费，false表示不会被计费。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">isDefaultNetMetered</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data: '</span> + data);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1131px;">     <h2 id="connectionisdefaultnetmetered9-1" device-type="phone,2in1,tablet,wearable,tv">connection.isDefaultNetMetered<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionisdefaultnetmetered9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isDefaultNetMetered(): Promise&lt;boolean&gt;</p>     <p>检查当前网络上的数据流量使用是否被计费（例如：WiFi网络不会被计费，蜂窝网络会被计费）。使用Promise方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当前网络上的数据流量是否被计费。true表示会被计费，false表示不会被计费。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">isDefaultNetMetered</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data: '</span> + data);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1059px;">     <h2 id="connectionisdefaultnetmeteredsync10" device-type="phone,2in1,tablet,wearable,tv">connection.isDefaultNetMeteredSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionisdefaultnetmeteredsync10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isDefaultNetMeteredSync(): boolean</p>     <p>检查当前网络上的数据流量使用是否被计费（例如：WiFi网络不会被计费，蜂窝网络会被计费）。使用同步方式返回。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">表示当前网络上的数据流量是否被计费。true表示会被计费，false表示不会被计费。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> isMetered = connection.<span class="hljs-title function_">isDefaultNetMeteredSync</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1214px;">     <h2 id="connectionhasdefaultnet" device-type="phone,2in1,tablet,wearable,tv">connection.hasDefaultNet<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionhasdefaultnet" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>hasDefaultNet(callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>检查默认数据网络是否被激活，使用callback方式作为异步方法。如果有默认数据网络，可以使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#connectiongetdefaultnet">getDefaultNet</a>去获取。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回true表示默认数据网络被激活，返回false表示没有被激活。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">hasDefaultNet</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data: '</span> + data);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1107px;">     <h2 id="connectionhasdefaultnet-1" device-type="phone,2in1,tablet,wearable,tv">connection.hasDefaultNet<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionhasdefaultnet-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>hasDefaultNet(): Promise&lt;boolean&gt;</p>     <p>检查默认数据网络是否被激活，使用Promise方式作为异步方法。如果有默认数据网络，可以使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#connectiongetdefaultnet">getDefaultNet</a>去获取。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回true表示默认数据网络被激活，返回false表示没有被激活。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">hasDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data: '</span> + data);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1059px;">     <h2 id="connectionhasdefaultnetsync10" device-type="phone,2in1,tablet,wearable,tv">connection.hasDefaultNetSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionhasdefaultnetsync10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>hasDefaultNetSync(): boolean</p>     <p>检查默认数据网络是否被激活，使用同步方式返回接口。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">表示默认数据网络是否被激活。true表示默认数据网络被激活，false表示默认数据网络没有被激活。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> isDefaultNet = connection.<span class="hljs-title function_">hasDefaultNetSync</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1386px;">     <h2 id="connectionreportnetconnected" device-type="phone,2in1,tablet,wearable,tv">connection.reportNetConnected<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionreportnetconnected" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>reportNetConnected(netHandle: NetHandle, callback: AsyncCallback&lt;void&gt;): void</p>     <p>向网络管理上报网络处于可用状态，使用callback方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO 和 ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄，参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当向网络管理报告网络处于可用状态成功，error为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  connection.<span class="hljs-title function_">reportNetConnected</span>(netHandle, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1416px;">     <h2 id="connectionreportnetconnected-1" device-type="phone,2in1,tablet,wearable,tv">connection.reportNetConnected<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionreportnetconnected-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>reportNetConnected(netHandle: NetHandle): Promise&lt;void&gt;</p>     <p>向网络管理报告网络处于可用状态，使用Promise方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO 和 ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄，参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  connection.<span class="hljs-title function_">reportNetConnected</span>(netHandle).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`report success`</span>);</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1578px;">     <h2 id="connectionreportnetdisconnected" device-type="phone,2in1,tablet,wearable,tv">connection.reportNetDisconnected<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionreportnetdisconnected" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>reportNetDisconnected(netHandle: NetHandle, callback: AsyncCallback&lt;void&gt;): void</p>     <p>向网络管理上报网络处于不可用状态，使用callback方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO 和 ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄，参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当向网络管理报告网络处于不可用状态成功，error为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError, netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandle的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  connection.<span class="hljs-title function_">reportNetDisconnected</span>(netHandle, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">void</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get default net. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"report success"</span>);</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1416px;">     <h2 id="connectionreportnetdisconnected-1" device-type="phone,2in1,tablet,wearable,tv">connection.reportNetDisconnected<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionreportnetdisconnected-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>reportNetDisconnected(netHandle: NetHandle): Promise&lt;void&gt;</p>     <p>向网络管理上报网络处于不可用状态，使用Promise方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO 和 ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄，参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回值的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  connection.<span class="hljs-title function_">reportNetDisconnected</span>(netHandle).<span class="hljs-title function_">then</span>( <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`report success`</span>);</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1434px;">     <h2 id="connectiongetaddressesbyname" device-type="phone,2in1,tablet,wearable,tv">connection.getAddressesByName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetaddressesbyname" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAddressesByName(host: string, callback: AsyncCallback&lt;Array&lt;NetAddress&gt;&gt;): void</p>     <p>使用对应网络解析主机名以获取所有IP地址，使用callback方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">host</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要解析的主机名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netaddress">NetAddress</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当使用默认网络解析主机名成功获取所有IP地址，error为undefined，data为获取到的所有IP地址；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getAddressesByName</span>(<span class="hljs-string">"xxxx"</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: connection.NetAddress[]</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get addresses. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1344px;">     <h2 id="connectiongetaddressesbyname-1" device-type="phone,2in1,tablet,wearable,tv">connection.getAddressesByName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetaddressesbyname-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAddressesByName(host: string): Promise&lt;Array&lt;NetAddress&gt;&gt;</p>     <p>使用对应网络解析主机名以获取所有IP地址，使用Promise方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">host</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要解析的主机名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netaddress">NetAddress</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">以Promise形式返回所有IP地址。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getAddressesByName</span>(<span class="hljs-string">"xxxx"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: connection.NetAddress[]</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1551px;">     <h2 id="connectionaddcustomdnsrule11" device-type="phone,2in1,tablet,wearable,tv">connection.addCustomDnsRule<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionaddcustomdnsrule11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addCustomDnsRule(host: string, ip: Array&lt;string&gt;, callback: AsyncCallback&lt;void&gt;): void</p>     <p>为当前应用程序添加自定义host和对应的IP地址的映射，使用callback方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">host</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要自定义解析的主机名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">ip</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">主机名所映射的IP地址列表。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当为当前应用程序添加自定义host和对应的ip地址的映射成功，error为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">addCustomDnsRule</span>(<span class="hljs-string">"xxxx"</span>, [<span class="hljs-string">"xx.xx.xx.xx"</span>,<span class="hljs-string">"xx.xx.xx.xx"</span>], <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">void</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get add custom dns rule. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1533px;">     <h2 id="connectionaddcustomdnsrule11-1" device-type="phone,2in1,tablet,wearable,tv">connection.addCustomDnsRule<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionaddcustomdnsrule11-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addCustomDnsRule(host: string, ip: Array&lt;string&gt;): Promise&lt;void&gt;</p>     <p>为当前应用程序添加自定义host和对应的IP地址的映射，使用Promise方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">host</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要自定义解析的主机名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">ip</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">主机名所映射的IP地址列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">addCustomDnsRule</span>(<span class="hljs-string">"xxxx"</span>, [<span class="hljs-string">"xx.xx.xx.xx"</span>,<span class="hljs-string">"xx.xx.xx.xx"</span>]).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"success"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1506px;">     <h2 id="connectionremovecustomdnsrule11" device-type="phone,2in1,tablet,wearable,tv">connection.removeCustomDnsRule<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionremovecustomdnsrule11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeCustomDnsRule(host: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>删除当前应用程序中对应host的自定义DNS规则，使用callback方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">host</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要删除自定义DNS规则的主机名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当删除当前应用程序中对应host的自定义DNS规则成功，error为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">removeCustomDnsRule</span>(<span class="hljs-string">"xxxx"</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">void</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to remove custom dns rule. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1488px;">     <h2 id="connectionremovecustomdnsrule11-1" device-type="phone,2in1,tablet,wearable,tv">connection.removeCustomDnsRule<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionremovecustomdnsrule11-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeCustomDnsRule(host: string): Promise&lt;void&gt;</p>     <p>删除当前应用程序中对应host的自定义DNS规则，使用Promise方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">host</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要删除自定义DNS规则的主机名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">removeCustomDnsRule</span>(<span class="hljs-string">"xxxx"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"success"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1389px;">     <h2 id="connectionclearcustomdnsrules11" device-type="phone,2in1,tablet,wearable,tv">connection.clearCustomDnsRules<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionclearcustomdnsrules11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clearCustomDnsRules(callback: AsyncCallback&lt;void&gt;): void</p>     <p>删除当前应用程序的所有的自定义DNS规则，使用callback方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当删除当前应用程序的所有的自定义DNS规则成功，error为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">clearCustomDnsRules</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">void</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to clear custom dns rules. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1210px;">     <h2 id="connectionclearcustomdnsrules11-1" device-type="phone,2in1,tablet,wearable,tv">connection.clearCustomDnsRules<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionclearcustomdnsrules11-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clearCustomDnsRules(): Promise&lt;void&gt;</p>     <p>删除当前应用程序的所有的自定义DNS规则，使用Promise方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">clearCustomDnsRules</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"success"</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1008px;">     <h2 id="connectionsetpacfileurl20" device-type="phone,2in1,tablet,wearable,tv">connection.setPacFileUrl<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionsetpacfileurl20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setPacFileUrl(pacFileUrl: string): void</p>     <p>设置当前PAC脚本（Proxy Auto-Configuration Script，代理自动配置脚本）的URL地址，比如：http://127.0.0.1:21998/PacProxyScript.pac。通过解析脚本地址可以获取代理信息。</p>     <p><strong>需要权限</strong>：ohos.permission.SET_PAC_URL</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pacFileUrl</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前PAC脚本的URL地址。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> pacFileUrl = <span class="hljs-string">"http://example.com/proxy.pac"</span>;</li><li>connection.<span class="hljs-title function_">setPacFileUrl</span>(pacFileUrl);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 925px;">     <h2 id="connectiongetpacfileurl20" device-type="phone,2in1,tablet,wearable,tv">connection.getPacFileUrl<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetpacfileurl20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPacFileUrl(): string</p>     <p>获取当前PAC脚本的URL地址。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">当前PAC脚本的URL地址，如果没有PAC脚本则返回空字符串。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> pacFileUrl = connection.<span class="hljs-title function_">getPacFileUrl</span>();</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(pacFileUrl);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 833px;">     <h2 id="connectionfindproxyforurl20" device-type="phone,2in1,tablet,wearable,tv">connection.findProxyForUrl<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionfindproxyforurl20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>findProxyForUrl(url: string): string</p>     <p>根据给定的URL查找PAC代理信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">url</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要查找代理信息的URL。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回代理信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> proxyInfo = connection.<span class="hljs-title function_">findProxyForUrl</span>(<span class="hljs-string">"http://example.com"</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(proxyInfo);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1142px;">     <h2 id="connectionsetpacurl15" device-type="phone,2in1,tablet,wearable,tv">connection.setPacUrl<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionsetpacurl15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setPacUrl(pacUrl: string): void</p>     <p>设置系统级代理自动配置（Proxy Auto Config，PAC）脚本地址。</p>     <p><strong>需要权限</strong>：ohos.permission.SET_PAC_URL</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pacUrl</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要设置的PAC脚本的地址，该接口不会对脚本地址进行校验。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> pacUrl = <span class="hljs-string">"xxx"</span>;</li><li>connection.<span class="hljs-title function_">setPacUrl</span>(pacUrl);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 956px;">     <h2 id="connectiongetpacurl15" device-type="phone,2in1,tablet,wearable,tv">connection.getPacUrl<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetpacurl15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPacUrl(): string</p>     <p>获取系统级代理自动配置（PAC）脚本地址。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回PAC脚本地址。PAC脚本不存在时，抛出2100003错误码。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> pacUrl = connection.<span class="hljs-title function_">getPacUrl</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1666px;">     <h2 id="connectionsetnetextattribute20" device-type="phone,2in1,tablet,wearable,tv">connection.setNetExtAttribute<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionsetnetextattribute20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setNetExtAttribute(netHandle: NetHandle, netExtAttribute: string): Promise&lt;void&gt;</p>     <p>为netHandle对应的网络设置扩展属性，标识网络的安全级别。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口所需的权限目前仅支持PC设备。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.SET_NET_EXT_ATTRIBUTE</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">netExtAttribute</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要设置的网络扩展属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandle的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">netExtAttribute</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"xxx"</span>;</li><li>  connection.<span class="hljs-title function_">setNetExtAttribute</span>(netHandle, netExtAttribute).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"setNetExtAttribute success"</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"setNetExtAttribute failed, err: "</span> + error.<span class="hljs-property">code</span>);</li><li>  })</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1327px;">     <h2 id="connectionsetnetextattributesync20" device-type="phone,2in1,tablet,wearable,tv">connection.setNetExtAttributeSync<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionsetnetextattributesync20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setNetExtAttributeSync(netHandle: NetHandle, netExtAttribute: string): void</p>     <p>使用同步方法为netHandle对应的网络设置扩展属性，标识网络的安全级别。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口所需的权限目前仅支持PC设备。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.SET_NET_EXT_ATTRIBUTE</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">netExtAttribute</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要设置的网络扩展属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">netExtAttribute</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"xxx"</span>;</li><li><span class="hljs-keyword">let</span> netHandle = connection.<span class="hljs-title function_">getDefaultNetSync</span>();</li><li><span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> != <span class="hljs-number">0</span>) {</li><li>  connection.<span class="hljs-title function_">setNetExtAttributeSync</span>(netHandle, netExtAttribute);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1505px;">     <h2 id="connectiongetnetextattribute20" device-type="phone,2in1,tablet,wearable,tv">connection.getNetExtAttribute<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetnetextattribute20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getNetExtAttribute(netHandle: NetHandle): Promise&lt;string&gt;</p>     <p>获取netHandle对应网络的扩展属性，以确定网络的安全级别。使用Promise异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;string&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。以Promise形式返回的网络扩展属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandle的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  connection.<span class="hljs-title function_">getNetExtAttribute</span>(netHandle).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netExtAttribute: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"getNetExtAttribute: "</span> + netExtAttribute);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"getNetExtAttribute failed, err: "</span> + error.<span class="hljs-property">code</span>);</li><li>  })</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1361px;">     <h2 id="connectiongetnetextattributesync20" device-type="phone,2in1,tablet,wearable,tv">connection.getNetExtAttributeSync<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectiongetnetextattributesync20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getNetExtAttributeSync(netHandle: NetHandle): string</p>     <p>使用同步方法获取netHandle对应网络的扩展属性，以确定网络的安全级别。</p>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">netHandle</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">数据网络的句柄。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">以同步方式返回的网络扩展属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> netHandle = connection.<span class="hljs-title function_">getDefaultNetSync</span>();</li><li><span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> != <span class="hljs-number">0</span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">netExtAttribute</span>: <span class="hljs-built_in">string</span> = connection.<span class="hljs-title function_">getNetExtAttributeSync</span>(netHandle);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"getNetExtAttribute: "</span> + netExtAttribute);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 370px;">     <h2 id="netconnection" device-type="phone,2in1,tablet,wearable,tv">NetConnection<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="netconnection" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>网络连接的句柄。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>（1）设备从无网络状态转变为有网络状态时，将触发netAvailable事件、netCapabilitiesChange事件和netConnectionPropertiesChange事件；</p>       <p>（2）接收到netAvailable事件后，若设备从有网络状态转变为无网络状态，将触发netLost事件；</p>       <p>（3）若未接收到netAvailable事件，则将直接接收到netUnavailable事件；</p>       <p>（4）设备从WiFi网络切换至蜂窝网络时，将先触发netLost事件（WiFi丢失），随后触发netAvailable事件（蜂窝可用）。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1464px;">     <h3 id="register" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">register<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="register" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>register(callback: AsyncCallback&lt;void&gt;): void</p>     <p>订阅指定网络状态变化的通知。如需监听特定事件，确保调用on监听事件后再调用register进行注册。</p>     <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <p>使用完register接口后需要及时调用unregister取消注册。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.GET_NETWORK_INFO</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当订阅指定网络状态变化的通知成功，error为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2101008</td>         <td class="cellrowborder" width="50%">The callback already exists.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2101022</td>         <td class="cellrowborder" width="50%">The number of requests exceeded the maximum allowed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">netCon</span>: connection.<span class="hljs-property">NetConnection</span> = connection.<span class="hljs-title function_">createNetConnection</span>();</li><li>netCon.<span class="hljs-title function_">register</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1230px;">     <h3 id="unregister" device-type="phone,2in1,tablet,wearable,tv">unregister<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unregister" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unregister(callback: AsyncCallback&lt;void&gt;): void</p>     <p>取消订阅默认网络状态变化的通知。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当取消订阅指定网络状态变化的通知成功，error为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2101007</td>         <td class="cellrowborder" width="50%">The callback does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">netCon</span>: connection.<span class="hljs-property">NetConnection</span> = connection.<span class="hljs-title function_">createNetConnection</span>();</li><li>netCon.<span class="hljs-title function_">unregister</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1251px;">     <h3 id="onnetavailable" device-type="phone,2in1,tablet,wearable,tv">on('netAvailable')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onnetavailable" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'netAvailable', callback: Callback&lt;NetHandle&gt;): void</p>     <p>订阅网络可用事件。此接口需在调用register接口之前调用。若无需接收网络状态变化的回调通知，应使用unregister取消订阅默认的网络状态变化通知。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>订阅事件，固定为'netAvailable'。</p>          <p>netAvailable：数据网络可用事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回数据网络句柄。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建NetConnection对象。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">netCon</span>: connection.<span class="hljs-property">NetConnection</span> = connection.<span class="hljs-title function_">createNetConnection</span>();</li><li>
</li><li><span class="hljs-comment">// 先使用on接口订阅网络可用事件。</span></li><li>netCon.<span class="hljs-title function_">on</span>(<span class="hljs-string">'netAvailable'</span>, <span class="hljs-function">(<span class="hljs-params">data: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li><li>
</li><li><span class="hljs-comment">// 注册网络状态变化事件。此接口要在调用on后调用。</span></li><li>netCon.<span class="hljs-title function_">register</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li><li>
</li><li><span class="hljs-comment">// 使用unregister接口取消订阅网络可用事件。</span></li><li>netCon.<span class="hljs-title function_">unregister</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1203px;">     <h3 id="onnetblockstatuschange" device-type="phone,2in1,tablet,wearable,tv">on('netBlockStatusChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onnetblockstatuschange" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'netBlockStatusChange', callback: Callback&lt;NetBlockStatusInfo&gt;): void</p>     <p>订阅网络阻塞状态事件。此接口需要在调用register接口之前调用。若无需接收网络状态变化的回调通知，应使用unregister取消订阅默认的网络状态变化通知。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>订阅事件，固定为'netBlockStatusChange'。</p>          <p>netBlockStatusChange：网络阻塞状态事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netblockstatusinfo11">NetBlockStatusInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，获取网络阻塞状态信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建NetConnection对象。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">netCon</span>: connection.<span class="hljs-property">NetConnection</span> = connection.<span class="hljs-title function_">createNetConnection</span>();</li><li>
</li><li><span class="hljs-comment">// 先使用on接口订阅网络阻塞状态事件。</span></li><li>netCon.<span class="hljs-title function_">on</span>(<span class="hljs-string">'netBlockStatusChange'</span>, <span class="hljs-function">(<span class="hljs-params">data: connection.NetBlockStatusInfo</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li><li>
</li><li><span class="hljs-comment">// 注册网络状态变化事件。此接口要在调用on后调用。</span></li><li>netCon.<span class="hljs-title function_">register</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li><li>
</li><li><span class="hljs-comment">// 使用unregister接口取消订阅网络阻塞状态事件。</span></li><li>netCon.<span class="hljs-title function_">unregister</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1275px;">     <h3 id="onnetcapabilitieschange" device-type="phone,2in1,tablet,wearable,tv">on('netCapabilitiesChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onnetcapabilitieschange" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'netCapabilitiesChange', callback: Callback&lt;NetCapabilityInfo&gt;): void</p>     <p>订阅网络能力变化事件。此接口要在register接口调用前调用，不需要网络状态变化回调通知时，使用unregister取消订阅默认网络状态变化的通知。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>订阅事件，固定为'netCapabilitiesChange'。</p>          <p>netCapabilitiesChange：网络能力变化事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netcapabilityinfo10">NetCapabilityInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回数据网络句柄(netHandle)和网络的能力信息(netCap)。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建NetConnection对象。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">netCon</span>: connection.<span class="hljs-property">NetConnection</span> = connection.<span class="hljs-title function_">createNetConnection</span>();</li><li>
</li><li><span class="hljs-comment">// 先使用on接口订阅网络能力变化事件。</span></li><li>netCon.<span class="hljs-title function_">on</span>(<span class="hljs-string">'netCapabilitiesChange'</span>, <span class="hljs-function">(<span class="hljs-params">data: connection.NetCapabilityInfo</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li><li>
</li><li><span class="hljs-comment">//  注册网络状态变化事件。此接口要在调用on后调用。</span></li><li>netCon.<span class="hljs-title function_">register</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li><li>
</li><li><span class="hljs-comment">// 使用unregister接口取消订阅网络能力变化事件。</span></li><li>netCon.<span class="hljs-title function_">unregister</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1251px;">     <h3 id="onnetconnectionpropertieschange" device-type="phone,2in1,tablet,wearable,tv">on('netConnectionPropertiesChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onnetconnectionpropertieschange" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'netConnectionPropertiesChange', callback: Callback&lt;NetConnectionPropertyInfo&gt;): void</p>     <p>订阅网络连接信息变化事件。此接口要在register接口调用前调用，不需要网络状态变化回调通知时，使用unregister取消订阅默认网络状态变化的通知。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>订阅事件，固定为'netConnectionPropertiesChange'。</p>          <p>netConnectionPropertiesChange：网络连接信息变化事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netconnectionpropertyinfo11">NetConnectionPropertyInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，获取网络连接属性信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建NetConnection对象。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">netCon</span>: connection.<span class="hljs-property">NetConnection</span> = connection.<span class="hljs-title function_">createNetConnection</span>();</li><li>
</li><li><span class="hljs-comment">// 先使用on接口订阅网络连接信息变化事件。</span></li><li>netCon.<span class="hljs-title function_">on</span>(<span class="hljs-string">'netConnectionPropertiesChange'</span>, <span class="hljs-function">(<span class="hljs-params">data: connection.NetConnectionPropertyInfo</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li><li>
</li><li><span class="hljs-comment">// 注册网络状态变化事件。此接口要在调用on后调用。</span></li><li>netCon.<span class="hljs-title function_">register</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li><li>
</li><li><span class="hljs-comment">// 使用unregister接口取消订阅网络连接信息变化事件。</span></li><li>netCon.<span class="hljs-title function_">unregister</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1251px;">     <h3 id="onnetlost" device-type="phone,2in1,tablet,wearable,tv">on('netLost')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onnetlost" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'netLost', callback: Callback&lt;NetHandle&gt;): void</p>     <p>订阅网络丢失事件。此接口要在register接口调用前调用，不需要网络状态变化回调通知时，使用unregister取消订阅默认网络状态变化的通知。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>订阅事件，固定为'netLost'。</p>          <p>netLost：网络严重中断或正常断开事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，数据网络句柄(netHandle)。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建NetConnection对象。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">netCon</span>: connection.<span class="hljs-property">NetConnection</span> = connection.<span class="hljs-title function_">createNetConnection</span>();</li><li>
</li><li><span class="hljs-comment">// 先使用on接口订阅网络丢失事件。</span></li><li>netCon.<span class="hljs-title function_">on</span>(<span class="hljs-string">'netLost'</span>, <span class="hljs-function">(<span class="hljs-params">data: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li><li>
</li><li><span class="hljs-comment">// 注册网络状态变化事件。此接口要在调用on后调用。</span></li><li>netCon.<span class="hljs-title function_">register</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li><li>
</li><li><span class="hljs-comment">// 使用unregister接口取消订阅网络丢失事件。</span></li><li>netCon.<span class="hljs-title function_">unregister</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1227px;">     <h3 id="onnetunavailable" device-type="phone,2in1,tablet,wearable,tv">on('netUnavailable')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onnetunavailable" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'netUnavailable', callback: Callback&lt;void&gt;): void</p>     <p>订阅网络不可用事件。此接口要在register接口调用前调用，不需要网络状态变化回调通知时，使用unregister取消订阅默认网络状态变化的通知。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>订阅事件，固定为'netUnavailable'。</p>          <p>netUnavailable：网络不可用事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建NetConnection对象。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">netCon</span>: connection.<span class="hljs-property">NetConnection</span> = connection.<span class="hljs-title function_">createNetConnection</span>();</li><li>
</li><li><span class="hljs-comment">// 先使用on接口订阅网络不可用事件。</span></li><li>netCon.<span class="hljs-title function_">on</span>(<span class="hljs-string">'netUnavailable'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get unavailable net event"</span>);</li><li>});</li><li>
</li><li><span class="hljs-comment">// 注册网络状态变化事件。此接口要在调用on后调用。</span></li><li>netCon.<span class="hljs-title function_">register</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li><li>
</li><li><span class="hljs-comment">// 使用unregister接口取消订阅网络不可用事件。</span></li><li>netCon.<span class="hljs-title function_">unregister</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 278px;">     <h2 id="nethandle" device-type="phone,2in1,tablet,wearable,tv">NetHandle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="nethandle" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>数据网络的句柄。</p>     <p>在调用NetHandle的方法之前，需要先获取NetHandle对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 327px;">     <h3 id="属性" class="firsth2">属性<i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.62.2.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.2.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.2.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.2.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.2.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">netId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>网络ID，取值为0代表没有默认网络，其余取值必须大于等于100。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2451px;">     <h3 id="bindsocket9" device-type="phone,2in1,tablet,wearable,tv">bindSocket<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindsocket9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindSocket(socketParam: TCPSocket | UDPSocket, callback: AsyncCallback&lt;void&gt;): void</p>     <p>将TCPSocket或UDPSocket绑定到当前NetHandle对应的网络，使用callback方式作为异步方法。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">socketParam</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-socket#tcpsocket">TCPSocket</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-socket#udpsocket">UDPSocket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待绑定的TCPSocket或UDPSocket对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当TCPSocket或UDPSocket成功绑定到当前网络，error为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection, socket } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Data</span> {</li><li>  <span class="hljs-attr">message</span>: <span class="hljs-title class_">ArrayBuffer</span>,</li><li>  <span class="hljs-attr">remoteInfo</span>: socket.<span class="hljs-property">SocketRemoteInfo</span></li><li>}</li><li>
</li><li>  connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandle的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>  }</li><li>  <span class="hljs-keyword">let</span> tcp : socket.<span class="hljs-property">TCPSocket</span> = socket.<span class="hljs-title function_">constructTCPSocketInstance</span>();</li><li>  <span class="hljs-keyword">let</span> udp : socket.<span class="hljs-property">UDPSocket</span> = socket.<span class="hljs-title function_">constructUDPSocketInstance</span>();</li><li>  <span class="hljs-keyword">let</span> socketType = <span class="hljs-string">"TCPSocket"</span>;</li><li>  <span class="hljs-keyword">if</span> (socketType == <span class="hljs-string">"TCPSocket"</span>) {</li><li>    tcp.<span class="hljs-title function_">bind</span>({<span class="hljs-attr">address</span>:<span class="hljs-string">"192.168.xxx.xxx"</span>,</li><li>              <span class="hljs-attr">port</span>:<span class="hljs-number">8080</span>,</li><li>              <span class="hljs-attr">family</span>:<span class="hljs-number">1</span>} <span class="hljs-keyword">as</span> socket.<span class="hljs-property">NetAddress</span>, <span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'bind fail'</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      netHandle.<span class="hljs-title function_">bindSocket</span>(tcp, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">void</span></span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (error) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to bind socket. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        } <span class="hljs-keyword">else</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>        }</li><li>      });</li><li>    });</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">callback</span>: <span class="hljs-function">(<span class="hljs-params">value: Data</span>) =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">(<span class="hljs-params">value: Data</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"on message, message:"</span> + value.<span class="hljs-property">message</span> + <span class="hljs-string">", remoteInfo:"</span> + value.<span class="hljs-property">remoteInfo</span>);</li><li>    };</li><li>    udp.<span class="hljs-title function_">bind</span>({<span class="hljs-attr">address</span>:<span class="hljs-string">"192.168.xxx.xxx"</span>,</li><li>              <span class="hljs-attr">port</span>:<span class="hljs-number">8080</span>,</li><li>              <span class="hljs-attr">family</span>:<span class="hljs-number">1</span>} <span class="hljs-keyword">as</span> socket.<span class="hljs-property">NetAddress</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to bind. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      udp.<span class="hljs-title function_">on</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">data: Data</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>      });</li><li>      netHandle.<span class="hljs-title function_">bindSocket</span>(udp, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">void</span></span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (error) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to bind socket. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        } <span class="hljs-keyword">else</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>        }</li><li>      });</li><li>    });</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2385px;">     <h3 id="bindsocket9-1" device-type="phone,2in1,tablet,wearable,tv">bindSocket<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindsocket9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindSocket(socketParam: TCPSocket | UDPSocket): Promise&lt;void&gt;</p>     <p>将TCPSocket或UDPSocket绑定到当前NetHandle对应的网络，使用Promise方式作为异步方法。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">socketParam</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-socket#tcpsocket">TCPSocket</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-socket#udpsocket">UDPSocket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待绑定的TCPSocket或UDPSocket对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.64.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection, socket } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Data</span> {</li><li>  <span class="hljs-attr">message</span>: <span class="hljs-title class_">ArrayBuffer</span>,</li><li>  <span class="hljs-attr">remoteInfo</span>: socket.<span class="hljs-property">SocketRemoteInfo</span></li><li>}</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandle的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> tcp : socket.<span class="hljs-property">TCPSocket</span> = socket.<span class="hljs-title function_">constructTCPSocketInstance</span>();</li><li>  <span class="hljs-keyword">let</span> udp : socket.<span class="hljs-property">UDPSocket</span> = socket.<span class="hljs-title function_">constructUDPSocketInstance</span>();</li><li>  <span class="hljs-keyword">let</span> socketType = <span class="hljs-string">"TCPSocket"</span>;</li><li>  <span class="hljs-keyword">if</span> (socketType == <span class="hljs-string">"TCPSocket"</span>) {</li><li>    tcp.<span class="hljs-title function_">bind</span>({<span class="hljs-attr">address</span>:<span class="hljs-string">"192.168.xxx.xxx"</span>,</li><li>              <span class="hljs-attr">port</span>:<span class="hljs-number">8080</span>,</li><li>              <span class="hljs-attr">family</span>:<span class="hljs-number">1</span>} <span class="hljs-keyword">as</span> socket.<span class="hljs-property">NetAddress</span>, <span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'bind fail'</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      netHandle.<span class="hljs-title function_">bindSocket</span>(tcp).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"bind socket success"</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to bind socket. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>      });</li><li>    });</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">callback</span>: <span class="hljs-function">(<span class="hljs-params">value: Data</span>) =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">(<span class="hljs-params">value: Data</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"on message, message:"</span> + value.<span class="hljs-property">message</span> + <span class="hljs-string">", remoteInfo:"</span> + value.<span class="hljs-property">remoteInfo</span>);</li><li>    }</li><li>    udp.<span class="hljs-title function_">bind</span>({<span class="hljs-attr">address</span>:<span class="hljs-string">"192.168.xxx.xxx"</span>,</li><li>              <span class="hljs-attr">port</span>:<span class="hljs-number">8080</span>,</li><li>              <span class="hljs-attr">family</span>:<span class="hljs-number">1</span>} <span class="hljs-keyword">as</span> socket.<span class="hljs-property">NetAddress</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to bind. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      udp.<span class="hljs-title function_">on</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">data: Data</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>      });</li><li>      netHandle.<span class="hljs-title function_">bindSocket</span>(udp).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"bind socket success"</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to bind socket. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>      });</li><li>    });</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1666px;">     <h3 id="getaddressesbyname" device-type="phone,2in1,tablet,wearable,tv">getAddressesByName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getaddressesbyname" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAddressesByName(host: string, callback: AsyncCallback&lt;Array&lt;NetAddress&gt;&gt;): void</p>     <p>使用当前NetHandle对应的网络解析主机名获取到的所有IP地址，使用callback方式作为异步方法。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">host</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要解析的主机名。例如："<a href="http://www.example.com" target="_blank">www.example.com"。</a></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netaddress">NetAddress</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当使用对应网络解析主机名成功获取所有IP地址，error为undefined，data为获取到的所有IP地址；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandler的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> host = <span class="hljs-string">"www.example.com"</span>;</li><li>  netHandle.<span class="hljs-title function_">getAddressesByName</span>(host, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: connection.NetAddress[]</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get addresses. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1576px;">     <h3 id="getaddressesbyname-1" device-type="phone,2in1,tablet,wearable,tv">getAddressesByName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getaddressesbyname-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAddressesByName(host: string): Promise&lt;Array&lt;NetAddress&gt;&gt;</p>     <p>使用当前NetHandle对应的网络解析主机名获取到的所有IP地址，使用Promise方式作为异步方法。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">host</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要解析的主机名。例如："<a href="http://www.example.com" target="_blank">www.example.com"。</a></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netaddress">NetAddress</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">以Promise形式返回所有IP地址。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandler的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> host = <span class="hljs-string">"www.example.com"</span>;</li><li>  netHandle.<span class="hljs-title function_">getAddressesByName</span>(host).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: connection.NetAddress[]</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1642px;">     <h3 id="getaddressbyname" device-type="phone,2in1,tablet,wearable,tv">getAddressByName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getaddressbyname" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAddressByName(host: string, callback: AsyncCallback&lt;NetAddress&gt;): void</p>     <p>使用当前NetHandle对应的网络解析主机名获取到的第一个IP地址，使用callback方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">host</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要解析的主机名。例如："<a href="http://www.example.com" target="_blank">www.example.com"。</a></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netaddress">NetAddress</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当使用对应网络解析主机名获取第一个IP地址成功，error为undefined，data为获取的第一个IP地址；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandler的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> host = <span class="hljs-string">"www.example.com"</span>;</li><li>  netHandle.<span class="hljs-title function_">getAddressByName</span>(host, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: connection.NetAddress</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get address. Code:<span class="hljs-subst">${error.code}</span>, message:<span class="hljs-subst">${error.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1528px;">     <h3 id="getaddressbyname-1" device-type="phone,2in1,tablet,wearable,tv">getAddressByName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getaddressbyname-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAddressByName(host: string): Promise&lt;NetAddress&gt;</p>     <p>使用当前NetHandle对应的网络解析主机名获取到的第一个IP地址，使用Promise方式作为异步方法。</p>     <p><strong>需要权限</strong>：ohos.permission.INTERNET</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">host</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要解析的主机名。例如："<a href="http://www.example.com" target="_blank">www.example.com"。</a></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.68.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netaddress">NetAddress</a>&gt;</td>         <td class="cellrowborder" width="50%">以Promise形式返回第一个IP地址。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-net-connection">网络连接管理错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.68.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100001</td>         <td class="cellrowborder" width="50%">Invalid parameter value.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100002</td>         <td class="cellrowborder" width="50%">Failed to connect to the service.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">2100003</td>         <td class="cellrowborder" width="50%">System internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li>
</li><li>connection.<span class="hljs-title function_">getDefaultNet</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">netHandle: connection.NetHandle</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (netHandle.<span class="hljs-property">netId</span> == <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-comment">// 当前没有已连接的网络时，netHandler的netId为0，属于异常场景。可根据实际情况添加处理机制。</span></li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> host = <span class="hljs-string">"www.example.com"</span>;</li><li>  netHandle.<span class="hljs-title function_">getAddressByName</span>(host).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: connection.NetAddress</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded to get data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1659px;">     <h2 id="netcap" device-type="phone,2in1,tablet,wearable,tv">NetCap<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="netcap" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>网络具体能力。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.69.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NET_CAPABILITY_MMS</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示网络可以访问运营商的MMSC（Multimedia Message Service，多媒体短信服务）发送和接收彩信。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NET_CAPABILITY_NOT_METERED</td>         <td class="cellrowborder" width="33.33333333333333%">11</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示网络流量未被计费。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NET_CAPABILITY_INTERNET</td>         <td class="cellrowborder" width="33.33333333333333%">12</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示该网络应具有访问Internet的能力，此能力由网络提供者设置，但该网络访问Internet的连通性并未被网络管理成功验证。网络连通性可以通过NET_CAPABILITY_VALIDATED和NET_CAPABILITY_CHECKING_CONNECTIVITY判断。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NET_CAPABILITY_NOT_VPN</td>         <td class="cellrowborder" width="33.33333333333333%">15</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示网络不使用VPN（Virtual Private Network，虚拟专用网络）。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NET_CAPABILITY_VALIDATED</td>         <td class="cellrowborder" width="33.33333333333333%">16</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示网络管理通过该网络与华为云地址成功建立连接，此能力由网络管理模块设置。</p>          <p><strong>注意：</strong> 网络管理可能会与华为云地址建立连接失败，导致网络能力不具备此标记位，但不完全代表该网络无法访问互联网。另外，对于新完成连接的网络，由于网络正在进行连通性验证，此值可能无法反映真实的验证结果。对此，应用可以通过NET_CAPABILITY_CHECKING_CONNECTIVITY<sup>12+</sup>检查网络是否正在检测连通性。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NET_CAPABILITY_PORTAL<sup>12+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">17</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示系统发现该网络存在强制网络门户，需要用户登陆认证，该能力由网络管理模块设置。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NET_CAPABILITY_CHECKING_CONNECTIVITY<sup>12+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">31</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示网络管理正在检验当前网络的连通性，此值会在网络连接时设置。当此值存在时，NET_CAPABILITY_VALIDATED的值不准确，连通性检测结束后不再设置，此时可以通过判断NetCap是否包含NET_CAPABILITY_VALIDATED判断连通性。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 705px;">     <h2 id="netbeartype" device-type="phone,2in1,tablet,wearable,tv">NetBearType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="netbeartype" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>网络类型。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.70.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">BEARER_CELLULAR</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>蜂窝网络。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BEARER_WIFI</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>Wi-Fi网络。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BEARER_BLUETOOTH<sup>12+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>蓝牙网络。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BEARER_ETHERNET</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>以太网网络。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BEARER_VPN<sup>12+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">VPN网络。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2001px;">     <h2 id="httpproxy10" device-type="phone,2in1,tablet,wearable,tv">HttpProxy<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="httpproxy10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>网络代理配置信息</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.71.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">host</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>代理服务器主机名。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">port</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>主机端口。取值范围[0,65535]。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">exclusionList</td>         <td class="cellrowborder" width="20%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>不使用代理的主机名列表，主机名支持域名、IP地址以及通配符形式，详细匹配规则如下：</p>          <p>1、域名匹配规则：</p>          <p>（1）完全匹配：代理服务器主机名只要与列表中的任意一个主机名完全相同，就可以匹配。</p>          <p>（2）包含匹配：代理服务器主机名只要包含列表中的任意一个主机名，就可以匹配。</p>          <p>例如，如果在主机名列表中设置了 “ample.com”，则 “ample.com”、“www.ample.com”、“ample.com:80”都会被匹配，而 “www.example.com”、“ample.com.org”则不会被匹配。</p>          <p>2、IP地址匹配规则：代理服务器主机名只要与列表中的任意一个IP地址完全相同，就可以匹配。</p>          <p>3、域名跟IP地址可以同时添加到列表中进行匹配。</p>          <p>4、单个“*”是唯一有效的通配符，当列表中只有通配符时，将与所有代理服务器主机名匹配，表示禁用代理。通配符只能单独添加，不可以与其他域名、IP地址一起添加到列表中，否则通配符将不生效。</p>          <p>5、匹配规则不区分主机名大小写。</p>          <p>6、匹配主机名时，不考虑http和https等协议前缀。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">username<sup>12+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">使用代理的用户名。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">password<sup>12+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">使用代理的用户密码。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1283px;">     <h2 id="netspecifier" device-type="phone,2in1,tablet,wearable,tv">NetSpecifier<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="netspecifier" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供承载数据网络能力的实例。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">netCapabilities</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netcapabilities">NetCapabilities</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">存储数据网络的传输能力和承载类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">bearerPrivateIdentifier</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">网络标识符，蜂窝网络的标识符是"slot0"（对应SIM卡1）、"slot1"（对应SIM卡2）。从API12开始可以通过传递注册的WLAN热点信息表示应用希望激活的指定的WLAN网络。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gvt-c106="" class="highlight-div"><div _ngcontent-gvt-c106="" class="highlight-div-header"><div _ngcontent-gvt-c106="" class="highlight-div-header-left"><div _ngcontent-gvt-c106="" class="handle-button expand-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gvt-c106="" class="highlight-div-header-right"><div _ngcontent-gvt-c106="" class="handle-button ai-button"></div><div _ngcontent-gvt-c106="" class="handle-button line-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gvt-c106="" class="handle-button theme-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gvt-c106="" class="handle-button copy-button"><div _ngcontent-gvt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gvt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { wifiManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">config</span>: wifiManager.<span class="hljs-property">WifiDeviceConfig</span> = {</li><li>  <span class="hljs-attr">ssid</span>: <span class="hljs-string">"TEST"</span>,</li><li>  <span class="hljs-attr">preSharedKey</span>: <span class="hljs-string">"**********"</span>,</li><li>  <span class="hljs-attr">securityType</span>: wifiManager.<span class="hljs-property">WifiSecurityType</span>.<span class="hljs-property">WIFI_SEC_TYPE_PSK</span></li><li>};</li><li><span class="hljs-comment">// 通过wifiManager.addCandidateConfig获取注册WLAN的networkId。</span></li><li>wifiManager.<span class="hljs-title function_">addCandidateConfig</span>(config,<span class="hljs-function">(<span class="hljs-params">error,networkId</span>) =&gt;</span> {</li><li> <span class="hljs-keyword">let</span> netConnectionWlan = connection.<span class="hljs-title function_">createNetConnection</span>({</li><li>   <span class="hljs-attr">netCapabilities</span>: {</li><li>     <span class="hljs-attr">bearerTypes</span>: [connection.<span class="hljs-property">NetBearType</span>.<span class="hljs-property">BEARER_WIFI</span>]</li><li>   },</li><li>   <span class="hljs-attr">bearerPrivateIdentifier</span>: <span class="hljs-string">`<span class="hljs-subst">${networkId}</span>`</span></li><li> });</li><li> netConnectionWlan.<span class="hljs-title function_">register</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li> });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 450px;">     <h2 id="netcapabilityinfo10" device-type="phone,2in1,tablet,wearable,tv">NetCapabilityInfo<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="netcapabilityinfo10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供承载数据网络能力的实例。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">netHandle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">数据网络句柄。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">netCap</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netcapabilities">NetCapabilities</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">存储数据网络的传输能力和承载类型。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 852px;">     <h2 id="netcapabilities" device-type="phone,2in1,tablet,wearable,tv">NetCapabilities<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="netcapabilities" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>网络的能力集。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">linkUpBandwidthKbps</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">上行（设备到网络）带宽，单位(kb/s)。0表示无法评估当前网络带宽。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">linkDownBandwidthKbps</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">下行（网络到设备）带宽，单位(kb/s)。0表示无法评估当前网络带宽。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">networkCap</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netcap">NetCap</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>网络具体能力。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">bearerTypes</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netbeartype">NetBearType</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>网络类型。数组里面只包含了一种网络类型。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="netconnectionpropertyinfo11" device-type="phone,2in1,tablet,wearable,tv">NetConnectionPropertyInfo<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="netconnectionpropertyinfo11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>网络连接信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 228px;">     <h3 id="属性-1" class="firsth2">属性<i class="anchor-icon anchor-icon-link" anchorid="属性-1" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.76.2.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.2.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.2.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.2.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.2.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">netHandle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">数据网络句柄(netHandle)。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">connectionProperties</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#connectionproperties">ConnectionProperties</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">网络连接属性。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="netblockstatusinfo11" device-type="phone,2in1,tablet,wearable,tv">NetBlockStatusInfo<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="netblockstatusinfo11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>获取网络状态信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 324px;">     <h3 id="属性-2" class="firsth2">属性<i class="anchor-icon anchor-icon-link" anchorid="属性-2" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.78.2.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.2.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.2.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.2.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.2.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">netHandle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#nethandle">NetHandle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">数据网络句柄(netHandle)。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">blocked</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">标识当前网络是否是堵塞状态。true：标识当前网络是堵塞状态；false：标识当前网络不是堵塞状态。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 582px;">     <h2 id="connectionproperties" device-type="phone,2in1,tablet,wearable,tv">ConnectionProperties<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connectionproperties" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>网络连接信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.79.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">interfaceName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">网卡名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">domains</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">域名。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">linkAddresses</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#linkaddress">LinkAddress</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">链路信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">routes</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#routeinfo">RouteInfo</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">路由信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">dnses</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netaddress">NetAddress</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">网络地址，参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netaddress">NetAddress</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">mtu</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">最大传输单元。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 846px;">     <h2 id="routeinfo" device-type="phone,2in1,tablet,wearable,tv">RouteInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="routeinfo" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>网络路由信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.80.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">interface</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">网卡名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">destination</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#linkaddress">LinkAddress</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">目的地址。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">gateway</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netaddress">NetAddress</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">网关地址。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">hasGateway</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是否有网关。true：有网关；false：无网关。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">isDefaultRoute</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是否为默认路由。true：默认路由；false：非默认路由。IPv4默认路由：目的地址为0.0.0.0/0的路由；IPv6默认路由：目的地址为::/0的路由。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">isExcludedRoute<sup>20+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否为排除路由。true表示排除路由，false表示非排除路由，默认值为false。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 402px;">     <h2 id="linkaddress" device-type="phone,2in1,tablet,wearable,tv">LinkAddress<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="linkaddress" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>网络链路信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.81.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">address</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-net-connection#netaddress">NetAddress</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">链路地址。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">prefixLength</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">链路地址前缀的长度。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 519px;">     <h2 id="netaddress" device-type="phone,2in1,tablet,wearable,tv">NetAddress<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="netaddress" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>网络地址。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetManager.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.82.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">address</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">地址。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">family</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">IPv4 = 1，IPv6 = 2，默认IPv4。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">port</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">端口，取值范围[0, 65535]，默认值为0。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 449px;">     <h2 id="httprequest" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">HttpRequest<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="httprequest" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>type HttpRequest = http.HttpRequest</p>     <p>定义一个HTTP请求，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-http#httpcreatehttp">http.createHttp</a>创建。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetStack</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">http.HttpRequest</td>         <td class="cellrowborder" width="50%">定义HTTP请求任务。在调用HttpRequest提供的API之前。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 401px;">     <h2 id="tcpsocket" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">TCPSocket<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="tcpsocket" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>type TCPSocket = socket.TCPSocket</p>     <p>定义一个TCPSocket对象，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-socket#socketconstructtcpsocketinstance7">socket.constructTCPSocketInstance</a>创建。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetStack</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.84.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">socket.TCPSocket</td>         <td class="cellrowborder" width="50%">定义一个TCPSocket连接。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 401px;">     <h2 id="udpsocket" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">UDPSocket<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="udpsocket" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>type UDPSocket = socket.UDPSocket</p>     <p>定义一个UDPSocket对象，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-socket#socketconstructudpsocketinstance">socket.constructUDPSocketInstance</a>创建。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.NetStack</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">socket.UDPSocket</td>         <td class="cellrowborder" width="50%">定义UDPSocket连接。</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>