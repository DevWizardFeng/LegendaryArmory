<h1 _ngcontent-idh-c119="" class="doc-title ng-star-inserted" title="@ohos.nfc.cardEmulation (标准NFC-cardEmulation)"> @ohos.nfc.cardEmulation (标准NFC-cardEmulation) </h1>

<div _ngcontent-idh-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>本模块主要提供NFC卡模拟业务，包括判断支持哪种卡模拟类型，HCE卡模拟的业务实现等。</p>    <p>HCE(Host Card Emulation)，称为基于主机的卡模拟，表示不依赖安全单元芯片，应用程序模拟NFC卡片，可以通过NFC服务和NFC读卡器通信。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 6开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="hce卡模拟和aid列表的声明定义" device-type="phone,wearable,lite_wearable">HCE卡模拟和AID列表的声明定义<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hce卡模拟和aid列表的声明定义" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>开发HCE卡模拟相关应用时，需要在应用的属性配置文件中，声明与NFC相关的属性值，比如，在module.json5文件中，声明下面属性值：</p>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于除轻量级智能穿戴产品之外其它设备</span></li><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-comment">// 其他已声明的属性</span></li><li>    <span class="hljs-attr">"abilities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-comment">// 其他已声明的属性</span></li><li>        <span class="hljs-attr">"skills"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>              <span class="hljs-string">"ohos.nfc.cardemulation.action.HOST_APDU_SERVICE"</span></li><li>            <span class="hljs-punctuation">]</span></li><li>          <span class="hljs-punctuation">}</span></li><li>        <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"metadata"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"payment-aid"</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"your payment aid"</span></li><li>          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"other-aid"</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"your other aid"</span></li><li>          <span class="hljs-punctuation">}</span></li><li>        <span class="hljs-punctuation">]</span></li><li>      <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"requestPermissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ohos.permission.NFC_CARD_EMULATION"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-comment">// 必须要添加reason: card_emulation_reason</span></li><li>        <span class="hljs-attr">"reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$string:card_emulation_reason"</span></li><li>      <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">]</span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 轻量级智能穿戴设备</span></li><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-comment">// 其他已声明的属性</span></li><li>    <span class="hljs-attr">"abilities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-comment">// 其他已声明的属性</span></li><li>        <span class="hljs-attr">"metaData"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>          <span class="hljs-attr">"customizeData"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>            <span class="hljs-punctuation">{</span></li><li>              <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"paymentAid"</span><span class="hljs-punctuation">,</span></li><li>              <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A0000000041012"</span></li><li>            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-punctuation">{</span></li><li>              <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"otherAid"</span><span class="hljs-punctuation">,</span></li><li>              <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A0000000041010"</span></li><li>            <span class="hljs-punctuation">}</span></li><li>          <span class="hljs-punctuation">]</span></li><li>        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"skills"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"entities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>              <span class="hljs-string">"ohos.nfc.cardemulation.action.HOST_APDU_SERVICE"</span></li><li>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>              <span class="hljs-string">"ohos.nfc.cardemulation.action.HOST_APDU_SERVICE"</span></li><li>            <span class="hljs-punctuation">]</span></li><li>          <span class="hljs-punctuation">}</span></li><li>        <span class="hljs-punctuation">]</span></li><li>      <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"reqPermissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ohos.permission.NFC_CARD_EMULATION"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-comment">// 必须要添加reason: card_emulation_reason</span></li><li>        <span class="hljs-attr">"reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$string:card_emulation_reason"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"usedScene"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span></li><li>          <span class="hljs-attr">"ability"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span></li><li>            <span class="hljs-string">"FormAbility"</span></li><li>          <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-attr">"when"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"always"</span></li><li>        <span class="hljs-punctuation">}</span></li><li>      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>      <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ohos.permission.NFC_TAG"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-comment">// 必须要添加reason: card_emulation_reason</span></li><li>        <span class="hljs-attr">"reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$string:card_emulation_reason"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"usedScene"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span></li><li>          <span class="hljs-attr">"ability"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span></li><li>            <span class="hljs-string">"FormAbility"</span></li><li>          <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-attr">"when"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"always"</span></li><li>        <span class="hljs-punctuation">}</span></li><li>      <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">]</span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>     <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <ol>        <li>声明"actions"字段的内容填写，必须包含"ohos.nfc.cardemulation.action.HOST_APDU_SERVICE"，不能更改。</li>        <li>声明aid（参考ISO/IEC 7816-4规范）时，name必须为payment-aid或者other-aid。填写错误会造成解析失败。</li>        <li>声明权限时"requestPermissions"中的"name"字段的内容填写，必须是"ohos.permission.NFC_CARD_EMULATION"，不能更改。</li>        <li>轻量级智能穿戴产品不同于其他设备，仅支持FA模型，属性配置和接口调用方式与其它设备有所区别，详见示例。</li>       </ol>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,wearable,lite_wearable">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于除轻量级智能穿戴产品之外其它设备</span></li><li><span class="hljs-keyword">import</span> { cardEmulation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li></ol></pre></div></div>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 轻量级智能穿戴设备</span></li><li><span class="hljs-keyword">import</span> cardEmulation <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.nfc.cardEmulation'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="featuretypedeprecated" device-type="phone,wearable,lite_wearable">FeatureType<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="featuretypedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>定义不同的NFC卡模拟类型。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 6 开始支持，从 API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cardemulation#cardemulationhashcecapability9">hasHceCapability</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">HCE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">HCE 卡模拟。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">UICC</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">SIM 卡模拟。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ESE</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">ESE 卡模拟。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="cardtype9" device-type="phone,wearable,lite_wearable">CardType<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cardtype9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>定义卡模拟应用所使用的业务类型，是支付类型，还是其他类型。</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">PAYMENT</td>         <td class="cellrowborder" width="33.33333333333333%">"payment"</td>         <td class="cellrowborder" width="33.33333333333333%">卡模拟应用所使用的业务是支付类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">OTHER</td>         <td class="cellrowborder" width="33.33333333333333%">"other"</td>         <td class="cellrowborder" width="33.33333333333333%">卡模拟应用所使用的业务是其他类型。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="cardemulationissupporteddeprecated" device-type="phone,wearable,lite_wearable">cardEmulation.isSupported<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cardemulationissupporteddeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>isSupported(feature: number): boolean</p>     <p>是否支持某种类型的卡模拟。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 6 开始支持，从 API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cardemulation#cardemulationhashcecapability9">hasHceCapability</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">feature</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">卡模拟类型值，详细请见<a href="/consumer/cn/doc/harmonyos-references/js-apis-cardemulation#featuretypedeprecated">FeatureType</a>枚举值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%"><strong>说明</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true: 支持该类型卡模拟， false: 不支持该类型卡模拟。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于除轻量级智能穿戴产品之外其它设备</span></li><li><span class="hljs-keyword">import</span> { cardEmulation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isHceSupported</span>: boolean = cardEmulation.<span class="hljs-title function_">isSupported</span>(cardEmulation.<span class="hljs-property">FeatureType</span>.<span class="hljs-property">HCE</span>);</li><li><span class="hljs-keyword">if</span> (!isHceSupported) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'this device is not supported for HCE, ignore it.'</span>);</li><li>}</li></ol></pre></div></div>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于轻量化智能穿戴设备</span></li><li><span class="hljs-keyword">import</span> cardEmulation <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.nfc.cardEmulation'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> isHceSupported = cardEmulation.<span class="hljs-title function_">isSupported</span>(cardEmulation.<span class="hljs-property">FeatureType</span>.<span class="hljs-property">HCE</span>);</li><li><span class="hljs-keyword">if</span> (!isHceSupported) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'this device is not supported for HCE, ignore it.'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="cardemulationhashcecapability9" device-type="phone,wearable,lite_wearable">cardEmulation.hasHceCapability<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cardemulationhashcecapability9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>hasHceCapability(): boolean</p>     <p>判断设备是否支持HCE卡模拟功能。</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <p><strong>需要权限：</strong> ohos.permission.NFC_CARD_EMULATION</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.1" width="50%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.2" width="50%"><strong>说明</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true: 支持HCE， false: 不支持HCE。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于除轻量级智能穿戴产品之外其它设备</span></li><li><span class="hljs-keyword">import</span> { cardEmulation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">hasHceCap</span>: boolean = cardEmulation.<span class="hljs-title function_">hasHceCapability</span>();</li><li><span class="hljs-keyword">if</span> (!hasHceCap) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'this device hasHceCapability false, ignore it.'</span>);</li><li>}</li></ol></pre></div></div>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于轻量化智能穿戴设备</span></li><li><span class="hljs-keyword">import</span> cardEmulation <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.nfc.cardEmulation'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> hasHceCap = cardEmulation.<span class="hljs-title function_">hasHceCapability</span>();</li><li><span class="hljs-keyword">if</span> (!hasHceCap) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'this device hasHceCapability false, ignore it.'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="cardemulationisdefaultservice9" device-type="phone,wearable,lite_wearable">cardEmulation.isDefaultService<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cardemulationisdefaultservice9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>isDefaultService(elementName: ElementName, type: CardType): boolean</p>     <p>判断指定的应用是否为指定业务类型的默认应用。</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <p><strong>需要权限：</strong> ohos.permission.NFC_CARD_EMULATION</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">elementName</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-elementname">ElementName</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所属应用声明NFC卡模拟能力的页面信息（至少包含bundleName、abilityName这两项的赋值），不可以为空。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cardemulation#cardtype9">CardType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">卡模拟业务类型。目前只支持默认支付应用查询。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>The parameter check failed. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified.</p>          <p>2. Incorrect parameters types.</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.13.1.3.1.1" width="50%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.13.1.3.1.2" width="50%"><strong>说明</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true: 是默认支付应用， false: 不是默认支付应用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于除轻量级智能穿戴产品之外其它设备</span></li><li><span class="hljs-keyword">import</span> { cardEmulation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li><span class="hljs-keyword">import</span> { bundleManager, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 需要初始化 elementName、bundleName、abilityName，根据实际应用信息更改为正确的值</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">elementName</span>: bundleManager.<span class="hljs-property">ElementName</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.example.myapplication"</span>,</li><li>  <span class="hljs-attr">moduleName</span>: <span class="hljs-string">"entry"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"EntryAbility"</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isDefaultService</span>: boolean = cardEmulation.<span class="hljs-title function_">isDefaultService</span>(elementName, cardEmulation.<span class="hljs-property">CardType</span>.<span class="hljs-property">PAYMENT</span>);</li></ol></pre></div></div>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于轻量化智能穿戴设备</span></li><li><span class="hljs-keyword">import</span> cardEmulation <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.nfc.cardEmulation'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> appName = <span class="hljs-string">"com.example.testquestionlite"</span>;</li><li><span class="hljs-keyword">let</span> isDefaultService = cardEmulation.<span class="hljs-title function_">isDefaultService</span>(appName, cardEmulation.<span class="hljs-property">CardType</span>.<span class="hljs-property">PAYMENT</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="hceservice8" device-type="phone,wearable,lite_wearable">HceService<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hceservice8" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>提供HCE卡模拟的实现，主要包括接收对端读卡设备的APDU数据，并响应APDU数据到对端读卡设备。使用HCE相关接口前，必须先判断设备是否支持HCE卡模拟能力。</p>    </div>    <div class="tiledSection">     <h3 id="starthcedeprecated" device-type="phone,wearable,lite_wearable" class="firsth2">startHCE<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="starthcedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>startHCE(aidList: string[]): boolean</p>     <p>启动HCE业务功能。包括设置当前应用为前台优先，动态注册AID列表。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 8 开始支持，从 API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cardemulation#start9">start</a>替代。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.NFC_CARD_EMULATION</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">aidList</td>         <td class="cellrowborder" width="25%">string[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">动态注册卡模拟的AID列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%"><strong>说明</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true: 启动HCE功能或HCE已启动， false: 启动失败。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="start9" device-type="phone,wearable,lite_wearable">start<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="start9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>start(elementName: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-elementname">ElementName</a>, aidList: string[]): void</p>     <p>启动HCE业务功能。包括设置当前应用为前台优先，动态注册AID列表。</p>     <p><strong>需要权限：</strong> ohos.permission.NFC_CARD_EMULATION</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">elementName</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-elementname">ElementName</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所属应用声明NFC卡模拟能力的页面信息（至少包含bundleName、abilityName这两项的赋值），不可以为空。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">aidList</td>         <td class="cellrowborder" width="25%">string[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">动态注册卡模拟的AID列表，允许为空。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>The parameter check failed. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified.</p>          <p>2. Incorrect parameters types.</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3100301</td>         <td class="cellrowborder" width="50%">Card emulation running state is abnormal in service.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="stophcedeprecated" device-type="phone,wearable,lite_wearable">stopHCE<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stophcedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>stopHCE(): boolean</p>     <p>停止HCE业务功能。包括退出当前应用前台优先，释放动态注册的AID列表，释放hceCmd的订阅。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 8 开始支持，从 API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cardemulation#stop9">stop</a>替代。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.NFC_CARD_EMULATION</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.1" width="50%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.2" width="50%"><strong>说明</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true: 禁用HCE功能或HCE已禁用，false: 禁用失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>示例请参见<a href="/consumer/cn/doc/harmonyos-references/js-apis-cardemulation#on8">on</a>接口的示例。</p>    </div>    <div class="tiledSection">     <h3 id="stop9" device-type="phone,wearable,lite_wearable">stop<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stop9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>stop(elementName: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-elementname">ElementName</a>): void</p>     <p>停止HCE业务功能。包括取消APDU数据接收的订阅，退出当前应用前台优先，释放动态注册的AID列表。应用程序需要在HCE卡模拟页面的onDestroy函数里调用该接口。</p>     <p><strong>需要权限：</strong> ohos.permission.NFC_CARD_EMULATION</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">elementName</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-elementname">ElementName</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所属应用声明NFC卡模拟能力的页面信息（至少包含bundleName、abilityName这两项的赋值），不可以为空。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>The parameter check failed. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified.</p>          <p>2. Incorrect parameters types.</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3100301</td>         <td class="cellrowborder" width="50%">Card emulation running state is abnormal in service.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="on8" device-type="phone,wearable,lite_wearable">on<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="on8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>on(type: 'hceCmd', callback: AsyncCallback&lt;number[]&gt;): void</p>     <p>订阅回调，用于接收对端读卡设备发送的APDU数据，应用程序需要在HCE卡模拟页面的onCreate函数里面调用该订阅函数。使用callback异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.NFC_CARD_EMULATION</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的回调类型，固定填"hceCmd"字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number[]&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回的是符合APDU协议的数据，每个number十六进制表示，范围是0x00~0xFF。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Invalid parameter.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于除轻量级智能穿戴产品之外其它设备</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { cardEmulation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ElementName</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./bundleManager/ElementName'</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">hceService</span>: cardEmulation.<span class="hljs-property">HceService</span> = <span class="hljs-keyword">new</span> cardEmulation.<span class="hljs-title class_">HceService</span>();</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">element</span>: <span class="hljs-title class_">ElementName</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">want: Want, param: AbilityConstant.LaunchParam</span>) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testHce'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onCreate'</span>);</li><li>    element = {</li><li>      <span class="hljs-attr">bundleName</span>: want.<span class="hljs-property">bundleName</span> ?? <span class="hljs-string">''</span>,</li><li>      <span class="hljs-attr">abilityName</span>: want.<span class="hljs-property">abilityName</span> ?? <span class="hljs-string">''</span>,</li><li>      <span class="hljs-attr">moduleName</span>: want.<span class="hljs-property">moduleName</span></li><li>    }</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">apduCallback</span>: <span class="hljs-title class_">AsyncCallback</span>&lt;number[]&gt; = <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>      <span class="hljs-comment">//处理数据和异常</span></li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"got apdu data"</span>);</li><li>    };</li><li>    hceService.<span class="hljs-title function_">on</span>(<span class="hljs-string">'hceCmd'</span>, apduCallback);</li><li>  }</li><li>  <span class="hljs-title function_">onDestroy</span>(<span class="hljs-params"></span>) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testHce'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onDestroy'</span>);</li><li>    hceService.<span class="hljs-title function_">stop</span>(element);</li><li>  }</li><li>  <span class="hljs-comment">// 生命周期内的其它功能</span></li><li>}</li></ol></pre></div></div>     <p><strong>示例：</strong></p>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于轻量级智能穿戴设备</span></li><li><span class="hljs-keyword">import</span> cardEmulation <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.nfc.cardEmulation'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> appName = <span class="hljs-string">"com.example.testquestionlite"</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>:{</li><li>    <span class="hljs-attr">fontSize</span>: <span class="hljs-string">'30px'</span>,</li><li>    <span class="hljs-attr">fontColor</span>: <span class="hljs-string">'#50609f'</span>,</li><li>    <span class="hljs-attr">hide</span>: <span class="hljs-string">'show'</span>,</li><li>    <span class="hljs-attr">headCon</span>: appName,</li><li>    <span class="hljs-attr">paymentAid</span>: [<span class="hljs-string">"A0000000041010"</span>, <span class="hljs-string">"A0000000041012"</span>]</li><li>  },</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onCreate'</span>);</li><li>  },</li><li>  <span class="hljs-title function_">onReady</span>(<span class="hljs-params"></span>) {</li><li>    cardEmulation.<span class="hljs-title function_">hasHceCapability</span>();</li><li>    cardEmulation.<span class="hljs-title function_">isDefaultService</span>(appName, cardEmulation.<span class="hljs-property">CardType</span>.<span class="hljs-property">PAYMENT</span>);</li><li>    cardEmulation.<span class="hljs-title function_">isDefaultService</span>(appName, cardEmulation.<span class="hljs-property">CardType</span>.<span class="hljs-property">OTHER</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-title class_">HceService</span> = <span class="hljs-keyword">new</span> cardEmulation.<span class="hljs-title class_">HceService</span>();</li><li>
</li><li>    <span class="hljs-title class_">HceService</span>.<span class="hljs-title function_">start</span>(appName, <span class="hljs-variable language_">this</span>.<span class="hljs-property">paymentAid</span>);</li><li>    <span class="hljs-title class_">HceService</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">"hceCmd"</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span> + data);</li><li>      <span class="hljs-comment">// 应用程序实际想要发送的数据， 此处仅做为示例</span></li><li>      <span class="hljs-keyword">let</span> responseData = [<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>];</li><li>      <span class="hljs-title class_">HceService</span>.<span class="hljs-title function_">transmit</span>(responseData, <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'sendResponse start'</span>);</li><li>      });</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'sendResponse end'</span>);</li><li>    });</li><li>  },</li><li>  <span class="hljs-title function_">onDestroy</span>(<span class="hljs-params"></span>) {</li><li>  }</li><li>  <span class="hljs-comment">// 生命周期内的其它功能</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="off18" device-type="phone,wearable,lite_wearable">off<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="off18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>off(type: 'hceCmd', callback?: AsyncCallback&lt;number[]&gt;): void</p>     <p>取消APDU数据接收的订阅。使用callback异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.NFC_CARD_EMULATION</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的事件类型，固定填"hceCmd"字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number[]&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，返回的每个number十六进制表示，范围是0x00~0xFF。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于除轻量级智能穿戴产品之外其它设备</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { cardEmulation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ElementName</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./bundleManager/ElementName'</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">hceService</span>: cardEmulation.<span class="hljs-property">HceService</span> = <span class="hljs-keyword">new</span> cardEmulation.<span class="hljs-title class_">HceService</span>();</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">element</span>: <span class="hljs-title class_">ElementName</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">apduCallback</span>: <span class="hljs-title class_">AsyncCallback</span>&lt;number[]&gt; = <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>  <span class="hljs-comment">// 处理数据和异常</span></li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"AsyncCallback got apdu data"</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">want: Want, param: AbilityConstant.LaunchParam</span>) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testHce'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onCreate'</span>);</li><li>    element = {</li><li>      <span class="hljs-attr">bundleName</span>: want.<span class="hljs-property">bundleName</span> ?? <span class="hljs-string">''</span>,</li><li>      <span class="hljs-attr">abilityName</span>: want.<span class="hljs-property">abilityName</span> ?? <span class="hljs-string">''</span>,</li><li>      <span class="hljs-attr">moduleName</span>: want.<span class="hljs-property">moduleName</span></li><li>    }</li><li>    hceService.<span class="hljs-title function_">on</span>(<span class="hljs-string">'hceCmd'</span>, apduCallback);</li><li>  }</li><li>  <span class="hljs-title function_">onDestroy</span>(<span class="hljs-params"></span>) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testHce'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onDestroy'</span>);</li><li>    hceService.<span class="hljs-title function_">off</span>(<span class="hljs-string">'hceCmd'</span>, apduCallback);</li><li>    hceService.<span class="hljs-title function_">stop</span>(element);</li><li>  }</li><li>  <span class="hljs-comment">// 生命周期内的其它功能</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="sendresponsedeprecated" device-type="phone,wearable,lite_wearable">sendResponse<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendresponsedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>sendResponse(responseApdu: number[]): void</p>     <p>发送APDU数据到对端读卡设备。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 8 开始支持，从 API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cardemulation#transmit9">transmit</a>替代。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.NFC_CARD_EMULATION</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">responseApdu</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">发送到对端读卡设备的符合APDU协议的数据，每个number十六进制表示，范围是0x00~0xFF。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="transmit9" device-type="phone,wearable,lite_wearable">transmit<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transmit9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>transmit(response: number[]): Promise&lt;void&gt;</p>     <p>发送APDU数据到对端读卡设备，使用Promise异步回调。应用程序必须在<a href="/consumer/cn/doc/harmonyos-references/js-apis-cardemulation#on8">on</a>收到读卡设备发送的APDU数据后，才调用该接口响应数据。</p>     <p><strong>需要权限：</strong> ohos.permission.NFC_CARD_EMULATION</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">response</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">发送到对端读卡设备的符合APDU协议的数据，每个number十六进制表示，范围是0x00~0xFF。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="50%"><strong>类型</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="50%"><strong>说明</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>The parameter check failed. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified.</p>          <p>2. Incorrect parameters types.</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3100301</td>         <td class="cellrowborder" width="50%">Card emulation running state is abnormal in service.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于除轻量级智能穿戴产品之外其它设备</span></li><li><span class="hljs-keyword">import</span> { cardEmulation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">hceService</span>: cardEmulation.<span class="hljs-property">HceService</span> = <span class="hljs-keyword">new</span> cardEmulation.<span class="hljs-title class_">HceService</span>();</li><li>
</li><li><span class="hljs-comment">// 应用程序实际想要发送的数据， 此处仅做为示例</span></li><li><span class="hljs-keyword">const</span> responseData = [<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>];</li><li>hceService.<span class="hljs-title function_">transmit</span>(responseData).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-comment">// 处理 promise 的回调</span></li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"transmit Promise success."</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"transmit Promise error:"</span>, err);</li><li>});</li></ol></pre></div></div>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于轻量级智能穿戴设备</span></li><li><span class="hljs-keyword">import</span> cardEmulation <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.nfc.cardEmulation'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> hceService = <span class="hljs-keyword">new</span> cardEmulation.<span class="hljs-title class_">HceService</span>();</li><li>
</li><li><span class="hljs-comment">// 应用程序实际想要发送的数据， 此处仅做为示例</span></li><li><span class="hljs-keyword">let</span> responseData = [<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>];</li><li>hceService.<span class="hljs-title function_">transmit</span>(responseData).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-comment">// 处理 promise 的回调</span></li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"transmit Promise success."</span>);</li><li>});</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"transmit Promise end."</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="transmit9-1" device-type="phone,wearable,lite_wearable">transmit<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transmit9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>transmit(response: number[], callback: AsyncCallback&lt;void&gt;): void</p>     <p>发送APDU数据到对端读卡设备，应用程序必须在<a href="/consumer/cn/doc/harmonyos-references/js-apis-cardemulation#on8">on</a>收到读卡设备发送的APDU数据后，才调用该接口响应数据。使用Callback异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.NFC_CARD_EMULATION</p>     <p><strong>系统能力：</strong> SystemCapability.Communication.NFC.CardEmulation</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">response</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">发送到对端读卡设备的符合APDU协议的数据，每个number十六进制表示，范围是0x00~0xFF。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当发送APDU数据成功时，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-nfc">NFC错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>The parameter check failed. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified.</p>          <p>2. Incorrect parameters types.</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">3100301</td>         <td class="cellrowborder" width="50%">Card emulation running state is abnormal in service.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于除轻量级智能穿戴产品之外其它设备</span></li><li><span class="hljs-keyword">import</span> { cardEmulation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ConnectivityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">hceService</span>: cardEmulation.<span class="hljs-property">HceService</span> = <span class="hljs-keyword">new</span> cardEmulation.<span class="hljs-title class_">HceService</span>();</li><li>
</li><li><span class="hljs-comment">// 应用程序实际想要发送的数据， 此处仅做为示例</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> responseData = [<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>];</li><li>
</li><li>  hceService.<span class="hljs-title function_">transmit</span>(responseData, <span class="hljs-function">(<span class="hljs-params">err : BusinessError</span>)=&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`transmit AsyncCallback err Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"transmit AsyncCallback success."</span>);</li><li>    }</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`transmit AsyncCallback catch Code: <span class="hljs-subst">${(error <span class="hljs-keyword">as</span> BusinessError).code}</span>, `</span> +</li><li>    <span class="hljs-string">`message: <span class="hljs-subst">${(error <span class="hljs-keyword">as</span> BusinessError).message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     <div _ngcontent-idh-c106="" class="highlight-div"><div _ngcontent-idh-c106="" class="highlight-div-header"><div _ngcontent-idh-c106="" class="highlight-div-header-left"><div _ngcontent-idh-c106="" class="handle-button expand-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-idh-c106="" class="highlight-div-header-right"><div _ngcontent-idh-c106="" class="handle-button ai-button"></div><div _ngcontent-idh-c106="" class="handle-button line-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-idh-c106="" class="handle-button theme-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-idh-c106="" class="handle-button copy-button"><div _ngcontent-idh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-idh-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 适用于轻量级智能穿戴设备</span></li><li><span class="hljs-keyword">import</span> cardEmulation <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.nfc.cardEmulation'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> hceService = <span class="hljs-keyword">new</span> cardEmulation.<span class="hljs-title class_">HceService</span>();</li><li>
</li><li><span class="hljs-comment">// 应用程序实际想要发送的数据， 此处仅做为示例</span></li><li><span class="hljs-keyword">let</span> responseData = [<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>];</li><li>hceService.<span class="hljs-title function_">transmit</span>(responseData, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"transmit Promise success."</span>);</li><li>});</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"transmit Promise end."</span>);</li></ol></pre></div></div>    </div>   </div>   <div></div></div>