<h1 _ngcontent-klr-c119="" class="doc-title ng-star-inserted" title="@ohos.print (打印)"> @ohos.print (打印) </h1>

<div _ngcontent-klr-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;"> <div><p>该模块为基本打印的操作API，提供调用基础打印功能的接口。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>本模块首批接口从API version 10开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>  </div></div></div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;"><h2 id="导入模块" device-type="phone,2in1,tablet">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 182px;"><h2 id="printtask" device-type="phone,2in1,tablet">PrintTask<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printtask" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印任务完成后的事件监听回调接口类。</p> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1341px;"><h3 id="on" device-type="phone,2in1,tablet" class="firsth2">on<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="on" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>on(type: 'block', callback: Callback&lt;void&gt;): void</p> <p>注册打印任务阻塞的监听，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>注册监听，</p> <p>监听字段：block，</p> <p>表示打印任务阻塞。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，通知调用方打印任务阻塞。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> filePath = <span class="hljs-string">'/data/storage/el2/base/haps/entry/files/test.pdf'</span>;</li><li>print.<span class="hljs-title function_">print</span>([fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath)]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">printTask: print.PrintTask</span>) =&gt;</span> {</li><li>    printTask.<span class="hljs-title function_">on</span>(<span class="hljs-string">'block'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print state is block'</span>);</li><li>    })</li><li>    <span class="hljs-comment">// ...</span></li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'print err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1357px;"><h3 id="on-1" device-type="phone,2in1,tablet">on<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="on-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>on(type: 'succeed', callback: Callback&lt;void&gt;): void</p> <p>注册打印任务成功的监听，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>注册监听，</p> <p>监听字段：succeed，</p> <p>表示打印任务成功。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，通知调用方打印任务成功。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> filePath = <span class="hljs-string">'/data/storage/el2/base/haps/entry/files/test.pdf'</span>;</li><li>print.<span class="hljs-title function_">print</span>([fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath)]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">printTask: print.PrintTask</span>) =&gt;</span> {</li><li>    printTask.<span class="hljs-title function_">on</span>(<span class="hljs-string">'succeed'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print state is succeed'</span>);</li><li>    })</li><li>    <span class="hljs-comment">// ...</span></li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'print err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1357px;"><h3 id="on-2" device-type="phone,2in1,tablet">on<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="on-2" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>on(type: 'fail', callback: Callback&lt;void&gt;): void</p> <p>注册打印任务失败的监听，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>注册监听，</p> <p>监听字段：fail，</p> <p>表示打印任务失败。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，通知调用方打印任务失败。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> filePath = <span class="hljs-string">'/data/storage/el2/base/haps/entry/files/test.pdf'</span>;</li><li>print.<span class="hljs-title function_">print</span>([fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath)]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">printTask: print.PrintTask</span>) =&gt;</span> {</li><li>    printTask.<span class="hljs-title function_">on</span>(<span class="hljs-string">'fail'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print state is fail'</span>);</li><li>    })</li><li>    <span class="hljs-comment">// ...</span></li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'print err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1357px;"><h3 id="on-3" device-type="phone,2in1,tablet">on<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="on-3" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>on(type: 'cancel', callback: Callback&lt;void&gt;): void</p> <p>注册打印任务被取消的监听，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>注册监听，</p> <p>监听字段：cancel，</p> <p>表示打印任务被取消。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，通知调用方打印任务被取消。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> filePath = <span class="hljs-string">'/data/storage/el2/base/haps/entry/files/test.pdf'</span>;</li><li>print.<span class="hljs-title function_">print</span>([fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath)]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">printTask: print.PrintTask</span>) =&gt;</span> {</li><li>    printTask.<span class="hljs-title function_">on</span>(<span class="hljs-string">'cancel'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print state is cancel'</span>);</li><li>    })</li><li>    <span class="hljs-comment">// ...</span></li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'print err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1357px;"><h3 id="off" device-type="phone,2in1,tablet">off<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="off" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>off(type: 'block', callback?: Callback&lt;void&gt;): void</p> <p>取消打印任务阻塞的监听，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>取消监听，</p> <p>监听字段：block，</p> <p>表示打印任务阻塞。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数，取消指定的打印任务阻塞事件订阅。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> filePath = <span class="hljs-string">'/data/storage/el2/base/haps/entry/files/test.pdf'</span>;</li><li>print.<span class="hljs-title function_">print</span>([fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath)]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">printTask: print.PrintTask</span>) =&gt;</span> {</li><li>    printTask.<span class="hljs-title function_">off</span>(<span class="hljs-string">'block'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'unregister state block'</span>);</li><li>    })</li><li>    <span class="hljs-comment">// ...</span></li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'print err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1357px;"><h3 id="off-1" device-type="phone,2in1,tablet">off<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="off-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>off(type: 'succeed', callback?: Callback&lt;void&gt;): void</p> <p>取消打印任务成功的监听，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>取消监听，</p> <p>监听字段：succeed，</p> <p>表示打印任务成功。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数，取消指定的打印任务成功事件订阅。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> filePath = <span class="hljs-string">'/data/storage/el2/base/haps/entry/files/test.pdf'</span>;</li><li>print.<span class="hljs-title function_">print</span>([fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath)]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">printTask: print.PrintTask</span>) =&gt;</span> {</li><li>    printTask.<span class="hljs-title function_">off</span>(<span class="hljs-string">'succeed'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'unregister state succeed'</span>);</li><li>    })</li><li>    <span class="hljs-comment">// ...</span></li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'print err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1357px;"><h3 id="off-2" device-type="phone,2in1,tablet">off<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="off-2" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>off(type: 'fail', callback?: Callback&lt;void&gt;): void</p> <p>取消打印任务失败的监听，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>取消监听，</p> <p>监听字段：fail，</p> <p>表示打印任务失败。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数，取消指定的打印任务失败事件订阅。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> filePath = <span class="hljs-string">'/data/storage/el2/base/haps/entry/files/test.pdf'</span>;</li><li>print.<span class="hljs-title function_">print</span>([fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath)]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">printTask: print.PrintTask</span>) =&gt;</span> {</li><li>    printTask.<span class="hljs-title function_">off</span>(<span class="hljs-string">'fail'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'unregister state fail'</span>);</li><li>    })</li><li>    <span class="hljs-comment">// ...</span></li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'print err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1357px;"><h3 id="off-3" device-type="phone,2in1,tablet">off<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="off-3" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>off(type: 'cancel', callback?: Callback&lt;void&gt;): void</p> <p>取消打印任务被取消的监听，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>取消监听，</p> <p>监听字段：cancel，</p> <p>表示打印任务被取消。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数，取消指定的打印任务被取消事件订阅。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> filePath = <span class="hljs-string">'/data/storage/el2/base/haps/entry/files/test.pdf'</span>;</li><li>print.<span class="hljs-title function_">print</span>([fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath)]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">printTask: print.PrintTask</span>) =&gt;</span> {</li><li>    printTask.<span class="hljs-title function_">off</span>(<span class="hljs-string">'cancel'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'unregister state cancel'</span>);</li><li>    })</li><li>    <span class="hljs-comment">// ...</span></li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'print err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 182px;"><h2 id="printdocumentadapter11" device-type="phone,2in1,tablet">PrintDocumentAdapter<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printdocumentadapter11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>第三方应用程序实现此接口来渲染要打印的文件。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1716px;"><h3 id="onstartlayoutwrite11" device-type="phone,2in1,tablet" class="firsth2">onStartLayoutWrite<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onstartlayoutwrite11" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>onStartLayoutWrite(jobId: string, oldAttrs: PrintAttributes, newAttrs: PrintAttributes, fd: number, writeResultCallback: (jobId: string, writeResult: PrintFileCreationState) =&gt; void): void</p> <p>打印服务会通过本接口将一个空的pdf文件的文件描述符传给三方应用，由三方应用使用新的打印参数更新待打印文件，更新文件完成后通过本接口的回调方法writeResultCallback通知打印服务。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">jobId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示打印任务ID。</td> </tr> <tr><td class="cellrowborder" width="25%">oldAttrs</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printattributes11">PrintAttributes</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示旧打印参数。</td> </tr> <tr><td class="cellrowborder" width="25%">newAttrs</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printattributes11">PrintAttributes</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示新打印参数。</td> </tr> <tr><td class="cellrowborder" width="25%">fd</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示打印文件传给接口调用方的pdf文件的文件描述符。</td> </tr> <tr><td class="cellrowborder" width="25%">writeResultCallback</td> <td class="cellrowborder" width="25%">(jobId: string, writeResult: <a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printfilecreationstate11">PrintFileCreationState</a>) =&gt; void</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示三方应用使用新的打印参数更新待打印文件完成后的回调。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyPrintDocumentAdapter</span> <span class="hljs-keyword">implements</span> print.<span class="hljs-property">PrintDocumentAdapter</span> {</li><li>    <span class="hljs-title function_">onStartLayoutWrite</span>(<span class="hljs-params">jobId: <span class="hljs-built_in">string</span>, oldAttrs: print.PrintAttributes, newAttrs: print.PrintAttributes, fd: <span class="hljs-built_in">number</span>,</span></li><li><span class="hljs-params">        writeResultCallback: (jobId: <span class="hljs-built_in">string</span>, writeResult: print.PrintFileCreationState) =&gt; <span class="hljs-built_in">void</span></span>) {</li><li>        <span class="hljs-title function_">writeResultCallback</span>(jobId, print.<span class="hljs-property">PrintFileCreationState</span>.<span class="hljs-property">PRINT_FILE_CREATED</span>);</li><li>    };</li><li>    <span class="hljs-title function_">onJobStateChanged</span>(<span class="hljs-params">jobId: <span class="hljs-built_in">string</span>, state: print.PrintDocumentAdapterState</span>) {</li><li>        <span class="hljs-keyword">if</span> (state == print.<span class="hljs-property">PrintDocumentAdapterState</span>.<span class="hljs-property">PREVIEW_DESTROY</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PREVIEW_DESTROY'</span>);</li><li>        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (state == print.<span class="hljs-property">PrintDocumentAdapterState</span>.<span class="hljs-property">PRINT_TASK_SUCCEED</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PRINT_TASK_SUCCEED'</span>);</li><li>        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (state == print.<span class="hljs-property">PrintDocumentAdapterState</span>.<span class="hljs-property">PRINT_TASK_FAIL</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PRINT_TASK_FAIL'</span>);</li><li>        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (state == print.<span class="hljs-property">PrintDocumentAdapterState</span>.<span class="hljs-property">PRINT_TASK_CANCEL</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PRINT_TASK_CANCEL'</span>);</li><li>        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (state == print.<span class="hljs-property">PrintDocumentAdapterState</span>.<span class="hljs-property">PRINT_TASK_BLOCK</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PRINT_TASK_BLOCK'</span>);</li><li>        }</li><li>    }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1525px;"><h3 id="onjobstatechanged11" device-type="phone,2in1,tablet">onJobStateChanged<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onjobstatechanged11" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>onJobStateChanged(jobId: string, state: PrintDocumentAdapterState): void</p> <p>实现这个接口来监听打印任务状态的改变。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">jobId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示打印任务ID。</td> </tr> <tr><td class="cellrowborder" width="25%">state</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printdocumentadapterstate11">PrintDocumentAdapterState</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示打印任务更改为该状态。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyPrintDocumentAdapter</span> <span class="hljs-keyword">implements</span> print.<span class="hljs-property">PrintDocumentAdapter</span> {</li><li>    <span class="hljs-title function_">onStartLayoutWrite</span>(<span class="hljs-params">jobId: <span class="hljs-built_in">string</span>, oldAttrs: print.PrintAttributes, newAttrs: print.PrintAttributes, fd: <span class="hljs-built_in">number</span>,</span></li><li><span class="hljs-params">        writeResultCallback: (jobId: <span class="hljs-built_in">string</span>, writeResult: print.PrintFileCreationState) =&gt; <span class="hljs-built_in">void</span></span>) {</li><li>        <span class="hljs-title function_">writeResultCallback</span>(jobId, print.<span class="hljs-property">PrintFileCreationState</span>.<span class="hljs-property">PRINT_FILE_CREATED</span>);</li><li>    };</li><li>    <span class="hljs-title function_">onJobStateChanged</span>(<span class="hljs-params">jobId: <span class="hljs-built_in">string</span>, state: print.PrintDocumentAdapterState</span>) {</li><li>        <span class="hljs-keyword">if</span> (state == print.<span class="hljs-property">PrintDocumentAdapterState</span>.<span class="hljs-property">PREVIEW_DESTROY</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PREVIEW_DESTROY'</span>);</li><li>        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (state == print.<span class="hljs-property">PrintDocumentAdapterState</span>.<span class="hljs-property">PRINT_TASK_SUCCEED</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PRINT_TASK_SUCCEED'</span>);</li><li>        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (state == print.<span class="hljs-property">PrintDocumentAdapterState</span>.<span class="hljs-property">PRINT_TASK_FAIL</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PRINT_TASK_FAIL'</span>);</li><li>        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (state == print.<span class="hljs-property">PrintDocumentAdapterState</span>.<span class="hljs-property">PRINT_TASK_CANCEL</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PRINT_TASK_CANCEL'</span>);</li><li>        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (state == print.<span class="hljs-property">PrintDocumentAdapterState</span>.<span class="hljs-property">PRINT_TASK_BLOCK</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PRINT_TASK_BLOCK'</span>);</li><li>        }</li><li>    }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1533px;"><h2 id="printprint" device-type="phone,2in1,tablet">print.print<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printprint" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>print(files: Array&lt;string&gt;, callback: AsyncCallback&lt;PrintTask&gt;): void</p> <p>打印接口，传入文件进行打印，使用callback异步回调。拉起系统打印预览界面，需要使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printprint11-1">print</a>接口，传入context。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">files</td> <td class="cellrowborder" width="25%">Array&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待打印文件列表，支持图片（.jpg .png .gif .bmp .webp）和pdf。文件需先保存到应用沙箱，通过fileUri.getUriFromPath获取到沙箱uri，再作为参数传入到本接口。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printtask">PrintTask</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">异步获取打印完成之后的回调。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-comment">//传入文件的uri</span></li><li><span class="hljs-keyword">let</span> filePath = <span class="hljs-string">'/data/storage/el2/base/haps/entry/files/test.pdf'</span>;</li><li>print.<span class="hljs-title function_">print</span>([fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath)], <span class="hljs-function">(<span class="hljs-params">err: BusinessError, printTask: print.PrintTask</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'print err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        printTask.<span class="hljs-title function_">on</span>(<span class="hljs-string">'succeed'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print state is succeed'</span>);</li><li>        })</li><li>        <span class="hljs-comment">// ...</span></li><li>    }</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1587px;"><h2 id="printprint-1" device-type="phone,2in1,tablet">print.print<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printprint-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>print(files: Array&lt;string&gt;): Promise&lt;PrintTask&gt;</p> <p>打印接口，传入文件进行打印，使用Promise异步回调。拉起系统打印预览界面，需要使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printprint11-1">print</a>接口，传入context。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">files</td> <td class="cellrowborder" width="25%">Array&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待打印文件列表，支持图片（.jpg .png .gif .bmp .webp）和pdf。文件需先保存到应用沙箱，通过fileUri.getUriFromPath获取到沙箱uri，再作为参数传入到本接口。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printtask">PrintTask</a>&gt;</td> <td class="cellrowborder" width="50%">打印完成结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.12.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.17.12.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-comment">//传入文件的uri</span></li><li><span class="hljs-keyword">let</span> filePath = <span class="hljs-string">'/data/storage/el2/base/haps/entry/files/test.pdf'</span>;</li><li>print.<span class="hljs-title function_">print</span>([fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath)]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">printTask: print.PrintTask</span>) =&gt;</span> {</li><li>    printTask.<span class="hljs-title function_">on</span>(<span class="hljs-string">'succeed'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print state is succeed'</span>);</li><li>    })</li><li>    <span class="hljs-comment">// ...</span></li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'print err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1986px;"><h2 id="printprint11" device-type="phone,2in1,tablet">print.print<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printprint11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>print(files: Array&lt;string&gt;, context: Context, callback: AsyncCallback&lt;PrintTask&gt;): void</p> <p>打印接口，传入文件进行打印，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">files</td> <td class="cellrowborder" width="25%">Array&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待打印文件列表，支持图片（.jpg .png .gif .bmp .webp）和pdf。文件需先保存到应用沙箱，通过fileUri.getUriFromPath获取到沙箱uri，再作为参数传入到本接口。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%">Context</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于拉起系统打印界面的UIAbilityContext。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printtask">PrintTask</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">异步获取打印完成之后的回调。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-title class_">Scroll</span>() {</li><li>            <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>                <span class="hljs-title class_">Button</span>(<span class="hljs-string">"打印"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-keyword">let</span> filePath = <span class="hljs-string">'/data/storage/el2/base/haps/entry/files/test.pdf'</span>;</li><li>                    <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>();</li><li>                    print.<span class="hljs-title function_">print</span>([fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath)], context, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, printTask: print.PrintTask</span>) =&gt;</span> {</li><li>                        <span class="hljs-keyword">if</span> (err) {</li><li>                            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'print err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>                        } <span class="hljs-keyword">else</span> {</li><li>                            printTask.<span class="hljs-title function_">on</span>(<span class="hljs-string">'succeed'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>                                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print state is succeed'</span>);</li><li>                            })</li><li>                            <span class="hljs-comment">// ...</span></li><li>                        }</li><li>                    })</li><li>                })</li><li>            }</li><li>            .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">constraintSize</span>({ <span class="hljs-attr">minHeight</span>: <span class="hljs-string">'100%'</span> })</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 2040px;"><h2 id="printprint11-1" device-type="phone,2in1,tablet">print.print<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printprint11-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>print(files: Array&lt;string&gt;, context: Context): Promise&lt;PrintTask&gt;</p> <p>打印接口，传入文件进行打印，使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">files</td> <td class="cellrowborder" width="25%">Array&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待打印文件列表，支持图片（.jpg .png .gif .bmp .webp）和pdf。文件需先保存到应用沙箱，通过fileUri.getUriFromPath获取到沙箱uri，再作为参数传入到本接口。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%">Context</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于拉起系统打印界面的UIAbilityContext。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printtask">PrintTask</a>&gt;</td> <td class="cellrowborder" width="50%">打印完成结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.12.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.19.12.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-title class_">Scroll</span>() {</li><li>            <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>                <span class="hljs-title class_">Button</span>(<span class="hljs-string">"打印"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-keyword">let</span> filePath = <span class="hljs-string">'/data/storage/el2/base/haps/entry/files/test.pdf'</span>;</li><li>                    <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>();</li><li>                    print.<span class="hljs-title function_">print</span>([fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath)], context).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">printTask: print.PrintTask</span>) =&gt;</span> {</li><li>                        printTask.<span class="hljs-title function_">on</span>(<span class="hljs-string">'succeed'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>                            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print state is succeed'</span>);</li><li>                        })</li><li>                        <span class="hljs-comment">// ...</span></li><li>                    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>                        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'print err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>                    })</li><li>                })</li><li>            }</li><li>            .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">constraintSize</span>({ <span class="hljs-attr">minHeight</span>: <span class="hljs-string">'100%'</span> })</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 2490px;"><h2 id="printprint11-2" device-type="phone,2in1,tablet">print.print<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printprint11-2" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>print(jobName: string, printAdapter: PrintDocumentAdapter, printAttributes: PrintAttributes, context: Context): Promise&lt;PrintTask&gt;</p> <p>打印接口，传入文件进行打印，三方应用需要更新打印文件，使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">jobName</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示待打印文件名称，例如：test.pdf。打印侧会通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#onstartlayoutwrite11">onStartLayoutWrite</a>接口将空的pdf文件的fd传给接口调用方，由调用方使用新的打印参数更新待打印文件。</td> </tr> <tr><td class="cellrowborder" width="25%">printAdapter</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printdocumentadapter11">PrintDocumentAdapter</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示三方应用实现的<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printdocumentadapter11">PrintDocumentAdapter</a>接口实例。</td> </tr> <tr><td class="cellrowborder" width="25%">printAttributes</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printattributes11">PrintAttributes</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示打印参数。</td> </tr> <tr><td class="cellrowborder" width="25%">context</td> <td class="cellrowborder" width="25%">Context</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于拉起系统打印界面的UIAbilityContext。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printtask">PrintTask</a>&gt;</td> <td class="cellrowborder" width="50%">打印完成结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.12.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.20.12.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-title class_">Scroll</span>() {</li><li>            <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>                <span class="hljs-title class_">Button</span>(<span class="hljs-string">"打印"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-keyword">let</span> jobName : <span class="hljs-built_in">string</span> = <span class="hljs-string">"jobName"</span>;</li><li>                    <span class="hljs-keyword">let</span> printAdapter : print.<span class="hljs-property">PrintDocumentAdapter</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>                    <span class="hljs-keyword">let</span> printAttributes : print.<span class="hljs-property">PrintAttributes</span> = {</li><li>                        <span class="hljs-attr">copyNumber</span>: <span class="hljs-number">1</span>,</li><li>                        <span class="hljs-attr">pageRange</span>: {</li><li>                            <span class="hljs-attr">startPage</span>: <span class="hljs-number">0</span>,</li><li>                            <span class="hljs-attr">endPage</span>: <span class="hljs-number">5</span>,</li><li>                            <span class="hljs-attr">pages</span>: []</li><li>                        },</li><li>                        <span class="hljs-attr">pageSize</span>: print.<span class="hljs-property">PrintPageType</span>.<span class="hljs-property">PAGE_ISO_A3</span>,</li><li>                        <span class="hljs-attr">directionMode</span>: print.<span class="hljs-property">PrintDirectionMode</span>.<span class="hljs-property">DIRECTION_MODE_AUTO</span>,</li><li>                        <span class="hljs-attr">colorMode</span>: print.<span class="hljs-property">PrintColorMode</span>.<span class="hljs-property">COLOR_MODE_MONOCHROME</span>,</li><li>                        <span class="hljs-attr">duplexMode</span>: print.<span class="hljs-property">PrintDuplexMode</span>.<span class="hljs-property">DUPLEX_MODE_NONE</span></li><li>                    }</li><li>                    <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>();</li><li>
</li><li>                    print.<span class="hljs-title function_">print</span>(jobName, printAdapter, printAttributes, context).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">printTask: print.PrintTask</span>) =&gt;</span> {</li><li>                        printTask.<span class="hljs-title function_">on</span>(<span class="hljs-string">'succeed'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>                            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print state is succeed'</span>);</li><li>                        })</li><li>                        <span class="hljs-comment">// ...</span></li><li>                    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>                        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'print err '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>                    })</li><li>                })</li><li>            }</li><li>            .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">constraintSize</span>({ <span class="hljs-attr">minHeight</span>: <span class="hljs-string">'100%'</span> })</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 750px;"><h2 id="printattributes11" device-type="phone,2in1,tablet">PrintAttributes<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printattributes11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义打印参数的接口。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>属性：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.5.1.6.1.1" width="20%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.21.5.1.6.1.2" width="20%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.21.5.1.6.1.3" width="20%"><strong>只读</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.21.5.1.6.1.4" width="20%"><strong>可选</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.21.5.1.6.1.5" width="20%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">copyNumber</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示文件打印份数。默认值为1。</td> </tr> <tr><td class="cellrowborder" width="20%">pageRange</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printpagerange11">PrintPageRange</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示待打印文件的页面范围。</td> </tr> <tr><td class="cellrowborder" width="20%">pageSize</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printpagesize11">PrintPageSize</a> | <a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printpagetype11">PrintPageType</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示待打印文件的纸张类型。</td> </tr> <tr><td class="cellrowborder" width="20%">directionMode</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printdirectionmode11">PrintDirectionMode</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示待打印文件的方向。</td> </tr> <tr><td class="cellrowborder" width="20%">colorMode</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printcolormode11">PrintColorMode</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示待打印文件的色彩模式。</td> </tr> <tr><td class="cellrowborder" width="20%">duplexMode</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printduplexmode11">PrintDuplexMode</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示待打印文件的单双面模式。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 591px;"><h2 id="printpagerange11" device-type="phone,2in1,tablet">PrintPageRange<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printpagerange11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义打印范围的接口。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>属性：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.5.1.6.1.1" width="20%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.22.5.1.6.1.2" width="20%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.22.5.1.6.1.3" width="20%"><strong>只读</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.22.5.1.6.1.4" width="20%"><strong>可选</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.22.5.1.6.1.5" width="20%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">startPage</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示起始页。默认值为1。</td> </tr> <tr><td class="cellrowborder" width="20%">endPage</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示结束页。默认值为待打印文件的最大页数。</td> </tr> <tr><td class="cellrowborder" width="20%">pages</td> <td class="cellrowborder" width="20%">Array&lt;number&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示待打印的页面范围的集合。默认值为空。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 564px;"><h2 id="printpagesize11" device-type="phone,2in1,tablet">PrintPageSize<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printpagesize11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义打印页面尺寸的接口。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>属性：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.5.1.6.1.1" width="20%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.23.5.1.6.1.2" width="20%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.23.5.1.6.1.3" width="20%"><strong>只读</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.23.5.1.6.1.4" width="20%"><strong>可选</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.23.5.1.6.1.5" width="20%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">id</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示纸张类型ID。</td> </tr> <tr><td class="cellrowborder" width="20%">name</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示纸张类型名称。</td> </tr> <tr><td class="cellrowborder" width="20%">width</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示页面宽度，单位：毫米。</td> </tr> <tr><td class="cellrowborder" width="20%">height</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示页面高度，单位：毫米。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 423px;"><h2 id="printdirectionmode11" device-type="phone,2in1,tablet">PrintDirectionMode<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printdirectionmode11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印纸张方向的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">DIRECTION_MODE_AUTO</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示自动选择纸张方向。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">DIRECTION_MODE_PORTRAIT</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示纵向打印。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">DIRECTION_MODE_LANDSCAPE</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示横向打印。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 378px;"><h2 id="printcolormode11" device-type="phone,2in1,tablet">PrintColorMode<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printcolormode11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印色彩模式的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">COLOR_MODE_MONOCHROME</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示黑白打印。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">COLOR_MODE_COLOR</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示彩色打印。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 423px;"><h2 id="printduplexmode11" device-type="phone,2in1,tablet">PrintDuplexMode<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printduplexmode11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印单双面模式的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.26.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">DUPLEX_MODE_NONE</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示单面打印。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">DUPLEX_MODE_LONG_EDGE</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示双面打印沿长边翻转。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">DUPLEX_MODE_SHORT_EDGE</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示双面打印沿短边翻转。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 828px;"><h2 id="printpagetype11" device-type="phone,2in1,tablet">PrintPageType<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printpagetype11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印纸张类型的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.27.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">PAGE_ISO_A3</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示A3。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PAGE_ISO_A4</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示A4。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PAGE_ISO_A5</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示A5。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PAGE_JIS_B5</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">表示B5。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PAGE_ISO_C5</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">表示C5。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PAGE_ISO_DL</td> <td class="cellrowborder" width="33.33333333333333%">5</td> <td class="cellrowborder" width="33.33333333333333%">表示DL。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PAGE_LETTER</td> <td class="cellrowborder" width="33.33333333333333%">6</td> <td class="cellrowborder" width="33.33333333333333%">表示Letter。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PAGE_LEGAL</td> <td class="cellrowborder" width="33.33333333333333%">7</td> <td class="cellrowborder" width="33.33333333333333%">表示Legal。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PAGE_PHOTO_4X6</td> <td class="cellrowborder" width="33.33333333333333%">8</td> <td class="cellrowborder" width="33.33333333333333%">表示4x6相纸。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PAGE_PHOTO_5X7</td> <td class="cellrowborder" width="33.33333333333333%">9</td> <td class="cellrowborder" width="33.33333333333333%">表示5x7相纸。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PAGE_INT_DL_ENVELOPE</td> <td class="cellrowborder" width="33.33333333333333%">10</td> <td class="cellrowborder" width="33.33333333333333%">表示INT DL ENVELOPE。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PAGE_B_TABLOID</td> <td class="cellrowborder" width="33.33333333333333%">11</td> <td class="cellrowborder" width="33.33333333333333%">表示B Tabloid。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 513px;"><h2 id="printdocumentadapterstate11" device-type="phone,2in1,tablet">PrintDocumentAdapterState<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printdocumentadapterstate11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印任务状态的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.28.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.28.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">PREVIEW_DESTROY</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示预览失败。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_TASK_SUCCEED</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务成功。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_TASK_FAIL</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务失败。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_TASK_CANCEL</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务取消。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_TASK_BLOCK</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务阻塞。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 423px;"><h2 id="printfilecreationstate11" device-type="phone,2in1,tablet">PrintFileCreationState<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printfilecreationstate11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印文件创建状态的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.29.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">PRINT_FILE_CREATED</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示打印文件创建成功。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_FILE_CREATION_FAILED</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示打印文件创建失败。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_FILE_CREATED_UNRENDERED</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示打印文件创建成功但未渲染。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 558px;"><h2 id="printerstate14" device-type="phone,2in1,tablet">PrinterState<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printerstate14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印机状态的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.30.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_ADDED</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示新打印机到达。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_REMOVED</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机丢失。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_CAPABILITY_UPDATED</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机更新。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_CONNECTED</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机已连接。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_DISCONNECTED</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机已断开连接。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_RUNNING</td> <td class="cellrowborder" width="33.33333333333333%">5</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机正在运行。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 513px;"><h2 id="printjobstate14" device-type="phone,2in1,tablet">PrintJobState<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printjobstate14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印任务状态的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.31.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.31.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.31.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_PREPARE</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务的初始状态。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_QUEUED</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务传送到打印机。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_RUNNING</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示执行打印任务。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCKED</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务已被阻止。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_COMPLETED</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务完成。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 2205px;"><h2 id="printjobsubstate14" device-type="phone,2in1,tablet">PrintJobSubState<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printjobsubstate14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印任务子状态的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.32.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.32.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.32.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_COMPLETED_SUCCESS</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务成功。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_COMPLETED_FAILED</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务失败。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_COMPLETED_CANCELLED</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务已取消。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_COMPLETED_FILE_CORRUPTED</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">表示打印文件已损坏。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_OFFLINE</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">表示打印处于离线状态。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_BUSY</td> <td class="cellrowborder" width="33.33333333333333%">5</td> <td class="cellrowborder" width="33.33333333333333%">表示打印被其他进程占用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_CANCELLED</td> <td class="cellrowborder" width="33.33333333333333%">6</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务已取消。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_OUT_OF_PAPER</td> <td class="cellrowborder" width="33.33333333333333%">7</td> <td class="cellrowborder" width="33.33333333333333%">表示打印纸张用完。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_OUT_OF_INK</td> <td class="cellrowborder" width="33.33333333333333%">8</td> <td class="cellrowborder" width="33.33333333333333%">表示打印墨水用完。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_OUT_OF_TONER</td> <td class="cellrowborder" width="33.33333333333333%">9</td> <td class="cellrowborder" width="33.33333333333333%">表示打印墨粉用完。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_JAMMED</td> <td class="cellrowborder" width="33.33333333333333%">10</td> <td class="cellrowborder" width="33.33333333333333%">表示打印卡纸。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_DOOR_OPEN</td> <td class="cellrowborder" width="33.33333333333333%">11</td> <td class="cellrowborder" width="33.33333333333333%">表示打印盖开启。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_SERVICE_REQUEST</td> <td class="cellrowborder" width="33.33333333333333%">12</td> <td class="cellrowborder" width="33.33333333333333%">表示打印服务请求。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_LOW_ON_INK</td> <td class="cellrowborder" width="33.33333333333333%">13</td> <td class="cellrowborder" width="33.33333333333333%">表示打印墨水不足。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_LOW_ON_TONER</td> <td class="cellrowborder" width="33.33333333333333%">14</td> <td class="cellrowborder" width="33.33333333333333%">表示打印墨粉不足。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_REALLY_LOW_ON_INK</td> <td class="cellrowborder" width="33.33333333333333%">15</td> <td class="cellrowborder" width="33.33333333333333%">表示打印墨水量非常低。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_BAD_CERTIFICATE</td> <td class="cellrowborder" width="33.33333333333333%">16</td> <td class="cellrowborder" width="33.33333333333333%">表示打印证书有误。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_DRIVER_EXCEPTION<sup>20+</sup></td> <td class="cellrowborder" width="33.33333333333333%">17</td> <td class="cellrowborder" width="33.33333333333333%">表示打印驱动异常。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_ACCOUNT_ERROR</td> <td class="cellrowborder" width="33.33333333333333%">18</td> <td class="cellrowborder" width="33.33333333333333%">表示打印账户时出错。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_PRINT_PERMISSION_ERROR</td> <td class="cellrowborder" width="33.33333333333333%">19</td> <td class="cellrowborder" width="33.33333333333333%">表示打印许可异常。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_PRINT_COLOR_PERMISSION_ERROR</td> <td class="cellrowborder" width="33.33333333333333%">20</td> <td class="cellrowborder" width="33.33333333333333%">表示彩色打印权限异常。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_NETWORK_ERROR</td> <td class="cellrowborder" width="33.33333333333333%">21</td> <td class="cellrowborder" width="33.33333333333333%">表示设备未连接到网络。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_SERVER_CONNECTION_ERROR</td> <td class="cellrowborder" width="33.33333333333333%">22</td> <td class="cellrowborder" width="33.33333333333333%">表示无法连接服务器。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_LARGE_FILE_ERROR</td> <td class="cellrowborder" width="33.33333333333333%">23</td> <td class="cellrowborder" width="33.33333333333333%">表示打印大文件异常。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_FILE_PARSING_ERROR</td> <td class="cellrowborder" width="33.33333333333333%">24</td> <td class="cellrowborder" width="33.33333333333333%">表示文件分析异常。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_SLOW_FILE_CONVERSION</td> <td class="cellrowborder" width="33.33333333333333%">25</td> <td class="cellrowborder" width="33.33333333333333%">表示文件转换太慢。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_RUNNING_UPLOADING_FILES</td> <td class="cellrowborder" width="33.33333333333333%">26</td> <td class="cellrowborder" width="33.33333333333333%">表示正在上传文件。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_RUNNING_CONVERTING_FILES</td> <td class="cellrowborder" width="33.33333333333333%">27</td> <td class="cellrowborder" width="33.33333333333333%">表示正在转换文件。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_FILE_UPLOADING_ERROR<sup>18+</sup></td> <td class="cellrowborder" width="33.33333333333333%">30</td> <td class="cellrowborder" width="33.33333333333333%">表示文件上传失败。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_DRIVER_MISSING<sup>20+</sup></td> <td class="cellrowborder" width="33.33333333333333%">34</td> <td class="cellrowborder" width="33.33333333333333%">表示打印驱动缺失。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_INTERRUPT<sup>20+</sup></td> <td class="cellrowborder" width="33.33333333333333%">35</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务中断。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_PRINTER_UNAVAILABLE<sup>20+</sup></td> <td class="cellrowborder" width="33.33333333333333%">98</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机不可用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINT_JOB_BLOCK_UNKNOWN</td> <td class="cellrowborder" width="33.33333333333333%">99</td> <td class="cellrowborder" width="33.33333333333333%">表示打印未知问题。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 807px;"><h2 id="printerrorcode14" device-type="phone,2in1,tablet">PrintErrorCode<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printerrorcode14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印错误代码的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.33.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">E_PRINT_NONE</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示没有错误。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">E_PRINT_NO_PERMISSION</td> <td class="cellrowborder" width="33.33333333333333%">201</td> <td class="cellrowborder" width="33.33333333333333%">表示没有许可。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">E_PRINT_INVALID_PARAMETER</td> <td class="cellrowborder" width="33.33333333333333%">401</td> <td class="cellrowborder" width="33.33333333333333%">表示无效的参数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">E_PRINT_GENERIC_FAILURE</td> <td class="cellrowborder" width="33.33333333333333%">13100001</td> <td class="cellrowborder" width="33.33333333333333%">表示一般打印失败。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">E_PRINT_RPC_FAILURE</td> <td class="cellrowborder" width="33.33333333333333%">13100002</td> <td class="cellrowborder" width="33.33333333333333%">表示RPC失败。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">E_PRINT_SERVER_FAILURE</td> <td class="cellrowborder" width="33.33333333333333%">13100003</td> <td class="cellrowborder" width="33.33333333333333%">表示打印服务失败。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">E_PRINT_INVALID_EXTENSION</td> <td class="cellrowborder" width="33.33333333333333%">13100004</td> <td class="cellrowborder" width="33.33333333333333%">表示打印扩展无效。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">E_PRINT_INVALID_PRINTER</td> <td class="cellrowborder" width="33.33333333333333%">13100005</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机无效。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">E_PRINT_INVALID_PRINT_JOB</td> <td class="cellrowborder" width="33.33333333333333%">13100006</td> <td class="cellrowborder" width="33.33333333333333%">表示打印任务无效。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">E_PRINT_FILE_IO</td> <td class="cellrowborder" width="33.33333333333333%">13100007</td> <td class="cellrowborder" width="33.33333333333333%">表示文件输入/输出错误。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">E_PRINT_TOO_MANY_FILES<sup>18+</sup></td> <td class="cellrowborder" width="33.33333333333333%">13100010</td> <td class="cellrowborder" width="33.33333333333333%">表示文件数量超过上限，当前上限99个。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 471px;"><h2 id="applicationevent14" device-type="phone,2in1,tablet">ApplicationEvent<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="applicationevent14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印应用事件的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">APPLICATION_CREATED</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示打印应用被拉起的事件。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">APPLICATION_CLOSED_FOR_STARTED</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示由于点击打印而关闭打印应用的事件。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">APPLICATION_CLOSED_FOR_CANCELED</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示由于点击取消而关闭打印应用的事件。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1515px;"><h2 id="printaddprintertodiscovery14" device-type="phone,2in1,tablet">print.addPrinterToDiscovery<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printaddprintertodiscovery14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>addPrinterToDiscovery(printerInformation: PrinterInformation): Promise&lt;void&gt;</p> <p>添加打印机到系统打印机发现列表，使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">printerInformation</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printerinformation14">PrinterInformation</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示新发现的打印机。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">添加打印机到系统打印机发现列表完成结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.35.12.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.35.12.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> printerInformation : print.<span class="hljs-property">PrinterInformation</span> = {</li><li>    printerId : <span class="hljs-string">'testPrinterId'</span>,</li><li>    printerName : <span class="hljs-string">'testPrinterName'</span>,</li><li>    printerStatus : <span class="hljs-number">0</span>,</li><li>    description : <span class="hljs-string">'testDesc'</span>,</li><li>    uri : <span class="hljs-string">'testUri'</span>,</li><li>    printerMake : <span class="hljs-string">'testPrinterMake'</span>,</li><li>    options : <span class="hljs-string">'testOps'</span></li><li>};</li><li>print.<span class="hljs-title function_">addPrinterToDiscovery</span>(printerInformation).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'addPrinterToDiscovery success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'addPrinterToDiscovery error : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1947px;"><h2 id="printupdateprinterindiscovery14" device-type="phone,2in1,tablet">print.updatePrinterInDiscovery<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printupdateprinterindiscovery14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>updatePrinterInDiscovery(printerInformation: PrinterInformation): Promise&lt;void&gt;</p> <p>更新打印机能力到系统打印机发现列表，使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">printerInformation</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printerinformation14">PrinterInformation</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示待更新能力的打印机。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">更新打印机能力到系统打印机发现列表完成结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.36.12.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.36.12.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> testPageSize : print.<span class="hljs-property">PrintPageSize</span> = {</li><li>    id : <span class="hljs-string">'ISO_A4'</span>,</li><li>    name : <span class="hljs-string">'iso_a4_210x297mm'</span>,</li><li>    width : <span class="hljs-number">8268</span>,</li><li>    height : <span class="hljs-number">11692</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> testCapability : print.<span class="hljs-property">PrinterCapabilities</span> = {</li><li>    supportedPageSizes : [testPageSize],</li><li>    supportedColorModes : [print.<span class="hljs-property">PrintColorMode</span>.<span class="hljs-property">COLOR_MODE_MONOCHROME</span>],</li><li>    supportedDuplexModes : [print.<span class="hljs-property">PrintDuplexMode</span>.<span class="hljs-property">DUPLEX_MODE_NONE</span>],</li><li>    supportedMediaTypes : [<span class="hljs-string">'stationery'</span>],</li><li>    supportedQualities : [print.<span class="hljs-property">PrintQuality</span>.<span class="hljs-property">QUALITY_NORMAL</span>],</li><li>    supportedOrientations : [print.<span class="hljs-property">PrintOrientationMode</span>.<span class="hljs-property">ORIENTATION_MODE_PORTRAIT</span>],</li><li>    options : <span class="hljs-string">'testOptions'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> printerInformation : print.<span class="hljs-property">PrinterInformation</span> = {</li><li>    printerId : <span class="hljs-string">'testPrinterId'</span>,</li><li>    printerName : <span class="hljs-string">'testPrinterName'</span>,</li><li>    printerStatus : <span class="hljs-number">0</span>,</li><li>    description : <span class="hljs-string">'testDesc'</span>,</li><li>    capability : testCapability,</li><li>    uri : <span class="hljs-string">'testUri'</span>,</li><li>    printerMake : <span class="hljs-string">'testPrinterMake'</span>,</li><li>    options : <span class="hljs-string">'testOptions'</span></li><li>};</li><li>print.<span class="hljs-title function_">updatePrinterInDiscovery</span>(printerInformation).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'updatePrinterInDiscovery success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'updatePrinterInDiscovery error : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1323px;"><h2 id="printremoveprinterfromdiscovery14" device-type="phone,2in1,tablet">print.removePrinterFromDiscovery<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printremoveprinterfromdiscovery14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>removePrinterFromDiscovery(printerId: string): Promise&lt;void&gt;</p> <p>从系统打印机发现列表里移除打印机，使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">printerId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示待移除的打印机。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.37.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.37.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">从系统打印机发现列表里移除打印机完成结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.37.12.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.37.12.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> printerId : <span class="hljs-built_in">string</span> = <span class="hljs-string">'testPrinterId'</span>;</li><li>print.<span class="hljs-title function_">removePrinterFromDiscovery</span>(printerId).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'removePrinterFromDiscovery success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'removePrinterFromDiscovery error : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1347px;"><h2 id="printgetprinterinformationbyid14" device-type="phone,2in1,tablet">print.getPrinterInformationById<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printgetprinterinformationbyid14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getPrinterInformationById(printerId: string): Promise&lt;PrinterInformation&gt;</p> <p>根据打印机id获取打印机信息，使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">printerId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示待获取信息的打印机id。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printerinformation14">PrinterInformation</a>&gt;</td> <td class="cellrowborder" width="50%">根据打印机id获取的对应打印机信息。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.38.12.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.38.12.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> printerId : <span class="hljs-built_in">string</span> = <span class="hljs-string">'testPrinterId'</span>;</li><li>print.<span class="hljs-title function_">getPrinterInformationById</span>(printerId).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">printerInformation : print.PrinterInformation</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getPrinterInformationById data : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(printerInformation));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getPrinterInformationById error : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 834px;"><h2 id="printerinformation14" device-type="phone,2in1,tablet">PrinterInformation<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printerinformation14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义打印机信息的接口。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>属性：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.1" width="20%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.2" width="20%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.3" width="20%"><strong>只读</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.4" width="20%"><strong>可选</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.39.5.1.6.1.5" width="20%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">printerId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示打印机ID。</td> </tr> <tr><td class="cellrowborder" width="20%">printerName</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示打印机名称。</td> </tr> <tr><td class="cellrowborder" width="20%">printerStatus</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printerstatus14">PrinterStatus</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示当前打印机状态。</td> </tr> <tr><td class="cellrowborder" width="20%">description</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示打印机说明。</td> </tr> <tr><td class="cellrowborder" width="20%">capability</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printercapabilities14">PrinterCapabilities</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示打印机能力。</td> </tr> <tr><td class="cellrowborder" width="20%">uri</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示打印机uri。</td> </tr> <tr><td class="cellrowborder" width="20%">printerMake</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示打印机型号。</td> </tr> <tr><td class="cellrowborder" width="20%">preferences<sup>18+</sup></td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printerpreferences18">PrinterPreferences</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示打印机首选项。</td> </tr> <tr><td class="cellrowborder" width="20%">alias<sup>18+</sup></td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示打印机别名。</td> </tr> <tr><td class="cellrowborder" width="20%">options</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示打印机详细信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 819px;"><h2 id="printercapabilities14" device-type="phone,2in1,tablet">PrinterCapabilities<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printercapabilities14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义打印机能力的接口。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>属性：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.40.5.1.6.1.1" width="20%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.40.5.1.6.1.2" width="20%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.40.5.1.6.1.3" width="20%"><strong>只读</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.40.5.1.6.1.4" width="20%"><strong>可选</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.40.5.1.6.1.5" width="20%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">supportedPageSizes</td> <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printpagesize11">PrintPageSize</a>&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示打印机支持的纸张尺寸列表。</td> </tr> <tr><td class="cellrowborder" width="20%">supportedColorModes</td> <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printcolormode11">PrintColorMode</a>&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示打印机支持的色彩模式列表。</td> </tr> <tr><td class="cellrowborder" width="20%">supportedDuplexModes</td> <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printduplexmode11">PrintDuplexMode</a>&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">表示打印机支持的单双面模式列表。</td> </tr> <tr><td class="cellrowborder" width="20%">supportedMediaTypes</td> <td class="cellrowborder" width="20%">Array&lt;string&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示打印机支持的纸张类型列表。</td> </tr> <tr><td class="cellrowborder" width="20%">supportedQualities</td> <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printquality14">PrintQuality</a>&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示打印机支持的打印质量列表。</td> </tr> <tr><td class="cellrowborder" width="20%">supportedOrientations</td> <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printorientationmode14">PrintOrientationMode</a>&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示打印机支持的打印方向列表。</td> </tr> <tr><td class="cellrowborder" width="20%">options</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示打印机能力详细信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 423px;"><h2 id="printquality14" device-type="phone,2in1,tablet">PrintQuality<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printquality14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印质量的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.41.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.41.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.41.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">QUALITY_DRAFT</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">表示经济的打印质量。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">QUALITY_NORMAL</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">表示标准的打印质量。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">QUALITY_HIGH</td> <td class="cellrowborder" width="33.33333333333333%">5</td> <td class="cellrowborder" width="33.33333333333333%">表示最佳的打印质量。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 561px;"><h2 id="printorientationmode14" device-type="phone,2in1,tablet">PrintOrientationMode<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printorientationmode14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印方向的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.42.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">ORIENTATION_MODE_PORTRAIT</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示纵向打印。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ORIENTATION_MODE_LANDSCAPE</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示横向打印。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ORIENTATION_MODE_REVERSE_LANDSCAPE</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示横向翻转打印。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ORIENTATION_MODE_REVERSE_PORTRAIT</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">表示纵向翻转打印。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ORIENTATION_MODE_NONE</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">表示自适应方向打印。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 423px;"><h2 id="printerstatus14" device-type="phone,2in1,tablet">PrinterStatus<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printerstatus14" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印机状态的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.43.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_IDLE</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机空闲状态。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_BUSY</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机忙碌状态。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_UNAVAILABLE</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机脱机状态。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1131px;"><h2 id="printerpreferences18" device-type="phone,2in1,tablet">PrinterPreferences<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printerpreferences18" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义打印机首选项的接口。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>属性：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.1" width="20%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.2" width="20%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.3" width="20%"><strong>只读</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.4" width="20%"><strong>可选</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.5" width="20%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">defaultDuplexMode</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printduplexmode11">PrintDuplexMode</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示默认单双面模式。</td> </tr> <tr><td class="cellrowborder" width="20%">defaultPrintQuality</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printquality14">PrintQuality</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示默认打印质量。</td> </tr> <tr><td class="cellrowborder" width="20%">defaultMediaType</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示默认纸张类型。</td> </tr> <tr><td class="cellrowborder" width="20%">defaultPageSizeId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示默认纸张尺寸的ID，其范围包含国际标准化组织定义的标准纸张尺寸，如ISO_A4，和系统中定义的非标准的纸张尺寸，如Custom.178x254mm，表示这种纸张尺寸为178毫米 x 254毫米。</td> </tr> <tr><td class="cellrowborder" width="20%">defaultOrientation</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printorientationmode14">PrintOrientationMode</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示默认打印方向。</td> </tr> <tr><td class="cellrowborder" width="20%">borderless</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示是否无边距打印，true表示无边距，false表示有边距。默认值为false。</td> </tr> <tr><td class="cellrowborder" width="20%">options</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">表示打印机首选项中不在以上字段中的其他字段，查询打印机或者从打印机驱动获取，以json格式存储在string中。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 606px;"><h2 id="printerevent18" device-type="phone,2in1,tablet">PrinterEvent<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printerevent18" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>打印机相关事件的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.45.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_EVENT_ADDED</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机添加事件。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_EVENT_DELETED</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机删除事件。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_EVENT_STATE_CHANGED</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机状态变化事件。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_EVENT_INFO_CHANGED</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机信息变化事件。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_EVENT_PREFERENCE_CHANGED</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">表示打印机首选项变化事件。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">PRINTER_EVENT_LAST_USED_PRINTER_CHANGED</td> <td class="cellrowborder" width="33.33333333333333%">5</td> <td class="cellrowborder" width="33.33333333333333%">表示上次使用的打印机的变化事件。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 426px;"><h2 id="defaultprintertype18" device-type="phone,2in1,tablet">DefaultPrinterType<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="defaultprintertype18" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>默认打印类型的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.46.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.46.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.46.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">DEFAULT_PRINTER_TYPE_SET_BY_USER</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">表示将用户手动设置的默认打印机作为当前默认打印机。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">DEFAULT_PRINTER_TYPE_LAST_USED_PRINTER</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">表示自动将上次使用的打印机作为当前默认打印机。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1093px;"><h2 id="printgetaddedprinters18" device-type="phone,2in1,tablet">print.getAddedPrinters<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printgetaddedprinters18" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getAddedPrinters(): Promise&lt;Array&lt;string&gt;&gt;</p> <p>获取系统中已添加的打印机列表，使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.MANAGE_PRINT_JOB or ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.47.7.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;Array&lt;string&gt;&gt;</td> <td class="cellrowborder" width="50%">获取系统中已添加的打印机列表的完成结果回调。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.47.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.47.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>print.<span class="hljs-title function_">getAddedPrinters</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">printers: <span class="hljs-built_in">string</span>[]</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getAddedPrinters success '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(printers));</li><li>    <span class="hljs-comment">// ...</span></li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'failed to getAddedPrinters because '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 474px;"><h2 id="printerchangecallback18" device-type="phone,2in1,tablet">PrinterChangeCallback<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printerchangecallback18" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>type PrinterChangeCallback = (event: PrinterEvent, printerInformation: PrinterInformation) =&gt; void</p> <p>将打印机事件和打印机信息作为参数的回调方法。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">event</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printerevent18">PrinterEvent</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示打印机事件。</td> </tr> <tr><td class="cellrowborder" width="25%">printerInformation</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printerinformation14">PrinterInformation</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示打印机信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1173px;"><h2 id="printon18" device-type="phone,2in1,tablet">print.on<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printon18" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>on(type: 'printerChange', callback: PrinterChangeCallback): void</p> <p>注册打印机变动事件回调，使用callback回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">'printerChange'</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示打印机变动事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printerchangecallback18">PrinterChangeCallback</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">打印机变动之后的回调。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// Trigger this callback when a added printer is changed.</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">onPrinterChange</span> =</li><li>    (<span class="hljs-params">event: print.PrinterEvent, printerInformation: print.PrinterInformation</span>) =&gt; {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'printerChange, event: '</span> + event + <span class="hljs-string">', printerInformation: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(printerInformation));</li><li>    };</li><li>print.<span class="hljs-title function_">on</span>(<span class="hljs-string">'printerChange'</span>, onPrinterChange);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1221px;"><h2 id="printoff18" device-type="phone,2in1,tablet">print.off<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printoff18" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>off(type: 'printerChange', callback?: PrinterChangeCallback): void</p> <p>取消注册打印机变动事件回调，使用callback回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">'printerChange'</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示打印机变动事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-print#printerchangecallback18">PrinterChangeCallback</a></td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">表示取消注册打印机变动事件后的回调。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.50.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.50.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr> <tr><td class="cellrowborder" width="50%">401</td> <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// Trigger this callback when a added printer is changed.</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">onPrinterChange</span> =</li><li>    (<span class="hljs-params">event: print.PrinterEvent, printerInformation: print.PrinterInformation</span>) =&gt; {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'printerChange, event: '</span> + event + <span class="hljs-string">', printerInformation: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(printerInformation));</li><li>    };</li><li>print.<span class="hljs-title function_">on</span>(<span class="hljs-string">'printerChange'</span>, onPrinterChange);</li><li>print.<span class="hljs-title function_">off</span>(<span class="hljs-string">'printerChange'</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1358px;"><h2 id="printstartdiscoverprinter20" device-type="phone,2in1,tablet">print.startDiscoverPrinter<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printstartdiscoverprinter20" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>startDiscoverPrinter(extensionList: Array&lt;string&gt;, callback: AsyncCallback&lt;void&gt;): void</p> <p>通过指定“打印扩展能力列表”来发现打印机，发现的打印机具备包含指定的打印扩展能力。如果指定空的打印扩展能力列表，则表示加载所有扩展能力。使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.MANAGE_PRINT_JOB 或 ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">extensionList</td> <td class="cellrowborder" width="25%">Array&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要加载的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-printextensionability">打印扩展能力</a>列表，列表成员为打印扩展能力的包名，空列表表示加载所有扩展能力。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">异步开始发现打印机之后的回调。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.51.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.51.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 加载所有打印扩展能力</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">extensionList</span>: <span class="hljs-built_in">string</span>[] = [];</li><li><span class="hljs-comment">// 通过指定自己应用的包名，在发现时加载自己的打印扩展能力</span></li><li><span class="hljs-comment">// let extensionList: string[] = ['com.myapplication.test'];</span></li><li>print.<span class="hljs-title function_">startDiscoverPrinter</span>(extensionList, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'failed to start Discover Printer because : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'start Discover Printer success'</span>);</li><li>    }</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1412px;"><h2 id="printstartdiscoverprinter20-1" device-type="phone,2in1,tablet">print.startDiscoverPrinter<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printstartdiscoverprinter20-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>startDiscoverPrinter(extensionList: Array&lt;string&gt;): Promise&lt;void&gt;</p> <p>通过指定“打印扩展能力列表”来发现打印机，发现的打印机具备包含指定的打印扩展能力。如果指定空的打印扩展能力列表，则表示加载所有扩展能力，使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.MANAGE_PRINT_JOB 或 ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">extensionList</td> <td class="cellrowborder" width="25%">Array&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要加载的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-printextensionability">打印扩展能力</a>列表，列表成员为打印扩展能力的包名，空列表表示加载所有扩展能力。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">开始发现打印机的完成结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.52.12.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.52.12.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 加载所有打印扩展能力</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">extensionList</span>: <span class="hljs-built_in">string</span>[] = [];</li><li><span class="hljs-comment">// 通过指定自己应用的包名，在发现时加载自己的打印扩展能力</span></li><li><span class="hljs-comment">// let extensionList: string[] = ['com.myapplication.test'];</span></li><li>print.<span class="hljs-title function_">startDiscoverPrinter</span>(extensionList).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'start Discovery success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'failed to start Discovery because : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1121px;"><h2 id="printstopdiscoverprinter20" device-type="phone,2in1,tablet">print.stopDiscoverPrinter<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printstopdiscoverprinter20" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>stopDiscoverPrinter(callback: AsyncCallback&lt;void&gt;): void</p> <p>停止发现打印机，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.MANAGE_PRINT_JOB 或 ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">停止发现打印机的异步回调。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>print.<span class="hljs-title function_">stopDiscoverPrinter</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'failed to stop Discover Printer because : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'stop Discover Printer success'</span>);</li><li>    }</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1069px;"><h2 id="printstopdiscoverprinter20-1" device-type="phone,2in1,tablet">print.stopDiscoverPrinter<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printstopdiscoverprinter20-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>stopDiscoverPrinter(): Promise&lt;void&gt;</p> <p>停止发现打印机，使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.MANAGE_PRINT_JOB 或 ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.54.7.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">停止发现打印机的完成结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>print.<span class="hljs-title function_">stopDiscoverPrinter</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'stop Discovery success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'failed to stop Discovery because : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1190px;"><h2 id="printconnectprinter20" device-type="phone,2in1,tablet">print.connectPrinter<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printconnectprinter20" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>connectPrinter(printerId: string, callback: AsyncCallback&lt;void&gt;): void</p> <p>通过打印机ID连接打印机，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.MANAGE_PRINT_JOB 或 ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">printerId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">打印机ID。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">通过打印机ID异步连接打印机的回调。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">printerId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'printerId_32'</span>;</li><li>print.<span class="hljs-title function_">connectPrinter</span>(printerId, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'failed to connect Printer because : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'start connect Printer success'</span>);</li><li>    }</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1244px;"><h2 id="printconnectprinter20-1" device-type="phone,2in1,tablet">print.connectPrinter<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printconnectprinter20-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>connectPrinter(printerId: string): Promise&lt;void&gt;</p> <p>通过打印机ID连接打印机，使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.MANAGE_PRINT_JOB 或 ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">printerId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">打印机ID</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">通过打印机ID连接打印机完成结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-print">打印服务错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.56.12.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.56.12.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">the application does not have permission to call this function.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-klr-c106="" class="highlight-div"><div _ngcontent-klr-c106="" class="highlight-div-header"><div _ngcontent-klr-c106="" class="highlight-div-header-left"><div _ngcontent-klr-c106="" class="handle-button expand-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-klr-c106="" class="highlight-div-header-right"><div _ngcontent-klr-c106="" class="handle-button ai-button"></div><div _ngcontent-klr-c106="" class="handle-button line-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-klr-c106="" class="handle-button theme-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-klr-c106="" class="handle-button copy-button"><div _ngcontent-klr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-klr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">printerId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'printerId_32'</span>;</li><li>print.<span class="hljs-title function_">connectPrinter</span>(printerId).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'start connect Printer success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'failed to connect Printer because : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div> </div> <div></div></div>