<h1 _ngcontent-ood-c119="" class="doc-title ng-star-inserted" title="@ohos.rpc (RPC通信)"> @ohos.rpc (RPC通信) </h1>

<div _ngcontent-ood-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>本模块提供进程间通信能力，包括设备内的进程间通信（IPC）和设备间的进程间通信（RPC），前者基于Binder驱动，后者基于软总线驱动。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>        <p>本模块首批接口从API version 7开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p></li>       <li>        <p>本模块从API version 9开始支持异常返回功能。</p></li>      </ul>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1062px;">     <h2 id="errorcode9" device-type="phone,2in1,tablet,wearable,tv">ErrorCode<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="errorcode9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>从API version 9起，IPC支持异常返回功能。错误码对应数值及含义如下。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">CHECK_PARAM_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">401</td>         <td class="cellrowborder" width="33.33333333333333%">检查参数失败。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">OS_MMAP_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">1900001</td>         <td class="cellrowborder" width="33.33333333333333%">执行系统调用mmap失败。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">OS_IOCTL_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">1900002</td>         <td class="cellrowborder" width="33.33333333333333%">在共享内存文件描述符上执行系统调用ioctl失败。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">WRITE_TO_ASHMEM_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">1900003</td>         <td class="cellrowborder" width="33.33333333333333%">向共享内存写数据失败。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">READ_FROM_ASHMEM_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">1900004</td>         <td class="cellrowborder" width="33.33333333333333%">从共享内存读数据失败。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ONLY_PROXY_OBJECT_PERMITTED_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">1900005</td>         <td class="cellrowborder" width="33.33333333333333%">只有proxy对象允许该操作。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ONLY_REMOTE_OBJECT_PERMITTED_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">1900006</td>         <td class="cellrowborder" width="33.33333333333333%">只有remote对象允许该操作。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">COMMUNICATION_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">1900007</td>         <td class="cellrowborder" width="33.33333333333333%">和远端对象进行进程间通信失败。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PROXY_OR_REMOTE_OBJECT_INVALID_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">1900008</td>         <td class="cellrowborder" width="33.33333333333333%">非法的代理对象或者远端对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">WRITE_DATA_TO_MESSAGE_SEQUENCE_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">1900009</td>         <td class="cellrowborder" width="33.33333333333333%">向MessageSequence写数据失败。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">READ_DATA_FROM_MESSAGE_SEQUENCE_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">1900010</td>         <td class="cellrowborder" width="33.33333333333333%">读取MessageSequence数据失败。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PARCEL_MEMORY_ALLOC_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">1900011</td>         <td class="cellrowborder" width="33.33333333333333%">序列化过程中内存分配失败。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CALL_JS_METHOD_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">1900012</td>         <td class="cellrowborder" width="33.33333333333333%">执行JS回调方法失败。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">OS_DUP_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">1900013</td>         <td class="cellrowborder" width="33.33333333333333%">执行系统调用dup失败。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 786px;">     <h2 id="typecode12" device-type="phone,2in1,tablet,wearable,tv">TypeCode<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="typecode12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>从API version 12起，IPC新增<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writearraybuffer12">writeArrayBuffer</a>和<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readarraybuffer12">readArrayBuffer</a>方法传递ArrayBuffer数据，传递数据时通过具体类型值来分辨业务是以哪一种TypedArray去进行数据的读写。类型码对应数值及含义如下。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">INT8_ARRAY</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">TypedArray类型为INT8_ARRAY。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">UINT8_ARRAY</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">TypedArray类型为UINT8_ARRAY。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INT16_ARRAY</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">TypedArray类型为INT16_ARRAY。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">UINT16_ARRAY</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">TypedArray类型为UINT16_ARRAY。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INT32_ARRAY</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">TypedArray类型为INT32_ARRAY。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">UINT32_ARRAY</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">TypedArray类型为UINT32_ARRAY。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">FLOAT32_ARRAY</td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">TypedArray类型为FLOAT32_ARRAY。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">FLOAT64_ARRAY</td>         <td class="cellrowborder" width="33.33333333333333%">7</td>         <td class="cellrowborder" width="33.33333333333333%">TypedArray类型为FLOAT64_ARRAY。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BIGINT64_ARRAY</td>         <td class="cellrowborder" width="33.33333333333333%">8</td>         <td class="cellrowborder" width="33.33333333333333%">TypedArray类型为BIGINT64_ARRAY。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BIGUINT64_ARRAY</td>         <td class="cellrowborder" width="33.33333333333333%">9</td>         <td class="cellrowborder" width="33.33333333333333%">TypedArray类型为BIGUINT64_ARRAY。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 230px;">     <h2 id="messagesequence9" device-type="phone,2in1,tablet,wearable,tv">MessageSequence<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="messagesequence9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>在RPC或IPC过程中，发送方可以使用MessageSequence提供的写方法，将待发送的数据以特定格式写入该对象。接收方可以使用MessageSequence提供的读方法从该对象中读取特定格式的数据。数据格式包括：基础类型及数组、IPC对象、接口描述符和自定义序列化对象。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 922px;">     <h3 id="create9" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">create<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="create9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static create(): MessageSequence</p>     <p>静态方法，创建MessageSequence对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="50%">返回创建的MessageSequence对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'data is '</span> + data);</li><li>
</li><li>  <span class="hljs-comment">// 当MessageSequence对象不再使用，由业务主动调用reclaim方法去释放资源。</span></li><li>  data.<span class="hljs-title function_">reclaim</span>();</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 695px;">     <h3 id="reclaim9" device-type="phone,2in1,tablet,wearable,tv">reclaim<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="reclaim9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>reclaim(): void</p>     <p>释放不再使用的MessageSequence对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> reply = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  reply.<span class="hljs-title function_">reclaim</span>();</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1559px;">     <h3 id="writeremoteobject9" device-type="phone,2in1,tablet,wearable,tv">writeRemoteObject<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeremoteobject9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeRemoteObject(obj: IRemoteObject): void</p>     <p>序列化远程对象并将其写入<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a>对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">obj</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要序列化并写入MessageSequence的远程对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900008</td>         <td class="cellrowborder" width="50%">The proxy or remote object is invalid.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li><li>  data.<span class="hljs-title function_">writeRemoteObject</span>(testRemoteObject);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1500px;">     <h3 id="readremoteobject9" device-type="phone,2in1,tablet,wearable,tv">readRemoteObject<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readremoteobject9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readRemoteObject(): IRemoteObject</p>     <p>从MessageSequence读取远程对象。此方法用于反序列化MessageSequence对象以生成IRemoteObject。远程对象按写入MessageSequence的顺序读取。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a></td>         <td class="cellrowborder" width="50%">读取到的远程对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900008</td>         <td class="cellrowborder" width="50%">The proxy or remote object is invalid.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li><li>  data.<span class="hljs-title function_">writeRemoteObject</span>(testRemoteObject);</li><li>  <span class="hljs-keyword">let</span> proxy = data.<span class="hljs-title function_">readRemoteObject</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readRemoteObject is '</span> + proxy);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1264px;">     <h3 id="writeinterfacetoken9" device-type="phone,2in1,tablet,wearable,tv">writeInterfaceToken<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeinterfacetoken9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeInterfaceToken(token: string): void</p>     <p>将接口描述符写入MessageSequence对象，远端对象可使用该信息校验本次通信。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">token</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">字符串类型描述符，其长度应小于40960字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The string length exceeds 40960 bytes;</p>          <p>4.The number of bytes copied to the buffer is different from the length of the obtained string.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInterfaceToken</span>(<span class="hljs-string">"aaa"</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1157px;">     <h3 id="readinterfacetoken9" device-type="phone,2in1,tablet,wearable,tv">readInterfaceToken<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readinterfacetoken9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readInterfaceToken(): string</p>     <p>从MessageSequence对象中读取接口描述符，接口描述符按写入MessageSequence的顺序读取，本地对象可使用该信息检验本次通信。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回读取到的接口描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInterfaceToken</span>(<span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> interfaceToken = data.<span class="hljs-title function_">readInterfaceToken</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: interfaceToken is '</span> + interfaceToken);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 890px;">     <h3 id="getsize9" device-type="phone,2in1,tablet,wearable,tv">getSize<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsize9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSize(): number</p>     <p>获取当前创建的MessageSequence对象的数据大小。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">获取的MessageSequence实例的数据大小。以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> size = data.<span class="hljs-title function_">getSize</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'size is '</span> + size);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 890px;">     <h3 id="getcapacity9" device-type="phone,2in1,tablet,wearable,tv">getCapacity<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcapacity9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCapacity(): number</p>     <p>获取当前MessageSequence对象的容量大小。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">获取的MessageSequence实例的容量大小。以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">getCapacity</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'capacity is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1216px;">     <h3 id="setsize9" device-type="phone,2in1,tablet,wearable,tv">setSize<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsize9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSize(size: number): void</p>     <p>设置MessageSequence对象中包含的数据大小。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">MessageSequence实例的数据大小。以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">'Hello World'</span>);</li><li>  data.<span class="hljs-title function_">setSize</span>(<span class="hljs-number">16</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1247px;">     <h3 id="setcapacity9" device-type="phone,2in1,tablet,wearable,tv">setCapacity<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcapacity9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setCapacity(size: number): void</p>     <p>设置MessageSequence对象的存储容量。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">MessageSequence实例的存储容量。以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900011</td>         <td class="cellrowborder" width="50%">Memory allocation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">setCapacity</span>(<span class="hljs-number">100</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 938px;">     <h3 id="getwritablebytes9" device-type="phone,2in1,tablet,wearable,tv">getWritableBytes<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwritablebytes9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWritableBytes(): number</p>     <p>获取MessageSequence的可写字节空间大小。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">获取到的MessageSequence实例的可写字节空间。以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">setCapacity</span>(<span class="hljs-number">100</span>);</li><li>  <span class="hljs-keyword">let</span> getWritableBytes = data.<span class="hljs-title function_">getWritableBytes</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: getWritableBytes is '</span> + getWritableBytes);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 938px;">     <h3 id="getreadablebytes9" device-type="phone,2in1,tablet,wearable,tv">getReadableBytes<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getreadablebytes9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getReadableBytes(): number</p>     <p>获取MessageSequence的可读字节空间。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">获取到的MessageSequence实例的可读字节空间。以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">"hello world"</span>);</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">getReadableBytes</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: getReadableBytes is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 914px;">     <h3 id="getreadposition9" device-type="phone,2in1,tablet,wearable,tv">getReadPosition<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getreadposition9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getReadPosition(): number</p>     <p>获取MessageSequence的读位置。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回MessageSequence实例中的当前读取位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">"hello world"</span>);</li><li>  <span class="hljs-keyword">let</span> readPos = data.<span class="hljs-title function_">getReadPosition</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readPos is '</span> + readPos);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 914px;">     <h3 id="getwriteposition9" device-type="phone,2in1,tablet,wearable,tv">getWritePosition<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwriteposition9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWritePosition(): number</p>     <p>获取MessageSequence的写位置。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回MessageSequence实例中的当前写入位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">10</span>);</li><li>  <span class="hljs-keyword">let</span> bwPos = data.<span class="hljs-title function_">getWritePosition</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'bwPos is '</span> + bwPos);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1312px;">     <h3 id="rewindread9" device-type="phone,2in1,tablet,wearable,tv">rewindRead<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rewindread9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rewindRead(pos: number): void</p>     <p>重新偏移读取位置到指定的位置。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pos</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">开始读取数据的目标位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">12</span>);</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">"sequence"</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-built_in">number</span> = data.<span class="hljs-title function_">readInt</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'number is '</span> + <span class="hljs-built_in">number</span>);</li><li>  data.<span class="hljs-title function_">rewindRead</span>(<span class="hljs-number">0</span>);</li><li>  <span class="hljs-keyword">let</span> number2 = data.<span class="hljs-title function_">readInt</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rewindRead is '</span> + number2);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1264px;">     <h3 id="rewindwrite9" device-type="phone,2in1,tablet,wearable,tv">rewindWrite<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rewindwrite9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rewindWrite(pos: number): void</p>     <p>重新偏移写位置到指定的位置。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pos</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">开始写入数据的目标位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">4</span>);</li><li>  data.<span class="hljs-title function_">rewindWrite</span>(<span class="hljs-number">0</span>);</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">5</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-built_in">number</span> = data.<span class="hljs-title function_">readInt</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rewindWrite is: '</span> + <span class="hljs-built_in">number</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1168px;">     <h3 id="writebyte9" device-type="phone,2in1,tablet,wearable,tv">writeByte<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writebyte9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeByte(val: number): void</p>     <p>将字节值写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的字节值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeByte</span>(<span class="hljs-number">2</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readbyte9" device-type="phone,2in1,tablet,wearable,tv">readByte<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readbyte9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readByte(): number</p>     <p>从MessageSequence实例中读取字节值。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回字节值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeByte</span>(<span class="hljs-number">2</span>);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readByte</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readByte is: '</span> +  ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1168px;">     <h3 id="writeshort9" device-type="phone,2in1,tablet,wearable,tv">writeShort<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeshort9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeShort(val: number): void</p>     <p>将短整数值写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的短整数值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeShort</span>(<span class="hljs-number">8</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readshort9" device-type="phone,2in1,tablet,wearable,tv">readShort<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readshort9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readShort(): number</p>     <p>从MessageSequence实例中读取短整数值。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回短整数值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeShort</span>(<span class="hljs-number">8</span>);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readShort</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readShort is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1168px;">     <h3 id="writeint9" device-type="phone,2in1,tablet,wearable,tv">writeInt<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeint9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeInt(val: number): void</p>     <p>将整数值写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的整数值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">10</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readint9" device-type="phone,2in1,tablet,wearable,tv">readInt<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readint9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readInt(): number</p>     <p>从MessageSequence实例中读取整数值。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回整数值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">10</span>);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readInt</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readInt is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1168px;">     <h3 id="writelong9" device-type="phone,2in1,tablet,wearable,tv">writeLong<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writelong9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeLong(val: number): void</p>     <p>将长整数值写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的长整数值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeLong</span>(<span class="hljs-number">10000</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readlong9" device-type="phone,2in1,tablet,wearable,tv">readLong<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readlong9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readLong(): number</p>     <p>从MessageSequence实例中读取长整数值。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回长整数值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeLong</span>(<span class="hljs-number">10000</span>);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readLong</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readLong is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1168px;">     <h3 id="writefloat9" device-type="phone,2in1,tablet,wearable,tv">writeFloat<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writefloat9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeFloat(val: number): void</p>     <p>将双精度浮点值写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的双精度浮点值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeFloat</span>(<span class="hljs-number">1.2</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readfloat9" device-type="phone,2in1,tablet,wearable,tv">readFloat<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readfloat9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readFloat(): number</p>     <p>从MessageSequence实例中读取双精度浮点值。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回双精度浮点值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeFloat</span>(<span class="hljs-number">1.2</span>);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readFloat</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readFloat is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1168px;">     <h3 id="writedouble9" device-type="phone,2in1,tablet,wearable,tv">writeDouble<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writedouble9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeDouble(val: number): void</p>     <p>将双精度浮点值写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的双精度浮点值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeDouble</span>(<span class="hljs-number">10.2</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readdouble9" device-type="phone,2in1,tablet,wearable,tv">readDouble<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readdouble9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readDouble(): number</p>     <p>从MessageSequence实例中读取双精度浮点值。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回双精度浮点值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeDouble</span>(<span class="hljs-number">10.2</span>);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readDouble</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readDouble is '</span> +  ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1168px;">     <h3 id="writeboolean9" device-type="phone,2in1,tablet,wearable,tv">writeBoolean<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeboolean9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeBoolean(val: boolean): void</p>     <p>将布尔值写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的布尔值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeBoolean</span>(<span class="hljs-literal">false</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readboolean9" device-type="phone,2in1,tablet,wearable,tv">readBoolean<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readboolean9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readBoolean(): boolean</p>     <p>从MessageSequence实例中读取布尔值。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回读取到的布尔值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeBoolean</span>(<span class="hljs-literal">false</span>);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readBoolean</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readBoolean is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1168px;">     <h3 id="writechar9" device-type="phone,2in1,tablet,wearable,tv">writeChar<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writechar9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeChar(val: number): void</p>     <p>将单个字符值写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的单个字符值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeChar</span>(<span class="hljs-number">97</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readchar9" device-type="phone,2in1,tablet,wearable,tv">readChar<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readchar9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readChar(): number</p>     <p>从MessageSequence实例中读取单个字符值。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回单个字符值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeChar</span>(<span class="hljs-number">97</span>);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readChar</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readChar is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1264px;">     <h3 id="writestring9" device-type="phone,2in1,tablet,wearable,tv">writeString<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writestring9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeString(val: string): void</p>     <p>将字符串值写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的字符串值，其长度应小于40960字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The string length exceeds 40960 bytes;</p>          <p>4.The number of bytes copied to the buffer is different from the length of the obtained string.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">'abc'</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readstring9" device-type="phone,2in1,tablet,wearable,tv">readString<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readstring9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readString(): string</p>     <p>从MessageSequence实例中读取字符串值。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回字符串值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">'abc'</span>);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readString</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readString is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1648px;">     <h3 id="writeparcelable9" device-type="phone,2in1,tablet,wearable,tv">writeParcelable<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeparcelable9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeParcelable(val: Parcelable): void</p>     <p>将自定义序列化对象写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#parcelable9">Parcelable</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的可序列对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyParcelable</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">Parcelable</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"> num: <span class="hljs-built_in">number</span>, str: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = str;</li><li>  }</li><li>  <span class="hljs-title function_">marshalling</span>(<span class="hljs-attr">messageSequence</span>: rpc.<span class="hljs-property">MessageSequence</span>): <span class="hljs-built_in">boolean</span> {</li><li>    messageSequence.<span class="hljs-title function_">writeInt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>);</li><li>    messageSequence.<span class="hljs-title function_">writeString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>  <span class="hljs-title function_">unmarshalling</span>(<span class="hljs-attr">messageSequence</span>: rpc.<span class="hljs-property">MessageSequence</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = messageSequence.<span class="hljs-title function_">readInt</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = messageSequence.<span class="hljs-title function_">readString</span>();</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcelable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeParcelable</span>(parcelable);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1751px;">     <h3 id="readparcelable9" device-type="phone,2in1,tablet,wearable,tv">readParcelable<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readparcelable9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readParcelable(dataIn: Parcelable): void</p>     <p>从MessageSequence实例中读取成员变量到指定的对象（dataIn）。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#parcelable9">Parcelable</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要从MessageSequence读取成员变量的对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900012</td>         <td class="cellrowborder" width="50%">Failed to call the JS callback function.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyParcelable</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">Parcelable</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"> num: <span class="hljs-built_in">number</span>, str: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = str;</li><li>  }</li><li>  <span class="hljs-title function_">marshalling</span>(<span class="hljs-attr">messageSequence</span>: rpc.<span class="hljs-property">MessageSequence</span>): <span class="hljs-built_in">boolean</span> {</li><li>    messageSequence.<span class="hljs-title function_">writeInt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>);</li><li>    messageSequence.<span class="hljs-title function_">writeString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>  <span class="hljs-title function_">unmarshalling</span>(<span class="hljs-attr">messageSequence</span>: rpc.<span class="hljs-property">MessageSequence</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = messageSequence.<span class="hljs-title function_">readInt</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = messageSequence.<span class="hljs-title function_">readString</span>();</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcelable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeParcelable</span>(parcelable);</li><li>  <span class="hljs-keyword">let</span> ret = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">0</span>, <span class="hljs-string">""</span>);</li><li>  data.<span class="hljs-title function_">readParcelable</span>(ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1264px;">     <h3 id="writebytearray9" device-type="phone,2in1,tablet,wearable,tv">writeByteArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writebytearray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeByteArray(byteArray: number[]): void</p>     <p>将字节数组写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">byteArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的字节数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The element does not exist in the array.</p>          <p>5.The type of the element in the array is incorrect.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-title class_">ByteArrayVar</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  data.<span class="hljs-title function_">writeByteArray</span>(<span class="hljs-title class_">ByteArrayVar</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1288px;">     <h3 id="readbytearray9" device-type="phone,2in1,tablet,wearable,tv">readByteArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readbytearray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readByteArray(dataIn: number[]): void</p>     <p>从MessageSequence实例中读取字节数组，并将其写入到创建的空数组中。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的字节数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-title class_">ByteArrayVar</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  data.<span class="hljs-title function_">writeByteArray</span>(<span class="hljs-title class_">ByteArrayVar</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">5</span>);</li><li>  data.<span class="hljs-title function_">readByteArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readByteArray is  '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1157px;">     <h3 id="readbytearray9-1" device-type="phone,2in1,tablet,wearable,tv">readByteArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readbytearray9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readByteArray(): number[]</p>     <p>从MessageSequence实例中读取字节数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回字节数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-title class_">ByteArrayVar</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  data.<span class="hljs-title function_">writeByteArray</span>(<span class="hljs-title class_">ByteArrayVar</span>);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readByteArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readByteArray is  '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1240px;">     <h3 id="writeshortarray9" device-type="phone,2in1,tablet,wearable,tv">writeShortArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeshortarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeShortArray(shortArray: number[]): void</p>     <p>将短整数数组写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">shortArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的短整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The element does not exist in the array;</p>          <p>5.The type of the element in the array is incorrect.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeShortArray</span>([<span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>]);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1264px;">     <h3 id="readshortarray9" device-type="phone,2in1,tablet,wearable,tv">readShortArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readshortarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readShortArray(dataIn: number[]): void</p>     <p>从MessageSequence实例中读取短整数数组，并将其写入到创建的空数组中。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的短整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeShortArray</span>([<span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readShortArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readShortArray is  '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readshortarray9-1" device-type="phone,2in1,tablet,wearable,tv">readShortArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readshortarray9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readShortArray(): number[]</p>     <p>从MessageSequence实例中读取短整数数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回短整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeShortArray</span>([<span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>]);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readShortArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readShortArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1240px;">     <h3 id="writeintarray9" device-type="phone,2in1,tablet,wearable,tv">writeIntArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeintarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeIntArray(intArray: number[]): void</p>     <p>将整数数组写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">intArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The element does not exist in the array;</p>          <p>5.The type of the element in the array is incorrect.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeIntArray</span>([<span class="hljs-number">100</span>, <span class="hljs-number">111</span>, <span class="hljs-number">112</span>]);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1264px;">     <h3 id="readintarray9" device-type="phone,2in1,tablet,wearable,tv">readIntArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readintarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readIntArray(dataIn: number[]): void</p>     <p>从MessageSequence实例中读取整数数组，并将其写入到创建的空数组中。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeIntArray</span>([<span class="hljs-number">100</span>, <span class="hljs-number">111</span>, <span class="hljs-number">112</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readIntArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readIntArray is  '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readintarray9-1" device-type="phone,2in1,tablet,wearable,tv">readIntArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readintarray9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readIntArray(): number[]</p>     <p>从MessageSequence实例中读取整数数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeIntArray</span>([<span class="hljs-number">100</span>, <span class="hljs-number">111</span>, <span class="hljs-number">112</span>]);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readIntArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readIntArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1240px;">     <h3 id="writelongarray9" device-type="phone,2in1,tablet,wearable,tv">writeLongArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writelongarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeLongArray(longArray: number[]): void</p>     <p>将长整数数组写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">longArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的长整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The element does not exist in the array;</p>          <p>5.The type of the element in the array is incorrect.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeLongArray</span>([<span class="hljs-number">1111</span>, <span class="hljs-number">1112</span>, <span class="hljs-number">1113</span>]);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1264px;">     <h3 id="readlongarray9" device-type="phone,2in1,tablet,wearable,tv">readLongArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readlongarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readLongArray(dataIn: number[]): void</p>     <p>从MessageSequence实例中读取的长整数数组，并将其写入到创建的空数组中。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的长整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeLongArray</span>([<span class="hljs-number">1111</span>, <span class="hljs-number">1112</span>, <span class="hljs-number">1113</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readLongArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readLongArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readlongarray9-1" device-type="phone,2in1,tablet,wearable,tv">readLongArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readlongarray9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readLongArray(): number[]</p>     <p>从MessageSequence实例中读取所有的长整数数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回长整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeLongArray</span>([<span class="hljs-number">1111</span>, <span class="hljs-number">1112</span>, <span class="hljs-number">1113</span>]);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readLongArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readLongArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1360px;">     <h3 id="writefloatarray9" device-type="phone,2in1,tablet,wearable,tv">writeFloatArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writefloatarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeFloatArray(floatArray: number[]): void</p>     <p>将双精度浮点数组写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">floatArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的双精度浮点数组。由于系统内部对float类型的数据是按照double处理的，使用时对于数组所占的总字节数应按照double类型来计算。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The element does not exist in the array;</p>          <p>5.The type of the element in the array is incorrect.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeFloatArray</span>([<span class="hljs-number">1.2</span>, <span class="hljs-number">1.3</span>, <span class="hljs-number">1.4</span>]);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1384px;">     <h3 id="readfloatarray9" device-type="phone,2in1,tablet,wearable,tv">readFloatArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readfloatarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readFloatArray(dataIn: number[]): void</p>     <p>从MessageSequence实例中读取双精度浮点数组，并将其写入到创建的空数组中。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的双精度浮点数组。由于系统内部对float类型的数据是按照double处理的，使用时对于数组所占的总字节数应按照double类型来计算。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeFloatArray</span>([<span class="hljs-number">1.2</span>, <span class="hljs-number">1.3</span>, <span class="hljs-number">1.4</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readFloatArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readFloatArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readfloatarray9-1" device-type="phone,2in1,tablet,wearable,tv">readFloatArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readfloatarray9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readFloatArray(): number[]</p>     <p>从MessageSequence实例中读取双精度浮点数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回双精度浮点数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeFloatArray</span>([<span class="hljs-number">1.2</span>, <span class="hljs-number">1.3</span>, <span class="hljs-number">1.4</span>]);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readFloatArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readFloatArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1240px;">     <h3 id="writedoublearray9" device-type="phone,2in1,tablet,wearable,tv">writeDoubleArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writedoublearray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeDoubleArray(doubleArray: number[]): void</p>     <p>将双精度浮点数组写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">doubleArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的双精度浮点数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.58.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The element does not exist in the array;</p>          <p>5.The type of the element in the array is incorrect.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeDoubleArray</span>([<span class="hljs-number">11.1</span>, <span class="hljs-number">12.2</span>, <span class="hljs-number">13.3</span>]);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1264px;">     <h3 id="readdoublearray9" device-type="phone,2in1,tablet,wearable,tv">readDoubleArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readdoublearray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readDoubleArray(dataIn: number[]): void</p>     <p>从MessageSequence实例中读取双精度浮点数组，并将其写入到创建的空数组中。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的双精度浮点数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeDoubleArray</span>([<span class="hljs-number">11.1</span>, <span class="hljs-number">12.2</span>, <span class="hljs-number">13.3</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readDoubleArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readDoubleArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readdoublearray9-1" device-type="phone,2in1,tablet,wearable,tv">readDoubleArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readdoublearray9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readDoubleArray(): number[]</p>     <p>从MessageSequence实例中读取所有双精度浮点数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回双精度浮点数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeDoubleArray</span>([<span class="hljs-number">11.1</span>, <span class="hljs-number">12.2</span>, <span class="hljs-number">13.3</span>]);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readDoubleArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readDoubleArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1216px;">     <h3 id="writebooleanarray9" device-type="phone,2in1,tablet,wearable,tv">writeBooleanArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writebooleanarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeBooleanArray(booleanArray: boolean[]): void</p>     <p>将布尔数组写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">booleanArray</td>         <td class="cellrowborder" width="25%">boolean[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的布尔数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The element does not exist in the array.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeBooleanArray</span>([<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>]);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1264px;">     <h3 id="readbooleanarray9" device-type="phone,2in1,tablet,wearable,tv">readBooleanArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readbooleanarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readBooleanArray(dataIn: boolean[]): void</p>     <p>从MessageSequence实例中读取布尔数组，并将其写入到创建的空数组中。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.62.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">boolean[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的布尔数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeBooleanArray</span>([<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">boolean</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readBooleanArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readBooleanArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readbooleanarray9-1" device-type="phone,2in1,tablet,wearable,tv">readBooleanArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readbooleanarray9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readBooleanArray(): boolean[]</p>     <p>从MessageSequence实例中读取所有布尔数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean[]</td>         <td class="cellrowborder" width="50%">返回布尔数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeBooleanArray</span>([<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>]);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readBooleanArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readBooleanArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1216px;">     <h3 id="writechararray9" device-type="phone,2in1,tablet,wearable,tv">writeCharArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writechararray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeCharArray(charArray: number[]): void</p>     <p>将单个字符数组写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">charArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的单个字符数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.64.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The element does not exist in the array.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeCharArray</span>([<span class="hljs-number">97</span>, <span class="hljs-number">98</span>, <span class="hljs-number">88</span>]);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1264px;">     <h3 id="readchararray9" device-type="phone,2in1,tablet,wearable,tv">readCharArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readchararray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readCharArray(dataIn: number[]): void</p>     <p>从MessageSequence实例中读取单个字符数组，并将其写入到创建的空数组中。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的单个字符数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeCharArray</span>([<span class="hljs-number">97</span>, <span class="hljs-number">98</span>, <span class="hljs-number">88</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readCharArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readCharArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readchararray9-1" device-type="phone,2in1,tablet,wearable,tv">readCharArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readchararray9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readCharArray(): number[]</p>     <p>从MessageSequence实例中读取单个字符数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回单个字符数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeCharArray</span>([<span class="hljs-number">97</span>, <span class="hljs-number">98</span>, <span class="hljs-number">88</span>]);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readCharArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readCharArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1312px;">     <h3 id="writestringarray9" device-type="phone,2in1,tablet,wearable,tv">writeStringArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writestringarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeStringArray(stringArray: string[]): void</p>     <p>将字符串数组写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">stringArray</td>         <td class="cellrowborder" width="25%">string[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的字符串数组，数组单个元素的长度应小于40960字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The string length exceeds 40960 bytes;</p>          <p>5.The number of bytes copied to the buffer is different from the length of the obtained string.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeStringArray</span>([<span class="hljs-string">"abc"</span>, <span class="hljs-string">"def"</span>]);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1264px;">     <h3 id="readstringarray9" device-type="phone,2in1,tablet,wearable,tv">readStringArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readstringarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readStringArray(dataIn: string[]): void</p>     <p>从MessageSequence实例中读取字符串数组，并将其写入到创建的空数组中。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">string[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的字符串数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.68.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeStringArray</span>([<span class="hljs-string">"abc"</span>, <span class="hljs-string">"def"</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">2</span>);</li><li>  data.<span class="hljs-title function_">readStringArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readStringArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readstringarray9-1" device-type="phone,2in1,tablet,wearable,tv">readStringArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readstringarray9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readStringArray(): string[]</p>     <p>从MessageSequence实例中读取字符串数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string[]</td>         <td class="cellrowborder" width="50%">返回字符串数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeStringArray</span>([<span class="hljs-string">"abc"</span>, <span class="hljs-string">"def"</span>]);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readStringArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readStringArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1250px;">     <h3 id="writenoexception9" device-type="phone,2in1,tablet,wearable,tv">writeNoException<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writenoexception9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeNoException(): void</p>     <p>向MessageSequence写入“指示未发生异常”的信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">if</span> (code === <span class="hljs-number">1</span>) {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: onRemoteMessageRequest called'</span>);</li><li>      <span class="hljs-keyword">try</span> {</li><li>        reply.<span class="hljs-title function_">writeNoException</span>();</li><li>      } <span class="hljs-keyword">catch</span> (error) {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rpc write no exception fail, errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rpc write no exception fail, errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>      }</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: unknown code: '</span> + code);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2458px;">     <h3 id="readexception9" device-type="phone,2in1,tablet,wearable,tv">readException<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readexception9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readException(): void</p>     <p>从MessageSequence中读取异常。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的sendMessageRequest接口方法发送消息</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>  </li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> reply = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeNoException</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">6</span>);</li><li>  <span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>    proxy.<span class="hljs-title function_">sendMessageRequest</span>(<span class="hljs-number">1</span>, data, reply, option)</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: rpc.RequestResult</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (result.<span class="hljs-property">errCode</span> === <span class="hljs-number">0</span>) {</li><li>          hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest got result'</span>);</li><li>          result.<span class="hljs-property">reply</span>.<span class="hljs-title function_">readException</span>();</li><li>          <span class="hljs-keyword">let</span> num = result.<span class="hljs-property">reply</span>.<span class="hljs-title function_">readInt</span>();</li><li>          hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'reply num: '</span> + num);</li><li>        } <span class="hljs-keyword">else</span> {</li><li>          hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest failed, errCode: '</span> + result.<span class="hljs-property">errCode</span>);</li><li>        }</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest got exception: '</span> + e);</li><li>      }).<span class="hljs-property">finally</span> (<span class="hljs-function">() =&gt;</span> {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest ends, reclaim parcel'</span>);</li><li>        data.<span class="hljs-title function_">reclaim</span>();</li><li>        reply.<span class="hljs-title function_">reclaim</span>();</li><li>      });</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1792px;">     <h3 id="writeparcelablearray9" device-type="phone,2in1,tablet,wearable,tv">writeParcelableArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeparcelablearray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeParcelableArray(parcelableArray: Parcelable[]): void</p>     <p>将可序列化对象数组写入MessageSequence实例。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">parcelableArray</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#parcelable9">Parcelable</a>[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的可序列化对象数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The element does not exist in the array.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyParcelable</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">Parcelable</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span>, str: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = str;</li><li>  }</li><li>  <span class="hljs-title function_">marshalling</span>(<span class="hljs-attr">messageSequence</span>: rpc.<span class="hljs-property">MessageSequence</span>): <span class="hljs-built_in">boolean</span> {</li><li>    messageSequence.<span class="hljs-title function_">writeInt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>);</li><li>    messageSequence.<span class="hljs-title function_">writeString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>  <span class="hljs-title function_">unmarshalling</span>(<span class="hljs-attr">messageSequence</span>: rpc.<span class="hljs-property">MessageSequence</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = messageSequence.<span class="hljs-title function_">readInt</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = messageSequence.<span class="hljs-title function_">readString</span>();</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcelable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> parcelable2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"bbb"</span>);</li><li>  <span class="hljs-keyword">let</span> parcelable3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">3</span>, <span class="hljs-string">"ccc"</span>);</li><li>  <span class="hljs-keyword">let</span> a = [parcelable, parcelable2, parcelable3];</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeParcelableArray</span>(a);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rpc write parcelable array fail, errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rpc write parcelable array fail, errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1943px;">     <h3 id="readparcelablearray9" device-type="phone,2in1,tablet,wearable,tv">readParcelableArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readparcelablearray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readParcelableArray(parcelableArray: Parcelable[]): void</p>     <p>从MessageSequence实例中读取可序列化对象数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">parcelableArray</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#parcelable9">Parcelable</a>[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的可序列化对象数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.73.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The length of the array passed when reading is not equal to the length passed when writing to the array;</p>          <p>5.The element does not exist in the array.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900012</td>         <td class="cellrowborder" width="50%">Failed to call the JS callback function.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyParcelable</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">Parcelable</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span>, str: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = str;</li><li>  }</li><li>  <span class="hljs-title function_">marshalling</span>(<span class="hljs-attr">messageSequence</span>: rpc.<span class="hljs-property">MessageSequence</span>): <span class="hljs-built_in">boolean</span> {</li><li>    messageSequence.<span class="hljs-title function_">writeInt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>);</li><li>    messageSequence.<span class="hljs-title function_">writeString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>  <span class="hljs-title function_">unmarshalling</span>(<span class="hljs-attr">messageSequence</span>: rpc.<span class="hljs-property">MessageSequence</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = messageSequence.<span class="hljs-title function_">readInt</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = messageSequence.<span class="hljs-title function_">readString</span>();</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcelable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> parcelable2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"bbb"</span>);</li><li>  <span class="hljs-keyword">let</span> parcelable3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">3</span>, <span class="hljs-string">"ccc"</span>);</li><li>  <span class="hljs-keyword">let</span> a = [parcelable, parcelable2, parcelable3];</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeParcelableArray</span>(a);</li><li>  <span class="hljs-keyword">let</span> b = [<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">0</span>, <span class="hljs-string">""</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">0</span>, <span class="hljs-string">""</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">0</span>, <span class="hljs-string">""</span>)];</li><li>  data.<span class="hljs-title function_">readParcelableArray</span>(b);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rpc write parcelable array fail, errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rpc write parcelable array fail, errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1552px;">     <h3 id="writeremoteobjectarray9" device-type="phone,2in1,tablet,wearable,tv">writeRemoteObjectArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeremoteobjectarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeRemoteObjectArray(objectArray: IRemoteObject[]): void</p>     <p>将IRemoteObject对象数组写入MessageSequence。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">objectArray</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a>[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入MessageSequence的IRemoteObject对象数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The element does not exist in the array;</p>          <p>5.The obtained remoteObject is null.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> a = [<span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject1"</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject2"</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject3"</span>)];</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeRemoteObjectArray</span>(a);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1624px;">     <h3 id="readremoteobjectarray9" device-type="phone,2in1,tablet,wearable,tv">readRemoteObjectArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readremoteobjectarray9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readRemoteObjectArray(objects: IRemoteObject[]): void</p>     <p>从MessageSequence读取IRemoteObject对象数组，并将其写入到创建的空数组中。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">objects</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a>[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">从MessageSequence读取的IRemoteObject对象数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The length of the array passed when reading is not equal to the length passed when writing to the array.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> a = [<span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject1"</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject2"</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject3"</span>)];</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeRemoteObjectArray</span>(a);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">b</span>: <span class="hljs-title class_">Array</span>&lt;rpc.<span class="hljs-property">IRemoteObject</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readRemoteObjectArray</span>(b);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readRemoteObjectArray is '</span> + b);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1421px;">     <h3 id="readremoteobjectarray9-1" device-type="phone,2in1,tablet,wearable,tv">readRemoteObjectArray<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readremoteobjectarray9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readRemoteObjectArray(): IRemoteObject[]</p>     <p>从MessageSequence读取IRemoteObject对象数组。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a>[]</td>         <td class="cellrowborder" width="50%">返回IRemoteObject对象数组；当写入的是空数组时，返回的是null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> a = [<span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject1"</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject2"</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject3"</span>)];</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> b = data.<span class="hljs-title function_">readRemoteObjectArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readRemoteObjectArray is '</span> + b);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1161px;">     <h3 id="closefiledescriptor9" device-type="phone,2in1,tablet,wearable,tv">closeFileDescriptor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closefiledescriptor9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static closeFileDescriptor(fd: number): void</p>     <p>静态方法，关闭给定的文件描述符。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要关闭的文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.77.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> filePath = <span class="hljs-string">"path/to/file"</span>;</li><li>  <span class="hljs-keyword">let</span> file = fileIo.<span class="hljs-title function_">openSync</span>(filePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>  rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">closeFileDescriptor</span>(file.<span class="hljs-property">fd</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1387px;">     <h3 id="dupfiledescriptor9" device-type="phone,2in1,tablet,wearable,tv">dupFileDescriptor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dupfiledescriptor9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static dupFileDescriptor(fd: number): number</p>     <p>静态方法，复制给定的文件描述符。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示已存在的文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.78.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回新的文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.78.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900013</td>         <td class="cellrowborder" width="50%">Failed to call dup.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> filePath = <span class="hljs-string">"path/to/file"</span>;</li><li>  <span class="hljs-keyword">let</span> file = fileIo.<span class="hljs-title function_">openSync</span>(filePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>  rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">dupFileDescriptor</span>(file.<span class="hljs-property">fd</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 962px;">     <h3 id="containfiledescriptors9" device-type="phone,2in1,tablet,wearable,tv">containFileDescriptors<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="containfiledescriptors9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>containFileDescriptors(): boolean</p>     <p>检查此MessageSequence对象是否包含文件描述符。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：包含文件描述符，false：不包含文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequence = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> filePath = <span class="hljs-string">"path/to/file"</span>;</li><li>  <span class="hljs-keyword">let</span> file = fileIo.<span class="hljs-title function_">openSync</span>(filePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>  <span class="hljs-keyword">let</span> containFD = sequence.<span class="hljs-title function_">containFileDescriptors</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sequence after write fd containFd result is '</span> + containFD);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1240px;">     <h3 id="writefiledescriptor9" device-type="phone,2in1,tablet,wearable,tv">writeFileDescriptor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writefiledescriptor9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeFileDescriptor(fd: number): void</p>     <p>写入文件描述符到MessageSequence。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequence = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> filePath = <span class="hljs-string">"path/to/file"</span>;</li><li>  <span class="hljs-keyword">let</span> file = fileIo.<span class="hljs-title function_">openSync</span>(filePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>  sequence.<span class="hljs-title function_">writeFileDescriptor</span>(file.<span class="hljs-property">fd</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1205px;">     <h3 id="readfiledescriptor9" device-type="phone,2in1,tablet,wearable,tv">readFileDescriptor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readfiledescriptor9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readFileDescriptor(): number</p>     <p>从MessageSequence中读取文件描述符。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.81.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequence = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> filePath = <span class="hljs-string">"path/to/file"</span>;</li><li>  <span class="hljs-keyword">let</span> file = fileIo.<span class="hljs-title function_">openSync</span>(filePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>  sequence.<span class="hljs-title function_">writeFileDescriptor</span>(file.<span class="hljs-property">fd</span>);</li><li>  <span class="hljs-keyword">let</span> readFD = sequence.<span class="hljs-title function_">readFileDescriptor</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readFileDescriptor is '</span> + readFD);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1504px;">     <h3 id="writeashmem9" device-type="phone,2in1,tablet,wearable,tv">writeAshmem<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeashmem9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeAshmem(ashmem: Ashmem): void</p>     <p>将指定的匿名共享对象写入此MessageSequence。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ashmem</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#ashmem8">Ashmem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入MessageSequence的匿名共享对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter is not an instance of the Ashmem object.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequence = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>);</li><li>  <span class="hljs-comment">// ashmem里写入数据</span></li><li>  <span class="hljs-keyword">let</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> int32View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(buffer);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; int32View.<span class="hljs-property">length</span>; i++) {</li><li>    int32View[i] = i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> size = buffer.<span class="hljs-property">byteLength</span>;</li><li>  ashmem.<span class="hljs-title function_">mapReadWriteAshmem</span>();</li><li>  ashmem.<span class="hljs-title function_">writeDataToAshmem</span>(buffer, size, <span class="hljs-number">0</span>);</li><li>  <span class="hljs-comment">// 将ashmem对象写入messageSequence对象中</span></li><li>  sequence.<span class="hljs-title function_">writeAshmem</span>(ashmem);</li><li>  <span class="hljs-comment">// 将传递的数据大小写入messageSequence对象中</span></li><li>  sequence.<span class="hljs-title function_">writeInt</span>(size);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1637px;">     <h3 id="readashmem9" device-type="phone,2in1,tablet,wearable,tv">readAshmem<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readashmem9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readAshmem(): Ashmem</p>     <p>从MessageSequence读取匿名共享对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#ashmem8">Ashmem</a></td>         <td class="cellrowborder" width="50%">返回匿名共享对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequence = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>);</li><li>  <span class="hljs-comment">// ashmem里写入数据</span></li><li>  <span class="hljs-keyword">let</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> int32View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(buffer);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; int32View.<span class="hljs-property">length</span>; i++) {</li><li>    int32View[i] = i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> size = buffer.<span class="hljs-property">byteLength</span>;</li><li>  ashmem.<span class="hljs-title function_">mapReadWriteAshmem</span>();</li><li>  ashmem.<span class="hljs-title function_">writeDataToAshmem</span>(buffer, size, <span class="hljs-number">0</span>);</li><li>  <span class="hljs-comment">// 将传递的数据大小写入messageSequence对象中</span></li><li>  sequence.<span class="hljs-title function_">writeInt</span>(size);</li><li>  <span class="hljs-comment">// 将ashmem对象写入messageSequence对象中</span></li><li>  sequence.<span class="hljs-title function_">writeAshmem</span>(ashmem);</li><li>
</li><li>  <span class="hljs-comment">// 读取传递的数据大小</span></li><li>  <span class="hljs-keyword">let</span> dataSize = sequence.<span class="hljs-title function_">readInt</span>();</li><li>  <span class="hljs-comment">// 从messageSequence对象中读取ashmem对象</span></li><li>  <span class="hljs-keyword">let</span> ashmem1 = sequence.<span class="hljs-title function_">readAshmem</span>();</li><li>  <span class="hljs-comment">// 从ashmem对象中读取数据</span></li><li>  ashmem1.<span class="hljs-title function_">mapReadWriteAshmem</span>();</li><li>  <span class="hljs-keyword">let</span> readResult = ashmem1.<span class="hljs-title function_">readDataFromAshmem</span>(dataSize, <span class="hljs-number">0</span>);</li><li>  <span class="hljs-keyword">let</span> readInt32View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(readResult);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'read from Ashmem result is '</span> + readInt32View);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 914px;">     <h3 id="getrawdatacapacity9" device-type="phone,2in1,tablet,wearable,tv">getRawDataCapacity<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getrawdatacapacity9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRawDataCapacity(): number</p>     <p>获取MessageSequence可以容纳的最大原始数据量。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回MessageSequence可以容纳的最大原始数据量，即128MB。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequence = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = sequence.<span class="hljs-title function_">getRawDataCapacity</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sequence get RawDataCapacity result is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1617px;">     <h3 id="writerawdatadeprecated" device-type="phone,2in1,tablet,wearable,tv">writeRawData<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writerawdatadeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeRawData(rawData: number[], size: number): void</p>     <p>将原始数据写入MessageSequence对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始支持，API version 11 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writerawdatabuffer11">writeRawDataBuffer</a>替代。</p>       <p>该接口是一次性接口，不允许在一次parcel通信中多次调用该接口。</p>       <p>该接口在传输数据时，当数据量较大时（超过32KB），会使用共享内存传输数据，此时需注意selinux配置。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rawData</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的原始数据，大小不能超过128MB。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">发送的原始数据大小，以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The transferred size cannot be obtained;</p>          <p>5.The transferred size is less than or equal to 0;</p>          <p>6.The element does not exist in the array;</p>          <p>7.Failed to obtain typedArray information;</p>          <p>8.The array is not of type int32;</p>          <p>9.The length of typedarray is smaller than the size of the original data sent.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequence = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  sequence.<span class="hljs-title function_">writeRawData</span>(arr, arr.<span class="hljs-property">length</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1641px;">     <h3 id="writerawdatabuffer11" device-type="phone,2in1,tablet,wearable,tv">writeRawDataBuffer<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writerawdatabuffer11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeRawDataBuffer(rawData: ArrayBuffer, size: number): void</p>     <p>将原始数据写入MessageSequence对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口是一次性接口，不允许在一次parcel通信中多次调用该接口。</p>       <p>该接口在传输数据时，当数据量较大时（超过32KB），会使用共享内存传输数据，此时需注意selinux配置。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rawData</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的原始数据，大小不能超过128MB。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">发送的原始数据大小，以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.Failed to obtain arrayBuffer information;</p>          <p>4.The transferred size cannot be obtained;</p>          <p>5.The transferred size is less than or equal to 0;</p>          <p>6.The transferred size is greater than the byte length of ArrayBuffer.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">64</span> * <span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> int32View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(buffer);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; int32View.<span class="hljs-property">length</span>; i++) {</li><li>    int32View[i] = i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> size = buffer.<span class="hljs-property">byteLength</span>;</li><li>  <span class="hljs-keyword">let</span> sequence = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  sequence.<span class="hljs-title function_">writeRawDataBuffer</span>(buffer, size);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1527px;">     <h3 id="readrawdatadeprecated" device-type="phone,2in1,tablet,wearable,tv">readRawData<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readrawdatadeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readRawData(size: number): number[]</p>     <p>从MessageSequence读取原始数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始支持，API version 11 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readrawdatabuffer11">readRawDataBuffer</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的原始数据的大小。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.87.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回原始数据（以字节为单位）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.87.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequence = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  sequence.<span class="hljs-title function_">writeRawData</span>(arr, arr.<span class="hljs-property">length</span>);</li><li>  <span class="hljs-keyword">let</span> size = arr.<span class="hljs-property">length</span>;</li><li>  <span class="hljs-keyword">let</span> result = sequence.<span class="hljs-title function_">readRawData</span>(size);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sequence read raw data result is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1555px;">     <h3 id="readrawdatabuffer11" device-type="phone,2in1,tablet,wearable,tv">readRawDataBuffer<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readrawdatabuffer11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readRawDataBuffer(size: number): ArrayBuffer</p>     <p>从MessageSequence读取原始数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的原始数据的大小。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.88.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ArrayBuffer</td>         <td class="cellrowborder" width="50%">返回原始数据（以字节为单位）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.88.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">64</span> * <span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> int32View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(buffer);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; int32View.<span class="hljs-property">length</span>; i++) {</li><li>    int32View[i] = i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> size = buffer.<span class="hljs-property">byteLength</span>;</li><li>  <span class="hljs-keyword">let</span> sequence = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  sequence.<span class="hljs-title function_">writeRawDataBuffer</span>(buffer, size);</li><li>  <span class="hljs-keyword">let</span> result = sequence.<span class="hljs-title function_">readRawDataBuffer</span>(size);</li><li>  <span class="hljs-keyword">let</span> readInt32View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(result);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sequence read raw data result is '</span> + readInt32View);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1549px;">     <h3 id="writearraybuffer12" device-type="phone,2in1,tablet,wearable,tv">writeArrayBuffer<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writearraybuffer12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeArrayBuffer(buf: ArrayBuffer, typeCode: TypeCode): void</p>     <p>将ArrayBuffer类型数据写入MessageSequence对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buf</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的ArrayBuffer数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">typeCode</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#typecode12">TypeCode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">ArrayBuffer数据具体是以哪一种TypedArray来访问和操作(会根据业务传递的类型枚举值去决定底层的写入方式，需要业务正确传递枚举值。)</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.89.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The parameter is an empty array;</p>          <p>2.The number of parameters is incorrect;</p>          <p>3.The parameter type does not match;</p>          <p>4.The obtained value of typeCode is incorrect;</p>          <p>5.Failed to obtain arrayBuffer information.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900009</td>         <td class="cellrowborder" width="50%">Failed to write data to the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// TypeCode 类型枚举较多，示例代码以Int16Array为例</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">10</span>);</li><li>  <span class="hljs-keyword">let</span> int16View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int16Array</span>(buffer);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; int16View.<span class="hljs-property">length</span>; i++) {</li><li>    int16View[i] = i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;</li><li>  }</li><li>  data.<span class="hljs-title function_">writeArrayBuffer</span>(buffer, rpc.<span class="hljs-property">TypeCode</span>.<span class="hljs-property">INT16_ARRAY</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1723px;">     <h3 id="readarraybuffer12" device-type="phone,2in1,tablet,wearable,tv">readArrayBuffer<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readarraybuffer12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readArrayBuffer(typeCode: TypeCode): ArrayBuffer</p>     <p>从MessageSequence读取ArrayBuffer类型数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">typeCode</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#typecode12">TypeCode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">ArrayBuffer数据具体是以哪一种TypedArray来访问和操作(会根据业务传递的类型枚举值去决定底层的读取方式，需要业务正确传递枚举值，读写枚举值不匹配会导致数据异常。)</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.90.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ArrayBuffer</td>         <td class="cellrowborder" width="50%">返回ArrayBuffer类型数据（以字节为单位）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.90.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The obtained value of typeCode is incorrect;</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900010</td>         <td class="cellrowborder" width="50%">Failed to read data from the message sequence.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// TypeCode 类型枚举较多，示例代码以Int16Array为例</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">10</span>);</li><li>  <span class="hljs-keyword">let</span> int16View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int16Array</span>(buffer);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; int16View.<span class="hljs-property">length</span>; i++) {</li><li>    int16View[i] = i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;</li><li>  }</li><li>  data.<span class="hljs-title function_">writeArrayBuffer</span>(buffer, rpc.<span class="hljs-property">TypeCode</span>.<span class="hljs-property">INT16_ARRAY</span>);</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">readArrayBuffer</span>(rpc.<span class="hljs-property">TypeCode</span>.<span class="hljs-property">INT16_ARRAY</span>);</li><li>  <span class="hljs-keyword">let</span> readInt16View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int16Array</span>(result);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'read ArrayBuffer result is '</span> + readInt16View);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 322px;">     <h2 id="messageparceldeprecated" device-type="phone,2in1,tablet,wearable,tv">MessageParcel<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="messageparceldeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>在RPC过程中，发送方可以使用MessageParcel提供的写方法，将待发送的数据以特定格式写入该对象。接收方可以使用MessageParcel提供的读方法从该对象中读取特定格式的数据。数据格式包括：基础类型及数组、IPC对象、接口描述符和自定义序列化对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a>替代。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 942px;">     <h3 id="createdeprecated" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">create<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static create(): MessageParcel</p>     <p>静态方法，创建MessageParcel对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#create9">create</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="50%">返回创建的MessageParcel对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'data is '</span> + data);</li><li>
</li><li>  <span class="hljs-comment">// 当MessageParcel对象不再使用，由业务主动调用reclaim方法去释放资源。</span></li><li>  data.<span class="hljs-title function_">reclaim</span>();</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 715px;">     <h3 id="reclaimdeprecated" device-type="phone,2in1,tablet,wearable,tv">reclaim<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="reclaimdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>reclaim(): void</p>     <p>释放不再使用的MessageParcel对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#reclaim9">reclaim</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> reply = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  reply.<span class="hljs-title function_">reclaim</span>();</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1349px;">     <h3 id="writeremoteobjectdeprecated" device-type="phone,2in1,tablet,wearable,tv">writeRemoteObject<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeremoteobjectdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeRemoteObject(object: IRemoteObject): boolean</p>     <p>序列化远程对象并将其写入MessageParcel对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writeremoteobject9">writeRemoteObject</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">object</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要序列化并写入MessageParcel的远程对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.94.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：操作成功，false：操作失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li><li>  data.<span class="hljs-title function_">writeRemoteObject</span>(testRemoteObject);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1246px;">     <h3 id="readremoteobjectdeprecated" device-type="phone,2in1,tablet,wearable,tv">readRemoteObject<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readremoteobjectdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readRemoteObject(): IRemoteObject</p>     <p>从MessageParcel读取远程对象。此方法用于反序列化MessageParcel对象以生成IRemoteObject。远程对象按写入MessageParcel的顺序读取。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readremoteobject9">readRemoteObject</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.95.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a></td>         <td class="cellrowborder" width="50%">读取到的远程对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageParcel</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li><li>  data.<span class="hljs-title function_">writeRemoteObject</span>(testRemoteObject);</li><li>  <span class="hljs-keyword">let</span> proxy = data.<span class="hljs-title function_">readRemoteObject</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readRemoteObject is '</span> + proxy);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1085px;">     <h3 id="writeinterfacetokendeprecated" device-type="phone,2in1,tablet,wearable,tv">writeInterfaceToken<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeinterfacetokendeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeInterfaceToken(token: string): boolean</p>     <p>将接口描述符写入MessageParcel对象，远端对象可使用该信息校验本次通信。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writeinterfacetoken9">writeInterfaceToken</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">token</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">字符串类型描述符，其长度应小于40960字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.96.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：操作成功，false：操作失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeInterfaceToken</span>(<span class="hljs-string">"aaa"</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: writeInterfaceToken is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 934px;">     <h3 id="readinterfacetokendeprecated" device-type="phone,2in1,tablet,wearable,tv">readInterfaceToken<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readinterfacetokendeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readInterfaceToken(): string</p>     <p>从MessageParcel中读取接口描述符，接口描述符按写入MessageParcel的顺序读取，本地对象可使用该信息检验本次通信。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readinterfacetoken9">readInterfaceToken</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.97.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回读取到的接口描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeInterfaceToken</span>(<span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> interfaceToken = data.<span class="hljs-title function_">readInterfaceToken</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: interfaceToken is '</span> + interfaceToken);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 934px;">     <h3 id="getsizedeprecated" device-type="phone,2in1,tablet,wearable,tv">getSize<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsizedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSize(): number</p>     <p>获取当前MessageParcel的数据大小。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#getsize9">getSize</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.98.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">获取的MessageParcel的数据大小。以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">1</span>);</li><li>  <span class="hljs-keyword">let</span> size = data.<span class="hljs-title function_">getSize</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'size is '</span> + size);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 934px;">     <h3 id="getcapacitydeprecated" device-type="phone,2in1,tablet,wearable,tv">getCapacity<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcapacitydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCapacity(): number</p>     <p>获取当前MessageParcel的容量。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#getcapacity9">getCapacity</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.99.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">获取的MessageParcel的容量大小。以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">getCapacity</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'capacity is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1085px;">     <h3 id="setsizedeprecated" device-type="phone,2in1,tablet,wearable,tv">setSize<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsizedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSize(size: number): boolean</p>     <p>设置MessageParcel实例中包含的数据大小。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#setsize9">setSize</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.100.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">MessageParcel实例的数据大小。以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.100.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：设置成功，false：设置失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> setSize = data.<span class="hljs-title function_">setSize</span>(<span class="hljs-number">16</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'setSize is '</span> + setSize);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1085px;">     <h3 id="setcapacitydeprecated" device-type="phone,2in1,tablet,wearable,tv">setCapacity<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcapacitydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setCapacity(size: number): boolean</p>     <p>设置MessageParcel实例的存储容量。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#setcapacity9">setCapacity</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">MessageParcel实例的存储容量。以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.101.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：设置成功，false：设置失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">setCapacity</span>(<span class="hljs-number">100</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'setCapacity is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 934px;">     <h3 id="getwritablebytesdeprecated" device-type="phone,2in1,tablet,wearable,tv">getWritableBytes<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwritablebytesdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWritableBytes(): number</p>     <p>获取MessageParcel的可写字节空间。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#getwritablebytes9">getWritableBytes</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">获取到的MessageParcel的可写字节空间。以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">1</span>);</li><li>  <span class="hljs-keyword">let</span> getWritableBytes = data.<span class="hljs-title function_">getWritableBytes</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: getWritableBytes is '</span> + getWritableBytes);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 934px;">     <h3 id="getreadablebytesdeprecated" device-type="phone,2in1,tablet,wearable,tv">getReadableBytes<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getreadablebytesdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getReadableBytes(): number</p>     <p>获取MessageParcel的可读字节空间。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#getreadablebytes9">getReadableBytes</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.103.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">获取到的MessageParcel的可读字节空间。以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">1</span>);</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">getReadableBytes</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: getReadableBytes is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 910px;">     <h3 id="getreadpositiondeprecated" device-type="phone,2in1,tablet,wearable,tv">getReadPosition<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getreadpositiondeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getReadPosition(): number</p>     <p>获取MessageParcel的读位置。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#getreadposition9">getReadPosition</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.104.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回MessageParcel实例中的当前读取位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> readPos = data.<span class="hljs-title function_">getReadPosition</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readPos is '</span> + readPos);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 934px;">     <h3 id="getwritepositiondeprecated" device-type="phone,2in1,tablet,wearable,tv">getWritePosition<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwritepositiondeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWritePosition(): number</p>     <p>获取MessageParcel的写位置。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#getwriteposition9">getWritePosition</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回MessageParcel实例中的当前写入位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">10</span>);</li><li>  <span class="hljs-keyword">let</span> bwPos = data.<span class="hljs-title function_">getWritePosition</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'bwPos is '</span> + bwPos);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1181px;">     <h3 id="rewindreaddeprecated" device-type="phone,2in1,tablet,wearable,tv">rewindRead<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rewindreaddeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rewindRead(pos: number): boolean</p>     <p>重新偏移读取位置到指定的位置。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#rewindread9">rewindRead</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pos</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">开始读取数据的目标位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.106.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：读取位置发生更改，false：读取位置未发生更改。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">12</span>);</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">"parcel"</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-built_in">number</span> = data.<span class="hljs-title function_">readInt</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'number is '</span> + <span class="hljs-built_in">number</span>);</li><li>  data.<span class="hljs-title function_">rewindRead</span>(<span class="hljs-number">0</span>);</li><li>  <span class="hljs-keyword">let</span> number2 = data.<span class="hljs-title function_">readInt</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rewindRead is '</span> + number2);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="rewindwritedeprecated" device-type="phone,2in1,tablet,wearable,tv">rewindWrite<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rewindwritedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rewindWrite(pos: number): boolean</p>     <p>重新偏移写位置到指定的位置。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#rewindwrite9">reWindWrite</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pos</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">开始写入数据的目标位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.107.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入位置发生更改，false：写入位置未发生更改。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">4</span>);</li><li>  data.<span class="hljs-title function_">rewindWrite</span>(<span class="hljs-number">0</span>);</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">5</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-built_in">number</span> = data.<span class="hljs-title function_">readInt</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rewindWrite is '</span> + <span class="hljs-built_in">number</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writebytedeprecated" device-type="phone,2in1,tablet,wearable,tv">writeByte<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writebytedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeByte(val: number): boolean</p>     <p>将字节值写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writebyte9">writeByte</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的字节值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.108.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeByte</span>(<span class="hljs-number">2</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeByte is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readbytedeprecated" device-type="phone,2in1,tablet,wearable,tv">readByte<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readbytedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readByte(): number</p>     <p>从MessageParcel实例中读取字节值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readbyte9">readByte</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回字节值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeByte</span>(<span class="hljs-number">2</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeByte is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readByte</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readByte is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writeshortdeprecated" device-type="phone,2in1,tablet,wearable,tv">writeShort<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeshortdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeShort(val: number): boolean</p>     <p>将短整数值写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writeshort9">writeShort</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的短整数值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.110.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeShort</span>(<span class="hljs-number">8</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeShort is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readshortdeprecated" device-type="phone,2in1,tablet,wearable,tv">readShort<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readshortdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readShort(): number</p>     <p>从MessageParcel实例中读取短整数值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readshort9">readShort</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.111.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回短整数值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeShort</span>(<span class="hljs-number">8</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeShort is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readShort</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readShort is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writeintdeprecated" device-type="phone,2in1,tablet,wearable,tv">writeInt<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeintdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeInt(val: number): boolean</p>     <p>将整数值写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writeint9">writeInt</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.112.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的整数值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.112.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">10</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeInt is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readintdeprecated" device-type="phone,2in1,tablet,wearable,tv">readInt<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readintdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readInt(): number</p>     <p>从MessageParcel实例中读取整数值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readint9">readInt</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.113.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回整数值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">10</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeInt is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readInt</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readInt is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writelongdeprecated" device-type="phone,2in1,tablet,wearable,tv">writeLong<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writelongdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeLong(val: number): boolean</p>     <p>将长整数值写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writelong9">writeLong</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.114.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的长整数值</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.114.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeLong</span>(<span class="hljs-number">10000</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeLong is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readlongdeprecated" device-type="phone,2in1,tablet,wearable,tv">readLong<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readlongdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readLong(): number</p>     <p>从MessageParcel实例中读取长整数值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readlong9">readLong</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.115.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回长整数值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeLong</span>(<span class="hljs-number">10000</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeLong is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readLong</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readLong is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writefloatdeprecated" device-type="phone,2in1,tablet,wearable,tv">writeFloat<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writefloatdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeFloat(val: number): boolean</p>     <p>将双精度浮点值写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writefloat9">writeFloat</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的双精度浮点值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.116.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeFloat</span>(<span class="hljs-number">1.2</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeFloat is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readfloatdeprecated" device-type="phone,2in1,tablet,wearable,tv">readFloat<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readfloatdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readFloat(): number</p>     <p>从MessageParcel实例中读取双精度浮点值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readfloat9">readFloat</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.117.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回双精度浮点值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeFloat</span>(<span class="hljs-number">1.2</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeFloat is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readFloat</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readFloat is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writedoubledeprecated" device-type="phone,2in1,tablet,wearable,tv">writeDouble<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writedoubledeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeDouble(val: number): boolean</p>     <p>将双精度浮点值写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writedouble9">writeDouble</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.118.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的双精度浮点值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.118.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeDouble</span>(<span class="hljs-number">10.2</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeDouble is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readdoubledeprecated" device-type="phone,2in1,tablet,wearable,tv">readDouble<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readdoubledeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readDouble(): number</p>     <p>从MessageParcel实例中读取双精度浮点值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readdouble9">readDouble</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.119.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回双精度浮点值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeDouble</span>(<span class="hljs-number">10.2</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeDouble is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readDouble</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readDouble is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writebooleandeprecated" device-type="phone,2in1,tablet,wearable,tv">writeBoolean<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writebooleandeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeBoolean(val: boolean): boolean</p>     <p>将布尔值写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writeboolean9">writeBoolean</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.120.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的布尔值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.120.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeBoolean</span>(<span class="hljs-literal">false</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeBoolean is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readbooleandeprecated" device-type="phone,2in1,tablet,wearable,tv">readBoolean<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readbooleandeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readBoolean(): boolean</p>     <p>从MessageParcel实例中读取布尔值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readboolean9">readBoolean</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.121.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回读取到的布尔值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeBoolean</span>(<span class="hljs-literal">false</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeBoolean is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readBoolean</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readBoolean is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writechardeprecated" device-type="phone,2in1,tablet,wearable,tv">writeChar<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writechardeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeChar(val: number): boolean</p>     <p>将单个字符值写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writechar9">writeChar</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.122.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的单个字符值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.122.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeChar</span>(<span class="hljs-number">97</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeChar is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readchardeprecated" device-type="phone,2in1,tablet,wearable,tv">readChar<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readchardeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readChar(): number</p>     <p>从MessageParcel实例中读取单个字符值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readchar9">readChar</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回单个字符值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeChar</span>(<span class="hljs-number">97</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeChar is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readChar</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readChar is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1085px;">     <h3 id="writestringdeprecated" device-type="phone,2in1,tablet,wearable,tv">writeString<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writestringdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeString(val: string): boolean</p>     <p>将字符串值写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writestring9">writeString</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.124.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的字符串值，其长度应小于40960字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.124.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">'abc'</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeString is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readstringdeprecated" device-type="phone,2in1,tablet,wearable,tv">readString<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readstringdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readString(): string</p>     <p>从MessageParcel实例中读取字符串值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readstring9">readString</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.125.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回字符串值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">'abc'</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeString is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> ret = data.<span class="hljs-title function_">readString</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readString is '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1541px;">     <h3 id="writesequenceabledeprecated" device-type="phone,2in1,tablet,wearable,tv">writeSequenceable<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writesequenceabledeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeSequenceable(val: Sequenceable): boolean</p>     <p>将自定义序列化对象写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writeparcelable9">writeParcelable</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.126.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">val</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sequenceabledeprecated">Sequenceable</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的可序列对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.126.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MySequenceable</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">Sequenceable</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span>, str: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = str;</li><li>  }</li><li>  <span class="hljs-title function_">marshalling</span>(<span class="hljs-attr">messageParcel</span>: rpc.<span class="hljs-property">MessageParcel</span>): <span class="hljs-built_in">boolean</span> {</li><li>    messageParcel.<span class="hljs-title function_">writeInt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>);</li><li>    messageParcel.<span class="hljs-title function_">writeString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>  <span class="hljs-title function_">unmarshalling</span>(<span class="hljs-attr">messageParcel</span>: rpc.<span class="hljs-property">MessageParcel</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = messageParcel.<span class="hljs-title function_">readInt</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = messageParcel.<span class="hljs-title function_">readString</span>();</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequenceable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeSequenceable</span>(sequenceable);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeSequenceable is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1637px;">     <h3 id="readsequenceabledeprecated" device-type="phone,2in1,tablet,wearable,tv">readSequenceable<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readsequenceabledeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readSequenceable(dataIn: Sequenceable): boolean</p>     <p>从MessageParcel实例中读取成员变量到指定的对象（dataIn）。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readparcelable9">readParcelable</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.127.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sequenceabledeprecated">Sequenceable</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要从MessageParcel读取成员变量的对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.127.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：反序列化成功，false：反序列化失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MySequenceable</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">Sequenceable</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span>, str: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = str;</li><li>  }</li><li>  <span class="hljs-title function_">marshalling</span>(<span class="hljs-attr">messageParcel</span>: rpc.<span class="hljs-property">MessageParcel</span>): <span class="hljs-built_in">boolean</span> {</li><li>    messageParcel.<span class="hljs-title function_">writeInt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>);</li><li>    messageParcel.<span class="hljs-title function_">writeString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>  <span class="hljs-title function_">unmarshalling</span>(<span class="hljs-attr">messageParcel</span>: rpc.<span class="hljs-property">MessageParcel</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = messageParcel.<span class="hljs-title function_">readInt</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = messageParcel.<span class="hljs-title function_">readString</span>();</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequenceable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeSequenceable</span>(sequenceable);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeSequenceable is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> ret = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">0</span>, <span class="hljs-string">""</span>);</li><li>  <span class="hljs-keyword">let</span> result2 = data.<span class="hljs-title function_">readSequenceable</span>(ret);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readSequenceable is '</span> + result2);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1085px;">     <h3 id="writebytearraydeprecated" device-type="phone,2in1,tablet,wearable,tv">writeByteArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writebytearraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeByteArray(byteArray: number[]): boolean</p>     <p>将字节数组写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writebytearray9">writeByteArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.128.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">byteArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的字节数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.128.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-title class_">ByteArrayVar</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeByteArray</span>(<span class="hljs-title class_">ByteArrayVar</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeByteArray is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 962px;">     <h3 id="readbytearraydeprecated" device-type="phone,2in1,tablet,wearable,tv">readByteArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readbytearraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readByteArray(dataIn: number[]): void</p>     <p>从MessageParcel实例中读取字节数组，并将其写入到创建的空数组中。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readbytearray9">readByteArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的字节数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-title class_">ByteArrayVar</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeByteArray</span>(<span class="hljs-title class_">ByteArrayVar</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">5</span>);</li><li>  data.<span class="hljs-title function_">readByteArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readByteArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 982px;">     <h3 id="readbytearraydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readByteArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readbytearraydeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readByteArray(): number[]</p>     <p>从MessageParcel实例中读取字节数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readbytearray9-1">readByteArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.130.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回字节数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-title class_">ByteArrayVar</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeByteArray</span>(<span class="hljs-title class_">ByteArrayVar</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeByteArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readByteArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readByteArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writeshortarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">writeShortArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeshortarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeShortArray(shortArray: number[]): boolean</p>     <p>将短整数数组写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writeshortarray9">writeShortArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.131.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">shortArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的短整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.131.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeShortArray</span>([<span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeShortArray is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 962px;">     <h3 id="readshortarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">readShortArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readshortarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readShortArray(dataIn: number[]): void</p>     <p>从MessageParcel实例中读取短整数数组，并将其写入到创建的空数组中。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readshortarray9">readShortArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.132.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的短整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeShortArray</span>([<span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeShortArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readShortArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readShortArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readshortarraydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readShortArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readshortarraydeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readShortArray(): number[]</p>     <p>从MessageParcel实例中读取短整数数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readshortarray9-1">readShortArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.133.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回短整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeShortArray</span>([<span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeShortArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readShortArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readShortArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writeintarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">writeIntArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeintarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeIntArray(intArray: number[]): boolean</p>     <p>将整数数组写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writeintarray9">writeIntArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.134.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">intArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.134.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeIntArray</span>([<span class="hljs-number">100</span>, <span class="hljs-number">111</span>, <span class="hljs-number">112</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeIntArray is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 962px;">     <h3 id="readintarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">readIntArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readintarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readIntArray(dataIn: number[]): void</p>     <p>从MessageParcel实例中读取整数数组，并将其写入到创建的空数组中。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readintarray9">readIntArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.135.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeIntArray</span>([<span class="hljs-number">100</span>, <span class="hljs-number">111</span>, <span class="hljs-number">112</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeIntArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readIntArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readIntArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readintarraydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readIntArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readintarraydeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readIntArray(): number[]</p>     <p>从MessageParcel实例中读取整数数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readintarray9-1">readIntArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.136.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeIntArray</span>([<span class="hljs-number">100</span>, <span class="hljs-number">111</span>, <span class="hljs-number">112</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeIntArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readIntArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readIntArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writelongarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">writeLongArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writelongarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeLongArray(longArray: number[]): boolean</p>     <p>将长整数数组写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writelongarray9">writeLongArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.137.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">longArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的长整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.137.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeLongArray</span>([<span class="hljs-number">1111</span>, <span class="hljs-number">1112</span>, <span class="hljs-number">1113</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeLongArray is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 962px;">     <h3 id="readlongarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">readLongArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readlongarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readLongArray(dataIn: number[]): void</p>     <p>从MessageParcel实例中读取长整数数组，并将其写入到创建的空数组中。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readlongarray9">readLongArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.138.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的长整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeLongArray</span>([<span class="hljs-number">1111</span>, <span class="hljs-number">1112</span>, <span class="hljs-number">1113</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeLongArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readLongArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readLongArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readlongarraydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readLongArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readlongarraydeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readLongArray(): number[]</p>     <p>从MessageParcel实例中读取长整数数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readlongarray9-1">readLongArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.139.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.139.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回长整数数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeLongArray</span>([<span class="hljs-number">1111</span>, <span class="hljs-number">1112</span>, <span class="hljs-number">1113</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeLongArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readLongArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readLongArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1181px;">     <h3 id="writefloatarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">writeFloatArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writefloatarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeFloatArray(floatArray: number[]): boolean</p>     <p>将双精度浮点数组写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writefloatarray9">writeFloatArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.140.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">floatArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的双精度浮点数组。由于系统内部对float类型的数据是按照double处理的，使用时对于数组所占的总字节数应按照double类型来计算。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.140.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeFloatArray</span>([<span class="hljs-number">1.2</span>, <span class="hljs-number">1.3</span>, <span class="hljs-number">1.4</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeFloatArray is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1082px;">     <h3 id="readfloatarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">readFloatArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readfloatarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readFloatArray(dataIn: number[]): void</p>     <p>从MessageParcel实例中读取双精度浮点数组，并将其写入到创建的空数组中。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readfloatarray9">readFloatArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.141.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的双精度浮点数组。由于系统内部对float类型的数据是按照double处理的，使用时对于数组所占的总字节数应按照double类型来计算。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeFloatArray</span>([<span class="hljs-number">1.2</span>, <span class="hljs-number">1.3</span>, <span class="hljs-number">1.4</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeFloatArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readFloatArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readFloatArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readfloatarraydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readFloatArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readfloatarraydeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readFloatArray(): number[]</p>     <p>从MessageParcel实例中读取双精度浮点数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readfloatarray9-1">readFloatArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.142.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回双精度浮点数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeFloatArray</span>([<span class="hljs-number">1.2</span>, <span class="hljs-number">1.3</span>, <span class="hljs-number">1.4</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeFloatArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readFloatArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readFloatArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writedoublearraydeprecated" device-type="phone,2in1,tablet,wearable,tv">writeDoubleArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writedoublearraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeDoubleArray(doubleArray: number[]): boolean</p>     <p>将双精度浮点数组写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writedoublearray9">writeDoubleArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.143.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">doubleArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的双精度浮点数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.143.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeDoubleArray</span>([<span class="hljs-number">11.1</span>, <span class="hljs-number">12.2</span>, <span class="hljs-number">13.3</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeDoubleArray is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 962px;">     <h3 id="readdoublearraydeprecated" device-type="phone,2in1,tablet,wearable,tv">readDoubleArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readdoublearraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readDoubleArray(dataIn: number[]): void</p>     <p>从MessageParcel实例中读取双精度浮点数组，并将其写入到创建的空数组中。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readdoublearray9">readDoubleArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.144.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的双精度浮点数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeDoubleArray</span>([<span class="hljs-number">11.1</span>, <span class="hljs-number">12.2</span>, <span class="hljs-number">13.3</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeDoubleArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readDoubleArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readDoubleArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readdoublearraydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readDoubleArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readdoublearraydeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readDoubleArray(): number[]</p>     <p>从MessageParcel实例中读取双精度浮点数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readdoublearray9-1">readDoubleArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.145.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回双精度浮点数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeDoubleArray</span>([<span class="hljs-number">11.1</span>, <span class="hljs-number">12.2</span>, <span class="hljs-number">13.3</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeDoubleArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readDoubleArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readDoubleArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writebooleanarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">writeBooleanArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writebooleanarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeBooleanArray(booleanArray: boolean[]): boolean</p>     <p>将布尔数组写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writebooleanarray9">writeBooleanArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.146.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">booleanArray</td>         <td class="cellrowborder" width="25%">boolean[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的布尔数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.146.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeBooleanArray</span>([<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeBooleanArray is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 962px;">     <h3 id="readbooleanarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">readBooleanArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readbooleanarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readBooleanArray(dataIn: boolean[]): void</p>     <p>从MessageParcel实例中读取布尔数组，并将其写入到创建的空数组中。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readbooleanarray9">readBooleanArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.147.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">boolean[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的布尔数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeBooleanArray</span>([<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeBooleanArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">boolean</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readBooleanArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readBooleanArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readbooleanarraydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readBooleanArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readbooleanarraydeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readBooleanArray(): boolean[]</p>     <p>从MessageParcel实例中读取布尔数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readbooleanarray9-1">readBooleanArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean[]</td>         <td class="cellrowborder" width="50%">返回布尔数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeBooleanArray</span>([<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeBooleanArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readBooleanArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readBooleanArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="writechararraydeprecated" device-type="phone,2in1,tablet,wearable,tv">writeCharArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writechararraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeCharArray(charArray: number[]): boolean</p>     <p>将单个字符数组写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writechararray9">writeCharArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.149.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">charArray</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的单个字符数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.149.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeCharArray</span>([<span class="hljs-number">97</span>, <span class="hljs-number">98</span>, <span class="hljs-number">88</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeCharArray is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 962px;">     <h3 id="readchararraydeprecated" device-type="phone,2in1,tablet,wearable,tv">readCharArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readchararraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readCharArray(dataIn: number[]): void</p>     <p>从MessageParcel实例中读取单个字符数组，并将其写入到创建的空数组中。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readchararray9">readCharArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.150.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的单个字符数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeCharArray</span>([<span class="hljs-number">97</span>, <span class="hljs-number">98</span>, <span class="hljs-number">99</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeCharArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readCharArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeCharArray is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readchararraydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readCharArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readchararraydeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readCharArray(): number[]</p>     <p>从MessageParcel实例中读取单个字符数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readchararray9-1">readCharArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.151.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回单个字符数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeCharArray</span>([<span class="hljs-number">97</span>, <span class="hljs-number">98</span>, <span class="hljs-number">99</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeCharArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readCharArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readCharArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1109px;">     <h3 id="writestringarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">writeStringArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writestringarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeStringArray(stringArray: string[]): boolean</p>     <p>将字符串数组写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writestringarray9">writeStringArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.152.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">stringArray</td>         <td class="cellrowborder" width="25%">string[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的字符串数组，数组单个元素的长度应小于40960字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.152.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeStringArray</span>([<span class="hljs-string">"abc"</span>, <span class="hljs-string">"def"</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeStringArray is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 962px;">     <h3 id="readstringarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">readStringArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readstringarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readStringArray(dataIn: string[]): void</p>     <p>从MessageParcel实例中读取字符串数组，并将其写入到创建的空数组中。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readstringarray9">readStringArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.153.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%">string[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的字符串数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeStringArray</span>([<span class="hljs-string">"abc"</span>, <span class="hljs-string">"def"</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeStringArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">array</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">2</span>);</li><li>  data.<span class="hljs-title function_">readStringArray</span>(array);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readStringArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 958px;">     <h3 id="readstringarraydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readStringArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readstringarraydeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readStringArray(): string[]</p>     <p>从MessageParcel实例中读取字符串数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readstringarray9-1">readStringArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.154.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.154.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string[]</td>         <td class="cellrowborder" width="50%">返回字符串数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeStringArray</span>([<span class="hljs-string">"abc"</span>, <span class="hljs-string">"def"</span>]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeStringArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> array = data.<span class="hljs-title function_">readStringArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readStringArray is '</span> + array);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1075px;">     <h3 id="writenoexceptiondeprecated" device-type="phone,2in1,tablet,wearable,tv">writeNoException<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writenoexceptiondeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeNoException(): void</p>     <p>向MessageParcel写入“指示未发生异常”的信息。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writenoexception9">writeNoException</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDeathRecipient</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">DeathRecipient</span> {</li><li>  <span class="hljs-title function_">onRemoteDied</span>(<span class="hljs-params"></span>) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'server died'</span>);</li><li>  }</li><li>}</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>
</li><li><span class="hljs-title function_">onRemoteRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-keyword">if</span> (code === <span class="hljs-number">1</span>) {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: onRemoteRequest called'</span>);</li><li>      reply.<span class="hljs-title function_">writeNoException</span>();</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: unknown code: '</span> + code);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2283px;">     <h3 id="readexceptiondeprecated" device-type="phone,2in1,tablet,wearable,tv">readException<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readexceptiondeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readException(): void</p>     <p>从MessageParcel中读取异常。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readexception9">readException</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的sendRequest接口方法发送消息</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> reply = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeNoException</span>();</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">'hello'</span>);</li><li>  <span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">let</span> a = proxy.<span class="hljs-title function_">sendRequest</span>(<span class="hljs-number">1</span>, data, reply, option) <span class="hljs-keyword">as</span> <span class="hljs-title class_">Object</span>;</li><li>    <span class="hljs-keyword">let</span> b = a <span class="hljs-keyword">as</span> <span class="hljs-title class_">Promise</span>&lt;rpc.<span class="hljs-property">SendRequestResult</span>&gt;;</li><li>    b.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: rpc.SendRequestResult</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (result.<span class="hljs-property">errCode</span> === <span class="hljs-number">0</span>) {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest got result'</span>);</li><li>        result.<span class="hljs-property">reply</span>.<span class="hljs-title function_">readException</span>();</li><li>        <span class="hljs-keyword">let</span> msg = result.<span class="hljs-property">reply</span>.<span class="hljs-title function_">readString</span>();</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'reply msg: '</span> + msg);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest failed, errCode: '</span> + result.<span class="hljs-property">errCode</span>);</li><li>      }</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest got exception: '</span> + e);</li><li>    }).<span class="hljs-property">finally</span> (<span class="hljs-function">() =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest ends, reclaim parcel'</span>);</li><li>      data.<span class="hljs-title function_">reclaim</span>();</li><li>      reply.<span class="hljs-title function_">reclaim</span>();</li><li>    });</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1637px;">     <h3 id="writesequenceablearraydeprecated" device-type="phone,2in1,tablet,wearable,tv">writeSequenceableArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writesequenceablearraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeSequenceableArray(sequenceableArray: Sequenceable[]): boolean</p>     <p>将可序列化对象数组写入MessageParcel实例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writeparcelablearray9">writeParcelableArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.157.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sequenceableArray</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sequenceabledeprecated">Sequenceable</a>[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的可序列化对象数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.157.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MySequenceable</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">Sequenceable</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span>, str: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = str;</li><li>  }</li><li>  <span class="hljs-title function_">marshalling</span>(<span class="hljs-attr">messageParcel</span>: rpc.<span class="hljs-property">MessageParcel</span>): <span class="hljs-built_in">boolean</span> {</li><li>    messageParcel.<span class="hljs-title function_">writeInt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>);</li><li>    messageParcel.<span class="hljs-title function_">writeString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>  <span class="hljs-title function_">unmarshalling</span>(<span class="hljs-attr">messageParcel</span>: rpc.<span class="hljs-property">MessageParcel</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = messageParcel.<span class="hljs-title function_">readInt</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = messageParcel.<span class="hljs-title function_">readString</span>();</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequenceable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> sequenceable2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"bbb"</span>);</li><li>  <span class="hljs-keyword">let</span> sequenceable3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">3</span>, <span class="hljs-string">"ccc"</span>);</li><li>  <span class="hljs-keyword">let</span> a = [sequenceable, sequenceable2, sequenceable3];</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeSequenceableArray</span>(a);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeSequenceableArray is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1514px;">     <h3 id="readsequenceablearraydeprecated" device-type="phone,2in1,tablet,wearable,tv">readSequenceableArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readsequenceablearraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readSequenceableArray(sequenceableArray: Sequenceable[]): void</p>     <p>从MessageParcel实例中读取可序列化对象数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readparcelablearray9">readParcelableArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.158.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sequenceableArray</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sequenceabledeprecated">Sequenceable</a>[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的可序列化对象数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MySequenceable</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">Sequenceable</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span>, str: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = str;</li><li>  }</li><li>  <span class="hljs-title function_">marshalling</span>(<span class="hljs-attr">messageParcel</span>: rpc.<span class="hljs-property">MessageParcel</span>): <span class="hljs-built_in">boolean</span> {</li><li>    messageParcel.<span class="hljs-title function_">writeInt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>);</li><li>    messageParcel.<span class="hljs-title function_">writeString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>  <span class="hljs-title function_">unmarshalling</span>(<span class="hljs-attr">messageParcel</span>: rpc.<span class="hljs-property">MessageParcel</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = messageParcel.<span class="hljs-title function_">readInt</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = messageParcel.<span class="hljs-title function_">readString</span>();</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequenceable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> sequenceable2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"bbb"</span>);</li><li>  <span class="hljs-keyword">let</span> sequenceable3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">3</span>, <span class="hljs-string">"ccc"</span>);</li><li>  <span class="hljs-keyword">let</span> a = [sequenceable, sequenceable2, sequenceable3];</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeSequenceableArray</span>(a);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeSequenceableArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> b = [<span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">0</span>, <span class="hljs-string">""</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">0</span>, <span class="hljs-string">""</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">0</span>, <span class="hljs-string">""</span>)];</li><li>  data.<span class="hljs-title function_">readSequenceableArray</span>(b);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1373px;">     <h3 id="writeremoteobjectarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">writeRemoteObjectArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeremoteobjectarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeRemoteObjectArray(objectArray: IRemoteObject[]): boolean</p>     <p>将IRemoteObject对象数组写入MessageParcel。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writeremoteobjectarray9">writeRemoteObjectArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.159.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">objectArray</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a>[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入MessageParcel的IRemoteObject对象数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.159.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageParcel</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-comment">// 具体处理由业务决定</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> a = [<span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject1"</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject2"</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject3"</span>)];</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeRemoteObjectArray</span>(a);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeRemoteObjectArray is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1274px;">     <h3 id="readremoteobjectarraydeprecated" device-type="phone,2in1,tablet,wearable,tv">readRemoteObjectArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readremoteobjectarraydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readRemoteObjectArray(objects: IRemoteObject[]): void</p>     <p>从MessageParcel读取IRemoteObject对象数组，并将其写入到创建的空数组中。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readremoteobjectarray9">readRemoteObjectArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.160.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.160.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.160.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.160.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">objects</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a>[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">从MessageParcel读取的IRemoteObject对象数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageParcel</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-comment">// 具体处理由业务决定</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> a = [<span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject1"</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject2"</span>),</li><li>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject3"</span>)];</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeRemoteObjectArray</span>(a);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">b</span>: <span class="hljs-title class_">Array</span>&lt;rpc.<span class="hljs-property">IRemoteObject</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);</li><li>  data.<span class="hljs-title function_">readRemoteObjectArray</span>(b);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readRemoteObjectArray is '</span> + b);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1270px;">     <h3 id="readremoteobjectarraydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readRemoteObjectArray<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readremoteobjectarraydeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readRemoteObjectArray(): IRemoteObject[]</p>     <p>从MessageParcel读取IRemoteObject对象数组。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readremoteobjectarray9">readRemoteObjectArray</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.161.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a>[]</td>         <td class="cellrowborder" width="50%">返回IRemoteObject对象数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageParcel</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-comment">// 具体处理由业务决定</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> a = [<span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject1"</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject2"</span>),</li><li>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject3"</span>)];</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeRemoteObjectArray</span>(a);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readRemoteObjectArray is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> b = data.<span class="hljs-title function_">readRemoteObjectArray</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readRemoteObjectArray is '</span> + b);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 914px;">     <h3 id="closefiledescriptordeprecated" device-type="phone,2in1,tablet,wearable,tv">closeFileDescriptor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closefiledescriptordeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static closeFileDescriptor(fd: number): void</p>     <p>静态方法，关闭给定的文件描述符。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#closefiledescriptor9">closeFileDescriptor</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.162.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要关闭的文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> filePath = <span class="hljs-string">"path/to/file"</span>;</li><li>  <span class="hljs-keyword">let</span> file = fileIo.<span class="hljs-title function_">openSync</span>(filePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>  rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">closeFileDescriptor</span>(file.<span class="hljs-property">fd</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1085px;">     <h3 id="dupfiledescriptordeprecated" device-type="phone,2in1,tablet,wearable,tv">dupFileDescriptor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dupfiledescriptordeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static dupFileDescriptor(fd: number) :number</p>     <p>静态方法，复制给定的文件描述符。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#dupfiledescriptor9">dupFileDescriptor</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示已存在的文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.163.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回新的文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> filePath = <span class="hljs-string">"path/to/file"</span>;</li><li>  <span class="hljs-keyword">let</span> file = fileIo.<span class="hljs-title function_">openSync</span>(filePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>  rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">dupFileDescriptor</span>(file.<span class="hljs-property">fd</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1030px;">     <h3 id="containfiledescriptorsdeprecated" device-type="phone,2in1,tablet,wearable,tv">containFileDescriptors<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="containfiledescriptorsdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>containFileDescriptors(): boolean</p>     <p>检查此MessageParcel对象是否包含文件描述符。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#containfiledescriptors9">containFileDescriptors</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.164.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：包含文件描述符，false：未包含文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcel = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageParcel</span>();</li><li>  <span class="hljs-keyword">let</span> filePath = <span class="hljs-string">"path/to/file"</span>;</li><li>  <span class="hljs-keyword">let</span> file = fileIo.<span class="hljs-title function_">openSync</span>(filePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>  <span class="hljs-keyword">let</span> writeResult = parcel.<span class="hljs-title function_">writeFileDescriptor</span>(file.<span class="hljs-property">fd</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'parcel writeFd result is '</span> + writeResult);</li><li>  <span class="hljs-keyword">let</span> containFD = parcel.<span class="hljs-title function_">containFileDescriptors</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'parcel after write fd containFd result is '</span> + containFD);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="writefiledescriptordeprecated" device-type="phone,2in1,tablet,wearable,tv">writeFileDescriptor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writefiledescriptordeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeFileDescriptor(fd: number): boolean</p>     <p>写入文件描述符到MessageParcel。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writefiledescriptor9">writeFileDescriptor</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.165.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.165.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：操作成功，false：操作失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcel = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageParcel</span>();</li><li>  <span class="hljs-keyword">let</span> filePath = <span class="hljs-string">"path/to/file"</span>;</li><li>  <span class="hljs-keyword">let</span> file = fileIo.<span class="hljs-title function_">openSync</span>(filePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>  <span class="hljs-keyword">let</span> writeResult = parcel.<span class="hljs-title function_">writeFileDescriptor</span>(file.<span class="hljs-property">fd</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'parcel writeFd result is '</span> + writeResult);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1006px;">     <h3 id="readfiledescriptordeprecated" device-type="phone,2in1,tablet,wearable,tv">readFileDescriptor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readfiledescriptordeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readFileDescriptor(): number</p>     <p>从MessageParcel中读取文件描述符。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readfiledescriptor9">readFileDescriptor</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.166.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.166.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回文件描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcel = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageParcel</span>();</li><li>  <span class="hljs-keyword">let</span> filePath = <span class="hljs-string">"path/to/file"</span>;</li><li>  <span class="hljs-keyword">let</span> file = fileIo.<span class="hljs-title function_">openSync</span>(filePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_WRITE</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);</li><li>  parcel.<span class="hljs-title function_">writeFileDescriptor</span>(file.<span class="hljs-property">fd</span>);</li><li>  <span class="hljs-keyword">let</span> readFD = parcel.<span class="hljs-title function_">readFileDescriptor</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'parcel read fd is '</span> + readFD);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1109px;">     <h3 id="writeashmemdeprecated" device-type="phone,2in1,tablet,wearable,tv">writeAshmem<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeashmemdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeAshmem(ashmem: Ashmem): boolean</p>     <p>将指定的匿名共享对象写入此MessageParcel。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writeashmem9">writeAshmem</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ashmem</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#ashmem8">Ashmem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入MessageParcel的匿名共享对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.167.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcel = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageParcel</span>();</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">createAshmem</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> isWriteSuccess = parcel.<span class="hljs-title function_">writeAshmem</span>(ashmem);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'write ashmem to result is '</span> + isWriteSuccess);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 982px;">     <h3 id="readashmemdeprecated" device-type="phone,2in1,tablet,wearable,tv">readAshmem<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readashmemdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readAshmem(): Ashmem</p>     <p>从MessageParcel读取匿名共享对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readashmem9">readAshmem</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.168.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#ashmem8">Ashmem</a></td>         <td class="cellrowborder" width="50%">返回匿名共享对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcel = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageParcel</span>();</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">createAshmem</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> isWriteSuccess = parcel.<span class="hljs-title function_">writeAshmem</span>(ashmem);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'write ashmem to result is '</span> + isWriteSuccess);</li><li>  <span class="hljs-keyword">let</span> readAshmem = parcel.<span class="hljs-title function_">readAshmem</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'read ashmem to result is '</span> + readAshmem);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 934px;">     <h3 id="getrawdatacapacitydeprecated" device-type="phone,2in1,tablet,wearable,tv">getRawDataCapacity<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getrawdatacapacitydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRawDataCapacity(): number</p>     <p>获取MessageParcel可以容纳的最大原始数据量。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#getrawdatacapacity9">getRawDataCapacity</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.169.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回MessageParcel可以容纳的最大原始数据量，即128MB。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcel = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageParcel</span>();</li><li>  <span class="hljs-keyword">let</span> result = parcel.<span class="hljs-title function_">getRawDataCapacity</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'parcel get RawDataCapacity result is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1178px;">     <h3 id="writerawdatadeprecated-1" device-type="phone,2in1,tablet,wearable,tv">writeRawData<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writerawdatadeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeRawData(rawData: number[], size: number): boolean</p>     <p>将原始数据写入MessageParcel对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writerawdatabuffer11">writeRawDataBffer</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.170.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rawData</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的原始数据，大小不能超过128MB。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">发送的原始数据大小，以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.170.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：写入成功，false：写入失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcel = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageParcel</span>();</li><li>  <span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  <span class="hljs-keyword">let</span> isWriteSuccess = parcel.<span class="hljs-title function_">writeRawData</span>(arr, arr.<span class="hljs-property">length</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'parcel write raw data result is '</span> + isWriteSuccess);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1133px;">     <h3 id="readrawdatadeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readRawData<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readrawdatadeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readRawData(size: number): number[]</p>     <p>从MessageParcel读取原始数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readrawdatabuffer11">readRawDataBuffer</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.171.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的原始数据的大小。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.171.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回原始数据（以字节为单位）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcel = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageParcel</span>();</li><li>  <span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  <span class="hljs-keyword">let</span> isWriteSuccess = parcel.<span class="hljs-title function_">writeRawData</span>(arr, arr.<span class="hljs-property">length</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'parcel write raw data result is '</span> + isWriteSuccess);</li><li>  <span class="hljs-keyword">let</span> result = parcel.<span class="hljs-title function_">readRawData</span>(<span class="hljs-number">5</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'parcel read raw data result is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="parcelable9" device-type="phone,2in1,tablet,wearable,tv">Parcelable<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="parcelable9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>在进程间通信（IPC）期间，将类的对象写入MessageSequence并从MessageSequence中恢复它们。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1505px;">     <h3 id="marshalling9" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">marshalling<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="marshalling9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>marshalling(dataOut: MessageSequence): boolean</p>     <p>将此可序列对象封送到MessageSequence中。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.173.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataOut</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">可序列对象将被封送到的MessageSequence对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.173.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：封送成功，false：封送失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyParcelable</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">Parcelable</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span>, str: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = str;</li><li>  }</li><li>  <span class="hljs-title function_">marshalling</span>(<span class="hljs-attr">messageSequence</span>: rpc.<span class="hljs-property">MessageSequence</span>): <span class="hljs-built_in">boolean</span> {</li><li>    messageSequence.<span class="hljs-title function_">writeInt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>);</li><li>    messageSequence.<span class="hljs-title function_">writeString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>  <span class="hljs-title function_">unmarshalling</span>(<span class="hljs-attr">messageSequence</span>: rpc.<span class="hljs-property">MessageSequence</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = messageSequence.<span class="hljs-title function_">readInt</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = messageSequence.<span class="hljs-title function_">readString</span>();</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readInt is '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> + <span class="hljs-string">' readString is '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcelable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeParcelable</span>(parcelable);</li><li>  <span class="hljs-keyword">let</span> ret = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">0</span>, <span class="hljs-string">""</span>);</li><li>  data.<span class="hljs-title function_">readParcelable</span>(ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1521px;">     <h3 id="unmarshalling9" device-type="phone,2in1,tablet,wearable,tv">unmarshalling<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unmarshalling9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unmarshalling(dataIn: MessageSequence): boolean</p>     <p>从MessageSequence中解封此可序列对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.174.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已将可序列对象封送到其中的MessageSequence对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.174.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：反序列化成功，false：反序列化失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyParcelable</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">Parcelable</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span>, str: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = str;</li><li>  }</li><li>  <span class="hljs-title function_">marshalling</span>(<span class="hljs-attr">messageSequence</span>: rpc.<span class="hljs-property">MessageSequence</span>): <span class="hljs-built_in">boolean</span> {</li><li>    messageSequence.<span class="hljs-title function_">writeInt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>);</li><li>    messageSequence.<span class="hljs-title function_">writeString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>  <span class="hljs-title function_">unmarshalling</span>(<span class="hljs-attr">messageSequence</span>: rpc.<span class="hljs-property">MessageSequence</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = messageSequence.<span class="hljs-title function_">readInt</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = messageSequence.<span class="hljs-title function_">readString</span>();</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readInt is '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> + <span class="hljs-string">' readString is '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> parcelable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeParcelable</span>(parcelable);</li><li>  <span class="hljs-keyword">let</span> ret = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyParcelable</span>(<span class="hljs-number">0</span>, <span class="hljs-string">""</span>);</li><li>  data.<span class="hljs-title function_">readParcelable</span>(ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 274px;">     <h2 id="sequenceabledeprecated" device-type="phone,2in1,tablet,wearable,tv">Sequenceable<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sequenceabledeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>在进程间通信（IPC）期间，将类的对象写入MessageParcel并从MessageParcel中恢复它们。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#parcelable9">Parcelable</a>替代。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1621px;">     <h3 id="marshallingdeprecated" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">marshalling<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="marshallingdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>marshalling(dataOut: MessageParcel): boolean</p>     <p>将此可序列对象封送到MessageParcel中。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#marshalling9">marshalling</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.176.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataOut</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">可序列对象将被封送到的MessageParcel对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.176.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：封送成功，false：封送失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MySequenceable</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">Sequenceable</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span>, str: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = str;</li><li>  }</li><li>  <span class="hljs-title function_">marshalling</span>(<span class="hljs-attr">messageParcel</span>: rpc.<span class="hljs-property">MessageParcel</span>): <span class="hljs-built_in">boolean</span> {</li><li>    messageParcel.<span class="hljs-title function_">writeInt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>);</li><li>    messageParcel.<span class="hljs-title function_">writeString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>  <span class="hljs-title function_">unmarshalling</span>(<span class="hljs-attr">messageParcel</span>: rpc.<span class="hljs-property">MessageParcel</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = messageParcel.<span class="hljs-title function_">readInt</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = messageParcel.<span class="hljs-title function_">readString</span>();</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequenceable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeSequenceable</span>(sequenceable);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeSequenceable is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> ret = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">0</span>, <span class="hljs-string">""</span>);</li><li>  <span class="hljs-keyword">let</span> result2 = data.<span class="hljs-title function_">readSequenceable</span>(ret);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readSequenceable is '</span> + result2);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1637px;">     <h3 id="unmarshallingdeprecated" device-type="phone,2in1,tablet,wearable,tv">unmarshalling<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unmarshallingdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unmarshalling(dataIn: MessageParcel): boolean</p>     <p>从MessageParcel中解封此可序列对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#unmarshalling9">unmarshalling</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.177.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dataIn</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已将可序列对象封送到其中的MessageParcel对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.177.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：反序列化成功，false：反序列化失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MySequenceable</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">Sequenceable</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span>, str: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = str;</li><li>  }</li><li>  <span class="hljs-title function_">marshalling</span>(<span class="hljs-attr">messageParcel</span>: rpc.<span class="hljs-property">MessageParcel</span>): <span class="hljs-built_in">boolean</span> {</li><li>    messageParcel.<span class="hljs-title function_">writeInt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>);</li><li>    messageParcel.<span class="hljs-title function_">writeString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>  <span class="hljs-title function_">unmarshalling</span>(<span class="hljs-attr">messageParcel</span>: rpc.<span class="hljs-property">MessageParcel</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = messageParcel.<span class="hljs-title function_">readInt</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">str</span> = messageParcel.<span class="hljs-title function_">readString</span>();</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> sequenceable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> result = data.<span class="hljs-title function_">writeSequenceable</span>(sequenceable);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'writeSequenceable is '</span> + result);</li><li>  <span class="hljs-keyword">let</span> ret = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySequenceable</span>(<span class="hljs-number">0</span>, <span class="hljs-string">""</span>);</li><li>  <span class="hljs-keyword">let</span> result2 = data.<span class="hljs-title function_">readSequenceable</span>(ret);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'readSequenceable is '</span> + result2);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="iremotebroker" device-type="phone,2in1,tablet,wearable,tv">IRemoteBroker<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="iremotebroker" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>远端对象的代理持有者。用于获取代理对象。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2286px;">     <h3 id="asobject" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">asObject<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="asobject" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>asObject(): IRemoteObject</p>     <p>需派生类实现，获取代理或远端对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.179.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a></td>         <td class="cellrowborder" width="50%">如果调用者是RemoteObject对象，则直接返回本身；如果调用者是<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#remoteproxy">RemoteProxy</a>对象，则返回它的持有者<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">asObject</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">let</span> remoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestAbility</span>(<span class="hljs-string">"testObject"</span>).<span class="hljs-title function_">asObject</span>();</li></ol></pre></div></div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>  = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的asObject接口方法获取代理或远端对象</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestProxy</span> {</li><li>  <span class="hljs-attr">remote</span>: rpc.<span class="hljs-property">IRemoteObject</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">remote: rpc.IRemoteObject</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">remote</span> = remote;</li><li>  }</li><li>  <span class="hljs-title function_">asObject</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">remote</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">let</span> iRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestProxy</span>(proxy).<span class="hljs-title function_">asObject</span>();</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="deathrecipient" device-type="phone,2in1,tablet,wearable,tv">DeathRecipient<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="deathrecipient" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>用于订阅远端对象的死亡通知。当被订阅该通知的远端对象死亡时，本端可收到消息，调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#onremotedied">onRemoteDied</a>接口。远端对象死亡可以为远端对象所在进程死亡，远端对象所在设备关机或重启，当远端对象与本端对象属于不同设备时，也可为远端对象离开组网时。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 583px;">     <h3 id="onremotedied" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">onRemoteDied<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onremotedied" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onRemoteDied(): void</p>     <p>在成功添加死亡通知订阅后，当远端对象死亡时，将自动调用本方法。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDeathRecipient</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">DeathRecipient</span> {</li><li>  <span class="hljs-title function_">onRemoteDied</span>(<span class="hljs-params"></span>) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'server died'</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 564px;">     <h2 id="requestresult9" device-type="phone,2in1,tablet,wearable,tv">RequestResult<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="requestresult9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>发送请求的响应结果。</p>     <p><strong>系统能力</strong>：以下各项对应的系统能力均为SystemCapability.Communication.IPC.Core。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.182.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">errCode</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">错误码。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">code</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">消息代码。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">data</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">发送给对端进程的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">reply</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">对端进程返回的MessageSequence对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 608px;">     <h2 id="sendrequestresultdeprecated" device-type="phone,2in1,tablet,wearable,tv">SendRequestResult<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendrequestresultdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>发送请求的响应结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#requestresult9">RequestResult</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：以下各项对应的系统能力均为SystemCapability.Communication.IPC.Core。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.183.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">errCode</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">错误码。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">code</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">消息代码。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">data</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">发送给对端进程的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">reply</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">对端进程返回的MessageParcel对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="iremoteobject" device-type="phone,2in1,tablet,wearable,tv">IRemoteObject<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="iremoteobject" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>该接口可用于查询或获取接口描述符、添加或删除死亡通知、转储对象状态到特定文件、发送消息。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 915px;">     <h3 id="getlocalinterface9" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">getLocalInterface<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlocalinterface9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getLocalInterface(descriptor: string): IRemoteBroker</p>     <p>查询接口描述符的字符串。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.185.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">descriptor</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接口描述符的字符串。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.185.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremotebroker">IRemoteBroker</a></td>         <td class="cellrowborder" width="50%">返回绑定到指定接口描述符的IRemoteBroker对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.185.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The string length exceeds 40960 bytes;</p>          <p>4.The number of bytes copied to the buffer is different from the length of the obtained string.</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 684px;">     <h3 id="querylocalinterfacedeprecated" device-type="phone,2in1,tablet,wearable,tv">queryLocalInterface<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="querylocalinterfacedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>queryLocalInterface(descriptor: string): IRemoteBroker</p>     <p>查询接口描述符的字符串。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#getlocalinterface9">getLocalInterface</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.186.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">descriptor</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接口描述符的字符串。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.186.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremotebroker">IRemoteBroker</a></td>         <td class="cellrowborder" width="50%">返回绑定到指定接口描述符的IRemoteBroker对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1011px;">     <h3 id="sendrequestdeprecated" device-type="phone,2in1,tablet,wearable,tv">sendRequest<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendrequestdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendRequest(code: number, data: MessageParcel, reply: MessageParcel, options: MessageOption): boolean</p>     <p>以同步或异步方式向对端进程发送MessageParcel消息。如果为选项设置了异步模式，则期约立即兑现，reply报文里没有内容。如果为选项设置了同步模式，则期约将在sendRequest返回时兑现，回复内容在reply报文里。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendmessagerequest9">sendMessageRequest</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.187.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.187.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：发送成功，false：发送失败。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1258px;">     <h3 id="sendmessagerequest9" device-type="phone,2in1,tablet,wearable,tv">sendMessageRequest<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendmessagerequest9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendMessageRequest(code: number, data: MessageSequence, reply: MessageSequence, options: MessageOption): Promise&lt;RequestResult&gt;</p>     <p>以同步或异步方式向对端进程发送MessageSequence消息。如果为选项设置了异步模式，则期约立即兑现，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则期约将在sendMessageRequest返回时兑现，回复内容在reply报文里。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.188.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.188.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#requestresult9">RequestResult</a>&gt;</td>         <td class="cellrowborder" width="50%">返回一个期约，兑现值是requestResult实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.188.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.Failed to obtain the passed object instance.</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1035px;">     <h3 id="sendrequestdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">sendRequest<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendrequestdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendRequest(code: number, data: MessageParcel, reply: MessageParcel, options: MessageOption): Promise&lt;SendRequestResult&gt;</p>     <p>以同步或异步方式向对端进程发送MessageParcel消息。如果为选项设置了异步模式，则期约立即兑现，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则期约将在sendRequest返回时兑现，回复内容在reply报文里。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendmessagerequest9">sendMessageRequest</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.189.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.189.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendrequestresultdeprecated">SendRequestResult</a>&gt;</td>         <td class="cellrowborder" width="50%">返回一个期约，兑现值是sendRequestResult实例。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1156px;">     <h3 id="sendmessagerequest9-1" device-type="phone,2in1,tablet,wearable,tv">sendMessageRequest<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendmessagerequest9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendMessageRequest(code: number, data: MessageSequence, reply: MessageSequence, options: MessageOption, callback: AsyncCallback&lt;RequestResult&gt;): void</p>     <p>以同步或异步方式向对端进程发送MessageSequence消息。如果为选项设置了异步模式，则立即收到回调，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则将在sendRequest返回时收到回调，回复内容在reply报文里。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.190.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#requestresult9">RequestResult</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收发送结果的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.190.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.Failed to obtain the passed object instance.</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 933px;">     <h3 id="sendrequestdeprecated-2" device-type="phone,2in1,tablet,wearable,tv">sendRequest<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendrequestdeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendRequest(code: number, data: MessageParcel, reply: MessageParcel, options: MessageOption, callback: AsyncCallback&lt;SendRequestResult&gt;): void</p>     <p>以同步或异步方式向对端进程发送MessageParcel消息。如果为选项设置了异步模式，则立即收到回调，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则将在sendRequest返回时收到回调，回复内容在reply报文里。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendmessagerequest9-1">sendMessageRequest</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendrequestresultdeprecated">SendRequestResult</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收发送结果的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 891px;">     <h3 id="registerdeathrecipient9" device-type="phone,2in1,tablet,wearable,tv">registerDeathRecipient<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="registerdeathrecipient9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>registerDeathRecipient(recipient: DeathRecipient, flags: number): void</p>     <p>注册用于接收远程对象死亡通知的回调。如果与RemoteProxy对象匹配的远程对象进程死亡，则调用此方法。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.192.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.192.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.192.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.192.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">recipient</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#deathrecipient">DeathRecipient</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要注册的回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">flags</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">死亡通知标志。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.192.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.192.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The callback used to receive remote object death notifications is empty.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900005</td>         <td class="cellrowborder" width="50%">Operation allowed only for the proxy object.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900008</td>         <td class="cellrowborder" width="50%">The proxy or remote object is invalid.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 729px;">     <h3 id="adddeathrecipientdeprecated" device-type="phone,2in1,tablet,wearable,tv">addDeathRecipient<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="adddeathrecipientdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addDeathRecipient(recipient: DeathRecipient, flags: number): boolean</p>     <p>注册用于接收远程对象死亡通知的回调。如果与RemoteProxy对象匹配的远程对象进程死亡，则调用此方法。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#registerdeathrecipient9">registerDeathRecipient</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.193.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">recipient</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#deathrecipient">DeathRecipient</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要注册的回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">flags</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">死亡通知标志。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.193.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：回调注册成功，false：回调注册失败。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 891px;">     <h3 id="unregisterdeathrecipient9" device-type="phone,2in1,tablet,wearable,tv">unregisterDeathRecipient<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unregisterdeathrecipient9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unregisterDeathRecipient(recipient: DeathRecipient, flags: number): void</p>     <p>注销用于接收远程对象死亡通知的回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.194.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">recipient</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#deathrecipient">DeathRecipient</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要注销的回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">flags</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">死亡通知标志。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.194.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The callback used to receive remote object death notifications is empty.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900005</td>         <td class="cellrowborder" width="50%">Operation allowed only for the proxy object.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900008</td>         <td class="cellrowborder" width="50%">The proxy or remote object is invalid.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 729px;">     <h3 id="removedeathrecipientdeprecated" device-type="phone,2in1,tablet,wearable,tv">removeDeathRecipient<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removedeathrecipientdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeDeathRecipient(recipient: DeathRecipient, flags: number): boolean</p>     <p>注销用于接收远程对象死亡通知的回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#unregisterdeathrecipient9">unregisterDeathRecipient</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.195.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">recipient</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#deathrecipient">DeathRecipient</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要注销的回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">flags</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">死亡通知标志。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.195.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：回调注销成功，false：回调注销失败。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 660px;">     <h3 id="getdescriptor9" device-type="phone,2in1,tablet,wearable,tv">getDescriptor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdescriptor9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDescriptor(): string</p>     <p>获取对象的接口描述符，接口描述符为字符串。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.196.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回接口描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.196.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900008</td>         <td class="cellrowborder" width="50%">The proxy or remote object is invalid.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 533px;">     <h3 id="getinterfacedescriptordeprecated" device-type="phone,2in1,tablet,wearable,tv">getInterfaceDescriptor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getinterfacedescriptordeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getInterfaceDescriptor(): string</p>     <p>获取对象的接口描述符，接口描述符为字符串。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#getdescriptor9">getDescriptor</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.197.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.197.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回接口描述符。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 441px;">     <h3 id="isobjectdead" device-type="phone,2in1,tablet,wearable,tv">isObjectDead<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isobjectdead" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isObjectDead(): boolean</p>     <p>检查当前对象是否死亡。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.198.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：对象死亡，false：对象未死亡。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="remoteproxy" device-type="phone,2in1,tablet,wearable,tv">RemoteProxy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="remoteproxy" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>实现IRemoteObject代理对象。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="属性" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力</strong>：以下各项对应的系统能力均为SystemCapability.Communication.IPC.Core。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.200.3.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.200.3.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.200.3.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.200.3.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.200.3.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">PING_TRANSACTION</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">内部指令码，用于测试IPC服务是否正常。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">DUMP_TRANSACTION</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">内部指令码，获取IPC服务相关的状态信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">INTERFACE_TRANSACTION</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">内部指令码，获取对端接口描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">MIN_TRANSACTION_ID</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">最小有效指令码。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">MAX_TRANSACTION_ID</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">最大有效指令码。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2764px;">     <h3 id="sendrequestdeprecated-3" device-type="phone,2in1,tablet,wearable,tv">sendRequest<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendrequestdeprecated-3" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendRequest(code: number, data: MessageParcel, reply: MessageParcel, options: MessageOption): boolean</p>     <p>以同步或异步方式向对端进程发送MessageParcel消息。如果为选项设置了异步模式，则期约立即兑现，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则期约将在sendRequest返回时兑现，回复内容在reply报文里。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 8 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendmessagerequest9-2">sendMessageRequest</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.201.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.201.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.201.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.201.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.201.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.201.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：发送成功，false：发送失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的sendRequest接口方法发送消息</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> reply = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">1</span>);</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">"hello"</span>);</li><li>  <span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-built_in">boolean</span> = proxy.<span class="hljs-title function_">sendRequest</span>(<span class="hljs-number">1</span>, data, reply, option);</li><li>    <span class="hljs-keyword">if</span> (ret) {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest got result'</span>);</li><li>      <span class="hljs-keyword">let</span> msg = reply.<span class="hljs-title function_">readString</span>();</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'reply msg: '</span> + msg);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest failed'</span>);</li><li>    }</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest ends, reclaim parcel'</span>);</li><li>    data.<span class="hljs-title function_">reclaim</span>();</li><li>    reply.<span class="hljs-title function_">reclaim</span>();</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error: '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3179px;">     <h3 id="sendmessagerequest9-2" device-type="phone,2in1,tablet,wearable,tv">sendMessageRequest<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendmessagerequest9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendMessageRequest(code: number, data: MessageSequence, reply: MessageSequence, options: MessageOption): Promise&lt;RequestResult&gt;</p>     <p>以同步或异步方式向对端进程发送MessageSequence消息。如果为选项设置了异步模式，则期约立即兑现，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则期约将在sendMessageRequest返回时兑现，回复内容在reply报文里。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.202.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.202.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.202.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.202.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.202.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.202.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#requestresult9">RequestResult</a>&gt;</td>         <td class="cellrowborder" width="50%">返回一个期约，兑现值是requestResult实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.202.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.202.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.Failed to obtain the passed object instance.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的sendMessageRequest接口方法发送消息</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> reply = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">1</span>);</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">"hello"</span>);</li><li>  <span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>    proxy.<span class="hljs-title function_">sendMessageRequest</span>(<span class="hljs-number">1</span>, data, reply, option)</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: rpc.RequestResult</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (result.<span class="hljs-property">errCode</span> === <span class="hljs-number">0</span>) {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest got result'</span>);</li><li>        <span class="hljs-keyword">let</span> num = result.<span class="hljs-property">reply</span>.<span class="hljs-title function_">readInt</span>();</li><li>        <span class="hljs-keyword">let</span> msg = result.<span class="hljs-property">reply</span>.<span class="hljs-title function_">readString</span>();</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'reply num: '</span> + num);</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'reply msg: '</span> + msg);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest failed, errCode: '</span> + result.<span class="hljs-property">errCode</span>);</li><li>      }</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest failed, error: '</span> + e);</li><li>    }).<span class="hljs-property">finally</span> (<span class="hljs-function">() =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest ends, reclaim parcel'</span>);</li><li>      data.<span class="hljs-title function_">reclaim</span>();</li><li>      reply.<span class="hljs-title function_">reclaim</span>();</li><li>    });</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest failed, error: '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2980px;">     <h3 id="sendrequestdeprecated-4" device-type="phone,2in1,tablet,wearable,tv">sendRequest<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendrequestdeprecated-4" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendRequest(code: number, data: MessageParcel, reply: MessageParcel, options: MessageOption): Promise&lt;SendRequestResult&gt;</p>     <p>以同步或异步方式向对端进程发送MessageParcel消息。如果为选项设置了异步模式，则期约立即兑现，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则期约将在sendRequest返回时兑现，回复内容在reply报文里。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendmessagerequest9-2">sendMessageRequest</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.203.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.203.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendrequestresultdeprecated">SendRequestResult</a>&gt;</td>         <td class="cellrowborder" width="50%">返回一个期约，兑现值是sendRequestResult实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的sendRequest接口方法发送消息</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> reply = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">1</span>);</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">"hello"</span>);</li><li>  <span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">let</span> a = proxy.<span class="hljs-title function_">sendRequest</span>(<span class="hljs-number">1</span>, data, reply, option) <span class="hljs-keyword">as</span> <span class="hljs-title class_">Object</span>;</li><li>    <span class="hljs-keyword">let</span> b = a <span class="hljs-keyword">as</span> <span class="hljs-title class_">Promise</span>&lt;rpc.<span class="hljs-property">SendRequestResult</span>&gt;;</li><li>    b.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: rpc.SendRequestResult</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (result.<span class="hljs-property">errCode</span> === <span class="hljs-number">0</span>) {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest got result'</span>);</li><li>        <span class="hljs-keyword">let</span> num = result.<span class="hljs-property">reply</span>.<span class="hljs-title function_">readInt</span>();</li><li>        <span class="hljs-keyword">let</span> msg = result.<span class="hljs-property">reply</span>.<span class="hljs-title function_">readString</span>();</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'reply num: '</span> + num);</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'reply msg: '</span> + msg);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest failed, errCode: '</span> + result.<span class="hljs-property">errCode</span>);</li><li>      }</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest failed, error: '</span> + e);</li><li>    }).<span class="hljs-property">finally</span> (<span class="hljs-function">() =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest ends, reclaim parcel'</span>);</li><li>      data.<span class="hljs-title function_">reclaim</span>();</li><li>      reply.<span class="hljs-title function_">reclaim</span>();</li><li>    });</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest failed, error: '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1156px;">     <h3 id="sendmessagerequest9-3" device-type="phone,2in1,tablet,wearable,tv">sendMessageRequest<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendmessagerequest9-3" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendMessageRequest(code: number, data: MessageSequence, reply: MessageSequence, options: MessageOption, callback: AsyncCallback&lt;RequestResult&gt;): void</p>     <p>以同步或异步方式向对端进程发送MessageSequence消息。如果为选项设置了异步模式，则立即收到回调，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则将在sendMessageRequest返回后的某个时机执行回调，回复内容在RequestResult的reply报文里。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.204.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.204.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.204.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.204.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#requestresult9">RequestResult</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收发送结果的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.204.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.204.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.Failed to obtain the passed object instance.</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 933px;">     <h3 id="sendrequestdeprecated-5" device-type="phone,2in1,tablet,wearable,tv">sendRequest<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendrequestdeprecated-5" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendRequest(code: number, data: MessageParcel, reply: MessageParcel, options: MessageOption, callback: AsyncCallback&lt;SendRequestResult&gt;): void</p>     <p>以同步或异步方式向对端进程发送MessageParcel消息。如果为选项设置了异步模式，则立即收到回调，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则将在sendRequest返回时收到回调，回复内容在reply报文里。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendmessagerequest9-3">sendMessageRequest</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.205.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.205.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.205.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.205.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendrequestresultdeprecated">SendRequestResult</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收发送结果的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2355px;">     <h3 id="getlocalinterface9-1" device-type="phone,2in1,tablet,wearable,tv">getLocalInterface<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlocalinterface9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getLocalInterface(interface: string): IRemoteBroker</p>     <p>查询并获取当前接口描述符对应的本地接口对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.206.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">interface</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要查询的接口描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.206.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremotebroker">IRemoteBroker</a></td>         <td class="cellrowborder" width="50%">默认返回Null，标识该接口是一个代理侧接口。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.206.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">check param failed</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900006</td>         <td class="cellrowborder" width="50%">Operation allowed only for the remote object.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的getLocalInterface接口方法查询接口对象</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">broker</span>: rpc.<span class="hljs-property">IRemoteBroker</span> = proxy.<span class="hljs-title function_">getLocalInterface</span>(<span class="hljs-string">"testObject"</span>);</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'getLocalInterface is '</span> + broker);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rpc get local interface fail, errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rpc get local interface fail, errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2005px;">     <h3 id="querylocalinterfacedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">queryLocalInterface<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="querylocalinterfacedeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>queryLocalInterface(interface: string): IRemoteBroker</p>     <p>查询并获取当前接口描述符对应的本地接口对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#getlocalinterface9-1">getLocalInterface</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.207.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.207.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.207.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.207.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">interface</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要查询的接口描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.207.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.207.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremotebroker">IRemoteBroker</a></td>         <td class="cellrowborder" width="50%">默认返回Null，标识该接口是一个代理侧接口。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的queryLocalInterface接口获取接口对象</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">broker</span>: rpc.<span class="hljs-property">IRemoteBroker</span> = proxy.<span class="hljs-title function_">queryLocalInterface</span>(<span class="hljs-string">"testObject"</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'queryLocalInterface is '</span> + broker);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2445px;">     <h3 id="registerdeathrecipient9-1" device-type="phone,2in1,tablet,wearable,tv">registerDeathRecipient<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="registerdeathrecipient9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>registerDeathRecipient(recipient: DeathRecipient, flags: number): void</p>     <p>注册用于接收远程对象死亡通知的回调。如果与RemoteProxy对象匹配的远程对象进程死亡，则调用此方法。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.208.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">recipient</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#deathrecipient">DeathRecipient</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要注册的回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">flags</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">死亡通知标志。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.208.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The callback used to receive remote object death notifications is empty.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900008</td>         <td class="cellrowborder" width="50%">The proxy or remote object is invalid.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的registerDeathRecipient接口注册死亡回调</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDeathRecipient</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">DeathRecipient</span> {</li><li>  <span class="hljs-title function_">onRemoteDied</span>(<span class="hljs-params"></span>) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'server died'</span>);</li><li>  }</li><li>}</li><li><span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> deathRecipient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDeathRecipient</span>();</li><li>    proxy.<span class="hljs-title function_">registerDeathRecipient</span>(deathRecipient, <span class="hljs-number">0</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'proxy register deathRecipient fail, errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'proxy register deathRecipient fail, errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2194px;">     <h3 id="adddeathrecipientdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">addDeathRecipient<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="adddeathrecipientdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addDeathRecipient(recipient: DeathRecipient, flags: number): boolean</p>     <p>注册用于接收远程对象死亡通知的回调，增加proxy对象上的死亡通知。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#registerdeathrecipient9-1">registerDeathRecipient</a>类替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">recipient</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#deathrecipient">DeathRecipient</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">收件人表示要注册的回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">flags</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">死亡通知标志。保留参数。设置为0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.209.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.209.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：回调注册成功，false：回调注册失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的addDeathRecipient接口方法新增死亡回调</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDeathRecipient</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">DeathRecipient</span> {</li><li>  <span class="hljs-title function_">onRemoteDied</span>(<span class="hljs-params"></span>) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'server died'</span>);</li><li>  }</li><li>}</li><li><span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">let</span> deathRecipient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDeathRecipient</span>();</li><li>  proxy.<span class="hljs-title function_">addDeathRecipient</span>(deathRecipient, <span class="hljs-number">0</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2469px;">     <h3 id="unregisterdeathrecipient9-1" device-type="phone,2in1,tablet,wearable,tv">unregisterDeathRecipient<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unregisterdeathrecipient9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unregisterDeathRecipient(recipient: DeathRecipient, flags: number): void</p>     <p>注销用于接收远程对象死亡通知的回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.210.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">recipient</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#deathrecipient">DeathRecipient</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要注销的回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">flags</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">死亡通知标志。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.210.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The callback used to receive remote object death notifications is empty.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900008</td>         <td class="cellrowborder" width="50%">The proxy or remote object is invalid.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的unregisterDeathRecipient接口方法注销死亡回调</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDeathRecipient</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">DeathRecipient</span> {</li><li>  <span class="hljs-title function_">onRemoteDied</span>(<span class="hljs-params"></span>) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'server died'</span>);</li><li>  }</li><li>}</li><li><span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> deathRecipient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDeathRecipient</span>();</li><li>    proxy.<span class="hljs-title function_">registerDeathRecipient</span>(deathRecipient, <span class="hljs-number">0</span>);</li><li>    proxy.<span class="hljs-title function_">unregisterDeathRecipient</span>(deathRecipient, <span class="hljs-number">0</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'proxy unregister deathRecipient fail, errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'proxy unregister deathRecipient fail, errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2218px;">     <h3 id="removedeathrecipientdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">removeDeathRecipient<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removedeathrecipientdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeDeathRecipient(recipient: DeathRecipient, flags: number): boolean</p>     <p>注销用于接收远程对象死亡通知的回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#unregisterdeathrecipient9-1">unregisterDeathRecipient</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.211.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.211.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.211.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.211.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">recipient</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#deathrecipient">DeathRecipient</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要注销的死亡回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">flags</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">死亡通知标志。保留参数。设置为0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.211.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.211.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：回调注销成功，false：回调注销失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的removeDeathRecipient接口方法去注册死亡回调</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDeathRecipient</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">DeathRecipient</span> {</li><li>  <span class="hljs-title function_">onRemoteDied</span>(<span class="hljs-params"></span>) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'server died'</span>);</li><li>  }</li><li>}</li><li><span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">let</span> deathRecipient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDeathRecipient</span>();</li><li>  proxy.<span class="hljs-title function_">addDeathRecipient</span>(deathRecipient, <span class="hljs-number">0</span>);</li><li>  proxy.<span class="hljs-title function_">removeDeathRecipient</span>(deathRecipient, <span class="hljs-number">0</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2204px;">     <h3 id="getdescriptor9-1" device-type="phone,2in1,tablet,wearable,tv">getDescriptor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdescriptor9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDescriptor(): string</p>     <p>获取对象的接口描述符，接口描述符为字符串。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.212.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.212.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回接口描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.212.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.212.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900007</td>         <td class="cellrowborder" width="50%">communication failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900008</td>         <td class="cellrowborder" width="50%">The proxy or remote object is invalid.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的getDescriptor接口方法获取对象的接口描述符</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">descriptor</span>: <span class="hljs-built_in">string</span> = proxy.<span class="hljs-title function_">getDescriptor</span>();</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'descriptor is '</span> + descriptor);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rpc get interface descriptor fail, errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'rpc get interface descriptor fail, errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1854px;">     <h3 id="getinterfacedescriptordeprecated-1" device-type="phone,2in1,tablet,wearable,tv">getInterfaceDescriptor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getinterfacedescriptordeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getInterfaceDescriptor(): string</p>     <p>查询当前代理对象接口的描述符。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#getdescriptor9-1">getDescriptor</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.213.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.213.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">当前的接口描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的getInterfaceDescriptor接口方法查询当前代理对象接口的描述符</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">descriptor</span>: <span class="hljs-built_in">string</span> = proxy.<span class="hljs-title function_">getInterfaceDescriptor</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'descriptor is '</span> + descriptor);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1762px;">     <h3 id="isobjectdead-1" device-type="phone,2in1,tablet,wearable,tv">isObjectDead<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isobjectdead-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isObjectDead(): boolean</p>     <p>指示对应的RemoteObject是否死亡。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.214.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.214.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：对应的对象已经死亡，false：对应的对象未死亡。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在本文档的示例中，通过this.getUIContext().getHostContext()来获取UIAbilityContext，其中this代表继承自UIAbility的UIAbility实例。如需要在页面中使用UIAbilityContext提供的能力，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-usage#获取uiability的上下文信息" target="_blank">获取UIAbility的上下文信息</a>。</p>      </div></div></div>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FA模型需要从@kit.AbilityKit导入featureAbility</span></li><li><span class="hljs-comment">// import { featureAbility } from '@kit.AbilityKit';</span></li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">proxy</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connect</span>: common.<span class="hljs-property">ConnectOptions</span> = {</li><li>  <span class="hljs-attr">onConnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName, remoteProxy</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'js onConnect called'</span>);</li><li>    proxy = remoteProxy;</li><li>  },</li><li>  <span class="hljs-attr">onDisconnect</span>: <span class="hljs-function">(<span class="hljs-params">elementName</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onDisconnect'</span>);</li><li>  },</li><li>  <span class="hljs-attr">onFailed</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'onFailed'</span>);</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.ohos.server"</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"com.ohos.server.EntryAbility"</span>,</li><li>};</li><li>
</li><li><span class="hljs-comment">// FA模型使用此方法连接服务</span></li><li><span class="hljs-comment">// FA.connectAbility(want,connect);</span></li><li>
</li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(); <span class="hljs-comment">// UIAbilityContext</span></li><li><span class="hljs-comment">// 建立连接后返回的Id需要保存下来，在解绑服务时需要作为参数传入</span></li><li><span class="hljs-keyword">let</span> connectionId = context.<span class="hljs-title function_">connectServiceExtensionAbility</span>(want, connect);</li></ol></pre></div></div>     <p>上述onConnect回调函数中的proxy对象需要等ability异步连接成功后才会被赋值，然后才可调用proxy对象的isObjectDead接口方法判断当前对象是否已经死亡</p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (proxy != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">isDead</span>: <span class="hljs-built_in">boolean</span> = proxy.<span class="hljs-title function_">isObjectDead</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'isObjectDead is '</span> + isDead);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="messageoption" device-type="phone,2in1,tablet,wearable,tv">MessageOption<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="messageoption" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>公共消息选项，使用指定的标志类型，构造指定的MessageOption对象。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 540px;">     <h3 id="属性-1" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力</strong>：以下各项对应的系统能力均为SystemCapability.Communication.IPC.Core。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.216.3.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.216.3.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.216.3.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.216.3.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.216.3.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">TF_SYNC</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">同步调用标识。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">TF_ASYNC</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">异步调用标识。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">TF_ACCEPT_FDS</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指示sendMessageRequest<sup>9+</sup>接口可以传递文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">TF_WAIT_TIME</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">RPC等待时间(单位/秒)，IPC场景下无效。默认等待为8秒（不建议修改等待时间）。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 774px;">     <h3 id="constructor9" device-type="phone,2in1,tablet,wearable,tv">constructor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(async?: boolean)</p>     <p>MessageOption构造函数。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.217.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.217.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.217.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.217.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">async</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">true：表示异步调用标志，false：表示同步调用标志。默认同步调用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.MessageOption</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">async</span>: <span class="hljs-built_in">boolean</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(<span class="hljs-keyword">async</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 843px;">     <h3 id="constructor" device-type="phone,2in1,tablet,wearable,tv">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(syncFlags?: number, waitTime?: number)</p>     <p>MessageOption构造函数。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.218.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.218.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.218.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.218.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">syncFlags</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">同步调用或异步调用标志，同步调用标志：0；异步调用标志：1。默认同步调用。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">waitTime</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">调用rpc最长等待时间。默认TF_WAIT_TIME。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.MessageOption</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">syncFlags?: <span class="hljs-built_in">number</span>,waitTime?: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(syncFlags,waitTime);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 794px;">     <h3 id="isasync9" device-type="phone,2in1,tablet,wearable,tv">isAsync<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isasync9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isAsync(): boolean</p>     <p>获取SendMessageRequest调用中确定同步或是异步的标志。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.219.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.219.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：异步调用成功，false：同步调用成功。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  <span class="hljs-keyword">let</span> result = option.<span class="hljs-title function_">isAsync</span>();</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 798px;">     <h3 id="setasync9" device-type="phone,2in1,tablet,wearable,tv">setAsync<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setasync9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAsync(isAsync: boolean): void</p>     <p>设置SendMessageRequest调用中确定同步或是异步的标志。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.220.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.220.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.220.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.220.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isAsync</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">true：表示异步调用标志，false：表示同步调用标志。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  option.<span class="hljs-title function_">setAsync</span>(<span class="hljs-literal">true</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 962px;">     <h3 id="getflags" device-type="phone,2in1,tablet,wearable,tv">getFlags<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getflags" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getFlags(): number</p>     <p>获取同步调用或异步调用标志。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.221.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.221.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">调用成功返回同步调用或异步调用标志。同步调用标志：0，异步调用标志：1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'create object successfully'</span>);</li><li>  <span class="hljs-keyword">let</span> flag = option.<span class="hljs-title function_">getFlags</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'run getFlags success, flag is '</span> + flag);</li><li>  option.<span class="hljs-title function_">setFlags</span>(rpc.<span class="hljs-property">MessageOption</span>.<span class="hljs-property">TF_ASYNC</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'run setFlags success'</span>);</li><li>  <span class="hljs-keyword">let</span> flag2 = option.<span class="hljs-title function_">getFlags</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'run getFlags success, flag2 is '</span> + flag2);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 894px;">     <h3 id="setflags" device-type="phone,2in1,tablet,wearable,tv">setFlags<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setflags" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setFlags(flags: number): void</p>     <p>设置同步调用或异步调用标志。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.222.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.222.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.222.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.222.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">flags</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">同步调用或异步调用标志。同步调用标志：0；异步调用标志：1</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  option.<span class="hljs-title function_">setFlags</span>(rpc.<span class="hljs-property">MessageOption</span>.<span class="hljs-property">TF_ASYNC</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'run setFlags success'</span>);</li><li>  <span class="hljs-keyword">let</span> flag = option.<span class="hljs-title function_">getFlags</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'run getFlags success, flag is '</span> + flag);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 890px;">     <h3 id="getwaittime" device-type="phone,2in1,tablet,wearable,tv">getWaitTime<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwaittime" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWaitTime(): number</p>     <p>获取rpc调用的最长等待时间。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.223.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.223.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">rpc最长等待时间。默认TF_WAIT_TIME。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  <span class="hljs-keyword">let</span> time = option.<span class="hljs-title function_">getWaitTime</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'run getWaitTime success, time is '</span> + time);</li><li>  option.<span class="hljs-title function_">setWaitTime</span>(<span class="hljs-number">16</span>);</li><li>  <span class="hljs-keyword">let</span> time2 = option.<span class="hljs-title function_">getWaitTime</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'run getWaitTime success, time is '</span> + time2);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 846px;">     <h3 id="setwaittime" device-type="phone,2in1,tablet,wearable,tv">setWaitTime<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwaittime" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWaitTime(waitTime: number): void</p>     <p>设置rpc调用最长等待时间。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.224.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.224.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.224.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.224.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">waitTime</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">rpc调用最长等待时间，上限为3000秒。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  option.<span class="hljs-title function_">setWaitTime</span>(<span class="hljs-number">16</span>);</li><li>  <span class="hljs-keyword">let</span> time = option.<span class="hljs-title function_">getWaitTime</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'run getWaitTime success, time is '</span> + time);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="ipcskeleton" device-type="phone,2in1,tablet,wearable,tv">IPCSkeleton<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ipcskeleton" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>用于获取IPC上下文信息，包括获取UID和PID、获取本端和对端设备ID、检查接口调用是否在同一设备上。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 778px;">     <h3 id="getcontextobject" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">getContextObject<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcontextobject" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static getContextObject(): IRemoteObject</p>     <p>静态方法，获取系统能力的管理者。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.226.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.226.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a></td>         <td class="cellrowborder" width="50%">返回系统能力管理者。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> samgr = rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">getContextObject</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: getContextObject result: '</span> + samgr);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 962px;">     <h3 id="getcallingpid" device-type="phone,2in1,tablet,wearable,tv">getCallingPid<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcallingpid" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static getCallingPid(): number</p>     <p>静态方法，获取调用者的PID。此方法由RemoteObject对象在onRemoteRequest方法中调用，不在IPC上下文环境（onRemoteRequest）中调用则返回本进程的PID。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.227.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.227.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回调用者的PID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stub</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> callerPid = rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">getCallingPid</span>();</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: getCallingPid result: '</span> + callerPid);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 962px;">     <h3 id="getcallinguid" device-type="phone,2in1,tablet,wearable,tv">getCallingUid<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcallinguid" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static getCallingUid(): number</p>     <p>静态方法，获取调用者的UID。此方法由RemoteObject对象在onRemoteRequest方法中调用，不在IPC上下文环境（onRemoteRequest）中调用则返回本进程的UID。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.228.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.228.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回调用者的UID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stub</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> callerUid = rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">getCallingUid</span>();</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: getCallingUid result: '</span> + callerUid);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 938px;">     <h3 id="getcallingtokenid8" device-type="phone,2in1,tablet,wearable,tv">getCallingTokenId<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcallingtokenid8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static getCallingTokenId(): number</p>     <p>静态方法，获取调用者的TokenId，用于被调用方对调用方的身份校验。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.229.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.229.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回调用者的TokenId。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stub</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> callerTokenId = rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">getCallingTokenId</span>();</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: getCallingTokenId result: '</span> + callerTokenId);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 938px;">     <h3 id="getcallingdeviceid" device-type="phone,2in1,tablet,wearable,tv">getCallingDeviceID<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcallingdeviceid" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static getCallingDeviceID(): string</p>     <p>静态方法，获取调用者进程所在的设备ID。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.230.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.230.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回调用者进程所在的设备ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stub</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> callerDeviceID = rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">getCallingDeviceID</span>();</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: callerDeviceID is '</span> + callerDeviceID);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 938px;">     <h3 id="getlocaldeviceid" device-type="phone,2in1,tablet,wearable,tv">getLocalDeviceID<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlocaldeviceid" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static getLocalDeviceID(): string</p>     <p>静态方法，获取本端设备ID。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.231.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.231.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回本地设备的ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stub</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> localDeviceID = rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">getLocalDeviceID</span>();</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: localDeviceID is '</span> + localDeviceID);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 938px;">     <h3 id="islocalcalling" device-type="phone,2in1,tablet,wearable,tv">isLocalCalling<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="islocalcalling" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static isLocalCalling(): boolean</p>     <p>静态方法，检查当前通信对端是否是本设备的进程。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.232.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.232.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：调用在同一台设备，false：调用未在同一台设备。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stub</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> isLocalCalling = rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">isLocalCalling</span>();</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: isLocalCalling is '</span> + isLocalCalling);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1377px;">     <h3 id="flushcmdbuffer9" device-type="phone,2in1,tablet,wearable,tv">flushCmdBuffer<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="flushcmdbuffer9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static flushCmdBuffer(object: IRemoteObject): void</p>     <p>静态方法，将所有挂起的命令从指定的RemoteProxy刷新到相应的RemoteObject。建议在任何时间执行敏感操作之前调用此方法。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.233.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.233.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.233.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.233.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">object</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的RemoteProxy。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.233.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.233.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> remoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"aaa"</span>);</li><li>  rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">flushCmdBuffer</span>(remoteObject);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'proxy flushCmdBuffer fail, errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'proxy flushCmdBuffer fail, errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1397px;">     <h3 id="flushcommandsdeprecated" device-type="phone,2in1,tablet,wearable,tv">flushCommands<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="flushcommandsdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static flushCommands(object: IRemoteObject): number</p>     <p>静态方法，将所有挂起的命令从指定的RemoteProxy刷新到相应的RemoteObject。建议在任何时间执行敏感操作之前调用此方法。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#flushcmdbuffer9">flushCmdBuffer</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.234.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.234.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.234.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.234.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">object</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremoteobject">IRemoteObject</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的RemoteProxy。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.234.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.234.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">如果操作成功，返回0；如果输入对象为空或RemoteObject，或者操作失败，返回错误代码。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> remoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"aaa"</span>);</li><li>  <span class="hljs-keyword">let</span> ret = rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">flushCommands</span>(remoteObject);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: flushCommands result: '</span> + ret);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'proxy flushCmdBuffer fail, errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'proxy flushCmdBuffer fail, errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 938px;">     <h3 id="resetcallingidentity" device-type="phone,2in1,tablet,wearable,tv">resetCallingIdentity<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="resetcallingidentity" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static resetCallingIdentity(): string</p>     <p>静态方法，将远程用户的UID和PID替换为本地用户的UID和PID。它可以用于身份验证等场景。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.235.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.235.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回包含远程用户的UID和PID的字符串。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stub</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> callingIdentity = rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">resetCallingIdentity</span>();</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: callingIdentity is '</span> + callingIdentity);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1377px;">     <h3 id="restorecallingidentity9" device-type="phone,2in1,tablet,wearable,tv">restoreCallingIdentity<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restorecallingidentity9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static restoreCallingIdentity(identity: string): void</p>     <p>静态方法，将UID和PID恢复为远程用户的UID和PID。它通常在使用resetCallingIdentity后调用，需要resetCallingIdentity返回的远程用户的UID和PID。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.236.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.236.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.236.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.236.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">identity</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">标识表示包含远程用户UID和PID的字符串，其长度应小于40960字节。由resetCallingIdentity返回。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.236.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.236.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The string length exceeds 40960 bytes;</p>          <p>4.The number of bytes copied to the buffer is different from the length of the obtained string.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stub</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> callingIdentity = rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">resetCallingIdentity</span>();</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: callingIdentity is '</span> + callingIdentity);</li><li>      rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">restoreCallingIdentity</span>(callingIdentity);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1301px;">     <h3 id="setcallingidentitydeprecated" device-type="phone,2in1,tablet,wearable,tv">setCallingIdentity<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcallingidentitydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static setCallingIdentity(identity: string): boolean</p>     <p>静态方法，将UID和PID恢复为远程用户的UID和PID。它通常在使用resetCallingIdentity后调用，需要resetCallingIdentity返回的远程用户的UID和PID。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#restorecallingidentity9">restoreCallingIdentity</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.237.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.237.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.237.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.237.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">identity</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">标识表示包含远程用户UID和PID的字符串。由resetCallingIdentity返回。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.237.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.237.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：设置成功，false：设置失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stub</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> callingIdentity = rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">resetCallingIdentity</span>();</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: callingIdentity is '</span> + callingIdentity);</li><li>      <span class="hljs-keyword">let</span> ret = rpc.<span class="hljs-property">IPCSkeleton</span>.<span class="hljs-title function_">setCallingIdentity</span>(callingIdentity);</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: setCallingIdentity is '</span> + ret);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="remoteobject" device-type="phone,2in1,tablet,wearable,tv">RemoteObject<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="remoteobject" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>实现远程对象。服务提供者必须继承此类。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 734px;">     <h3 id="constructor-1" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(descriptor: string)</p>     <p>RemoteObject构造函数。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.239.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.239.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.239.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.239.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">descriptor</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接口描述符，其长度应小于40960字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1892px;">     <h3 id="sendrequestdeprecated-6" device-type="phone,2in1,tablet,wearable,tv">sendRequest<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendrequestdeprecated-6" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendRequest(code: number, data: MessageParcel, reply: MessageParcel, options: MessageOption): boolean</p>     <p>以同步或异步方式向对端进程发送MessageParcel消息。如果为选项设置了异步模式，则期约立即兑现，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则期约将在sendRequest返回时兑现，回复内容在reply报文里。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 8 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendmessagerequest9-4">sendMessageRequest</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.240.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.240.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.240.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.240.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.240.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.240.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：发送成功，false：发送失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">testRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">onRemoteRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageParcel</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> reply = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">1</span>);</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">"hello"</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-built_in">boolean</span> = testRemoteObject.<span class="hljs-title function_">sendRequest</span>(<span class="hljs-number">1</span>, data, reply, option);</li><li>  <span class="hljs-keyword">if</span> (ret) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest got result'</span>);</li><li>    <span class="hljs-keyword">let</span> msg = reply.<span class="hljs-title function_">readString</span>();</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'reply msg: '</span> + msg);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest failed'</span>);</li><li>  }</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest ends, reclaim parcel'</span>);</li><li>  data.<span class="hljs-title function_">reclaim</span>();</li><li>  reply.<span class="hljs-title function_">reclaim</span>();</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2379px;">     <h3 id="sendmessagerequest9-4" device-type="phone,2in1,tablet,wearable,tv">sendMessageRequest<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendmessagerequest9-4" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendMessageRequest(code: number, data: MessageSequence, reply: MessageSequence, options: MessageOption): Promise&lt;RequestResult&gt;</p>     <p>以同步或异步方式向对端进程发送MessageSequence消息。如果为选项设置了异步模式，则期约立即兑现，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则期约将在sendMessageRequest返回时兑现，回复内容在reply报文里。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.241.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.241.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.241.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.241.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.241.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.241.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#requestresult9">RequestResult</a>&gt;</td>         <td class="cellrowborder" width="50%">返回一个期约，兑现值是RequestResult实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.241.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.241.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.Failed to obtain the passed object instance.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> reply = rpc.<span class="hljs-property">MessageSequence</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">1</span>);</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">"hello"</span>);</li><li>  testRemoteObject.<span class="hljs-title function_">sendMessageRequest</span>(<span class="hljs-number">1</span>, data, reply, option)</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: rpc.RequestResult</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (result.<span class="hljs-property">errCode</span> === <span class="hljs-number">0</span>) {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest got result'</span>);</li><li>        <span class="hljs-keyword">let</span> num = result.<span class="hljs-property">reply</span>.<span class="hljs-title function_">readInt</span>();</li><li>        <span class="hljs-keyword">let</span> msg = result.<span class="hljs-property">reply</span>.<span class="hljs-title function_">readString</span>();</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'reply num: '</span> + num);</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'reply msg: '</span> + msg);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest failed, errCode: '</span> + result.<span class="hljs-property">errCode</span>);</li><li>      }</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest failed, error: '</span> + e);</li><li>    }).<span class="hljs-property">finally</span> (<span class="hljs-function">() =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest ends, reclaim parcel'</span>);</li><li>      data.<span class="hljs-title function_">reclaim</span>();</li><li>      reply.<span class="hljs-title function_">reclaim</span>();</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendMessageRequest failed, error: '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2156px;">     <h3 id="sendrequestdeprecated-7" device-type="phone,2in1,tablet,wearable,tv">sendRequest<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendrequestdeprecated-7" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendRequest(code: number, data: MessageParcel, reply: MessageParcel, options: MessageOption): Promise&lt;SendRequestResult&gt;</p>     <p>以同步或异步方式向对端进程发送MessageParcel消息。如果为选项设置了异步模式，则期约立即兑现，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则期约将在sendRequest返回时兑现，回复内容在reply报文里。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendmessagerequest9-4">sendMessageRequest</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.242.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.242.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.242.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.242.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.242.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.242.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendrequestresultdeprecated">SendRequestResult</a>&gt;</td>         <td class="cellrowborder" width="50%">返回一个期约，兑现值是sendRequestResult实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  <span class="hljs-keyword">let</span> data = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  <span class="hljs-keyword">let</span> reply = rpc.<span class="hljs-property">MessageParcel</span>.<span class="hljs-title function_">create</span>();</li><li>  data.<span class="hljs-title function_">writeInt</span>(<span class="hljs-number">1</span>);</li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-string">"hello"</span>);</li><li>  <span class="hljs-keyword">let</span> a = testRemoteObject.<span class="hljs-title function_">sendRequest</span>(<span class="hljs-number">1</span>, data, reply, option) <span class="hljs-keyword">as</span> <span class="hljs-title class_">Object</span>;</li><li>  <span class="hljs-keyword">let</span> b = a <span class="hljs-keyword">as</span> <span class="hljs-title class_">Promise</span>&lt;rpc.<span class="hljs-property">SendRequestResult</span>&gt;;</li><li>  b.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: rpc.SendRequestResult</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (result.<span class="hljs-property">errCode</span> === <span class="hljs-number">0</span>) {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest got result'</span>);</li><li>      <span class="hljs-keyword">let</span> num = result.<span class="hljs-property">reply</span>.<span class="hljs-title function_">readInt</span>();</li><li>      <span class="hljs-keyword">let</span> msg = result.<span class="hljs-property">reply</span>.<span class="hljs-title function_">readString</span>();</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'reply num: '</span> + num);</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'reply msg: '</span> + msg);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest failed, errCode: '</span> + result.<span class="hljs-property">errCode</span>);</li><li>    }</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest failed, error: '</span> + e);</li><li>  }).<span class="hljs-property">finally</span> (<span class="hljs-function">() =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'sendRequest ends, reclaim parcel'</span>);</li><li>    data.<span class="hljs-title function_">reclaim</span>();</li><li>    reply.<span class="hljs-title function_">reclaim</span>();</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error: '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1156px;">     <h3 id="sendmessagerequest9-5" device-type="phone,2in1,tablet,wearable,tv">sendMessageRequest<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendmessagerequest9-5" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendMessageRequest(code: number, data: MessageSequence, reply: MessageSequence, options: MessageOption, callback: AsyncCallback&lt;RequestResult&gt;): void</p>     <p>以同步或异步方式向对端进程发送MessageSequence消息。如果为选项设置了异步模式，则立即收到回调，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则将在sendMessageRequest返回时收到回调，回复内容在reply报文里。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.243.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.243.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.243.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.243.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#requestresult9">RequestResult</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收发送结果的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.243.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.243.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.Failed to obtain the passed object instance.</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 933px;">     <h3 id="sendrequestdeprecated-8" device-type="phone,2in1,tablet,wearable,tv">sendRequest<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendrequestdeprecated-8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendRequest(code: number, data: MessageParcel, reply: MessageParcel, options: MessageOption, callback: AsyncCallback&lt;SendRequestResult&gt;): void</p>     <p>以同步或异步方式向对端进程发送MessageParcel消息。如果为选项设置了异步模式，则立即收到回调，reply报文里没有内容，具体回复需要在业务侧的回调中获取。如果为选项设置了同步模式，则将在sendRequest返回时收到回调，回复内容在reply报文里。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendmessagerequest9-5">sendMessageRequest</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.244.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.244.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.244.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.244.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求调用的消息码（1-16777215），由通信双方确定。如果接口由IDL工具生成，则消息代码由IDL自动生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">保存待发送数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收应答数据的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次请求的同异步模式，默认同步调用。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#sendrequestresultdeprecated">SendRequestResult</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接收发送结果的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 4016px;">     <h3 id="onremotemessagerequest9" device-type="phone,2in1,tablet,wearable,tv">onRemoteMessageRequest<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onremotemessagerequest9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onRemoteMessageRequest(code: number, data: MessageSequence, reply: MessageSequence, options: MessageOption): boolean | Promise&lt;boolean&gt;</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>开发者应优先选择重载onRemoteMessageRequest方法，其中可以自由实现同步和异步的消息处理。</p>       <p>开发者同时重载onRemoteRequest和onRemoteMessageRequest方法时，仅onRemoteMessageRequest方法生效。</p>      </div></div></div>     <p>sendMessageRequest请求的响应处理函数，服务端在该函数里同步或异步地处理请求，回复结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.245.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.245.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.245.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.245.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">对端发送的服务请求码。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">携带客户端调用参数的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messagesequence9">MessageSequence</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">写入结果的MessageSequence对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指示操作是同步还是异步。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.245.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.245.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean | Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">          <p>- 若在onRemoteMessageRequest中同步处理请求，则返回一个布尔值。返回true表示操作成功，返回false表示操作失败。</p>          <p>- 若在onRemoteMessageRequest中异步处理请求，则返回一个Promise对象。返回true表示操作成功，返回false表示操作失败。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>重载onRemoteMessageRequest方法同步处理请求示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">if</span> (code === <span class="hljs-number">1</span>) {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: sync onRemoteMessageRequest is called'</span>);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: unknown code: '</span> + code);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><strong>重载onRemoteMessageRequest方法异步处理请求示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">if</span> (code === <span class="hljs-number">1</span>) {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: async onRemoteMessageRequest is called'</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: unknown code: '</span> + code);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>    }</li><li>    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve: (data: rpc.RequestResult) =&gt; <span class="hljs-built_in">void</span></span>) =&gt;</span> {</li><li>      <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">100</span>);</li><li>    })</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><strong>同时重载onRemoteMessageRequest和onRemoteRequest方法同步处理请求示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onRemoteRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> {</li><li>     <span class="hljs-keyword">if</span> (code === <span class="hljs-number">1</span>) {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: sync onRemoteMessageRequest is called'</span>);</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>     } <span class="hljs-keyword">else</span> {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: unknown code: '</span> + code);</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>     }</li><li>  }</li><li>    <span class="hljs-comment">// 同时调用仅会执行onRemoteMessageRequest</span></li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">if</span> (code === <span class="hljs-number">1</span>) {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: async onRemoteMessageRequest is called'</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: unknown code: '</span> + code);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><strong>同时重载onRemoteMessageRequest和onRemoteRequest方法异步处理请求示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onRemoteRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-keyword">if</span> (code === <span class="hljs-number">1</span>) {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: sync onRemoteRequest is called'</span>);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: unknown code: '</span> + code);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>    }</li><li>  }</li><li>  <span class="hljs-comment">// 同时调用仅会执行onRemoteMessageRequest</span></li><li>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-keyword">if</span> (code === <span class="hljs-number">1</span>) {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: async onRemoteMessageRequest is called'</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: unknown code: '</span> + code);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>    }</li><li>    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve: (data: rpc.RequestResult) =&gt; <span class="hljs-built_in">void</span></span>) =&gt;</span> {</li><li>      <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">100</span>);</li><li>    })</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1412px;">     <h3 id="onremoterequestdeprecated" device-type="phone,2in1,tablet,wearable,tv">onRemoteRequest<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onremoterequestdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onRemoteRequest(code: number, data: MessageParcel, reply: MessageParcel, options: MessageOption): boolean</p>     <p>sendRequest请求的响应处理函数，服务端在该函数里处理请求，回复结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#onremotemessagerequest9">onRemoteMessageRequest</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.246.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.246.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.246.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.246.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">对端发送的服务请求码。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">携带客户端调用参数的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">reply</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageparceldeprecated">MessageParcel</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">写入结果的MessageParcel对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#messageoption">MessageOption</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指示操作是同步还是异步。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.246.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.246.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：操作成功，false：操作失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageParcel</span>, <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-keyword">if</span> (code === <span class="hljs-number">1</span>) {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: onRemoteRequest called'</span>);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: unknown code: '</span> + code);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1034px;">     <h3 id="getcallinguid-1" device-type="phone,2in1,tablet,wearable,tv">getCallingUid<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcallinguid-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCallingUid(): number</p>     <p>获取通信对端的进程Uid。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.247.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.247.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回通信对端的进程Uid。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: getCallingUid: '</span> + testRemoteObject.<span class="hljs-title function_">getCallingUid</span>());</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error: '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1034px;">     <h3 id="getcallingpid-1" device-type="phone,2in1,tablet,wearable,tv">getCallingPid<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcallingpid-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCallingPid(): number</p>     <p>获取通信对端的进程Pid。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.248.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.248.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回通信对端的进程Pid。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: getCallingPid: '</span> + testRemoteObject.<span class="hljs-title function_">getCallingPid</span>());</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error: '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1620px;">     <h3 id="getlocalinterface9-2" device-type="phone,2in1,tablet,wearable,tv">getLocalInterface<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlocalinterface9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getLocalInterface(descriptor: string): IRemoteBroker</p>     <p>查询接口描述符的字符串。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.249.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.249.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.249.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.249.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">descriptor</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接口描述符的字符串，其长度应小于40960字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.249.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.249.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremotebroker">IRemoteBroker</a></td>         <td class="cellrowborder" width="50%">返回绑定到指定接口描述符的IRemoteBroker对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.249.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.249.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The string length exceeds 40960 bytes;</p>          <p>4.The number of bytes copied to the buffer is different from the length of the obtained string.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li><li>  testRemoteObject.<span class="hljs-title function_">getLocalInterface</span>(<span class="hljs-string">"testObject"</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1301px;">     <h3 id="querylocalinterfacedeprecated-2" device-type="phone,2in1,tablet,wearable,tv">queryLocalInterface<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="querylocalinterfacedeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>queryLocalInterface(descriptor: string): IRemoteBroker</p>     <p>查询并获取当前接口描述符对应的远端对象是否已经存在。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#getlocalinterface9-2">getLocalInterface</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.250.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.250.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.250.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.250.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">descriptor</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要查询的接口描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.250.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.250.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremotebroker">IRemoteBroker</a></td>         <td class="cellrowborder" width="50%">如果接口描述符对应的远端对象存在，则返回该远端对象，否则返回Null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li><li>  testRemoteObject.<span class="hljs-title function_">queryLocalInterface</span>(<span class="hljs-string">"testObject"</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error: '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1349px;">     <h3 id="getdescriptor9-2" device-type="phone,2in1,tablet,wearable,tv">getDescriptor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdescriptor9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDescriptor(): string</p>     <p>获取对象的接口描述符。接口描述符为字符串。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.251.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.251.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回接口描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.251.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.251.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900008</td>         <td class="cellrowborder" width="50%">The proxy or remote object is invalid.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> testObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"ipcTest"</span>);</li><li>  <span class="hljs-keyword">let</span> descriptor = testObject.<span class="hljs-title function_">getDescriptor</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: descriptor is '</span> + descriptor);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1174px;">     <h3 id="getinterfacedescriptordeprecated-2" device-type="phone,2in1,tablet,wearable,tv">getInterfaceDescriptor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getinterfacedescriptordeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getInterfaceDescriptor(): string</p>     <p>查询接口描述符。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#getdescriptor9-2">getDescriptor</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.252.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.252.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回接口描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: rpc.<span class="hljs-property">MessageSequence</span>, <span class="hljs-attr">reply</span>: rpc.<span class="hljs-property">MessageSequence</span>,</li><li>    <span class="hljs-attr">option</span>: rpc.<span class="hljs-property">MessageOption</span>): <span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>    <span class="hljs-comment">// 根据业务实际逻辑，进行相应处理</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li><li>  <span class="hljs-keyword">let</span> descriptor = testRemoteObject.<span class="hljs-title function_">getInterfaceDescriptor</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcServer: descriptor is: '</span> + descriptor);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1686px;">     <h3 id="modifylocalinterface9" device-type="phone,2in1,tablet,wearable,tv">modifyLocalInterface<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="modifylocalinterface9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>modifyLocalInterface(localInterface: IRemoteBroker, descriptor: string): void</p>     <p>此接口用于把接口描述符和IRemoteBroker对象绑定。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.253.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.253.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.253.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.253.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">localInterface</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremotebroker">IRemoteBroker</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">将与描述符绑定的IRemoteBroker对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">descriptor</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于与IRemoteBroker对象绑定的描述符，其长度应小于40960字节。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.253.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.253.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The string length exceeds 40960 bytes;</p>          <p>4.The number of bytes copied to the buffer is different from the length of the obtained string.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDeathRecipient</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">DeathRecipient</span> {</li><li>  <span class="hljs-title function_">onRemoteDied</span>(<span class="hljs-params"></span>) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'server died'</span>);</li><li>  }</li><li>}</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">modifyLocalInterface</span>(<span class="hljs-variable language_">this</span>, descriptor);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>    }</li><li>  }</li><li>  <span class="hljs-title function_">registerDeathRecipient</span>(<span class="hljs-params">recipient: MyDeathRecipient, flags: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-comment">// 方法逻辑需开发者根据业务需要实现</span></li><li>  }</li><li>  <span class="hljs-title function_">unregisterDeathRecipient</span>(<span class="hljs-params">recipient: MyDeathRecipient, flags: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-comment">// 方法逻辑需开发者根据业务需要实现</span></li><li>  }</li><li>}</li><li><span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1295px;">     <h3 id="attachlocalinterfacedeprecated" device-type="phone,2in1,tablet,wearable,tv">attachLocalInterface<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="attachlocalinterfacedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>attachLocalInterface(localInterface: IRemoteBroker, descriptor: string): void</p>     <p>此接口用于把接口描述符和IRemoteBroker对象绑定。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#modifylocalinterface9">modifyLocalInterface</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.254.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.254.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.254.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.254.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">localInterface</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#iremotebroker">IRemoteBroker</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">将与描述符绑定的IRemoteBroker对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">descriptor</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于与IRemoteBroker对象绑定的描述符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDeathRecipient</span> <span class="hljs-keyword">implements</span> rpc.<span class="hljs-property">DeathRecipient</span> {</li><li>  <span class="hljs-title function_">onRemoteDied</span>(<span class="hljs-params"></span>) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'server died'</span>);</li><li>  }</li><li>}</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRemoteObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">descriptor: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>(descriptor);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attachLocalInterface</span>(<span class="hljs-variable language_">this</span>, descriptor);</li><li>  }</li><li>  <span class="hljs-title function_">addDeathRecipient</span>(<span class="hljs-attr">recipient</span>: <span class="hljs-title class_">MyDeathRecipient</span>, <span class="hljs-attr">flags</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-comment">// 方法逻辑需开发者根据业务需要实现</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>  <span class="hljs-title function_">removeDeathRecipient</span>(<span class="hljs-attr">recipient</span>: <span class="hljs-title class_">MyDeathRecipient</span>, <span class="hljs-attr">flags</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-comment">// 方法逻辑需开发者根据业务需要实现</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">let</span> testRemoteObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestRemoteObject</span>(<span class="hljs-string">"testObject"</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 254px;">     <h2 id="ashmem8" device-type="phone,2in1,tablet,wearable,tv">Ashmem<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ashmem8" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供与匿名共享内存对象相关的方法，包括创建、关闭、映射和取消映射Ashmem、从Ashmem读取数据和写入数据、获取Ashmem大小、设置Ashmem保护。</p>     <p>共享内存只适用与本设备内跨进程通信。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 588px;">     <h3 id="属性-2" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力</strong>：以下各项对应的系统能力均为SystemCapability.Communication.IPC.Core。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.256.3.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.256.3.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.256.3.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.256.3.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.256.3.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">PROT_EXEC</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">映射内存保护类型，代表映射的内存可执行。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">PROT_NONE</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">映射内存保护类型，代表映射的内存不可访问。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">PROT_READ</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">映射内存保护类型，代表映射的内存可读。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">PROT_WRITE</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">映射内存保护类型，代表映射的内存可写。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1497px;">     <h3 id="create9-1" device-type="phone,2in1,tablet,wearable,tv">create<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="create9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static create(name: string, size: number): Ashmem</p>     <p>静态方法，根据指定的名称和大小创建Ashmem对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.257.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.257.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.257.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.257.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">Ashmem名称，用于查询Ashmem信息，其长度不能为0。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">Ashmem的大小，其大小应大于0，以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.257.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.257.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#ashmem8">Ashmem</a></td>         <td class="cellrowborder" width="50%">返回创建的Ashmem对象；如果创建失败，返回null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.257.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.257.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The Ashmem name passed is empty;</p>          <p>4.The Ashmem size passed is less than or equal to 0.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'create ashmem: '</span> + ashmem);</li><li>  <span class="hljs-keyword">let</span> size = ashmem.<span class="hljs-title function_">getAshmemSize</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>,  <span class="hljs-string">'size is '</span> + size);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1178px;">     <h3 id="createashmemdeprecated" device-type="phone,2in1,tablet,wearable,tv">createAshmem<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createashmemdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static createAshmem(name: string, size: number): Ashmem</p>     <p>静态方法，根据指定的名称和大小创建Ashmem对象。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#create9">create</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.258.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.258.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.258.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.258.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">名称，用于查询Ashmem信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">Ashmem的大小，以字节为单位。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.258.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.258.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#ashmem8">Ashmem</a></td>         <td class="cellrowborder" width="50%">返回创建的Ashmem对象；如果创建失败，返回null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">createAshmem</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'create ashmem: '</span> + ashmem);</li><li>  <span class="hljs-keyword">let</span> size = ashmem.<span class="hljs-title function_">getAshmemSize</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>,  <span class="hljs-string">'size is '</span> + size);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1356px;">     <h3 id="create9-2" device-type="phone,2in1,tablet,wearable,tv">create<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="create9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static create(ashmem: Ashmem): Ashmem</p>     <p>静态方法，通过复制现有Ashmem对象的文件描述符(fd)来创建Ashmem对象。两个Ashmem对象指向同一个共享内存区域。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.259.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.259.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.259.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.259.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ashmem</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#ashmem8">Ashmem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已存在的Ashmem对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.259.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.259.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#ashmem8">Ashmem</a></td>         <td class="cellrowborder" width="50%">返回创建的Ashmem对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.259.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.259.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The passed parameter is not an Ahmem object;</p>          <p>3.The ashmem instance for obtaining packaging is empty.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> ashmem2 = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(ashmem);</li><li>  <span class="hljs-keyword">let</span> size = ashmem2.<span class="hljs-title function_">getAshmemSize</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'size is '</span> + size);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1085px;">     <h3 id="createashmemfromexistingdeprecated" device-type="phone,2in1,tablet,wearable,tv">createAshmemFromExisting<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createashmemfromexistingdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static createAshmemFromExisting(ashmem: Ashmem): Ashmem</p>     <p>静态方法，通过复制现有Ashmem对象的文件描述符(fd)来创建Ashmem对象。两个Ashmem对象指向同一个共享内存区域。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#create9-1">create</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.260.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.260.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.260.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.260.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ashmem</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#ashmem8">Ashmem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">已存在的Ashmem对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.260.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.260.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#ashmem8">Ashmem</a></td>         <td class="cellrowborder" width="50%">返回创建的Ashmem对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> ashmem2 = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">createAshmemFromExisting</span>(ashmem);</li><li>  <span class="hljs-keyword">let</span> size = ashmem2.<span class="hljs-title function_">getAshmemSize</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'size is '</span> + size);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error is '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 715px;">     <h3 id="closeashmem8" device-type="phone,2in1,tablet,wearable,tv">closeAshmem<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closeashmem8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>closeAshmem(): void</p>     <p>关闭这个Ashmem。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>关闭Ashmem对象前需要先解除地址映射。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  ashmem.<span class="hljs-title function_">closeAshmem</span>();</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error is '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 623px;">     <h3 id="unmapashmem8" device-type="phone,2in1,tablet,wearable,tv">unmapAshmem<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unmapashmem8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unmapAshmem(): void</p>     <p>删除该Ashmem对象的地址映射。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  ashmem.<span class="hljs-title function_">unmapAshmem</span>();</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error is '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 818px;">     <h3 id="getashmemsize8" device-type="phone,2in1,tablet,wearable,tv">getAshmemSize<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getashmemsize8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAshmemSize(): number</p>     <p>获取Ashmem对象的内存大小。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.263.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.263.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回Ashmem对象的内存大小。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> size = ashmem.<span class="hljs-title function_">getAshmemSize</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">' size is '</span> + size);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error is '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1240px;">     <h3 id="maptypedashmem9" device-type="phone,2in1,tablet,wearable,tv">mapTypedAshmem<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="maptypedashmem9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mapTypedAshmem(mapType: number): void</p>     <p>在此进程的虚拟地址空间上创建共享文件映射，映射区域大小由此Ashmem对象指定。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.264.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.264.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.264.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.264.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mapType</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定映射的内存区域的保护等级。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.264.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.264.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The passed mapType exceeds the maximum protection level.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900001</td>         <td class="cellrowborder" width="50%">Failed to call mmap.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  ashmem.<span class="hljs-title function_">mapTypedAshmem</span>(rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-property">PROT_READ</span> | rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-property">PROT_WRITE</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1085px;">     <h3 id="mapashmemdeprecated" device-type="phone,2in1,tablet,wearable,tv">mapAshmem<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mapashmemdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mapAshmem(mapType: number): boolean</p>     <p>在此进程的虚拟地址空间上创建共享文件映射，映射区域大小由此Ashmem对象指定。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#maptypedashmem9">mapTypedAshmem</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.265.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.265.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.265.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.265.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mapType</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定映射的内存区域的保护等级。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.265.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.265.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：映射成功，false：映射失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> mapReadAndWrite = ashmem.<span class="hljs-title function_">mapAshmem</span>(rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-property">PROT_READ</span> | rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-property">PROT_WRITE</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'map ashmem result is '</span> + mapReadAndWrite);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error is '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 914px;">     <h3 id="mapreadwriteashmem9" device-type="phone,2in1,tablet,wearable,tv">mapReadWriteAshmem<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mapreadwriteashmem9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mapReadWriteAshmem(): void</p>     <p>在此进程虚拟地址空间上创建可读写的共享文件映射。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.266.7.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.266.7.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900001</td>         <td class="cellrowborder" width="50%">Failed to call mmap.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  ashmem.<span class="hljs-title function_">mapReadWriteAshmem</span>();</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 910px;">     <h3 id="mapreadandwriteashmemdeprecated" device-type="phone,2in1,tablet,wearable,tv">mapReadAndWriteAshmem<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mapreadandwriteashmemdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mapReadAndWriteAshmem(): boolean</p>     <p>在此进程虚拟地址空间上创建可读写的共享文件映射。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#mapreadwriteashmem9">mapReadWriteAshmem</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.267.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.267.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：映射成功，false：映射失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> mapResult = ashmem.<span class="hljs-title function_">mapReadAndWriteAshmem</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'map ashmem result is '</span> + mapResult);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error is '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 914px;">     <h3 id="mapreadonlyashmem9" device-type="phone,2in1,tablet,wearable,tv">mapReadonlyAshmem<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mapreadonlyashmem9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mapReadonlyAshmem(): void</p>     <p>在此进程虚拟地址空间上创建只读的共享文件映射。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.268.7.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.268.7.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1900001</td>         <td class="cellrowborder" width="50%">Failed to call mmap.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  ashmem.<span class="hljs-title function_">mapReadonlyAshmem</span>();</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 910px;">     <h3 id="mapreadonlyashmemdeprecated" device-type="phone,2in1,tablet,wearable,tv">mapReadOnlyAshmem<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mapreadonlyashmemdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mapReadOnlyAshmem(): boolean</p>     <p>在此进程虚拟地址空间上创建只读的共享文件映射。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#mapreadonlyashmem9">mapReadonlyAshmem</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.269.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.269.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：映射成功，false：映射失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> mapResult = ashmem.<span class="hljs-title function_">mapReadOnlyAshmem</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Ashmem mapReadOnlyAshmem result is '</span> + mapResult);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error is '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1168px;">     <h3 id="setprotectiontype9" device-type="phone,2in1,tablet,wearable,tv">setProtectionType<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setprotectiontype9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setProtectionType(protectionType: number): void</p>     <p>设置映射内存区域的保护等级。</p>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.270.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.270.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.270.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.270.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">protectionType</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要设置的保护类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.270.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.270.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900002</td>         <td class="cellrowborder" width="50%">Failed to call ioctl.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  ashmem.<span class="hljs-title function_">setProtectionType</span>(rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-property">PROT_READ</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Rpc set protection type fail, errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Rpc set protection type fail, errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1085px;">     <h3 id="setprotectiondeprecated" device-type="phone,2in1,tablet,wearable,tv">setProtection<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setprotectiondeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setProtection(protectionType: number): boolean</p>     <p>设置映射内存区域的保护等级。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#setprotectiontype9">setProtectionType</a>替代。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.271.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.271.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.271.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.271.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">protectionType</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要设置的保护类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.271.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.271.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：设置成功，false：设置失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> result = ashmem.<span class="hljs-title function_">setProtection</span>(rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-property">PROT_READ</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Ashmem setProtection result is '</span> + result);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1590px;">     <h3 id="writedatatoashmem11" device-type="phone,2in1,tablet,wearable,tv">writeDataToAshmem<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writedatatoashmem11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeDataToAshmem(buf: ArrayBuffer, size: number, offset: number): void</p>     <p>将数据写入此Ashmem对象关联的共享文件。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>对Ashmem对象进行写操作时，需要先调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#mapreadwriteashmem9">mapReadWriteAshmem</a>进行映射。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.272.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.272.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.272.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.272.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buf</td>         <td class="cellrowborder" width="25%">ArrayBuffer</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">写入Ashmem对象的数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的数据大小。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的数据在此Ashmem对象关联的内存区间的起始位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.272.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.272.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.Failed to obtain arrayBuffer information.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900003</td>         <td class="cellrowborder" width="50%">Failed to write data to the shared memory.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> int32View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(buffer);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; int32View.<span class="hljs-property">length</span>; i++) {</li><li>    int32View[i] = i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> size = buffer.<span class="hljs-property">byteLength</span>;</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  ashmem.<span class="hljs-title function_">mapReadWriteAshmem</span>();</li><li>  ashmem.<span class="hljs-title function_">writeDataToAshmem</span>(buffer, size, <span class="hljs-number">0</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1494px;">     <h3 id="writeashmemdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">writeAshmem<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writeashmemdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeAshmem(buf: number[], size: number, offset: number): void</p>     <p>将数据写入此Ashmem对象关联的共享文件。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始支持，API version 11 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writedatatoashmem11">writeDataToAshmem</a>替代。</p>       <p>对Ashmem对象进行写操作时，需要先调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#mapreadwriteashmem9">mapReadWriteAshmem</a>进行映射。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.273.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.273.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.273.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.273.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buf</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">写入Ashmem对象的数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的数据大小。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的数据在此Ashmem对象关联的内存区间的起始位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.273.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.273.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match;</p>          <p>3.The element does not exist in the array.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900003</td>         <td class="cellrowborder" width="50%">Failed to write data to the shared memory.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  ashmem.<span class="hljs-title function_">mapReadWriteAshmem</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-title class_">ByteArrayVar</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  ashmem.<span class="hljs-title function_">writeAshmem</span>(<span class="hljs-title class_">ByteArrayVar</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Rpc write to ashmem fail, errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Rpc write to ashmem fail, errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1319px;">     <h3 id="writetoashmemdeprecated" device-type="phone,2in1,tablet,wearable,tv">writeToAshmem<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="writetoashmemdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeToAshmem(buf: number[], size: number, offset: number): boolean</p>     <p>将数据写入此Ashmem对象关联的共享文件。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#writedatatoashmem11">writeDataToAshmem</a>替代。</p>       <p>对Ashmem对象进行写操作时，需要先调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#mapreadwriteashmem9">mapReadWriteAshmem</a>进行映射。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.274.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.274.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.274.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.274.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buf</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">写入Ashmem对象的数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的数据大小。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要写入的数据在此Ashmem对象关联的内存区间的起始位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.274.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.274.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true：如果数据写入成功，false：在其他情况下，如数据写入越界或未获得写入权限。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> mapResult = ashmem.<span class="hljs-title function_">mapReadAndWriteAshmem</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcTest map ashmem result is '</span> + mapResult);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-title class_">ByteArrayVar</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  <span class="hljs-keyword">let</span> writeResult = ashmem.<span class="hljs-title function_">writeToAshmem</span>(<span class="hljs-title class_">ByteArrayVar</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'write to Ashmem result is '</span> + writeResult);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error is '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1764px;">     <h3 id="readdatafromashmem11" device-type="phone,2in1,tablet,wearable,tv">readDataFromAshmem<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readdatafromashmem11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readDataFromAshmem(size: number, offset: number): ArrayBuffer</p>     <p>从此Ashmem对象关联的共享文件中读取数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>对Ashmem对象进行写操作时，需要先调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#mapreadwriteashmem9">mapReadWriteAshmem</a>进行映射。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.275.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.275.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.275.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.275.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的数据的大小。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的数据在此Ashmem对象关联的内存区间的起始位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.275.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.275.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ArrayBuffer</td>         <td class="cellrowborder" width="50%">返回读取的数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.275.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.275.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900004</td>         <td class="cellrowborder" width="50%">Failed to read data from the shared memory.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> int32View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(buffer);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; int32View.<span class="hljs-property">length</span>; i++) {</li><li>    int32View[i] = i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> size = buffer.<span class="hljs-property">byteLength</span>;</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  ashmem.<span class="hljs-title function_">mapReadWriteAshmem</span>();</li><li>  ashmem.<span class="hljs-title function_">writeDataToAshmem</span>(buffer, size, <span class="hljs-number">0</span>);</li><li>  <span class="hljs-keyword">let</span> readResult = ashmem.<span class="hljs-title function_">readDataFromAshmem</span>(size, <span class="hljs-number">0</span>);</li><li>  <span class="hljs-keyword">let</span> readInt32View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(readResult);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'read from Ashmem result is '</span> + readInt32View);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1644px;">     <h3 id="readashmemdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">readAshmem<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readashmemdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readAshmem(size: number, offset: number): number[]</p>     <p>从此Ashmem对象关联的共享文件中读取数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始支持，API version 11 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readdatafromashmem11">readDataFromAshmem</a>替代。</p>       <p>对Ashmem对象进行写操作时，需要先调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#mapreadwriteashmem9">mapReadWriteAshmem</a>进行映射。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.276.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.276.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.276.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.276.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的数据的大小。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的数据在此Ashmem对象关联的内存区间的起始位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.276.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.276.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回读取的数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-rpc">ohos.rpc错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.276.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.276.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1.The number of parameters is incorrect;</p>          <p>2.The parameter type does not match.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1900004</td>         <td class="cellrowborder" width="50%">Failed to read data from the shared memory.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  ashmem.<span class="hljs-title function_">mapReadWriteAshmem</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-title class_">ByteArrayVar</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  ashmem.<span class="hljs-title function_">writeAshmem</span>(<span class="hljs-title class_">ByteArrayVar</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>);</li><li>  <span class="hljs-keyword">let</span> readResult = ashmem.<span class="hljs-title function_">readAshmem</span>(<span class="hljs-number">5</span>, <span class="hljs-number">0</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'read from Ashmem result is '</span> + readResult);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorCode '</span> + e.<span class="hljs-property">code</span>);</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'errorMessage '</span> + e.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1298px;">     <h3 id="readfromashmemdeprecated" device-type="phone,2in1,tablet,wearable,tv">readFromAshmem<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="readfromashmemdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readFromAshmem(size: number, offset: number): number[]</p>     <p>从此Ashmem对象关联的共享文件中读取数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8 开始支持，API version 9 开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#readdatafromashmem11">readDataFromAshmem</a>替代。</p>       <p>对Ashmem对象进行写操作时，需要先调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-rpc#mapreadwriteashmem9">mapReadWriteAshmem</a>进行映射。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Communication.IPC.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.277.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.277.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.277.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.277.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的数据的大小。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要读取的数据在此Ashmem对象关联的内存区间的起始位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.277.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.277.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">返回读取的数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ood-c106="" class="highlight-div"><div _ngcontent-ood-c106="" class="highlight-div-header"><div _ngcontent-ood-c106="" class="highlight-div-header-left"><div _ngcontent-ood-c106="" class="handle-button expand-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ood-c106="" class="highlight-div-header-right"><div _ngcontent-ood-c106="" class="handle-button ai-button"></div><div _ngcontent-ood-c106="" class="handle-button line-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ood-c106="" class="handle-button theme-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ood-c106="" class="handle-button copy-button"><div _ngcontent-ood-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ood-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ashmem = rpc.<span class="hljs-property">Ashmem</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ashmem"</span>, <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>);</li><li>  <span class="hljs-keyword">let</span> mapResult = ashmem.<span class="hljs-title function_">mapReadAndWriteAshmem</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'RpcTest map ashmem result is '</span> + mapResult);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-title class_">ByteArrayVar</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  <span class="hljs-keyword">let</span> writeResult = ashmem.<span class="hljs-title function_">writeToAshmem</span>(<span class="hljs-title class_">ByteArrayVar</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'write to Ashmem result is '</span> + writeResult);</li><li>  <span class="hljs-keyword">let</span> readResult = ashmem.<span class="hljs-title function_">readFromAshmem</span>(<span class="hljs-number">5</span>, <span class="hljs-number">0</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'read to Ashmem result is '</span> + readResult);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'error is '</span> + error);</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>