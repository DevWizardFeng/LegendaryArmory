<h1 _ngcontent-psj-c119="" class="doc-title ng-star-inserted" title="@ohos.scan (扫描)"> @ohos.scan (扫描) </h1>

<div _ngcontent-psj-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>该模块为扫描框架的js-api接口文档，提供发现和连接扫描仪的能力。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>本模块首批接口从API version 20开始支持。</p> <p>当前界面仅包含本模块的公开接口。</p>  </div></div></div>  <div class="tiledSection"><h2 id="导入模块" device-type="phone,2in1,tablet">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scanerrorcode" device-type="phone,2in1,tablet">ScanErrorCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanerrorcode" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义扫描错误码的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_NO_PERMISSION</td> <td class="cellrowborder" width="33.33333333333333%">201</td> <td class="cellrowborder" width="33.33333333333333%">无权限。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_NOT_SYSTEM_APPLICATION</td> <td class="cellrowborder" width="33.33333333333333%">202</td> <td class="cellrowborder" width="33.33333333333333%">非系统应用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_INVALID_PARAMETER</td> <td class="cellrowborder" width="33.33333333333333%">401</td> <td class="cellrowborder" width="33.33333333333333%">无效参数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_GENERIC_FAILURE</td> <td class="cellrowborder" width="33.33333333333333%">13100001</td> <td class="cellrowborder" width="33.33333333333333%">通用失败。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_RPC_FAILURE</td> <td class="cellrowborder" width="33.33333333333333%">13100002</td> <td class="cellrowborder" width="33.33333333333333%">RPC失败。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_SERVER_FAILURE</td> <td class="cellrowborder" width="33.33333333333333%">13100003</td> <td class="cellrowborder" width="33.33333333333333%">服务失败。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_UNSUPPORTED</td> <td class="cellrowborder" width="33.33333333333333%">13100004</td> <td class="cellrowborder" width="33.33333333333333%">不支持的操作。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_CANCELED</td> <td class="cellrowborder" width="33.33333333333333%">13100005</td> <td class="cellrowborder" width="33.33333333333333%">操作取消。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_DEVICE_BUSY</td> <td class="cellrowborder" width="33.33333333333333%">13100006</td> <td class="cellrowborder" width="33.33333333333333%">设备忙。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_INVALID</td> <td class="cellrowborder" width="33.33333333333333%">13100007</td> <td class="cellrowborder" width="33.33333333333333%">无效操作。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_JAMMED</td> <td class="cellrowborder" width="33.33333333333333%">13100008</td> <td class="cellrowborder" width="33.33333333333333%">卡纸。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_NO_DOCS</td> <td class="cellrowborder" width="33.33333333333333%">13100009</td> <td class="cellrowborder" width="33.33333333333333%">缺纸。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_COVER_OPEN</td> <td class="cellrowborder" width="33.33333333333333%">13100010</td> <td class="cellrowborder" width="33.33333333333333%">盖子打开。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_IO_ERROR</td> <td class="cellrowborder" width="33.33333333333333%">13100011</td> <td class="cellrowborder" width="33.33333333333333%">I/O错误。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_ERROR_NO_MEMORY</td> <td class="cellrowborder" width="33.33333333333333%">13100012</td> <td class="cellrowborder" width="33.33333333333333%">内存不足。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="constrainttype" device-type="phone,2in1,tablet">ConstraintType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constrainttype" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义参数限制类型的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">SCAN_CONSTRAINT_NONE</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">无限制。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_CONSTRAINT_RANGE</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">范围限制。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_CONSTRAINT_WORD_LIST</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">数字列表。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_CONSTRAINT_STRING_LIST</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">字符串列表。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="physicalunit" device-type="phone,2in1,tablet">PhysicalUnit<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="physicalunit" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义物理单位的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">SCAN_UNIT_NONE</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">无单位。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_UNIT_PIXEL</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">像素单位。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_UNIT_BIT</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">位单位。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_UNIT_MM</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">毫米单位。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_UNIT_DPI</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">DPI单位。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_UNIT_PERCENT</td> <td class="cellrowborder" width="33.33333333333333%">5</td> <td class="cellrowborder" width="33.33333333333333%">百分比单位。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_UNIT_MICROSECOND</td> <td class="cellrowborder" width="33.33333333333333%">6</td> <td class="cellrowborder" width="33.33333333333333%">微秒单位。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="optionvaluetype" device-type="phone,2in1,tablet">OptionValueType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="optionvaluetype" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义选项值类型的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">SCAN_TYPE_BOOL</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">布尔类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_TYPE_INT</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">整数类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_TYPE_FIXED</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">定点数类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">SCAN_TYPE_STRING</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">字符串类型。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="scannersyncmode" device-type="phone,2in1,tablet">ScannerSyncMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scannersyncmode" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义扫描仪同步码的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">UPDATE_STR</td> <td class="cellrowborder" width="33.33333333333333%">'update'</td> <td class="cellrowborder" width="33.33333333333333%">更新码，表示扫描仪id的变化。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">DELETE_STR</td> <td class="cellrowborder" width="33.33333333333333%">'delete'</td> <td class="cellrowborder" width="33.33333333333333%">删除码，表示扫描仪掉线。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="scannerdiscoverymode" device-type="phone,2in1,tablet">ScannerDiscoveryMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scannerdiscoverymode" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义扫描仪发现方式的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.4.1.4.1.1" width="33.33333333333333%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.9.4.1.4.1.2" width="33.33333333333333%"><strong>值</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.9.4.1.4.1.3" width="33.33333333333333%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">TCP_STR</td> <td class="cellrowborder" width="33.33333333333333%">'TCP'</td> <td class="cellrowborder" width="33.33333333333333%">网络扫描仪的发现模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">USB_STR</td> <td class="cellrowborder" width="33.33333333333333%">'USB'</td> <td class="cellrowborder" width="33.33333333333333%">USB扫描仪的发现模式。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="range" device-type="phone,2in1,tablet">Range<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="range" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义范围的接口。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>属性：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.1" width="20%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.2" width="20%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.3" width="20%"><strong>只读</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.4" width="20%"><strong>可选</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.5" width="20%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">minValue</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">范围的最小值。</td> </tr> <tr><td class="cellrowborder" width="20%">maxValue</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">范围的最大值。</td> </tr> <tr><td class="cellrowborder" width="20%">quantValue</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">范围的量化值。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="scannerparameter" device-type="phone,2in1,tablet">ScannerParameter<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scannerparameter" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义扫描仪参数的接口。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>属性：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.1" width="20%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.2" width="20%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.3" width="20%"><strong>只读</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.4" width="20%"><strong>可选</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.5" width="20%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">optionName</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">选项名称。</td> </tr> <tr><td class="cellrowborder" width="20%">optionIndex</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">选项索引。</td> </tr> <tr><td class="cellrowborder" width="20%">optionTitle</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">选项标题。</td> </tr> <tr><td class="cellrowborder" width="20%">optionDesc</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">选项描述。</td> </tr> <tr><td class="cellrowborder" width="20%">optionType</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#optionvaluetype">OptionValueType</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">选项值类型。</td> </tr> <tr><td class="cellrowborder" width="20%">optionUnit</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#physicalunit">PhysicalUnit</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">选项物理单位。</td> </tr> <tr><td class="cellrowborder" width="20%">optionConstraintType</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#constrainttype">ConstraintType</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">选项约束类型。</td> </tr> <tr><td class="cellrowborder" width="20%">optionConstraintString</td> <td class="cellrowborder" width="20%">string[]</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">选项字符串约束。</td> </tr> <tr><td class="cellrowborder" width="20%">optionConstraintInt</td> <td class="cellrowborder" width="20%">number[]</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">选项整数约束。</td> </tr> <tr><td class="cellrowborder" width="20%">optionConstraintRange</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#range">Range</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">选项范围约束。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="scanneroptionvalue" device-type="phone,2in1,tablet">ScannerOptionValue<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanneroptionvalue" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义扫描仪选项值的接口。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>属性：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.1" width="20%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.2" width="20%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.3" width="20%"><strong>只读</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.4" width="20%"><strong>可选</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.5" width="20%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">valueType</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#optionvaluetype">OptionValueType</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">值类型。</td> </tr> <tr><td class="cellrowborder" width="20%">numValue</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">数值。</td> </tr> <tr><td class="cellrowborder" width="20%">strValue</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">字符串值。</td> </tr> <tr><td class="cellrowborder" width="20%">boolValue</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">布尔值。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="picturescanprogress" device-type="phone,2in1,tablet">PictureScanProgress<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="picturescanprogress" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义图片扫描进度的接口。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>属性：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.1" width="20%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.2" width="20%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.3" width="20%"><strong>只读</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.4" width="20%"><strong>可选</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.5" width="20%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">progress</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">当前进度百分比，范围从0~100。</td> </tr> <tr><td class="cellrowborder" width="20%">pictureFd</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">扫描图片的文件描述符。</td> </tr> <tr><td class="cellrowborder" width="20%">isFinal</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是否是本次扫描的最后一张图片。true表示是最后一张图片，false表示不是最后一张图片。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="scannerdevice" device-type="phone,2in1,tablet">ScannerDevice<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scannerdevice" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义扫描仪设备的接口。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>属性：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.1" width="20%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.2" width="20%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.3" width="20%"><strong>只读</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.4" width="20%"><strong>可选</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.5" width="20%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">scannerId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">扫描仪的唯一标识符。</td> </tr> <tr><td class="cellrowborder" width="20%">discoveryMode</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#scannerdiscoverymode">ScannerDiscoveryMode</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">扫描仪的发现模式。</td> </tr> <tr><td class="cellrowborder" width="20%">uniqueId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">扫描仪的唯一ID。</td> </tr> <tr><td class="cellrowborder" width="20%">manufacturer</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">扫描仪的制造商。</td> </tr> <tr><td class="cellrowborder" width="20%">model</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">扫描仪的型号。</td> </tr> <tr><td class="cellrowborder" width="20%">deviceName</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">扫描仪的设备名称。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="scannersyncdevice" device-type="phone,2in1,tablet">ScannerSyncDevice<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scannersyncdevice" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>定义扫描仪同步设备的接口。</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>属性：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.1" width="20%"><strong>名称</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.2" width="20%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.3" width="20%"><strong>只读</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.4" width="20%"><strong>可选</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.5" width="20%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">scannerId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">扫描仪ID。</td> </tr> <tr><td class="cellrowborder" width="20%">discoveryMode</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#scannerdiscoverymode">ScannerDiscoveryMode</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">发现模式。</td> </tr> <tr><td class="cellrowborder" width="20%">uniqueId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">唯一ID。</td> </tr> <tr><td class="cellrowborder" width="20%">syncMode</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#scannersyncmode">ScannerSyncMode</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">同步模式。</td> </tr> <tr><td class="cellrowborder" width="20%">oldScannerId</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">旧的扫描仪ID，仅在syncMode为"update"时有效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="scaninit" device-type="phone,2in1,tablet">scan.init<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scaninit" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>init(): Promise&lt;void&gt;</p> <p>初始化扫描服务。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>scan.<span class="hljs-title function_">init</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'scan init success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'scan init failed: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scanexit" device-type="phone,2in1,tablet">scan.exit<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanexit" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>exit(): Promise&lt;void&gt;</p> <p>退出扫描服务。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>scan.<span class="hljs-title function_">exit</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'scan exit success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'scan exit failed: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scanstartscannerdiscovery" device-type="phone,2in1,tablet">scan.startScannerDiscovery<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanstartscannerdiscovery" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>startScannerDiscovery(): Promise&lt;void&gt;</p> <p>开始发现扫描仪。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>scan.<span class="hljs-title function_">startScannerDiscovery</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'start scanner discovery success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'start scanner discovery failed: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scanopenscanner" device-type="phone,2in1,tablet">scan.openScanner<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanopenscanner" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>openScanner(scannerId: string): Promise&lt;void&gt;</p> <p>打开扫描仪。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">scannerId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要打开的扫描仪的ID。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.11.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.19.11.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">scannerId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'scanner_001'</span>;</li><li>scan.<span class="hljs-title function_">openScanner</span>(scannerId).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'open scanner success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'open scanner failed: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scanclosescanner" device-type="phone,2in1,tablet">scan.closeScanner<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanclosescanner" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>closeScanner(scannerId: string): Promise&lt;void&gt;</p> <p>关闭扫描仪。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">scannerId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要关闭的扫描仪的ID。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">scannerId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'scanner_001'</span>;</li><li>scan.<span class="hljs-title function_">closeScanner</span>(scannerId).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'close scanner success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'close scanner failed: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scangetscannerparameter" device-type="phone,2in1,tablet">scan.getScannerParameter<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scangetscannerparameter" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getScannerParameter(scannerId: string): Promise&lt;ScannerParameter[]&gt;</p> <p>获取扫描仪参数。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">scannerId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">扫描仪的ID。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#scannerparameter">ScannerParameter</a>[]&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回扫描仪参数数组。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">scannerId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'scanner_001'</span>;</li><li>scan.<span class="hljs-title function_">getScannerParameter</span>(scannerId).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">parameters: scan.ScannerParameter[]</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'get scanner parameters success: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(parameters));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'get scanner parameters failed: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scansetscannerparameter" device-type="phone,2in1,tablet">scan.setScannerParameter<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scansetscannerparameter" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>setScannerParameter(scannerId: string, optionIndex: number, value: ScannerOptionValue): Promise&lt;void&gt;</p> <p>设置扫描仪参数。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">scannerId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">扫描仪的ID。</td> </tr> <tr><td class="cellrowborder" width="25%">optionIndex</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要设置的选项的索引。</td> </tr> <tr><td class="cellrowborder" width="25%">value</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#scanneroptionvalue">ScannerOptionValue</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要设置的值。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">scannerId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'scanner_001'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">optionIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">value</span>: scan.<span class="hljs-property">ScannerOptionValue</span> = {</li><li>    <span class="hljs-attr">valueType</span>: scan.<span class="hljs-property">OptionValueType</span>.<span class="hljs-property">SCAN_TYPE_INT</span>,</li><li>    <span class="hljs-attr">numValue</span>: <span class="hljs-number">100</span></li><li>};</li><li>scan.<span class="hljs-title function_">setScannerParameter</span>(scannerId, optionIndex, value).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'set scanner parameter success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'set scanner parameter failed: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scansetscanautooption" device-type="phone,2in1,tablet">scan.setScanAutoOption<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scansetscanautooption" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>setScanAutoOption(scannerId: string, optionIndex: number): Promise&lt;void&gt;</p> <p>设置扫描选项为自动模式。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">scannerId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">扫描仪的ID。</td> </tr> <tr><td class="cellrowborder" width="25%">optionIndex</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要设置为自动的选项的索引。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.11.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.23.11.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">scannerId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'scanner_001'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">optionIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>scan.<span class="hljs-title function_">setScanAutoOption</span>(scannerId, optionIndex).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'set scan auto option success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'set scan auto option failed: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scangetscannercurrentsetting" device-type="phone,2in1,tablet">scan.getScannerCurrentSetting<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scangetscannercurrentsetting" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getScannerCurrentSetting(scannerId: string, optionIndex: number): Promise&lt;ScannerOptionValue&gt;</p> <p>获取当前扫描仪设置。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">scannerId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">扫描仪的ID。</td> </tr> <tr><td class="cellrowborder" width="25%">optionIndex</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要获取的选项的索引。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#scanneroptionvalue">ScannerOptionValue</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回扫描仪选项值。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">scannerId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'scanner_001'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">optionIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>scan.<span class="hljs-title function_">getScannerCurrentSetting</span>(scannerId, optionIndex).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value: scan.ScannerOptionValue</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'get scanner current setting success: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'get scanner current setting failed: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scanstartscan" device-type="phone,2in1,tablet">scan.startScan<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanstartscan" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>startScan(scannerId: string, batchMode: boolean): Promise&lt;void&gt;</p> <p>开始扫描。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">scannerId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">扫描仪的ID。</td> </tr> <tr><td class="cellrowborder" width="25%">batchMode</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">是否使用批处理模式。true表示使用批处理模式，false表示不使用批处理模式。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.11.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.25.11.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">scannerId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'scanner_001'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">batchMode</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>scan.<span class="hljs-title function_">startScan</span>(scannerId, batchMode).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'start scan success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'start scan failed: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scancancelscan" device-type="phone,2in1,tablet">scan.cancelScan<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scancancelscan" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>cancelScan(scannerId: string): Promise&lt;void&gt;</p> <p>取消扫描。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">scannerId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">扫描仪的ID。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">scannerId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'scanner_001'</span>;</li><li>scan.<span class="hljs-title function_">cancelScan</span>(scannerId).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'cancel scan success'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'cancel scan failed: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scangetpicturescanprogress" device-type="phone,2in1,tablet">scan.getPictureScanProgress<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scangetpicturescanprogress" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getPictureScanProgress(scannerId: string): Promise&lt;PictureScanProgress&gt;</p> <p>获取图片扫描进度。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">scannerId</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">扫描仪的ID。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.1" width="50%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.2" width="50%"><strong>说明</strong></th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#picturescanprogress">PictureScanProgress</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回图片扫描进度信息。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.11.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.27.11.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">scannerId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'scanner_001'</span>;</li><li>scan.<span class="hljs-title function_">getPictureScanProgress</span>(scannerId).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">progress: scan.PictureScanProgress</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'get picture scan progress success: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(progress));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'get picture scan progress failed: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scanon" device-type="phone,2in1,tablet">scan.on<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanon" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>on(type: 'scanDeviceFound', callback: Callback&lt;ScannerDevice&gt;): void</p> <p>注册扫描仪设备发现事件回调。使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">'scanDeviceFound'</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">事件类型。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#scannerdevice">ScannerDevice</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回扫描仪设备发现信息。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>scan.<span class="hljs-title function_">on</span>(<span class="hljs-string">'scanDeviceFound'</span>, <span class="hljs-function">(<span class="hljs-params">device: scan.ScannerDevice</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'scan device found: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(device));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scanoff" device-type="phone,2in1,tablet">scan.off<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanoff" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>off(type: 'scanDeviceFound', callback?: Callback&lt;ScannerDevice&gt;): void</p> <p>取消注册扫描仪设备发现事件回调。使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.PRINT</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">'scanDeviceFound'</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">事件类型。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#scannerdevice">ScannerDevice</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数，返回扫描仪设备发现信息。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">device: scan.ScannerDevice</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'scan device found: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(device));</li><li>};</li><li>scan.<span class="hljs-title function_">on</span>(<span class="hljs-string">'scanDeviceFound'</span>, callback);</li><li><span class="hljs-comment">// 取消注册</span></li><li>scan.<span class="hljs-title function_">off</span>(<span class="hljs-string">'scanDeviceFound'</span>, callback);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scanon-1" device-type="phone,2in1,tablet">scan.on<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanon-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>on(type: 'scanDeviceSync', callback: Callback&lt;ScannerSyncDevice&gt;): void</p> <p>注册扫描仪设备同步事件回调。使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.MANAGE_PRINT_JOB</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">'scanDeviceSync'</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">事件类型。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#scannersyncdevice">ScannerSyncDevice</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回扫描仪设备同步信息。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>scan.<span class="hljs-title function_">on</span>(<span class="hljs-string">'scanDeviceSync'</span>, <span class="hljs-function">(<span class="hljs-params">device: scan.ScannerSyncDevice</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'scan device sync: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(device));</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="scanoff-1" device-type="phone,2in1,tablet">scan.off<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scanoff-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>off(type: 'scanDeviceSync', callback?: Callback&lt;ScannerSyncDevice&gt;): void</p> <p>取消注册扫描仪设备同步事件回调。使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.MANAGE_PRINT_JOB</p> <p><strong>系统能力：</strong> SystemCapability.Print.PrintFramework</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.1" width="25%"><strong>参数名</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.2" width="25%"><strong>类型</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.3" width="25%"><strong>必填</strong></th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.4" width="25%"><strong>说明</strong></th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">'scanDeviceSync'</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">事件类型。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-scan#scannersyncdevice">ScannerSyncDevice</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数，返回扫描仪设备同步信息。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">201</td> <td class="cellrowborder" width="50%">Permission denied.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-psj-c106="" class="highlight-div"><div _ngcontent-psj-c106="" class="highlight-div-header"><div _ngcontent-psj-c106="" class="highlight-div-header-left"><div _ngcontent-psj-c106="" class="handle-button expand-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psj-c106="" class="highlight-div-header-right"><div _ngcontent-psj-c106="" class="handle-button ai-button"></div><div _ngcontent-psj-c106="" class="handle-button line-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psj-c106="" class="handle-button theme-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psj-c106="" class="handle-button copy-button"><div _ngcontent-psj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { scan } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">device: scan.ScannerSyncDevice</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'scan device sync: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(device));</li><li>};</li><li>scan.<span class="hljs-title function_">on</span>(<span class="hljs-string">'scanDeviceSync'</span>, callback);</li><li><span class="hljs-comment">// 取消注册</span></li><li>scan.<span class="hljs-title function_">off</span>(<span class="hljs-string">'scanDeviceSync'</span>, callback);</li></ol></pre></div></div> </div> </div> <div></div></div>