<h1 _ngcontent-euy-c119="" class="doc-title ng-star-inserted" title="@ohos.security.cryptoFramework (加解密算法库框架)"> @ohos.security.cryptoFramework (加解密算法库框架) </h1>

<div _ngcontent-euy-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>提供统一的密码算法库加解密接口，以屏蔽底层硬件和算法库。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>本模块首批接口从API version 9开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</li>      </ul>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 846px;">     <h2 id="result" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">Result<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="result" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>表示执行结果的枚举。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">INVALID_PARAMS</td>         <td class="cellrowborder" width="33.33333333333333%">401</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>非法入参。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NOT_SUPPORT</td>         <td class="cellrowborder" width="33.33333333333333%">801</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>操作不支持。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ERR_OUT_OF_MEMORY</td>         <td class="cellrowborder" width="33.33333333333333%">17620001</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>内存错误。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ERR_RUNTIME_ERROR</td>         <td class="cellrowborder" width="33.33333333333333%">17620002</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>运行时外部错误。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ERR_PARAMETER_CHECK_FAILED<sup>20+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">17620003</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>表示参数检查失败。</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ERR_CRYPTO_OPERATION</td>         <td class="cellrowborder" width="33.33333333333333%">17630001</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>调用三方算法库API出错。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 473px;">     <h2 id="datablob" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">DataBlob<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="datablob" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>buffer数组，提供blob数据类型。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">data</td>         <td class="cellrowborder" width="20%">Uint8Array</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">数据。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>Uint8Array类型数据表示8位无符号整数的数组。</p>      </div></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 905px;">     <h2 id="paramsspec" device-type="phone,2in1,tablet,wearable,tv">ParamsSpec<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="paramsspec" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>加解密参数，在进行对称加解密时需要构造其子类对象，并将子类对象传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>方法。</p>     <p>适用于需要iv等参数的对称加解密模式（对于无iv等参数的模式如ECB模式，无需构造，在<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>中传入null即可）。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>指明对称加解密参数的算法模式。可选值如下：</p>          <p>- "IvParamsSpec"：适用于CBC|CTR|OFB|CFB模式。</p>          <p>- "GcmParamsSpec"：适用于GCM模式。</p>          <p>- "CcmParamsSpec"：适用于CCM模式。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>由于<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>的params参数是ParamsSpec类型（父类），而实际需要传入具体的子类对象（如IvParamsSpec），因此在构造子类对象时应设置其父类ParamsSpec的algName参数，使算法库在init()时知道传入的是哪种子类对象。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 833px;">     <h2 id="ivparamsspec" device-type="phone,2in1,tablet,wearable,tv">IvParamsSpec<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ivparamsspec" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>加解密参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#paramsspec">ParamsSpec</a>的子类，用于在对称加解密时作为<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>方法的参数。</p>     <p>适用于CBC、CTR、OFB、CFB这些需要iv作为参数的加解密模式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">iv</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>指明加解密参数iv。常见取值如下：</p>          <p>- AES的CBC|CTR|OFB|CFB模式：iv长度为16字节。</p>          <p>- 3DES的CBC|OFB|CFB模式：iv长度为8字节。</p>          <p>- SM4<sup>10+</sup>的CBC|CTR|OFB|CFB模式：iv长度为16字节。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>方法前需要指定其algName属性（来源于父类<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#paramsspec">ParamsSpec</a>）。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1131px;">     <h2 id="gcmparamsspec" device-type="phone,2in1,tablet,wearable,tv">GcmParamsSpec<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gcmparamsspec" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>加解密参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#paramsspec">ParamsSpec</a>的子类，用于在对称加解密时作为<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>方法的参数。</p>     <p>适用于GCM模式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">iv</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指明加解密参数iv，长度为1~16字节，常用为12字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">aad</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指明加解密参数aad，长度为0~INT_MAX字节，常用为16字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">authTag</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>指明加解密参数authTag，长度为16字节。</p>          <p>采用GCM模式加密时，需从<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dofinal">doFinal()</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dofinalsync12">doFinalSync()</a>输出的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>中提取末尾16字节，作为<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#initsync12">initSync()</a>方法中GcmParamsSpec的authTag。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ol>        <li>传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>方法前需要指定其algName属性（来源于父类<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#paramsspec">ParamsSpec</a>）。</li>        <li>对于1~16字节长度的iv，加解密算法库无额外限制，但结果取决于底层openssl的支持情况。</li>        <li>当aad参数不需要使用或aad长度为0时，可以将aad的data属性设置为一个空的Uint8Array，来构造GcmParamsSpec，写法为aad: { data: new Uint8Array() }。</li>       </ol>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 971px;">     <h2 id="ccmparamsspec" device-type="phone,2in1,tablet,wearable,tv">CcmParamsSpec<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ccmparamsspec" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>加解密参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#paramsspec">ParamsSpec</a>的子类，用于在对称加解密时作为<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>方法的参数。</p>     <p>适用于CCM模式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">iv</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指明加解密参数iv，长度为7字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">aad</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指明加解密参数aad，长度为8字节。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">authTag</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>指定加解密参数authTag，长度为12字节。</p>          <p>在CCM模式加密时，需从<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dofinal">doFinal()</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dofinalsync12">doFinalSync()</a>输出的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>末尾提取12字节，作为<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#initsync12">initSync()</a>方法的参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#ccmparamsspec">CcmParamsSpec</a>中的authTag。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>方法前需要指定其algName属性（来源于父类<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#paramsspec">ParamsSpec</a>）。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 498px;">     <h2 id="cryptomode" device-type="phone,2in1,tablet,wearable,tv">CryptoMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cryptomode" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示加解密操作的枚举。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">ENCRYPT_MODE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">表示进行加密操作。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DECRYPT_MODE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示进行解密操作。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1974px;">     <h2 id="asykeyspecitem10" device-type="phone,2in1,tablet,wearable,tv">AsyKeySpecItem<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="asykeyspecitem10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示密钥参数的枚举。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">DSA_P_BN</td>         <td class="cellrowborder" width="33.33333333333333%">101</td>         <td class="cellrowborder" width="33.33333333333333%">DSA算法的素模数p。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DSA_Q_BN</td>         <td class="cellrowborder" width="33.33333333333333%">102</td>         <td class="cellrowborder" width="33.33333333333333%">DSA算法中密钥参数q（p-1的素因子）。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DSA_G_BN</td>         <td class="cellrowborder" width="33.33333333333333%">103</td>         <td class="cellrowborder" width="33.33333333333333%">DSA算法的参数g。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DSA_SK_BN</td>         <td class="cellrowborder" width="33.33333333333333%">104</td>         <td class="cellrowborder" width="33.33333333333333%">DSA算法的私钥sk。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DSA_PK_BN</td>         <td class="cellrowborder" width="33.33333333333333%">105</td>         <td class="cellrowborder" width="33.33333333333333%">DSA算法的公钥pk。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ECC_FP_P_BN</td>         <td class="cellrowborder" width="33.33333333333333%">201</td>         <td class="cellrowborder" width="33.33333333333333%">ECC算法中表示椭圆曲线Fp域的素数p。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ECC_A_BN</td>         <td class="cellrowborder" width="33.33333333333333%">202</td>         <td class="cellrowborder" width="33.33333333333333%">ECC算法中椭圆曲线的第一个系数a。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ECC_B_BN</td>         <td class="cellrowborder" width="33.33333333333333%">203</td>         <td class="cellrowborder" width="33.33333333333333%">ECC算法中椭圆曲线的第二个系数b。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ECC_G_X_BN</td>         <td class="cellrowborder" width="33.33333333333333%">204</td>         <td class="cellrowborder" width="33.33333333333333%">ECC算法中基点g的x坐标。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ECC_G_Y_BN</td>         <td class="cellrowborder" width="33.33333333333333%">205</td>         <td class="cellrowborder" width="33.33333333333333%">ECC算法中基点g的y坐标。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ECC_N_BN</td>         <td class="cellrowborder" width="33.33333333333333%">206</td>         <td class="cellrowborder" width="33.33333333333333%">ECC算法中基点g的阶n。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ECC_H_NUM</td>         <td class="cellrowborder" width="33.33333333333333%">207</td>         <td class="cellrowborder" width="33.33333333333333%">ECC算法中的余因子h。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ECC_SK_BN</td>         <td class="cellrowborder" width="33.33333333333333%">208</td>         <td class="cellrowborder" width="33.33333333333333%">ECC算法中的私钥sk。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ECC_PK_X_BN</td>         <td class="cellrowborder" width="33.33333333333333%">209</td>         <td class="cellrowborder" width="33.33333333333333%">ECC算法中，公钥pk（椭圆曲线上的一个点）的x坐标。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ECC_PK_Y_BN</td>         <td class="cellrowborder" width="33.33333333333333%">210</td>         <td class="cellrowborder" width="33.33333333333333%">ECC算法中，公钥pk（椭圆曲线上的一个点）的y坐标。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ECC_FIELD_TYPE_STR</td>         <td class="cellrowborder" width="33.33333333333333%">211</td>         <td class="cellrowborder" width="33.33333333333333%">ECC算法中，椭圆曲线的域类型（当前只支持Fp域）。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ECC_FIELD_SIZE_NUM</td>         <td class="cellrowborder" width="33.33333333333333%">212</td>         <td class="cellrowborder" width="33.33333333333333%">ECC算法中域的大小，单位为bits（注：对于Fp域，域的大小为素数p的bits长度）。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ECC_CURVE_NAME_STR</td>         <td class="cellrowborder" width="33.33333333333333%">213</td>         <td class="cellrowborder" width="33.33333333333333%">ECC算法中的SECG(Standards for Efficient Cryptography Group)曲线名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">RSA_N_BN</td>         <td class="cellrowborder" width="33.33333333333333%">301</td>         <td class="cellrowborder" width="33.33333333333333%">RSA算法中的模数n。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">RSA_SK_BN</td>         <td class="cellrowborder" width="33.33333333333333%">302</td>         <td class="cellrowborder" width="33.33333333333333%">RSA算法中的私钥sk（即私钥指数d）。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">RSA_PK_BN</td>         <td class="cellrowborder" width="33.33333333333333%">303</td>         <td class="cellrowborder" width="33.33333333333333%">RSA算法中的公钥pk（即公钥指数e）。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DH_P_BN<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">401</td>         <td class="cellrowborder" width="33.33333333333333%">DH算法中的素数p。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DH_G_BN<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">402</td>         <td class="cellrowborder" width="33.33333333333333%">DH算法中的参数g。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DH_L_NUM<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">403</td>         <td class="cellrowborder" width="33.33333333333333%">DH算法中私钥长度，单位为bit。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DH_SK_BN<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">404</td>         <td class="cellrowborder" width="33.33333333333333%">DH算法中的私钥sk。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DH_PK_BN<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">405</td>         <td class="cellrowborder" width="33.33333333333333%">DH算法中的公钥pk。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ED25519_SK_BN<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">501</td>         <td class="cellrowborder" width="33.33333333333333%">Ed25519算法中的私钥sk。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ED25519_PK_BN<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">502</td>         <td class="cellrowborder" width="33.33333333333333%">Ed25519算法中的公钥pk。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">X25519_SK_BN<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">601</td>         <td class="cellrowborder" width="33.33333333333333%">X25519算法中的私钥sk。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">X25519_PK_BN<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">602</td>         <td class="cellrowborder" width="33.33333333333333%">X25519算法中的公钥pk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 780px;">     <h2 id="asykeyspectype10" device-type="phone,2in1,tablet,wearable,tv">AsyKeySpecType<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="asykeyspectype10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示密钥参数类型的枚举。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">COMMON_PARAMS_SPEC</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">表示公私钥中包含的公共参数。使用此类型的参数可以调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#generatekeypair10">generateKeyPair</a>随机生成密钥对。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PRIVATE_KEY_SPEC</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示私钥中包含的参数。使用此类型的参数可以调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#generateprikey10">generatePriKey</a>生成指定的私钥。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PUBLIC_KEY_SPEC</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">表示公钥中包含的参数。使用此类型的参数可以调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#generatepubkey10">generatePubKey</a>生成指定的公钥。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">KEY_PAIR_SPEC</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">表示公私钥中包含的全量参数。使用此类型的参数可以调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#generatekeypair10">generateKeyPair</a>生成指定的密钥对。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 825px;">     <h2 id="cipherspecitem10" device-type="phone,2in1,tablet,wearable,tv">CipherSpecItem<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cipherspecitem10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示加解密参数的枚举。这些参数支持通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#setcipherspec10">setCipherSpec</a>接口设置，通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#getcipherspec10">getCipherSpec</a>接口获取。</p>     <p>当前只支持RSA算法和SM2算法，从API version 11开始，增加对SM2_MD_NAME_STR参数的支持，详细规格请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-asym-encrypt-decrypt-spec" target="_blank">加解密规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 10-11 系统能力为 SystemCapability.Security.CryptoFramework；从 API version 12 开始为SystemCapability.Security.CryptoFramework.Cipher</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">OAEP_MD_NAME_STR</td>         <td class="cellrowborder" width="33.33333333333333%">100</td>         <td class="cellrowborder" width="33.33333333333333%">表示RSA算法中，使用PKCS1_OAEP模式时，消息摘要功能的算法名。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">OAEP_MGF_NAME_STR</td>         <td class="cellrowborder" width="33.33333333333333%">101</td>         <td class="cellrowborder" width="33.33333333333333%">表示RSA算法中，使用PKCS1_OAEP模式时，掩码生成算法（目前仅支持MGF1）。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">OAEP_MGF1_MD_STR</td>         <td class="cellrowborder" width="33.33333333333333%">102</td>         <td class="cellrowborder" width="33.33333333333333%">表示RSA算法中，使用PKCS1_OAEP模式时，MGF1掩码生成功能的消息摘要算法。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">OAEP_MGF1_PSRC_UINT8ARR</td>         <td class="cellrowborder" width="33.33333333333333%">103</td>         <td class="cellrowborder" width="33.33333333333333%">表示RSA算法中，使用PKCS1_OAEP模式时，pSource的字节流。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SM2_MD_NAME_STR<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">104</td>         <td class="cellrowborder" width="33.33333333333333%">表示SM2算法中，使用的摘要算法名。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 894px;">     <h2 id="signspecitem10" device-type="phone,2in1,tablet,wearable,tv">SignSpecItem<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="signspecitem10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示签名验签参数的枚举。这些参数支持通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#setsignspec10">setSignSpec</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#setverifyspec10">setVerifySpec</a>接口设置，通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#getsignspec10">getSignSpec</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#getverifyspec10">getVerifySpec</a>接口获取。</p>     <p>当前只支持RSA算法和SM2算法，从API version 11开始，增加对SM2_USER_ID_UINT8ARR参数的支持，详细规格请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-sign-sig-verify-overview" target="_blank">签名验签规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 10-11 系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为 SystemCapability.Security.CryptoFramework.Signature。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">PSS_MD_NAME_STR</td>         <td class="cellrowborder" width="33.33333333333333%">100</td>         <td class="cellrowborder" width="33.33333333333333%">表示RSA算法中，使用PSS模式时，消息摘要功能的算法名。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PSS_MGF_NAME_STR</td>         <td class="cellrowborder" width="33.33333333333333%">101</td>         <td class="cellrowborder" width="33.33333333333333%">表示RSA算法中，使用PSS模式时，掩码生成算法（目前仅支持MGF1）。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PSS_MGF1_MD_STR</td>         <td class="cellrowborder" width="33.33333333333333%">102</td>         <td class="cellrowborder" width="33.33333333333333%">表示RSA算法中，使用PSS模式时，MGF1掩码生成功能的消息摘要参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PSS_SALT_LEN_NUM</td>         <td class="cellrowborder" width="33.33333333333333%">103</td>         <td class="cellrowborder" width="33.33333333333333%">表示RSA算法中，使用PSS模式时，盐值的长度，长度以字节为单位。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PSS_TRAILER_FIELD_NUM</td>         <td class="cellrowborder" width="33.33333333333333%">104</td>         <td class="cellrowborder" width="33.33333333333333%">表示RSA算法中，使用PSS模式时，用于编码操作的整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SM2_USER_ID_UINT8ARR<sup>11+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">105</td>         <td class="cellrowborder" width="33.33333333333333%">表示SM2算法中，用户身份标识字段。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 714px;">     <h2 id="asykeyspec10" device-type="phone,2in1,tablet,wearable,tv">AsyKeySpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="asykeyspec10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>指定非对称密钥参数的基本接口，用于创建密钥生成器。在指定非对称密钥参数时需要构造其子类对象，并将子类对象传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。构造子类对象时，除了RSA密钥采用小端写法外，其他bigint类型的密钥参数均采用大端写法，并使用正数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version10-11系统能力为SystemCapability.Security.CryptoFramework；从API version12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定非对称密钥的算法名称，比如"RSA"、"DSA"、"ECC"、"SM2"、"Ed25519"、"X25519"、"DH"。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">specType</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">AsyKeySpecType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定密钥参数类型，用于区分公/私钥参数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 687px;">     <h2 id="dsacommonparamsspec10" device-type="phone,2in1,tablet,wearable,tv">DSACommonParamsSpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dsacommonparamsspec10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定DSA算法中公私钥包含的公共参数，随机生成公/私钥。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version10-11系统能力为SystemCapability.Security.CryptoFramework；从API version12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">p</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DSA算法的素模数p。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">q</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DSA算法中密钥参数q（p-1的素因子）。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">g</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DSA算法的参数g。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 594px;">     <h2 id="dsapubkeyspec10" device-type="phone,2in1,tablet,wearable,tv">DSAPubKeySpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dsapubkeyspec10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定DSA算法中公钥包含的参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version10-11系统能力为SystemCapability.Security.CryptoFramework；从API version12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">params</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dsacommonparamsspec10">DSACommonParamsSpec</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DSA算法中公私钥包含的公共参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DSA算法的公钥值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 687px;">     <h2 id="dsakeypairspec10" device-type="phone,2in1,tablet,wearable,tv">DSAKeyPairSpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dsakeypairspec10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定DSA算法中公私钥包含的全量参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">params</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dsacommonparamsspec10">DSACommonParamsSpec</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DSA算法中公私钥都包含的公共参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DSA算法的私钥值sk。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DSA算法的公钥值pk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 477px;">     <h2 id="ecfield10" device-type="phone,2in1,tablet,wearable,tv">ECField<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ecfield10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>指定椭圆曲线的域类型。当前只支持Fp域。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">fieldType</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定椭圆曲线域的类型，当前只支持"Fp"。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 453px;">     <h2 id="ecfieldfp10" device-type="phone,2in1,tablet,wearable,tv">ECFieldFp<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ecfieldfp10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>指定椭圆曲线的素数域。是<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#ecfield10">ECField</a>的子类。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework。从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">p</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定素数p的值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 546px;">     <h2 id="point10" device-type="phone,2in1,tablet,wearable,tv">Point<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="point10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>指定椭圆曲线上的一个点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">x</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定椭圆曲线上点的x坐标。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">y</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定椭圆曲线上点的y坐标。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 822px;">     <h2 id="ecccommonparamsspec10" device-type="phone,2in1,tablet,wearable,tv">ECCCommonParamsSpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ecccommonparamsspec10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定ECC算法中公私钥包含的公共参数，随机生成公/私钥。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">field</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#ecfield10">ECField</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定椭圆曲线的域（当前只支持Fp域）。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">a</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定椭圆曲线的第一个系数a。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">b</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定椭圆曲线的第二个系数b。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">g</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#point10">Point</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定基点g。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">n</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定基点g的阶数n。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">h</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定余因子h。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 594px;">     <h2 id="eccprikeyspec10" device-type="phone,2in1,tablet,wearable,tv">ECCPriKeySpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="eccprikeyspec10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定ECC算法中私钥包含的参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">params</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#ecccommonparamsspec10">ECCCommonParamsSpec</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定ECC算法中公私钥都包含的公共参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定ECC算法的私钥sk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 594px;">     <h2 id="eccpubkeyspec10" device-type="phone,2in1,tablet,wearable,tv">ECCPubKeySpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="eccpubkeyspec10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定ECC算法中公钥包含的参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">params</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#ecccommonparamsspec10">ECCCommonParamsSpec</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定ECC算法中公私钥都包含的公共参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pk</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#point10">Point</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定ECC算法的公钥pk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 663px;">     <h2 id="ecckeypairspec10" device-type="phone,2in1,tablet,wearable,tv">ECCKeyPairSpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ecckeypairspec10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定ECC算法中公私钥包含的全量参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">params</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#ecccommonparamsspec10">ECCCommonParamsSpec</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定ECC算法中公私钥都包含的公共参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定ECC算法的私钥sk。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pk</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#point10">Point</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定ECC算法的公钥pk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 501px;">     <h2 id="rsacommonparamsspec10" device-type="phone,2in1,tablet,wearable,tv">RSACommonParamsSpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rsacommonparamsspec10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定RSA算法中公私钥包含的公共参数，随机生成公/私钥。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">n</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定模数n。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 594px;">     <h2 id="rsapubkeyspec10" device-type="phone,2in1,tablet,wearable,tv">RSAPubKeySpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rsapubkeyspec10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定RSA算法中公钥包含的参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">params</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#rsacommonparamsspec10">RSACommonParamsSpec</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定RSA算法中公私钥都包含的公共参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定RSA算法的公钥pk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 663px;">     <h2 id="rsakeypairspec10" device-type="phone,2in1,tablet,wearable,tv">RSAKeyPairSpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rsakeypairspec10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定RSA算法中公私钥包含的全量参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">params</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#rsacommonparamsspec10">RSACommonParamsSpec</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定RSA算法中公私钥都包含的公共参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定RSA算法的私钥sk。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定RSA算法的公钥pk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 525px;">     <h2 id="ed25519prikeyspec11" device-type="phone,2in1,tablet,wearable,tv">ED25519PriKeySpec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ed25519prikeyspec11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定Ed25519算法中私钥包含的参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">sk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定Ed25519算法的私钥sk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 525px;">     <h2 id="ed25519pubkeyspec11" device-type="phone,2in1,tablet,wearable,tv">ED25519PubKeySpec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ed25519pubkeyspec11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定Ed25519算法中公钥包含的参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">pk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定Ed25519算法的公钥pk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 594px;">     <h2 id="ed25519keypairspec11" device-type="phone,2in1,tablet,wearable,tv">ED25519KeyPairSpec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ed25519keypairspec11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定Ed25519算法中公私钥包含的全量参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">sk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定Ed25519算法的私钥sk。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定Ed25519算法的公钥pk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 525px;">     <h2 id="x25519prikeyspec11" device-type="phone,2in1,tablet,wearable,tv">X25519PriKeySpec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="x25519prikeyspec11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定X25519算法中私钥包含的参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">sk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定X25519算法的私钥sk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 525px;">     <h2 id="x25519pubkeyspec11" device-type="phone,2in1,tablet,wearable,tv">X25519PubKeySpec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="x25519pubkeyspec11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定X25519算法中公钥包含的参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">pk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定X25519算法的公钥pk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 594px;">     <h2 id="x25519keypairspec11" device-type="phone,2in1,tablet,wearable,tv">X25519KeyPairSpec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="x25519keypairspec11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定X25519算法中公私钥包含的全量参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">sk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定X25519算法的私钥sk。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定X25519算法的公钥pk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 663px;">     <h2 id="dhcommonparamsspec11" device-type="phone,2in1,tablet,wearable,tv">DHCommonParamsSpec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dhcommonparamsspec11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定DH算法中公私钥包含的参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">p</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DH算法中大素数p。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">g</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DH算法中参数g。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">l</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DH算法中私钥的长度，单位为bit。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 594px;">     <h2 id="dhprikeyspec11" device-type="phone,2in1,tablet,wearable,tv">DHPriKeySpec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dhprikeyspec11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定DH算法中私钥包含的参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">params</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dhcommonparamsspec11">DHCommonParamsSpec</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DH算法中公私钥都包含的公共参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DH算法的私钥sk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 594px;">     <h2 id="dhpubkeyspec11" device-type="phone,2in1,tablet,wearable,tv">DHPubKeySpec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dhpubkeyspec11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定DH算法中公钥包含的参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">params</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dhcommonparamsspec11">DHCommonParamsSpec</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DH算法中公私钥都包含的公共参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DH算法的公钥pk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 663px;">     <h2 id="dhkeypairspec11" device-type="phone,2in1,tablet,wearable,tv">DHKeyPairSpec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dhkeypairspec11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a>的子类，用于指定DH算法中公私钥包含的全量参数。</p>     <p>在使用密钥参数生成密钥时，将其传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法创建密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">params</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dhcommonparamsspec11">DHCommonParamsSpec</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DH算法中公私钥都包含的公共参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DH算法的私钥sk。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pk</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指定DH算法的公钥pk。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 501px;">     <h2 id="kdfspec11" device-type="phone,2in1,tablet,wearable,tv">KdfSpec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="kdfspec11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥派生函数参数，使用密钥派生函数进行密钥派生时，需要构建其子类对象并作为输入。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Kdf</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Kdf。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指明密钥派生函数的算法名，如"PBKDF2"。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 776px;">     <h2 id="pbkdf2spec11" device-type="phone,2in1,tablet,wearable,tv">PBKDF2Spec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pbkdf2spec11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥派生函数参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#kdfspec11">KdfSpec</a>的子类，作为PBKDF2密钥派生函数进行密钥派生时的输入。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Kdf</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Kdf。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">password</td>         <td class="cellrowborder" width="20%">string | Uint8Array</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用户输入的原始密码。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">salt</td>         <td class="cellrowborder" width="20%">Uint8Array</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">盐值。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">iterations</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">迭代次数，需要为正整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">keySize</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">派生得到的密钥字节长度。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>password 是原始密码。如果使用 string 类型，需直接传入用于密钥派生的数据，而不是 HexString 或 base64 等字符串类型，并确保该字符串为 UTF-8 编码，否则派生结果会有差异。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 704px;">     <h2 id="hkdfspec12" device-type="phone,2in1,tablet,wearable,tv">HKDFSpec<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hkdfspec12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥派生函数参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#kdfspec11">KdfSpec</a>的子类，作为HKDF密钥派生函数进行密钥派生时的输入。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Kdf</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">key</td>         <td class="cellrowborder" width="20%">string | Uint8Array</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">密钥材料。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">salt</td>         <td class="cellrowborder" width="20%">Uint8Array</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">盐值。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">info</td>         <td class="cellrowborder" width="20%">Uint8Array</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">拓展信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">keySize</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">派生得到的密钥字节长度。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>key指的是用户输入的最初的密钥材料。info与salt是可选参数，根据模式的不同可以传空，但是不可不传。</p>       <p>例如：EXTRACT_AND_EXPAND模式需要输入全部的值，EXTRACT_ONLY模式info可以为空，在构建HKDFspec的时候，info传入null值。</p>       <p>默认的模式为EXTRACT_AND_EXPAND，"HKDF|SHA256|EXTRACT_AND_EXPAND"等价于"HKDF|SHA256"。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 935px;">     <h2 id="scryptspec18" device-type="phone,2in1,tablet,wearable,tv">ScryptSpec<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scryptspec18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥派生函数参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#kdfspec11">KdfSpec</a>的子类，作为SCRYPT密钥派生函数进行密钥派生时的输入。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Kdf</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">passphrase</td>         <td class="cellrowborder" width="20%">string | Uint8Array</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用户输入的原始密码。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">salt</td>         <td class="cellrowborder" width="20%">Uint8Array</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">盐值。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">n</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">迭代次数，需要为正整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">p</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">并行化参数，需要为正整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">r</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">块大小参数，需要为正整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">maxMemory</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">最大内存限制参数，需要为正整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">keySize</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">派生得到的密钥字节长度，需要为正整数。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>passphrase指的是原始密码，如果使用string类型，需要直接传入用于密钥派生的数据，而不是HexString、base64等字符串类型，同时需要确保该字符串为utf-8编码，否则派生结果会有差异。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 728px;">     <h2 id="sm2ciphertextspec12" device-type="phone,2in1,tablet,wearable,tv">SM2CipherTextSpec<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sm2ciphertextspec12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>SM2密文参数，使用SM2密文格式转换函数进行格式转换时，需要用到此对象。可以通过指定此参数，生成符合国密标准的ASN.1格式的SM2密文，反之，也可以从ASN.1格式的SM2密文中获取具体参数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">xCoordinate</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">x分量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">yCoordinate</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">y分量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">cipherTextData</td>         <td class="cellrowborder" width="20%">Uint8Array</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">密文。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">hashData</td>         <td class="cellrowborder" width="20%">Uint8Array</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">杂凑值。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>hashData为使用SM3算法对明文数据运算得到的杂凑值，其长度固定为256位。</p></li>        <li>         <p>cipherTextData是与明文等长的密文。</p></li>        <li>         <p>在拼接生成C1C3C2格式的密文时，如果x分量（C1_X）或y分量（C1_Y）的长度不足32字节，需要在高位补0，使得x分量和y分量的长度均为32字节。</p></li>       </ul>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 582px;">     <h2 id="keyencodingconfig18" device-type="phone,2in1,tablet,wearable,tv">KeyEncodingConfig<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="keyencodingconfig18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>RSA私钥编码参数，使用获取私钥字符串时，可以添加此参数，生成指定算法、密码的编码后的私钥字符串。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">password</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">密码。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">cipherName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">算法名。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>password是必选参数，表示编码用到的密码。</p></li>        <li>         <p>cipherName是必选参数，可以指定编码用到的算法。当前仅支持AES-128-CBC、AES-192-CBC、AES-256-CBC、DES-EDE3-CBC。</p></li>       </ul>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 473px;">     <h2 id="macspec18" device-type="phone,2in1,tablet,wearable,tv">MacSpec<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="macspec18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>消息认证码参数，计算HMAC、CMAC消息认证码时，需要构建子类对象并作为输入参数。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">消息验证码算法名。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>algName是必选参数，表示消息验证码算法。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 473px;">     <h2 id="hmacspec18" device-type="phone,2in1,tablet,wearable,tv">HmacSpec<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hmacspec18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥派生函数参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#macspec18">MacSpec</a>的子类，作为HMAC消息验证码计算的输入。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">mdName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">摘要算法名。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>mdName是必选参数，表示HMAC摘要算法。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 473px;">     <h2 id="cmacspec18" device-type="phone,2in1,tablet,wearable,tv">CmacSpec<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cmacspec18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥派生函数参数<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#macspec18">MacSpec</a>的子类，作为CMAC消息验证码计算的输入。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">cipherName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">对称加密算法名。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>cipherName是必选参数，表示CMAC对称加密算法。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 518px;">     <h2 id="eccsignaturespec20" device-type="phone,2in1,tablet,wearable,tv">EccSignatureSpec<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="eccsignaturespec20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>包含（r、s）的sm2签名数据的结构体。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>r和s的长度各为256位。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">r</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">r分量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">s</td>         <td class="cellrowborder" width="20%">bigint</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">s分量。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="key" device-type="phone,2in1,tablet,wearable,tv">Key<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="key" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥（父类），在运行密码算法（如加解密）时需要提前生成其子类对象，并传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">Cipher</a>实例的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>方法。</p>     <p>密钥可以通过密钥生成器来生成。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 498px;">     <h3 id="属性" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">format</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">密钥的格式。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">密钥对应的算法名（如果是对称密钥，则含密钥长度，否则不含密钥长度）。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1335px;">     <h3 id="getencoded" device-type="phone,2in1,tablet,wearable,tv">getEncoded<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getencoded" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getEncoded(): DataBlob</p>     <p>同步方法，获取密钥数据的字节流。密钥可以是对称密钥、公钥或私钥。公钥格式需符合ASN.1语法、X.509规范和DER编码；私钥格式需符合ASN.1语法、PKCS#8规范和DER编码。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>RSA算法使用密钥参数生成私钥时，私钥对象支持getEncoded。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="50%">用于查看密钥的具体内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testGenerateAesKey</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'AES256'</span>);</li><li>  <span class="hljs-keyword">let</span> symKey = <span class="hljs-keyword">await</span> symKeyGenerator.<span class="hljs-title function_">generateSymKey</span>();</li><li>  <span class="hljs-keyword">let</span> encodedKey = symKey.<span class="hljs-title function_">getEncoded</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'key hex:'</span> + encodedKey.<span class="hljs-property">data</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="symkey" device-type="phone,2in1,tablet,wearable,tv">SymKey<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="symkey" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>对称密钥，是<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#key">Key</a>的子类，在对称加解密时需要将其对象传入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">Cipher</a>实例的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>方法使用。</p>     <p>对称密钥可以通过对称密钥生成器<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#symkeygenerator">SymKeyGenerator</a>来生成。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 775px;">     <h3 id="clearmem" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">clearMem<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clearmem" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clearMem(): void</p>     <p>同步方法，将系统底层内存中的密钥内容清零。建议在不再使用对称密钥实例时调用此函数，避免密钥数据在内存中存留过久。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.SymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.SymKey。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testGenerateAesKeyFun</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'AES256'</span>);</li><li>  <span class="hljs-keyword">let</span> key = <span class="hljs-keyword">await</span> symKeyGenerator.<span class="hljs-title function_">generateSymKey</span>();</li><li>  <span class="hljs-keyword">let</span> encodedKey = key.<span class="hljs-title function_">getEncoded</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'key blob: '</span>+ encodedKey.<span class="hljs-property">data</span>);</li><li>  key.<span class="hljs-title function_">clearMem</span>();</li><li>  encodedKey = key.<span class="hljs-title function_">getEncoded</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'key blob：'</span> + encodedKey.<span class="hljs-property">data</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="pubkey" device-type="phone,2in1,tablet,wearable,tv">PubKey<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pubkey" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>公钥，是<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#key">Key</a>的子类，在非对称加解密、验签、密钥协商时需要将其对象作为输入使用。</p>     <p>公钥可以通过非对称密钥生成器<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeygenerator">AsyKeyGenerator</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeygeneratorbyspec10">AsyKeyGeneratorBySpec</a>来生成。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2081px;">     <h3 id="getasykeyspec10" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">getAsyKeySpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getasykeyspec10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAsyKeySpec(itemType: AsyKeySpecItem): bigint | string | number</p>     <p>同步方法，获取密钥参数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">itemType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspecitem10">AsyKeySpecItem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的密钥参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">bigint | string | number</td>         <td class="cellrowborder" width="50%">用于查看密钥参数的具体内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 根据关键规范构造EccCommonSpec结构体。EccCommonSpec结构体定义了ECC私钥和公钥的公共参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genEccCommonSpec</span>(<span class="hljs-params"></span>): cryptoFramework.<span class="hljs-property">ECCCommonParamsSpec</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">fieldFp</span>: cryptoFramework.<span class="hljs-property">ECFieldFp</span> = {</li><li>    <span class="hljs-attr">fieldType</span>: <span class="hljs-string">'Fp'</span>,</li><li>    <span class="hljs-attr">p</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0xffffffffffffffffffffffffffffffff000000000000000000000001'</span>)</li><li>  }</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">G</span>: cryptoFramework.<span class="hljs-property">Point</span> = {</li><li>    <span class="hljs-attr">x</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0xb70e0cbd6bb4bf7f321390b94a03c1d356c21122343280d6115c1d21'</span>),</li><li>    <span class="hljs-attr">y</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0xbd376388b5f723fb4c22dfe6cd4375a05a07476444d5819985007e34'</span>)</li><li>  }</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">eccCommonSpec</span>: cryptoFramework.<span class="hljs-property">ECCCommonParamsSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">'ECC'</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">COMMON_PARAMS_SPEC</span>,</li><li>    <span class="hljs-attr">field</span>: fieldFp,</li><li>    <span class="hljs-attr">a</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0xfffffffffffffffffffffffffffffffefffffffffffffffffffffffe'</span>),</li><li>    <span class="hljs-attr">b</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0xb4050a850c04b3abf54132565044b0b7d7bfd8ba270b39432355ffb4'</span>),</li><li>    <span class="hljs-attr">g</span>: G,</li><li>    <span class="hljs-attr">n</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0xffffffffffffffffffffffffffff16a2e0b8f03e13dd29455c5c2a3d'</span>),</li><li>    <span class="hljs-attr">h</span>: <span class="hljs-number">1</span></li><li>  }</li><li>  <span class="hljs-keyword">return</span> eccCommonSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testgetAsyKeySpec</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> commKeySpec = <span class="hljs-title function_">genEccCommonSpec</span>(); <span class="hljs-comment">// 使用参数属性，构造ECC公私钥公共密钥参数对象。</span></li><li>  <span class="hljs-keyword">let</span> generatorBySpec = cryptoFramework.<span class="hljs-title function_">createAsyKeyGeneratorBySpec</span>(commKeySpec); <span class="hljs-comment">// 使用密钥参数对象创建生成器。</span></li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-keyword">await</span> generatorBySpec.<span class="hljs-title function_">generateKeyPair</span>();</li><li>  <span class="hljs-keyword">let</span> key = keyPair.<span class="hljs-property">pubKey</span>;</li><li>  <span class="hljs-keyword">let</span> p = key.<span class="hljs-title function_">getAsyKeySpec</span>(cryptoFramework.<span class="hljs-property">AsyKeySpecItem</span>.<span class="hljs-property">ECC_FP_P_BN</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'ecc item --- p: '</span> + p.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1734px;">     <h3 id="getencodedder12" device-type="phone,2in1,tablet,wearable,tv">getEncodedDer<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getencodedder12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getEncodedDer(format: string): DataBlob</p>     <p>支持根据指定的密钥格式（如规范、压缩状态等），获取符合ASN.1语法和DER编码的公钥数据。目前仅支持ECC压缩和非压缩格式的公钥数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>本接口和<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#getencoded">Key.getEncoded()</a>的区别是：</p>       <ol>        <li>本接口可根据入参决定数据的输出格式。</li>        <li><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#getencoded">Key.getEncoded()</a>接口，不支持指定密钥格式，生成的数据格式与原始数据格式保持一致。（原始数据格式，指通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#convertkey-3">convertKey</a>接口生成密钥对象时的数据格式）。</li>       </ol>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">format</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于指定当前密钥格式，取值仅支持"X509|COMPRESSED"和"X509|UNCOMPRESSED"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="50%">返回满足ASN.1语法和DER编码的指定密钥格式的公钥数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testGetEncodedDer</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> pkData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">90</span>, <span class="hljs-number">48</span>, <span class="hljs-number">20</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">206</span>, <span class="hljs-number">61</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">43</span>, <span class="hljs-number">36</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">66</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">143</span>, <span class="hljs-number">39</span>, <span class="hljs-number">57</span>, <span class="hljs-number">249</span>, <span class="hljs-number">145</span>, <span class="hljs-number">50</span>, <span class="hljs-number">63</span>, <span class="hljs-number">222</span>, <span class="hljs-number">35</span>, <span class="hljs-number">70</span>, <span class="hljs-number">178</span>, <span class="hljs-number">121</span>, <span class="hljs-number">202</span>, <span class="hljs-number">154</span>, <span class="hljs-number">21</span>, <span class="hljs-number">146</span>, <span class="hljs-number">129</span>, <span class="hljs-number">75</span>, <span class="hljs-number">76</span>, <span class="hljs-number">63</span>, <span class="hljs-number">8</span>, <span class="hljs-number">195</span>, <span class="hljs-number">157</span>, <span class="hljs-number">111</span>, <span class="hljs-number">40</span>, <span class="hljs-number">217</span>, <span class="hljs-number">215</span>, <span class="hljs-number">148</span>, <span class="hljs-number">120</span>, <span class="hljs-number">224</span>, <span class="hljs-number">205</span>, <span class="hljs-number">82</span>, <span class="hljs-number">83</span>, <span class="hljs-number">92</span>, <span class="hljs-number">185</span>, <span class="hljs-number">21</span>, <span class="hljs-number">211</span>, <span class="hljs-number">184</span>, <span class="hljs-number">5</span>, <span class="hljs-number">19</span>, <span class="hljs-number">114</span>, <span class="hljs-number">33</span>, <span class="hljs-number">86</span>, <span class="hljs-number">85</span>, <span class="hljs-number">228</span>, <span class="hljs-number">123</span>, <span class="hljs-number">242</span>, <span class="hljs-number">206</span>, <span class="hljs-number">200</span>, <span class="hljs-number">98</span>, <span class="hljs-number">178</span>, <span class="hljs-number">184</span>, <span class="hljs-number">130</span>, <span class="hljs-number">35</span>, <span class="hljs-number">232</span>, <span class="hljs-number">45</span>, <span class="hljs-number">5</span>, <span class="hljs-number">202</span>, <span class="hljs-number">189</span>, <span class="hljs-number">11</span>, <span class="hljs-number">46</span>, <span class="hljs-number">163</span>, <span class="hljs-number">156</span>, <span class="hljs-number">152</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">pubKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: pkData };</li><li>  <span class="hljs-keyword">let</span> generator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC_BrainPoolP256r1'</span>);</li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-keyword">await</span> generator.<span class="hljs-title function_">convertKey</span>(pubKeyBlob, <span class="hljs-literal">null</span>);</li><li>  <span class="hljs-keyword">let</span> key = keyPair.<span class="hljs-property">pubKey</span>;</li><li>  <span class="hljs-keyword">let</span> returnBlob = key.<span class="hljs-title function_">getEncodedDer</span>(<span class="hljs-string">'X509|UNCOMPRESSED'</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'returnBlob data：'</span> + returnBlob.<span class="hljs-property">data</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1610px;">     <h3 id="getencodedpem12" device-type="phone,2in1,tablet,wearable,tv">getEncodedPem<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getencodedpem12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getEncodedPem(format: string): string</p>     <p>同步方法，获取密钥数据的字符串。密钥可以是RSA公钥或私钥。公钥需符合X.509、PKCS#1规范，并采用PEM编码。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">format</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的获取密钥字符串的编码格式。其中，公钥可为'PKCS1' 或'X509'格式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">用于获取指定密钥格式的具体内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">publicPkcs1Str1024</span>: <span class="hljs-built_in">string</span>  =</li><li>  <span class="hljs-string">"-----BEGIN RSA PUBLIC KEY-----\n"</span></li><li>  + <span class="hljs-string">"MIGJAoGBALAg3eavbX433pOjGdWdpL7HIr1w1EAeIcaCtuMfDpECPdX6X5ZjrwiE\n"</span></li><li>  + <span class="hljs-string">"h7cO51WXMT2gyN45DCQySr/8cLE2UiUVHo7qlrSatdLA9ETtgob3sJ4qTaBg5Lxg\n"</span></li><li>  + <span class="hljs-string">"SHy2gC+bvEpuIuRe64yXGuM/aP+ZvmIj9QBIVI9mJD8jLEOvQBBpAgMBAAE=\n"</span></li><li>  + <span class="hljs-string">"-----END RSA PUBLIC KEY-----\n"</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">TestPubKeyPkcs1ToX509BySync1024</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> rsaGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">let</span> keyPair = rsaGenerator.<span class="hljs-title function_">convertPemKeySync</span>(publicPkcs1Str1024, <span class="hljs-literal">null</span>);</li><li>  <span class="hljs-keyword">let</span> pubPemKey = keyPair.<span class="hljs-property">pubKey</span>;</li><li>  <span class="hljs-keyword">let</span> pubString = pubPemKey.<span class="hljs-title function_">getEncodedPem</span>(<span class="hljs-string">'X509'</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[sync]TestPubKeyPkcs1ToX509BySync1024 pubString output is "</span> + pubString);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="prikey" device-type="phone,2in1,tablet,wearable,tv">PriKey<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="prikey" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>私钥，是<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#key">Key</a>的子类，在非对称加解密、签名、密钥协商时需要将其作为输入使用。</p>     <p>私钥可以通过非对称密钥生成器<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeygenerator">AsyKeyGenerator</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeygeneratorbyspec10">AsyKeyGeneratorBySpec</a>来生成。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 823px;">     <h3 id="clearmem-1" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">clearMem<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clearmem-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clearMem(): void</p>     <p>同步方法，清零系统底层内存中的密钥内容。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testClearMem</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> eccGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC256'</span>);</li><li>    <span class="hljs-comment">// 使用密钥生成器随机生成非对称密钥对。</span></li><li>    <span class="hljs-keyword">let</span> keyGenPromise = eccGenerator.<span class="hljs-title function_">generateKeyPair</span>();</li><li>    keyGenPromise.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">keyPair</span> =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> priKey = keyPair.<span class="hljs-property">priKey</span>;</li><li>      <span class="hljs-keyword">let</span> returnBlob = priKey.<span class="hljs-title function_">getEncodedDer</span>(<span class="hljs-string">'PKCS8'</span>);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'returnBlob data：'</span> + returnBlob.<span class="hljs-property">data</span>);</li><li>      priKey.<span class="hljs-title function_">clearMem</span>(); <span class="hljs-comment">// 对于非对称私钥，clearMem()释放内部密钥结构。执行clearMem后，不支持getEncoded()。</span></li><li>    });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2073px;">     <h3 id="getasykeyspec10-1" device-type="phone,2in1,tablet,wearable,tv">getAsyKeySpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getasykeyspec10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAsyKeySpec(itemType: AsyKeySpecItem): bigint | string | number</p>     <p>同步方法，获取密钥参数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">itemType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspecitem10">AsyKeySpecItem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的密钥参数类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">bigint | string | number</td>         <td class="cellrowborder" width="50%">用于查看密钥参数的具体内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-comment">// 根据关键规范构造EccCommonSpec结构体。EccCommonSpec结构体定义了ECC私钥和公钥的公共参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genEccCommonSpec</span>(<span class="hljs-params"></span>): cryptoFramework.<span class="hljs-property">ECCCommonParamsSpec</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">fieldFp</span>: cryptoFramework.<span class="hljs-property">ECFieldFp</span> = {</li><li>    <span class="hljs-attr">fieldType</span>: <span class="hljs-string">'Fp'</span>,</li><li>    <span class="hljs-attr">p</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0xffffffffffffffffffffffffffffffff000000000000000000000001'</span>)</li><li>  }</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">G</span>: cryptoFramework.<span class="hljs-property">Point</span> = {</li><li>    <span class="hljs-attr">x</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0xb70e0cbd6bb4bf7f321390b94a03c1d356c21122343280d6115c1d21'</span>),</li><li>    <span class="hljs-attr">y</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0xbd376388b5f723fb4c22dfe6cd4375a05a07476444d5819985007e34'</span>)</li><li>  }</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">eccCommonSpec</span>: cryptoFramework.<span class="hljs-property">ECCCommonParamsSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">'ECC'</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">COMMON_PARAMS_SPEC</span>,</li><li>    <span class="hljs-attr">field</span>: fieldFp,</li><li>    <span class="hljs-attr">a</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0xfffffffffffffffffffffffffffffffefffffffffffffffffffffffe'</span>),</li><li>    <span class="hljs-attr">b</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0xb4050a850c04b3abf54132565044b0b7d7bfd8ba270b39432355ffb4'</span>),</li><li>    <span class="hljs-attr">g</span>: G,</li><li>    <span class="hljs-attr">n</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0xffffffffffffffffffffffffffff16a2e0b8f03e13dd29455c5c2a3d'</span>),</li><li>    <span class="hljs-attr">h</span>: <span class="hljs-number">1</span></li><li>  }</li><li>  <span class="hljs-keyword">return</span> eccCommonSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testgetAsyKeySpec</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> commKeySpec = <span class="hljs-title function_">genEccCommonSpec</span>(); <span class="hljs-comment">// 使用参数属性，构造ECC公私钥公共密钥参数对象。</span></li><li>  <span class="hljs-keyword">let</span> generatorBySpec = cryptoFramework.<span class="hljs-title function_">createAsyKeyGeneratorBySpec</span>(commKeySpec); <span class="hljs-comment">// 使用密钥参数对象创建生成器。</span></li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-keyword">await</span> generatorBySpec.<span class="hljs-title function_">generateKeyPair</span>();</li><li>  <span class="hljs-keyword">let</span> key = keyPair.<span class="hljs-property">priKey</span>;</li><li>  <span class="hljs-keyword">let</span> p = key.<span class="hljs-title function_">getAsyKeySpec</span>(cryptoFramework.<span class="hljs-property">AsyKeySpecItem</span>.<span class="hljs-property">ECC_FP_P_BN</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'ecc item --- p: '</span> + p.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1710px;">     <h3 id="getencodedder12-1" device-type="phone,2in1,tablet,wearable,tv">getEncodedDer<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getencodedder12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getEncodedDer(format: string): DataBlob</p>     <p>支持根据指定的密钥格式（如采用哪个规范），获取满足ASN.1语法、DER编码的私钥数据。当前仅支持获取PKCS8格式的ecc私钥数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>本接口和<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#getencoded">Key.getEncoded()</a>的区别是：</p>       <ol>        <li>本接口可根据入参决定数据的输出格式，当前支持获取PKCS8格式的ecc私钥数据。</li>        <li><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#getencoded">Key.getEncoded()</a>接口，不支持指定密钥格式。</li>       </ol>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">format</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于指定当前密钥格式，取值当前仅支持"PKCS8"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="50%">返回满足ASN.1语法和DER编码的指定密钥格式的ECC私钥数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testGetEncodedDer</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> eccGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC256'</span>);</li><li>    <span class="hljs-comment">// 使用密钥生成器随机生成非对称密钥对。</span></li><li>    <span class="hljs-keyword">let</span> keyGenPromise = eccGenerator.<span class="hljs-title function_">generateKeyPair</span>();</li><li>    keyGenPromise.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">keyPair</span> =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> priKey = keyPair.<span class="hljs-property">priKey</span>;</li><li>      <span class="hljs-keyword">let</span> returnBlob = priKey.<span class="hljs-title function_">getEncodedDer</span>(<span class="hljs-string">'PKCS8'</span>);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'returnBlob data：'</span> + returnBlob.<span class="hljs-property">data</span>);</li><li>    });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1850px;">     <h3 id="getencodedpem12-1" device-type="phone,2in1,tablet,wearable,tv">getEncodedPem<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getencodedpem12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getEncodedPem(format: string): string</p>     <p>同步方法，获取密钥数据的字符串。密钥可以是RSA公钥或私钥。私钥格式需符合PKCS#8、PKCS#1规范，并采用PEM编码。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">format</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的获取密钥字符串的编码格式。其中，私钥可为'PKCS1' 或'PKCS8'格式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">用于获取指定密钥格式的具体内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyPkcs1Str1024</span>: <span class="hljs-built_in">string</span>  =</li><li>  <span class="hljs-string">"-----BEGIN RSA PRIVATE KEY-----\n"</span></li><li>  + <span class="hljs-string">"MIICXQIBAAKBgQCwIN3mr21+N96ToxnVnaS+xyK9cNRAHiHGgrbjHw6RAj3V+l+W\n"</span></li><li>  + <span class="hljs-string">"Y68IhIe3DudVlzE9oMjeOQwkMkq//HCxNlIlFR6O6pa0mrXSwPRE7YKG97CeKk2g\n"</span></li><li>  + <span class="hljs-string">"YOS8YEh8toAvm7xKbiLkXuuMlxrjP2j/mb5iI/UASFSPZiQ/IyxDr0AQaQIDAQAB\n"</span></li><li>  + <span class="hljs-string">"AoGAEvBFzBNa+7J4PXnRQlYEK/tvsd0bBZX33ceacMubHl6WVZbphltLq+fMTBPP\n"</span></li><li>  + <span class="hljs-string">"LjXmtpC+aJ7Lvmyl+wTi/TsxE9vxW5JnbuRT48rnZ/Xwq0eozDeEeIBRrpsr7Rvr\n"</span></li><li>  + <span class="hljs-string">"7ctrgzr4m4yMHq9aDgpxj8IR7oHkfwnmWr0wM3FuiVlj650CQQDineeNZ1hUTkj4\n"</span></li><li>  + <span class="hljs-string">"D3O+iCi3mxEVEeJrpqrmSFolRMb+iozrIRKuJlgcOs+Gqi2fHfOTTL7LkpYe8SVg\n"</span></li><li>  + <span class="hljs-string">"e3JxUdVLAkEAxvcZXk+byMFoetrnlcMR13VHUpoVeoV9qkv6CAWLlbMdgf7uKmgp\n"</span></li><li>  + <span class="hljs-string">"a1Yp3QPDNQQqkPvrqtfR19JWZ4uy1qREmwJALTU3BjyBoH/liqb6fh4HkWk75Som\n"</span></li><li>  + <span class="hljs-string">"MzeSjFIOubSYxhq5tgZpBZjcpvUMhV7Zrw54kwASZ+YcUJvmyvKViAm9NQJBAKF7\n"</span></li><li>  + <span class="hljs-string">"DyXSKrem8Ws0m1ybM7HQx5As6l3EVhePDmDQT1eyRbKp+xaD74nkJpnwYdB3jyyY\n"</span></li><li>  + <span class="hljs-string">"qc7A1tj5J5NmeEFolR0CQQCn76Xp8HCjGgLHw9vg7YyIL28y/XyfFyaZAzzK+Yia\n"</span></li><li>  + <span class="hljs-string">"akNwQ6NeGtXSsuGCcyyfpacHp9xy8qXQNKSkw03/5vDO\n"</span></li><li>  + <span class="hljs-string">"-----END RSA PRIVATE KEY-----\n"</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">TestPriKeyPkcs1ToPkcs8BySync1024</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> rsaGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">let</span> keyPair = rsaGenerator.<span class="hljs-title function_">convertPemKeySync</span>(<span class="hljs-literal">null</span>, priKeyPkcs1Str1024);</li><li>  <span class="hljs-keyword">let</span> priPemKey = keyPair.<span class="hljs-property">priKey</span>;</li><li>  <span class="hljs-keyword">let</span> priString = priPemKey.<span class="hljs-title function_">getEncodedPem</span>(<span class="hljs-string">'PKCS8'</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[sync]TestPriKeyPkcs1ToPkcs8BySync1024 priString output is "</span> + priString);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2094px;">     <h3 id="getencodedpem18" device-type="phone,2in1,tablet,wearable,tv">getEncodedPem<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getencodedpem18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getEncodedPem(format: string, config: KeyEncodingConfig): string</p>     <p>同步方法，获取密钥数据的字符串。支持RSA公钥和私钥。私钥格式满足PKCS#8规范、PKCS#1规范和PEM编码方式。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">format</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的获取密钥字符串的编码格式。其中，私钥可为'PKCS1' 或'PKCS8'格式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">config</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keyencodingconfig18">KeyEncodingConfig</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定编码的算法跟口令，对私钥进行编码操作。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">用于获取指定密钥格式的具体内容。如果填了config参数，则获取编码后的内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyPkcs1Str1024</span>: <span class="hljs-built_in">string</span>  =</li><li>  <span class="hljs-string">"-----BEGIN RSA PRIVATE KEY-----\n"</span></li><li>    + <span class="hljs-string">"MIICXQIBAAKBgQCwIN3mr21+N96ToxnVnaS+xyK9cNRAHiHGgrbjHw6RAj3V+l+W\n"</span></li><li>    + <span class="hljs-string">"Y68IhIe3DudVlzE9oMjeOQwkMkq//HCxNlIlFR6O6pa0mrXSwPRE7YKG97CeKk2g\n"</span></li><li>    + <span class="hljs-string">"YOS8YEh8toAvm7xKbiLkXuuMlxrjP2j/mb5iI/UASFSPZiQ/IyxDr0AQaQIDAQAB\n"</span></li><li>    + <span class="hljs-string">"AoGAEvBFzBNa+7J4PXnRQlYEK/tvsd0bBZX33ceacMubHl6WVZbphltLq+fMTBPP\n"</span></li><li>    + <span class="hljs-string">"LjXmtpC+aJ7Lvmyl+wTi/TsxE9vxW5JnbuRT48rnZ/Xwq0eozDeEeIBRrpsr7Rvr\n"</span></li><li>    + <span class="hljs-string">"7ctrgzr4m4yMHq9aDgpxj8IR7oHkfwnmWr0wM3FuiVlj650CQQDineeNZ1hUTkj4\n"</span></li><li>    + <span class="hljs-string">"D3O+iCi3mxEVEeJrpqrmSFolRMb+iozrIRKuJlgcOs+Gqi2fHfOTTL7LkpYe8SVg\n"</span></li><li>    + <span class="hljs-string">"e3JxUdVLAkEAxvcZXk+byMFoetrnlcMR13VHUpoVeoV9qkv6CAWLlbMdgf7uKmgp\n"</span></li><li>    + <span class="hljs-string">"a1Yp3QPDNQQqkPvrqtfR19JWZ4uy1qREmwJALTU3BjyBoH/liqb6fh4HkWk75Som\n"</span></li><li>    + <span class="hljs-string">"MzeSjFIOubSYxhq5tgZpBZjcpvUMhV7Zrw54kwASZ+YcUJvmyvKViAm9NQJBAKF7\n"</span></li><li>    + <span class="hljs-string">"DyXSKrem8Ws0m1ybM7HQx5As6l3EVhePDmDQT1eyRbKp+xaD74nkJpnwYdB3jyyY\n"</span></li><li>    + <span class="hljs-string">"qc7A1tj5J5NmeEFolR0CQQCn76Xp8HCjGgLHw9vg7YyIL28y/XyfFyaZAzzK+Yia\n"</span></li><li>    + <span class="hljs-string">"akNwQ6NeGtXSsuGCcyyfpacHp9xy8qXQNKSkw03/5vDO\n"</span></li><li>    + <span class="hljs-string">"-----END RSA PRIVATE KEY-----\n"</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">TestPriKeyPkcs1Encoded</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> rsaGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">let</span> keyPair = rsaGenerator.<span class="hljs-title function_">convertPemKeySync</span>(<span class="hljs-literal">null</span>, priKeyPkcs1Str1024);</li><li>  <span class="hljs-keyword">let</span> options : cryptoFramework.<span class="hljs-property">KeyEncodingConfig</span> = {</li><li>    <span class="hljs-attr">password</span>: <span class="hljs-string">"123456"</span>,</li><li>    <span class="hljs-attr">cipherName</span>: <span class="hljs-string">"AES-128-CBC"</span></li><li>  }</li><li>  <span class="hljs-keyword">let</span> priPemKey = keyPair.<span class="hljs-property">priKey</span>;</li><li>  <span class="hljs-keyword">let</span> priString = priPemKey.<span class="hljs-title function_">getEncodedPem</span>(<span class="hljs-string">'PKCS1'</span>, options);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[sync]TestPriKeyPkcs1Encoded priString output is "</span> + priString);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 370px;">     <h2 id="keypair" device-type="phone,2in1,tablet,wearable,tv">KeyPair<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="keypair" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>非对称密钥对包含公钥和私钥。</p>     <p>可以通过非对称密钥生成器<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeygenerator">AsyKeyGenerator</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeygeneratorbyspec10">AsyKeyGeneratorBySpec</a>来生成。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>KeyPair对象中的pubKey对象和priKey对象是KeyPair对象的成员。当KeyPair对象超出作用域时，其内部的pubKey对象和priKey对象将被析构。</p>       <p>业务方使用时应持有KeyPair对象的引用，而非内部pubKey或priKey对象的引用。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 426px;">     <h3 id="属性-1" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.65.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">priKey</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#prikey">PriKey</a></td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">私钥。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pubKey</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#pubkey">PubKey</a></td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">公钥。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1419px;">     <h2 id="cryptoframeworkcreatesymkeygenerator" device-type="phone,2in1,tablet,wearable,tv">cryptoFramework.createSymKeyGenerator<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cryptoframeworkcreatesymkeygenerator" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createSymKeyGenerator(algName: string): SymKeyGenerator</p>     <p>通过指定算法名称获取相应的对称密钥生成器实例。</p>     <p>支持的规格详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-sym-key-generation-conversion-spec" target="_blank">对称密钥生成和转换规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.SymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.SymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">algName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>待生成对称密钥生成器的算法名称。</p>          <p>具体取值详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-sym-key-generation-conversion-spec" target="_blank">对称密钥生成和转换规格</a>一节中的“字符串参数”。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#symkeygenerator">SymKeyGenerator</a></td>         <td class="cellrowborder" width="50%">返回对称密钥生成器的对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'3DES192'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="symkeygenerator" device-type="phone,2in1,tablet,wearable,tv">SymKeyGenerator<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="symkeygenerator" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>对称密钥生成器。</p>     <p>在使用该类的方法前，先使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatesymkeygenerator">createSymKeyGenerator</a>构建SymKeyGenerator实例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h3 id="属性-2" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.SymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.SymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">对称密钥生成器指定的算法名称。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1349px;">     <h3 id="generatesymkey" device-type="phone,2in1,tablet,wearable,tv">generateSymKey<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatesymkey" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateSymKey(callback: AsyncCallback&lt;SymKey&gt;): void</p>     <p>异步获取对称密钥生成器随机生成的密钥，通过注册回调函数获取结果。</p>     <p>必须在使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatesymkeygenerator">createSymKeyGenerator</a>创建对称密钥生成器后，才能使用本函数。</p>     <p>目前支持使用OpenSSL的RAND_priv_bytes()作为底层能力生成随机密钥。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>对于HMAC算法的对称密钥，如果在创建对称密钥生成器时指定了具体哈希算法（如“HMAC|SHA256”），则会随机生成与哈希长度一致的二进制密钥数据（如256位的密钥数据）。如果未指定具体哈希算法，如仅指定“HMAC”，则不支持随机生成对称密钥数据，可通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#convertkey">convertKey</a>方式生成对称密钥数据。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.SymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.SymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.69.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#symkey">SymKey</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当生成对称密钥成功，err为undefined，data为获取到的SymKey；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'3DES192'</span>);</li><li>  symKeyGenerator.<span class="hljs-title function_">generateSymKey</span>(<span class="hljs-function">(<span class="hljs-params">err, symKey</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Generate symKey success, algName：'</span> + symKey.<span class="hljs-property">algName</span>);</li><li>  });</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1253px;">     <h3 id="generatesymkey-1" device-type="phone,2in1,tablet,wearable,tv">generateSymKey<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatesymkey-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateSymKey(): Promise&lt;SymKey&gt;</p>     <p>异步获取该对称密钥生成器随机生成的密钥，通过Promise获取结果。</p>     <p>必须在使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatesymkeygenerator">createSymKeyGenerator</a>创建对称密钥生成器后，才能使用本函数。</p>     <p>目前支持使用OpenSSL的RAND_priv_bytes()作为底层能力生成随机密钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.SymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.SymKey。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.70.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#symkey">SymKey</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回对称密钥SymKey。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.70.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'AES128'</span>);</li><li>  symKeyGenerator.<span class="hljs-title function_">generateSymKey</span>()</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">symKey</span> =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Generate symKey success, algName: '</span> + symKey.<span class="hljs-property">algName</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Generate symKey failed, <span class="hljs-subst">${error.code}</span>, <span class="hljs-subst">${error.message}</span>`</span>);</li><li>    });</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1345px;">     <h3 id="generatesymkeysync12" device-type="phone,2in1,tablet,wearable,tv">generateSymKeySync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatesymkeysync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateSymKeySync(): SymKey</p>     <p>同步获取对称密钥生成器随机生成的密钥。</p>     <p>必须在使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatesymkeygenerator">createSymKeyGenerator</a>创建对称密钥生成器后，才能使用本函数。</p>     <p>目前支持使用OpenSSL的RAND_priv_bytes()作为底层能力生成随机密钥。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>对于HMAC算法的对称密钥，如果已经在创建对称密钥生成器时指定了具体哈希算法（如指定“HMAC|SHA256”），则会随机生成与哈希长度一致的二进制密钥数据（如指定“HMAC|SHA256”会随机生成256位的密钥数据）。</p>       <p>如果在创建对称密钥生成器时没有指定具体哈希算法，如仅指定“HMAC”，则不支持随机生成对称密钥数据，可通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#convertkeysync12">convertKeySync</a>方式生成对称密钥数据。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.SymKey</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#symkey">SymKey</a></td>         <td class="cellrowborder" width="50%">返回对称密钥SymKey。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGenerateSymKeySync</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-comment">// 创建SymKeyGenerator实例。</span></li><li>  <span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'AES256'</span>);</li><li>  <span class="hljs-comment">// 使用密钥生成器随机生成对称密钥。</span></li><li>  <span class="hljs-keyword">let</span> key = symKeyGenerator.<span class="hljs-title function_">generateSymKeySync</span>();</li><li>  <span class="hljs-keyword">let</span> encodedKey = key.<span class="hljs-title function_">getEncoded</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'key hex:'</span> + encodedKey.<span class="hljs-property">data</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1785px;">     <h3 id="convertkey" device-type="phone,2in1,tablet,wearable,tv">convertKey<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertkey" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>convertKey(key: DataBlob, callback: AsyncCallback&lt;SymKey&gt;): void</p>     <p>异步根据指定数据生成对称密钥，通过注册回调函数获取结果。</p>     <p>必须在使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatesymkeygenerator">createSymKeyGenerator</a>创建对称密钥生成器后，才能使用本函数。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>对于HMAC算法的对称密钥，如果已经在创建对称密钥生成器时指定了具体哈希算法（如指定“HMAC|SHA256”），则需要传入与哈希长度一致的二进制密钥数据（如传入SHA256对应256位的密钥数据）。</p>       <p>如果在创建对称密钥生成器时没有指定具体哈希算法，如仅指定“HMAC”，则支持传入长度在[1,4096]范围内（单位为byte）的任意二进制密钥数据。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.SymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.SymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的对称密钥材料。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#symkey">SymKey</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当生成对称密钥成功，err为undefined，data为获取到的SymKey；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.72.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genKeyMaterialBlob</span>(<span class="hljs-params"></span>): cryptoFramework.<span class="hljs-property">DataBlob</span> {</li><li>  <span class="hljs-keyword">let</span> arr = [</li><li>    <span class="hljs-number">0xba</span>, <span class="hljs-number">0x3d</span>, <span class="hljs-number">0xc2</span>, <span class="hljs-number">0x71</span>, <span class="hljs-number">0x21</span>, <span class="hljs-number">0x1e</span>, <span class="hljs-number">0x30</span>, <span class="hljs-number">0x56</span>,</li><li>    <span class="hljs-number">0xad</span>, <span class="hljs-number">0x47</span>, <span class="hljs-number">0xfc</span>, <span class="hljs-number">0x5a</span>, <span class="hljs-number">0x46</span>, <span class="hljs-number">0x39</span>, <span class="hljs-number">0xee</span>, <span class="hljs-number">0x7c</span>,</li><li>    <span class="hljs-number">0xba</span>, <span class="hljs-number">0x3b</span>, <span class="hljs-number">0xc2</span>, <span class="hljs-number">0x71</span>, <span class="hljs-number">0xab</span>, <span class="hljs-number">0xa0</span>, <span class="hljs-number">0x30</span>, <span class="hljs-number">0x72</span>]; <span class="hljs-comment">// keyLen = 192 (24 bytes)</span></li><li>  <span class="hljs-keyword">let</span> keyMaterial = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arr);</li><li>  <span class="hljs-keyword">return</span> { <span class="hljs-attr">data</span>: keyMaterial };</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testConvertKey</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'3DES192'</span>);</li><li>  <span class="hljs-keyword">let</span> keyMaterialBlob = <span class="hljs-title function_">genKeyMaterialBlob</span>();</li><li>  symKeyGenerator.<span class="hljs-title function_">convertKey</span>(keyMaterialBlob, <span class="hljs-function">(<span class="hljs-params">err, symKey</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Convert symKey success, algName: '</span> + symKey.<span class="hljs-property">algName</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1771px;">     <h3 id="convertkey-1" device-type="phone,2in1,tablet,wearable,tv">convertKey<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertkey-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>convertKey(key: DataBlob): Promise&lt;SymKey&gt;</p>     <p>异步根据指定数据生成对称密钥，通过Promise获取结果。</p>     <p>在使用本函数前，需先通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatesymkeygenerator">createSymKeyGenerator</a>创建对称密钥生成器。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.SymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.SymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的密钥材料数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.73.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#symkey">SymKey</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回对称密钥SymKey。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.73.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genKeyMaterialBlob</span>(<span class="hljs-params"></span>): cryptoFramework.<span class="hljs-property">DataBlob</span> {</li><li>  <span class="hljs-keyword">let</span> arr = [</li><li>    <span class="hljs-number">0xba</span>, <span class="hljs-number">0x3d</span>, <span class="hljs-number">0xc2</span>, <span class="hljs-number">0x71</span>, <span class="hljs-number">0x21</span>, <span class="hljs-number">0x1e</span>, <span class="hljs-number">0x30</span>, <span class="hljs-number">0x56</span>,</li><li>    <span class="hljs-number">0xad</span>, <span class="hljs-number">0x47</span>, <span class="hljs-number">0xfc</span>, <span class="hljs-number">0x5a</span>, <span class="hljs-number">0x46</span>, <span class="hljs-number">0x39</span>, <span class="hljs-number">0xee</span>, <span class="hljs-number">0x7c</span>,</li><li>    <span class="hljs-number">0xba</span>, <span class="hljs-number">0x3b</span>, <span class="hljs-number">0xc2</span>, <span class="hljs-number">0x71</span>, <span class="hljs-number">0xab</span>, <span class="hljs-number">0xa0</span>, <span class="hljs-number">0x30</span>, <span class="hljs-number">0x72</span>]; <span class="hljs-comment">// keyLen = 192 (24 bytes)</span></li><li>  <span class="hljs-keyword">let</span> keyMaterial = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arr);</li><li>  <span class="hljs-keyword">return</span> { <span class="hljs-attr">data</span>: keyMaterial };</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testConvertKey</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'3DES192'</span>);</li><li>  <span class="hljs-keyword">let</span> keyMaterialBlob = <span class="hljs-title function_">genKeyMaterialBlob</span>();</li><li>  symKeyGenerator.<span class="hljs-title function_">convertKey</span>(keyMaterialBlob)</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">symKey</span> =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Convert symKey success, algName：'</span> + symKey.<span class="hljs-property">algName</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Convert symKey failed, <span class="hljs-subst">${error.code}</span>, <span class="hljs-subst">${error.message}</span>`</span>);</li><li>    });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1647px;">     <h3 id="convertkeysync12" device-type="phone,2in1,tablet,wearable,tv">convertKeySync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertkeysync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>convertKeySync(key: DataBlob): SymKey</p>     <p>同步根据指定数据生成对称密钥。</p>     <p>必须在使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatesymkeygenerator">createSymKeyGenerator</a>创建对称密钥生成器后，才能使用本函数。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>对于HMAC算法的对称密钥，如果在创建对称密钥生成器时指定了具体哈希算法（如“HMAC|SHA256”），则需要传入与哈希长度一致的二进制密钥数据（如SHA256对应的256位密钥数据）。如果在创建对称密钥生成器时未指定具体哈希算法，如仅指定“HMAC”，则支持传入长度在1到4096字节范围内的任意二进制密钥数据。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.SymKey</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的对称密钥材料。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.74.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#symkey">SymKey</a></td>         <td class="cellrowborder" width="50%">对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.74.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testConvertKeySync</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-comment">// 对称密钥长度为64字节，512比特。</span></li><li>  <span class="hljs-keyword">let</span> keyMessage = <span class="hljs-string">'87654321abcdefgh87654321abcdefgh87654321abcdefgh87654321abcdefgh'</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">keyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = {</li><li>    data : <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(keyMessage, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>)</li><li>  }</li><li>  <span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'HMAC'</span>);</li><li>  <span class="hljs-keyword">let</span> key = symKeyGenerator.<span class="hljs-title function_">convertKeySync</span>(keyBlob);</li><li>  <span class="hljs-keyword">let</span> encodedKey = key.<span class="hljs-title function_">getEncoded</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'key encoded data：'</span> + encodedKey.<span class="hljs-property">data</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1426px;">     <h2 id="cryptoframeworkcreateasykeygenerator" device-type="phone,2in1,tablet,wearable,tv">cryptoFramework.createAsyKeyGenerator<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cryptoframeworkcreateasykeygenerator" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createAsyKeyGenerator(algName: string): AsyKeyGenerator</p>     <p>通过指定算法名称的字符串，获取相应的非对称密钥生成器实例。</p>     <p>支持的规格详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-asym-key-generation-conversion-spec" target="_blank">非对称密钥生成和转换规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">algName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">非对称密钥生成支持的算法名。详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-asym-key-generation-conversion-spec" target="_blank">非对称密钥生成和转换规格</a>中的字符串参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.75.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeygenerator">AsyKeyGenerator</a></td>         <td class="cellrowborder" width="50%">返回非对称密钥生成器。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.75.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> asyKeyGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC256'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="asykeygenerator" device-type="phone,2in1,tablet,wearable,tv">AsyKeyGenerator<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="asykeygenerator" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>非对称密钥生成器。在使用该类的方法前，需要先使用createAsyKeyGenerator()方法构建一个AsyKeyGenerator实例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h3 id="属性-3" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-3" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.77.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">非对称密钥生成器指定的算法名称。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1295px;">     <h3 id="generatekeypair" device-type="phone,2in1,tablet,wearable,tv">generateKeyPair<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatekeypair" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateKeyPair(callback: AsyncCallback&lt;KeyPair&gt;): void</p>     <p>异步获取非对称密钥生成器随机生成的密钥，通过注册回调函数获取结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.78.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keypair">KeyPair</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.78.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>Incorrect parameter types;</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> asyKeyGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC256'</span>);</li><li>asyKeyGenerator.<span class="hljs-title function_">generateKeyPair</span>(<span class="hljs-function">(<span class="hljs-params">err, keyPair</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"generateKeyPair: error."</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'generateKeyPair: success.'</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1339px;">     <h3 id="generatekeypair-1" device-type="phone,2in1,tablet,wearable,tv">generateKeyPair<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatekeypair-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateKeyPair(): Promise&lt;KeyPair&gt;</p>     <p>异步获取非对称密钥生成器随机生成的密钥，通过Promise获取结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.79.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keypair">KeyPair</a>&gt;</td>         <td class="cellrowborder" width="50%">使用Promise的方式获取非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.79.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> asyKeyGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC256'</span>);</li><li><span class="hljs-keyword">let</span> keyGenPromise = asyKeyGenerator.<span class="hljs-title function_">generateKeyPair</span>();</li><li>keyGenPromise.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">keyPair</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'generateKeyPair success.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"generateKeyPair error."</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1339px;">     <h3 id="generatekeypairsync12" device-type="phone,2in1,tablet,wearable,tv">generateKeyPairSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatekeypairsync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateKeyPairSync(): KeyPair</p>     <p>同步获取非对称密钥生成器随机生成的密钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keypair">KeyPair</a></td>         <td class="cellrowborder" width="50%">非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> asyKeyGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC256'</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> keyPairData = asyKeyGenerator.<span class="hljs-title function_">generateKeyPairSync</span>();</li><li>  <span class="hljs-keyword">if</span> (keyPairData != <span class="hljs-literal">null</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Sync]: key pair success'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Sync]: get key pair result fail!"</span>);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1721px;">     <h3 id="convertkey-2" device-type="phone,2in1,tablet,wearable,tv">convertKey<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertkey-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>convertKey(pubKey: DataBlob | null, priKey: DataBlob | null, callback: AsyncCallback&lt;KeyPair&gt;): void</p>     <p>异步获取指定数据生成非对称密钥，通过注册回调函数获取结果。详情请看下方<strong>密钥转换说明</strong>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.81.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pubKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的公钥材料。如果公钥不需要转换，可直接传入null。API 10之前只支持DataBlob， API 10之后增加支持null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">priKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的私钥材料。如果私钥不需要转换，可直接传入null。API 10之前只支持DataBlob， API 10之后增加支持null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keypair">KeyPair</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.81.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> pubKeyArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">89</span>, <span class="hljs-number">48</span>, <span class="hljs-number">19</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">206</span>, <span class="hljs-number">61</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">206</span>, <span class="hljs-number">61</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">66</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">83</span>, <span class="hljs-number">96</span>, <span class="hljs-number">142</span>, <span class="hljs-number">9</span>, <span class="hljs-number">86</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">106</span>, <span class="hljs-number">247</span>, <span class="hljs-number">233</span>, <span class="hljs-number">92</span>, <span class="hljs-number">125</span>, <span class="hljs-number">4</span>, <span class="hljs-number">128</span>, <span class="hljs-number">138</span>, <span class="hljs-number">105</span>, <span class="hljs-number">246</span>, <span class="hljs-number">162</span>, <span class="hljs-number">215</span>, <span class="hljs-number">71</span>, <span class="hljs-number">81</span>, <span class="hljs-number">58</span>, <span class="hljs-number">202</span>, <span class="hljs-number">121</span>, <span class="hljs-number">26</span>, <span class="hljs-number">105</span>, <span class="hljs-number">211</span>, <span class="hljs-number">55</span>, <span class="hljs-number">130</span>, <span class="hljs-number">45</span>, <span class="hljs-number">236</span>, <span class="hljs-number">143</span>, <span class="hljs-number">55</span>, <span class="hljs-number">16</span>, <span class="hljs-number">248</span>, <span class="hljs-number">75</span>, <span class="hljs-number">167</span>, <span class="hljs-number">160</span>, <span class="hljs-number">167</span>, <span class="hljs-number">106</span>, <span class="hljs-number">2</span>, <span class="hljs-number">152</span>, <span class="hljs-number">243</span>, <span class="hljs-number">44</span>, <span class="hljs-number">68</span>, <span class="hljs-number">66</span>, <span class="hljs-number">0</span>, <span class="hljs-number">167</span>, <span class="hljs-number">99</span>, <span class="hljs-number">92</span>, <span class="hljs-number">235</span>, <span class="hljs-number">215</span>, <span class="hljs-number">159</span>, <span class="hljs-number">239</span>, <span class="hljs-number">28</span>, <span class="hljs-number">106</span>, <span class="hljs-number">124</span>, <span class="hljs-number">171</span>, <span class="hljs-number">34</span>, <span class="hljs-number">145</span>, <span class="hljs-number">124</span>, <span class="hljs-number">174</span>, <span class="hljs-number">57</span>, <span class="hljs-number">92</span>]);</li><li><span class="hljs-keyword">let</span> priKeyArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">49</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">32</span>, <span class="hljs-number">115</span>, <span class="hljs-number">56</span>, <span class="hljs-number">137</span>, <span class="hljs-number">35</span>, <span class="hljs-number">207</span>, <span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">191</span>, <span class="hljs-number">90</span>, <span class="hljs-number">61</span>, <span class="hljs-number">136</span>, <span class="hljs-number">105</span>, <span class="hljs-number">210</span>, <span class="hljs-number">16</span>, <span class="hljs-number">27</span>, <span class="hljs-number">4</span>, <span class="hljs-number">171</span>, <span class="hljs-number">57</span>, <span class="hljs-number">10</span>, <span class="hljs-number">61</span>, <span class="hljs-number">123</span>, <span class="hljs-number">40</span>, <span class="hljs-number">189</span>, <span class="hljs-number">28</span>, <span class="hljs-number">34</span>, <span class="hljs-number">207</span>, <span class="hljs-number">236</span>, <span class="hljs-number">22</span>, <span class="hljs-number">45</span>, <span class="hljs-number">223</span>, <span class="hljs-number">10</span>, <span class="hljs-number">189</span>, <span class="hljs-number">160</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">206</span>, <span class="hljs-number">61</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>]);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">pubKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: pubKeyArray }; <span class="hljs-comment">// 公钥二进制数据。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: priKeyArray }; <span class="hljs-comment">// 私钥二进制数据。</span></li><li><span class="hljs-keyword">let</span> asyKeyGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC256'</span>);</li><li>asyKeyGenerator.<span class="hljs-title function_">convertKey</span>(pubKeyBlob, priKeyBlob, <span class="hljs-function">(<span class="hljs-params">err, keyPair</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"convertKey: error."</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'convertKey: success.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1823px;">     <h3 id="convertkey-3" device-type="phone,2in1,tablet,wearable,tv">convertKey<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertkey-3" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>convertKey(pubKey: DataBlob | null, priKey: DataBlob | null): Promise&lt;KeyPair&gt;</p>     <p>异步获取指定数据生成非对称密钥，通过Promise获取结果。详情请看下方<strong>密钥转换说明</strong>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.82.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pubKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的公钥材料。如果公钥不需要转换，可直接传入null。API 10之前只支持DataBlob， API 10之后增加支持null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">priKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的私钥材料。如果私钥不需要转换，可直接传入null。API 10之前只支持DataBlob， API 10之后增加支持null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.82.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keypair">KeyPair</a>&gt;</td>         <td class="cellrowborder" width="50%">使用Promise的方式获取非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.82.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> pubKeyArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">89</span>, <span class="hljs-number">48</span>, <span class="hljs-number">19</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">206</span>, <span class="hljs-number">61</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">206</span>, <span class="hljs-number">61</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">66</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">83</span>, <span class="hljs-number">96</span>, <span class="hljs-number">142</span>, <span class="hljs-number">9</span>, <span class="hljs-number">86</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">106</span>, <span class="hljs-number">247</span>, <span class="hljs-number">233</span>, <span class="hljs-number">92</span>, <span class="hljs-number">125</span>, <span class="hljs-number">4</span>, <span class="hljs-number">128</span>, <span class="hljs-number">138</span>, <span class="hljs-number">105</span>, <span class="hljs-number">246</span>, <span class="hljs-number">162</span>, <span class="hljs-number">215</span>, <span class="hljs-number">71</span>, <span class="hljs-number">81</span>, <span class="hljs-number">58</span>, <span class="hljs-number">202</span>, <span class="hljs-number">121</span>, <span class="hljs-number">26</span>, <span class="hljs-number">105</span>, <span class="hljs-number">211</span>, <span class="hljs-number">55</span>, <span class="hljs-number">130</span>, <span class="hljs-number">45</span>, <span class="hljs-number">236</span>, <span class="hljs-number">143</span>, <span class="hljs-number">55</span>, <span class="hljs-number">16</span>, <span class="hljs-number">248</span>, <span class="hljs-number">75</span>, <span class="hljs-number">167</span>, <span class="hljs-number">160</span>, <span class="hljs-number">167</span>, <span class="hljs-number">106</span>, <span class="hljs-number">2</span>, <span class="hljs-number">152</span>, <span class="hljs-number">243</span>, <span class="hljs-number">44</span>, <span class="hljs-number">68</span>, <span class="hljs-number">66</span>, <span class="hljs-number">0</span>, <span class="hljs-number">167</span>, <span class="hljs-number">99</span>, <span class="hljs-number">92</span>, <span class="hljs-number">235</span>, <span class="hljs-number">215</span>, <span class="hljs-number">159</span>, <span class="hljs-number">239</span>, <span class="hljs-number">28</span>, <span class="hljs-number">106</span>, <span class="hljs-number">124</span>, <span class="hljs-number">171</span>, <span class="hljs-number">34</span>, <span class="hljs-number">145</span>, <span class="hljs-number">124</span>, <span class="hljs-number">174</span>, <span class="hljs-number">57</span>, <span class="hljs-number">92</span>]);</li><li><span class="hljs-keyword">let</span> priKeyArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">49</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">32</span>, <span class="hljs-number">115</span>, <span class="hljs-number">56</span>, <span class="hljs-number">137</span>, <span class="hljs-number">35</span>, <span class="hljs-number">207</span>, <span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">191</span>, <span class="hljs-number">90</span>, <span class="hljs-number">61</span>, <span class="hljs-number">136</span>, <span class="hljs-number">105</span>, <span class="hljs-number">210</span>, <span class="hljs-number">16</span>, <span class="hljs-number">27</span>, <span class="hljs-number">4</span>, <span class="hljs-number">171</span>, <span class="hljs-number">57</span>, <span class="hljs-number">10</span>, <span class="hljs-number">61</span>, <span class="hljs-number">123</span>, <span class="hljs-number">40</span>, <span class="hljs-number">189</span>, <span class="hljs-number">28</span>, <span class="hljs-number">34</span>, <span class="hljs-number">207</span>, <span class="hljs-number">236</span>, <span class="hljs-number">22</span>, <span class="hljs-number">45</span>, <span class="hljs-number">223</span>, <span class="hljs-number">10</span>, <span class="hljs-number">189</span>, <span class="hljs-number">160</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">206</span>, <span class="hljs-number">61</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>]);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">pubKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: pubKeyArray }; <span class="hljs-comment">// 公钥二进制数据。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: priKeyArray }; <span class="hljs-comment">// 私钥二进制数据。</span></li><li><span class="hljs-keyword">let</span> asyKeyGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC256'</span>);</li><li><span class="hljs-keyword">let</span> keyGenPromise = asyKeyGenerator.<span class="hljs-title function_">convertKey</span>(pubKeyBlob, priKeyBlob);</li><li>keyGenPromise.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">keyPair</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'convertKey success.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"convertKey error."</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2034px;">     <h3 id="convertkeysync12-1" device-type="phone,2in1,tablet,wearable,tv">convertKeySync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertkeysync12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>convertKeySync(pubKey: DataBlob | null, priKey: DataBlob | null): KeyPair</p>     <p>同步获取指定数据生成非对称密钥。详情请看下方<strong>密钥转换说明</strong>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pubKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定公钥材料。如果公钥无需转换，传入null。API 10前仅支持DataBlob，API 10起支持传入null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">priKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定私钥材料。API 10前仅支持DataBlob，API 10起支持传入null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keypair">KeyPair</a></td>         <td class="cellrowborder" width="50%">非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> pubKeyArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">89</span>, <span class="hljs-number">48</span>, <span class="hljs-number">19</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">206</span>, <span class="hljs-number">61</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">206</span>, <span class="hljs-number">61</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">66</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">83</span>, <span class="hljs-number">96</span>, <span class="hljs-number">142</span>, <span class="hljs-number">9</span>, <span class="hljs-number">86</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">106</span>, <span class="hljs-number">247</span>, <span class="hljs-number">233</span>, <span class="hljs-number">92</span>, <span class="hljs-number">125</span>, <span class="hljs-number">4</span>, <span class="hljs-number">128</span>, <span class="hljs-number">138</span>, <span class="hljs-number">105</span>, <span class="hljs-number">246</span>, <span class="hljs-number">162</span>, <span class="hljs-number">215</span>, <span class="hljs-number">71</span>, <span class="hljs-number">81</span>, <span class="hljs-number">58</span>, <span class="hljs-number">202</span>, <span class="hljs-number">121</span>, <span class="hljs-number">26</span>, <span class="hljs-number">105</span>, <span class="hljs-number">211</span>, <span class="hljs-number">55</span>, <span class="hljs-number">130</span>, <span class="hljs-number">45</span>, <span class="hljs-number">236</span>, <span class="hljs-number">143</span>, <span class="hljs-number">55</span>, <span class="hljs-number">16</span>, <span class="hljs-number">248</span>, <span class="hljs-number">75</span>, <span class="hljs-number">167</span>, <span class="hljs-number">160</span>, <span class="hljs-number">167</span>, <span class="hljs-number">106</span>, <span class="hljs-number">2</span>, <span class="hljs-number">152</span>, <span class="hljs-number">243</span>, <span class="hljs-number">44</span>, <span class="hljs-number">68</span>, <span class="hljs-number">66</span>, <span class="hljs-number">0</span>, <span class="hljs-number">167</span>, <span class="hljs-number">99</span>, <span class="hljs-number">92</span>, <span class="hljs-number">235</span>, <span class="hljs-number">215</span>, <span class="hljs-number">159</span>, <span class="hljs-number">239</span>, <span class="hljs-number">28</span>, <span class="hljs-number">106</span>, <span class="hljs-number">124</span>, <span class="hljs-number">171</span>, <span class="hljs-number">34</span>, <span class="hljs-number">145</span>, <span class="hljs-number">124</span>, <span class="hljs-number">174</span>, <span class="hljs-number">57</span>, <span class="hljs-number">92</span>]);</li><li><span class="hljs-keyword">let</span> priKeyArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">49</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">32</span>, <span class="hljs-number">115</span>, <span class="hljs-number">56</span>, <span class="hljs-number">137</span>, <span class="hljs-number">35</span>, <span class="hljs-number">207</span>, <span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">191</span>, <span class="hljs-number">90</span>, <span class="hljs-number">61</span>, <span class="hljs-number">136</span>, <span class="hljs-number">105</span>, <span class="hljs-number">210</span>, <span class="hljs-number">16</span>, <span class="hljs-number">27</span>, <span class="hljs-number">4</span>, <span class="hljs-number">171</span>, <span class="hljs-number">57</span>, <span class="hljs-number">10</span>, <span class="hljs-number">61</span>, <span class="hljs-number">123</span>, <span class="hljs-number">40</span>, <span class="hljs-number">189</span>, <span class="hljs-number">28</span>, <span class="hljs-number">34</span>, <span class="hljs-number">207</span>, <span class="hljs-number">236</span>, <span class="hljs-number">22</span>, <span class="hljs-number">45</span>, <span class="hljs-number">223</span>, <span class="hljs-number">10</span>, <span class="hljs-number">189</span>, <span class="hljs-number">160</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">206</span>, <span class="hljs-number">61</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>]);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">pubKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: pubKeyArray }; <span class="hljs-comment">// 公钥二进制数据。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: priKeyArray }; <span class="hljs-comment">// 私钥二进制数据。</span></li><li><span class="hljs-keyword">let</span> asyKeyGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC256'</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> keyPairData = asyKeyGenerator.<span class="hljs-title function_">convertKeySync</span>(pubKeyBlob, priKeyBlob);</li><li>  <span class="hljs-keyword">if</span> (keyPairData != <span class="hljs-literal">null</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Sync]: key pair success'</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Sync]: convert key pair result fail!"</span>);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     <p><strong>密钥转换说明</strong></p>     <ol>      <li>非对称密钥（RSA、ECC、DSA）的公钥和私钥调用 getEncoded() 方法后，分别返回 X.509 格式的二进制数据和 PKCS#8 格式的二进制数据。对于 ECC 私钥，返回的是 RFC5915 定义的格式。这些数据可用于跨应用传输或持久化存储。</li>      <li>当调用convertKey方法将外来二进制数据转换为算法库非对称密钥对象时，公钥应符合ASN.1语法、X.509规范和DER编码格式；私钥应符合ASN.1语法、PKCS#8规范和DER编码格式。</li>      <li>convertKey方法中，公钥和私钥二进制数据非必选项，可单独传入公钥或私钥的数据，生成对应只包含公钥或私钥的KeyPair对象。</li>      <li>convertKey或convertKeySync方法将外来二进制数据转换为算法库非对称密钥对象时，不会校验生成的密钥对象的规格与创建非对称密钥生成器时指定的密钥规格是否一致。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2411px;">     <h3 id="convertpemkey12" device-type="phone,2in1,tablet,wearable,tv">convertPemKey<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertpemkey12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>convertPemKey(pubKey: string | null, priKey: string | null): Promise&lt;KeyPair&gt;</p>     <p>异步获取指定数据生成非对称密钥，通过Promise获取结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ol>        <li>当调用convertPemKey方法将外来字符串数据转换为算法库非对称密钥对象时，公钥应满足ASN.1语法、X.509规范、PEM编码格式，私钥应满足ASN.1语法、PKCS#8规范、PEM编码格式。</li>        <li>convertPemKey方法中，公钥和私钥字符串数据为非必选项，可单独传入公钥或私钥的数据，生成对应只包含公钥或私钥的KeyPair对象。</li>        <li>convertPemKey方法将外来字符串数据转换为算法库非对称密钥对象时，不会校验生成的密钥对象的规格与创建非对称密钥生成器时指定的密钥规格是否一致。</li>       </ol>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pubKey</td>         <td class="cellrowborder" width="25%">string | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的公钥材料。如果公钥不需要转换，可直接传入null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">priKey</td>         <td class="cellrowborder" width="25%">string | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的私钥材料。如果私钥不需要转换，可直接传入null。注：公钥和私钥材料不能同时为null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.84.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keypair">KeyPair</a>&gt;</td>         <td class="cellrowborder" width="50%">使用Promise的方式获取非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.84.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyPkcs1Str1024</span>: <span class="hljs-built_in">string</span>  =</li><li>  <span class="hljs-string">"-----BEGIN RSA PRIVATE KEY-----\n"</span></li><li>    + <span class="hljs-string">"MIICXQIBAAKBgQCwIN3mr21+N96ToxnVnaS+xyK9cNRAHiHGgrbjHw6RAj3V+l+W\n"</span></li><li>    + <span class="hljs-string">"Y68IhIe3DudVlzE9oMjeOQwkMkq//HCxNlIlFR6O6pa0mrXSwPRE7YKG97CeKk2g\n"</span></li><li>    + <span class="hljs-string">"YOS8YEh8toAvm7xKbiLkXuuMlxrjP2j/mb5iI/UASFSPZiQ/IyxDr0AQaQIDAQAB\n"</span></li><li>    + <span class="hljs-string">"AoGAEvBFzBNa+7J4PXnRQlYEK/tvsd0bBZX33ceacMubHl6WVZbphltLq+fMTBPP\n"</span></li><li>    + <span class="hljs-string">"LjXmtpC+aJ7Lvmyl+wTi/TsxE9vxW5JnbuRT48rnZ/Xwq0eozDeEeIBRrpsr7Rvr\n"</span></li><li>    + <span class="hljs-string">"7ctrgzr4m4yMHq9aDgpxj8IR7oHkfwnmWr0wM3FuiVlj650CQQDineeNZ1hUTkj4\n"</span></li><li>    + <span class="hljs-string">"D3O+iCi3mxEVEeJrpqrmSFolRMb+iozrIRKuJlgcOs+Gqi2fHfOTTL7LkpYe8SVg\n"</span></li><li>    + <span class="hljs-string">"e3JxUdVLAkEAxvcZXk+byMFoetrnlcMR13VHUpoVeoV9qkv6CAWLlbMdgf7uKmgp\n"</span></li><li>    + <span class="hljs-string">"a1Yp3QPDNQQqkPvrqtfR19JWZ4uy1qREmwJALTU3BjyBoH/liqb6fh4HkWk75Som\n"</span></li><li>    + <span class="hljs-string">"MzeSjFIOubSYxhq5tgZpBZjcpvUMhV7Zrw54kwASZ+YcUJvmyvKViAm9NQJBAKF7\n"</span></li><li>    + <span class="hljs-string">"DyXSKrem8Ws0m1ybM7HQx5As6l3EVhePDmDQT1eyRbKp+xaD74nkJpnwYdB3jyyY\n"</span></li><li>    + <span class="hljs-string">"qc7A1tj5J5NmeEFolR0CQQCn76Xp8HCjGgLHw9vg7YyIL28y/XyfFyaZAzzK+Yia\n"</span></li><li>    + <span class="hljs-string">"akNwQ6NeGtXSsuGCcyyfpacHp9xy8qXQNKSkw03/5vDO\n"</span></li><li>    + <span class="hljs-string">"-----END RSA PRIVATE KEY-----\n"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">publicPkcs1Str1024</span>: <span class="hljs-built_in">string</span>  =</li><li>  <span class="hljs-string">"-----BEGIN RSA PUBLIC KEY-----\n"</span></li><li>    + <span class="hljs-string">"MIGJAoGBALAg3eavbX433pOjGdWdpL7HIr1w1EAeIcaCtuMfDpECPdX6X5ZjrwiE\n"</span></li><li>    + <span class="hljs-string">"h7cO51WXMT2gyN45DCQySr/8cLE2UiUVHo7qlrSatdLA9ETtgob3sJ4qTaBg5Lxg\n"</span></li><li>    + <span class="hljs-string">"SHy2gC+bvEpuIuRe64yXGuM/aP+ZvmIj9QBIVI9mJD8jLEOvQBBpAgMBAAE=\n"</span></li><li>    + <span class="hljs-string">"-----END RSA PUBLIC KEY-----\n"</span>;</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">TestConvertPemKeyByPromise</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> asyKeyGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  asyKeyGenerator.<span class="hljs-title function_">convertPemKey</span>(publicPkcs1Str1024, priKeyPkcs1Str1024)</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">keyPair</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'convertPemKey success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"convertPemKey error."</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2416px;">     <h3 id="convertpemkey18" device-type="phone,2in1,tablet,wearable,tv">convertPemKey<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertpemkey18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>convertPemKey(pubKey: string | null, priKey: string | null, password: string): Promise&lt;KeyPair&gt;</p>     <p>获取指定数据生成非对称密钥。支持加密的私钥，同步传入私钥口令解密私钥。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ol>        <li>当调用convertPemKey方法将外来字符串数据转换为算法库非对称密钥对象时，公钥应满足ASN.1语法、X.509规范、PEM编码格式，私钥应满足ASN.1语法、PKCS#8规范、PEM编码格式。</li>        <li>convertPemKey方法中，公钥和私钥字符串数据为非必选项，可单独传入公钥或私钥的数据，生成对应只包含公钥或私钥的KeyPair对象。</li>        <li>convertPemKey方法将外来字符串数据转换为算法库非对称密钥对象时，不会校验生成的密钥对象的规格与创建非对称密钥生成器时指定的密钥规格是否一致。</li>        <li>password为口令，传入后可以解密加密后的私钥。</li>       </ol>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.85.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pubKey</td>         <td class="cellrowborder" width="25%">string | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的公钥材料。如果公钥不需要转换，可直接传入null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">priKey</td>         <td class="cellrowborder" width="25%">string | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的私钥材料。如果私钥不需要转换，可直接传入null。注：公钥和私钥材料不能同时为null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">password</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定口令，用于解密私钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keypair">KeyPair</a>&gt;</td>         <td class="cellrowborder" width="50%">使用Promise的方式获取非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> priKeyPkcs1EncodingStr : <span class="hljs-built_in">string</span> =</li><li>  <span class="hljs-string">"-----BEGIN RSA PRIVATE KEY-----\n"</span></li><li>    +<span class="hljs-string">"Proc-Type: 4,ENCRYPTED\n"</span></li><li>    +<span class="hljs-string">"DEK-Info: AES-128-CBC,815A066131BF05CF87CE610A59CC69AE\n\n"</span></li><li>    +<span class="hljs-string">"7Jd0vmOmYGFZ2yRY8fqRl3+6rQlFtNcMILvcb5KWHDSrxA0ULmJE7CW0DSRikHoA\n"</span></li><li>    +<span class="hljs-string">"t0KgafhYXeQXh0dRy9lvVRAFSLHCLJVjchx90V7ZSivBFEq7+iTozVp4AlbgYsJP\n"</span></li><li>    +<span class="hljs-string">"vx/1sfZD2WAcyMJ7IDmJyft7xnpVSXsyWGTT4f3eaHJIh1dqjwrso7ucAW0FK6rp\n"</span></li><li>    +<span class="hljs-string">"/TONyOoXNfXtRbVtxNyCWBxt4HCSclDZFvS9y8fz9ZwmCUV7jei/YdzyQI2wnE13\n"</span></li><li>    +<span class="hljs-string">"W8cKlpzRFL6BWi8XPrUtAw5MWeHBAPUgPWMfcmiaeyi5BJFhQCrHLi+Gj4EEJvp7\n"</span></li><li>    +<span class="hljs-string">"mP5cbnQAx6+paV5z9m71SKrI/WSc4ixsYYdVmlL/qwAK9YliFfoPl030YJWW6rFf\n"</span></li><li>    +<span class="hljs-string">"T7J9BUlHGUJ0RB2lURNNLakM+UZRkeE9TByzCzgTxuQtyv5Lwsh2mAk3ia5x0kUO\n"</span></li><li>    +<span class="hljs-string">"LHg3Eoabhdh+YZA5hHaxnpF7VjspB78E0F9Btq+A41rSJ6zDOdToHey4MJ2nxdey\n"</span></li><li>    +<span class="hljs-string">"Z3bi81TZ6Fp4IuROrvZ2B/Xl3uNKR7n+AHRKnaAO87ywzyltvjwSh2y3xhJueiRs\n"</span></li><li>    +<span class="hljs-string">"BiYkyL3/fnocD3pexTdN6h3JgQGgO5GV8zw/NrxA85mw8o9im0HreuFObmNj36T9\n"</span></li><li>    +<span class="hljs-string">"k5N+R/QIXW83cIQOLaWK1ThYcluytf0tDRiMoKqULiaA6HvDMigExLxuhCtnoF8I\n"</span></li><li>    +<span class="hljs-string">"iOLN1cPdEVQjzwDHLqXP2DbWW1z9iRepLZlEm1hLRLEmOrTGKezYupVv306SSa6J\n"</span></li><li>    +<span class="hljs-string">"OA55lAeXMbyjFaYCr54HWrpt4NwNBX1efMUURc+1LcHpzFrBTTLbfjIyq6as49pH\n"</span></li><li>    +<span class="hljs-string">"-----END RSA PRIVATE KEY-----\n"</span></li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">TestConvertPemKeyByPromise</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> asyKeyGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  asyKeyGenerator.<span class="hljs-title function_">convertPemKey</span>(<span class="hljs-literal">null</span>, priKeyPkcs1EncodingStr, <span class="hljs-string">"123456"</span>)</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">keyPair</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'convertPemKey success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"convertPemKey error."</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2323px;">     <h3 id="convertpemkeysync12" device-type="phone,2in1,tablet,wearable,tv">convertPemKeySync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertpemkeysync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>convertPemKeySync(pubKey: string | null, priKey: string | null): KeyPair</p>     <p>同步获取指定数据，生成非对称密钥。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>convertPemKeySync接口与convertPemKey接口注意事项相同，见<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#convertpemkey12">convertPemKey</a>接口说明。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pubKey</td>         <td class="cellrowborder" width="25%">string | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的公钥材料。如果公钥不需要转换，可直接传入null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">priKey</td>         <td class="cellrowborder" width="25%">string | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定私钥材料。私钥无需转换时，可传入null。注意：公钥和私钥材料不能同时为null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keypair">KeyPair</a></td>         <td class="cellrowborder" width="50%">非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyPkcs1Str1024</span>: <span class="hljs-built_in">string</span>  =</li><li>  <span class="hljs-string">"-----BEGIN RSA PRIVATE KEY-----\n"</span></li><li>  + <span class="hljs-string">"MIICXQIBAAKBgQCwIN3mr21+N96ToxnVnaS+xyK9cNRAHiHGgrbjHw6RAj3V+l+W\n"</span></li><li>  + <span class="hljs-string">"Y68IhIe3DudVlzE9oMjeOQwkMkq//HCxNlIlFR6O6pa0mrXSwPRE7YKG97CeKk2g\n"</span></li><li>  + <span class="hljs-string">"YOS8YEh8toAvm7xKbiLkXuuMlxrjP2j/mb5iI/UASFSPZiQ/IyxDr0AQaQIDAQAB\n"</span></li><li>  + <span class="hljs-string">"AoGAEvBFzBNa+7J4PXnRQlYEK/tvsd0bBZX33ceacMubHl6WVZbphltLq+fMTBPP\n"</span></li><li>  + <span class="hljs-string">"LjXmtpC+aJ7Lvmyl+wTi/TsxE9vxW5JnbuRT48rnZ/Xwq0eozDeEeIBRrpsr7Rvr\n"</span></li><li>  + <span class="hljs-string">"7ctrgzr4m4yMHq9aDgpxj8IR7oHkfwnmWr0wM3FuiVlj650CQQDineeNZ1hUTkj4\n"</span></li><li>  + <span class="hljs-string">"D3O+iCi3mxEVEeJrpqrmSFolRMb+iozrIRKuJlgcOs+Gqi2fHfOTTL7LkpYe8SVg\n"</span></li><li>  + <span class="hljs-string">"e3JxUdVLAkEAxvcZXk+byMFoetrnlcMR13VHUpoVeoV9qkv6CAWLlbMdgf7uKmgp\n"</span></li><li>  + <span class="hljs-string">"a1Yp3QPDNQQqkPvrqtfR19JWZ4uy1qREmwJALTU3BjyBoH/liqb6fh4HkWk75Som\n"</span></li><li>  + <span class="hljs-string">"MzeSjFIOubSYxhq5tgZpBZjcpvUMhV7Zrw54kwASZ+YcUJvmyvKViAm9NQJBAKF7\n"</span></li><li>  + <span class="hljs-string">"DyXSKrem8Ws0m1ybM7HQx5As6l3EVhePDmDQT1eyRbKp+xaD74nkJpnwYdB3jyyY\n"</span></li><li>  + <span class="hljs-string">"qc7A1tj5J5NmeEFolR0CQQCn76Xp8HCjGgLHw9vg7YyIL28y/XyfFyaZAzzK+Yia\n"</span></li><li>  + <span class="hljs-string">"akNwQ6NeGtXSsuGCcyyfpacHp9xy8qXQNKSkw03/5vDO\n"</span></li><li>  + <span class="hljs-string">"-----END RSA PRIVATE KEY-----\n"</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">publicPkcs1Str1024</span>: <span class="hljs-built_in">string</span>  =</li><li>  <span class="hljs-string">"-----BEGIN RSA PUBLIC KEY-----\n"</span></li><li>  + <span class="hljs-string">"MIGJAoGBALAg3eavbX433pOjGdWdpL7HIr1w1EAeIcaCtuMfDpECPdX6X5ZjrwiE\n"</span></li><li>  + <span class="hljs-string">"h7cO51WXMT2gyN45DCQySr/8cLE2UiUVHo7qlrSatdLA9ETtgob3sJ4qTaBg5Lxg\n"</span></li><li>  + <span class="hljs-string">"SHy2gC+bvEpuIuRe64yXGuM/aP+ZvmIj9QBIVI9mJD8jLEOvQBBpAgMBAAE=\n"</span></li><li>  + <span class="hljs-string">"-----END RSA PUBLIC KEY-----\n"</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">TestConvertPemKeyBySync</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> asyKeyGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> keyPairData = asyKeyGenerator.<span class="hljs-title function_">convertPemKeySync</span>(publicPkcs1Str1024, priKeyPkcs1Str1024);</li><li>    <span class="hljs-keyword">if</span> (keyPairData != <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Sync]: convert pem key pair success'</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Sync]: convert pem key pair result fail!"</span>);</li><li>    }</li><li>  } <span class="hljs-keyword">catch</span> (e) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2248px;">     <h3 id="convertpemkeysync18" device-type="phone,2in1,tablet,wearable,tv">convertPemKeySync<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertpemkeysync18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>convertPemKeySync(pubKey: string | null, priKey: string | null, password: string): KeyPair</p>     <p>获取指定数据生成非对称密钥。支持加密的私钥，同步传入私钥口令解密私钥。使用同步方法。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>convertPemKeySync接口与convertPemKey接口注意事项相同，见<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#convertpemkey18">convertPemKey</a>接口说明。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.87.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pubKey</td>         <td class="cellrowborder" width="25%">string | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的公钥材料。如果公钥不需要转换，可传入null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">priKey</td>         <td class="cellrowborder" width="25%">string | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定私钥材料。若无需转换，传入 null。注意：公钥与私钥材料不可同时为 null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">password</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定口令，用于解密私钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.87.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keypair">KeyPair</a></td>         <td class="cellrowborder" width="50%">非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.87.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> priKeyPkcs1EncodingStr : <span class="hljs-built_in">string</span> =</li><li>  <span class="hljs-string">"-----BEGIN RSA PRIVATE KEY-----\n"</span></li><li>    +<span class="hljs-string">"Proc-Type: 4,ENCRYPTED\n"</span></li><li>    +<span class="hljs-string">"DEK-Info: AES-128-CBC,815A066131BF05CF87CE610A59CC69AE\n\n"</span></li><li>    +<span class="hljs-string">"7Jd0vmOmYGFZ2yRY8fqRl3+6rQlFtNcMILvcb5KWHDSrxA0ULmJE7CW0DSRikHoA\n"</span></li><li>    +<span class="hljs-string">"t0KgafhYXeQXh0dRy9lvVRAFSLHCLJVjchx90V7ZSivBFEq7+iTozVp4AlbgYsJP\n"</span></li><li>    +<span class="hljs-string">"vx/1sfZD2WAcyMJ7IDmJyft7xnpVSXsyWGTT4f3eaHJIh1dqjwrso7ucAW0FK6rp\n"</span></li><li>    +<span class="hljs-string">"/TONyOoXNfXtRbVtxNyCWBxt4HCSclDZFvS9y8fz9ZwmCUV7jei/YdzyQI2wnE13\n"</span></li><li>    +<span class="hljs-string">"W8cKlpzRFL6BWi8XPrUtAw5MWeHBAPUgPWMfcmiaeyi5BJFhQCrHLi+Gj4EEJvp7\n"</span></li><li>    +<span class="hljs-string">"mP5cbnQAx6+paV5z9m71SKrI/WSc4ixsYYdVmlL/qwAK9YliFfoPl030YJWW6rFf\n"</span></li><li>    +<span class="hljs-string">"T7J9BUlHGUJ0RB2lURNNLakM+UZRkeE9TByzCzgTxuQtyv5Lwsh2mAk3ia5x0kUO\n"</span></li><li>    +<span class="hljs-string">"LHg3Eoabhdh+YZA5hHaxnpF7VjspB78E0F9Btq+A41rSJ6zDOdToHey4MJ2nxdey\n"</span></li><li>    +<span class="hljs-string">"Z3bi81TZ6Fp4IuROrvZ2B/Xl3uNKR7n+AHRKnaAO87ywzyltvjwSh2y3xhJueiRs\n"</span></li><li>    +<span class="hljs-string">"BiYkyL3/fnocD3pexTdN6h3JgQGgO5GV8zw/NrxA85mw8o9im0HreuFObmNj36T9\n"</span></li><li>    +<span class="hljs-string">"k5N+R/QIXW83cIQOLaWK1ThYcluytf0tDRiMoKqULiaA6HvDMigExLxuhCtnoF8I\n"</span></li><li>    +<span class="hljs-string">"iOLN1cPdEVQjzwDHLqXP2DbWW1z9iRepLZlEm1hLRLEmOrTGKezYupVv306SSa6J\n"</span></li><li>    +<span class="hljs-string">"OA55lAeXMbyjFaYCr54HWrpt4NwNBX1efMUURc+1LcHpzFrBTTLbfjIyq6as49pH\n"</span></li><li>    +<span class="hljs-string">"-----END RSA PRIVATE KEY-----\n"</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">TestConvertPemKeyBySync</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> asyKeyGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> keyPairData = asyKeyGenerator.<span class="hljs-title function_">convertPemKeySync</span>(<span class="hljs-literal">null</span>, priKeyPkcs1EncodingStr, <span class="hljs-string">"123456"</span>);</li><li>    <span class="hljs-keyword">if</span> (keyPairData != <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Sync]: convert pem key pair success'</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Sync]: convert pem key pair result fail!"</span>);</li><li>    }</li><li>  } <span class="hljs-keyword">catch</span> (e) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2050px;">     <h2 id="cryptoframeworkcreateasykeygeneratorbyspec10" device-type="phone,2in1,tablet,wearable,tv">cryptoFramework.createAsyKeyGeneratorBySpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cryptoframeworkcreateasykeygeneratorbyspec10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createAsyKeyGeneratorBySpec(asyKeySpec: AsyKeySpec): AsyKeyGeneratorBySpec</p>     <p>指定密钥参数，获取非对称密钥生成器实例。</p>     <p>支持的规格详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-asym-key-generation-conversion-spec" target="_blank">非对称密钥生成和转换规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.88.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">asyKeySpec</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspec10">AsyKeySpec</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">密钥参数。非对称密钥生成器根据指定的这些参数生成公/私钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.88.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeygeneratorbyspec10">AsyKeyGeneratorBySpec</a></td>         <td class="cellrowborder" width="50%">返回非对称密钥生成器实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.88.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 配置DSA1024公钥和私钥中包含的公共参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaCommonSpec</span>: cryptoFramework.<span class="hljs-property">DSACommonParamsSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">COMMON_PARAMS_SPEC</span>,</li><li>    <span class="hljs-attr">p</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xed1501551b8ab3547f6355ffdc2913856ddeca198833dbd04f020e5f25e47c50e0b3894f7690a0d2ea5ed3a7be25c54292a698e1f086eb3a97deb4dbf04fcad2dafd94a9f35c3ae338ab35477e16981ded6a5b13d5ff20bf55f1b262303ad3a80af71aa6aa2354d20e9c82647664bdb6b333b7bea0a5f49d55ca40bc312a1729"</span>),</li><li>    <span class="hljs-attr">q</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xd23304044019d5d382cfeabf351636c7ab219694ac845051f60b047b"</span>),</li><li>    <span class="hljs-attr">g</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0x2cc266d8bd33c3009bd67f285a257ba74f0c3a7e12b722864632a0ac3f2c17c91c2f3f67eb2d57071ef47aaa8f8e17a21ad2c1072ee1ce281362aad01dcbcd3876455cd17e1dd55d4ed36fa011db40f0bbb8cba01d066f392b5eaa9404bfcb775f2196a6bc20eeec3db32d54e94d87ecdb7a0310a5a017c5cdb8ac78597778bd"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaCommonSpec;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 设置DSA1024密钥对中包含的全参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> dsaCommonSpec = <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaKeyPairSpec</span>: cryptoFramework.<span class="hljs-property">DSAKeyPairSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">KEY_PAIR_SPEC</span>,</li><li>    <span class="hljs-attr">params</span>: dsaCommonSpec,</li><li>    <span class="hljs-attr">sk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xa2dd2adb2d11392c2541930f61f1165c370aabd2d78d00342e0a2fd9"</span>),</li><li>    <span class="hljs-attr">pk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xae6b5d5042e758f3fc9a02d009d896df115811a75b5f7b382d8526270dbb3c029403fafb8573ba4ef0314ea86f09d01e82a14d1ebb67b0c331f41049bd6b1842658b0592e706a5e4d20c14b67977e17df7bdd464cce14b5f13bae6607760fcdf394e0b73ac70aaf141fa4dafd736bd0364b1d6e6c0d7683a5de6b9221e7f2d6b"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaKeyPairSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> asyKeyPairSpec = <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(); <span class="hljs-comment">// JS输入必须是大端格式的正数。</span></li><li><span class="hljs-keyword">let</span> asyKeyGeneratorBySpec = cryptoFramework.<span class="hljs-title function_">createAsyKeyGeneratorBySpec</span>(asyKeyPairSpec);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 206px;">     <h2 id="asykeygeneratorbyspec10" device-type="phone,2in1,tablet,wearable,tv">AsyKeyGeneratorBySpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="asykeygeneratorbyspec10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>非对称密钥生成器。在使用该类的方法前，需要先使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygeneratorbyspec10">createAsyKeyGeneratorBySpec()</a>方法构建一个AsyKeyGeneratorBySpec实例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h3 id="属性-4" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-4" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.90.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">非对称密钥生成器的算法名。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2063px;">     <h3 id="generatekeypair10" device-type="phone,2in1,tablet,wearable,tv">generateKeyPair<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatekeypair10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateKeyPair(callback: AsyncCallback&lt;KeyPair&gt;): void</p>     <p>异步获取非对称密钥生成器生成的密钥，通过注册回调函数获取结果。</p>     <p>当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">COMMON_PARAMS_SPEC</a>类型的密钥参数来创建密钥生成器时，可以得到随机生成的密钥对；当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">KEY_PAIR_SPEC</a>类型的密钥参数来创建密钥生成器时，可以得到各项数据与密钥参数一致的密钥对。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.91.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keypair">KeyPair</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.91.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>Incorrect parameter types;</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 配置DSA1024公钥和私钥中包含的公共参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaCommonSpec</span>: cryptoFramework.<span class="hljs-property">DSACommonParamsSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">COMMON_PARAMS_SPEC</span>,</li><li>    <span class="hljs-attr">p</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xed1501551b8ab3547f6355ffdc2913856ddeca198833dbd04f020e5f25e47c50e0b3894f7690a0d2ea5ed3a7be25c54292a698e1f086eb3a97deb4dbf04fcad2dafd94a9f35c3ae338ab35477e16981ded6a5b13d5ff20bf55f1b262303ad3a80af71aa6aa2354d20e9c82647664bdb6b333b7bea0a5f49d55ca40bc312a1729"</span>),</li><li>    <span class="hljs-attr">q</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xd23304044019d5d382cfeabf351636c7ab219694ac845051f60b047b"</span>),</li><li>    <span class="hljs-attr">g</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0x2cc266d8bd33c3009bd67f285a257ba74f0c3a7e12b722864632a0ac3f2c17c91c2f3f67eb2d57071ef47aaa8f8e17a21ad2c1072ee1ce281362aad01dcbcd3876455cd17e1dd55d4ed36fa011db40f0bbb8cba01d066f392b5eaa9404bfcb775f2196a6bc20eeec3db32d54e94d87ecdb7a0310a5a017c5cdb8ac78597778bd"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaCommonSpec;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 设置DSA1024密钥对中包含的全参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> dsaCommonSpec = <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaKeyPairSpec</span>: cryptoFramework.<span class="hljs-property">DSAKeyPairSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">KEY_PAIR_SPEC</span>,</li><li>    <span class="hljs-attr">params</span>: dsaCommonSpec,</li><li>    <span class="hljs-attr">sk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xa2dd2adb2d11392c2541930f61f1165c370aabd2d78d00342e0a2fd9"</span>),</li><li>    <span class="hljs-attr">pk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xae6b5d5042e758f3fc9a02d009d896df115811a75b5f7b382d8526270dbb3c029403fafb8573ba4ef0314ea86f09d01e82a14d1ebb67b0c331f41049bd6b1842658b0592e706a5e4d20c14b67977e17df7bdd464cce14b5f13bae6607760fcdf394e0b73ac70aaf141fa4dafd736bd0364b1d6e6c0d7683a5de6b9221e7f2d6b"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaKeyPairSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGenerateKeyPair</span>(<span class="hljs-params"></span>)</li><li>{</li><li>  <span class="hljs-keyword">let</span> asyKeyPairSpec = <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(); <span class="hljs-comment">// JS输入必须是大端格式的正数。</span></li><li>  <span class="hljs-keyword">let</span> asyKeyGeneratorBySpec = cryptoFramework.<span class="hljs-title function_">createAsyKeyGeneratorBySpec</span>(asyKeyPairSpec);</li><li>  asyKeyGeneratorBySpec.<span class="hljs-title function_">generateKeyPair</span>(<span class="hljs-function">(<span class="hljs-params">err, keyPair</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"generateKeyPair: error."</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'generateKeyPair: success.'</span>);</li><li>  })</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2083px;">     <h3 id="generatekeypair10-1" device-type="phone,2in1,tablet,wearable,tv">generateKeyPair<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatekeypair10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateKeyPair(): Promise&lt;KeyPair&gt;</p>     <p>异步获取该非对称密钥生成器生成的密钥，通过Promise获取结果。</p>     <p>当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">COMMON_PARAMS_SPEC</a>类型的密钥参数来创建密钥生成器时，可以得到随机生成的密钥对；当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">KEY_PAIR_SPEC</a>类型的密钥参数来创建密钥生成器时，可以得到各项数据与密钥参数一致的密钥对。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.92.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keypair">KeyPair</a>&gt;</td>         <td class="cellrowborder" width="50%">使用Promise的方式获取非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.92.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// 配置DSA1024公钥和私钥中包含的公共参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaCommonSpec</span>: cryptoFramework.<span class="hljs-property">DSACommonParamsSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">COMMON_PARAMS_SPEC</span>,</li><li>    <span class="hljs-attr">p</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xed1501551b8ab3547f6355ffdc2913856ddeca198833dbd04f020e5f25e47c50e0b3894f7690a0d2ea5ed3a7be25c54292a698e1f086eb3a97deb4dbf04fcad2dafd94a9f35c3ae338ab35477e16981ded6a5b13d5ff20bf55f1b262303ad3a80af71aa6aa2354d20e9c82647664bdb6b333b7bea0a5f49d55ca40bc312a1729"</span>),</li><li>    <span class="hljs-attr">q</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xd23304044019d5d382cfeabf351636c7ab219694ac845051f60b047b"</span>),</li><li>    <span class="hljs-attr">g</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0x2cc266d8bd33c3009bd67f285a257ba74f0c3a7e12b722864632a0ac3f2c17c91c2f3f67eb2d57071ef47aaa8f8e17a21ad2c1072ee1ce281362aad01dcbcd3876455cd17e1dd55d4ed36fa011db40f0bbb8cba01d066f392b5eaa9404bfcb775f2196a6bc20eeec3db32d54e94d87ecdb7a0310a5a017c5cdb8ac78597778bd"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaCommonSpec;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 设置DSA1024密钥对中包含的全参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> dsaCommonSpec = <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaKeyPairSpec</span>: cryptoFramework.<span class="hljs-property">DSAKeyPairSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">KEY_PAIR_SPEC</span>,</li><li>    <span class="hljs-attr">params</span>: dsaCommonSpec,</li><li>    <span class="hljs-attr">sk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xa2dd2adb2d11392c2541930f61f1165c370aabd2d78d00342e0a2fd9"</span>),</li><li>    <span class="hljs-attr">pk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xae6b5d5042e758f3fc9a02d009d896df115811a75b5f7b382d8526270dbb3c029403fafb8573ba4ef0314ea86f09d01e82a14d1ebb67b0c331f41049bd6b1842658b0592e706a5e4d20c14b67977e17df7bdd464cce14b5f13bae6607760fcdf394e0b73ac70aaf141fa4dafd736bd0364b1d6e6c0d7683a5de6b9221e7f2d6b"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaKeyPairSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGenerateKeyPair</span>(<span class="hljs-params"></span>)</li><li>{</li><li>  <span class="hljs-keyword">let</span> asyKeyPairSpec = <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(); <span class="hljs-comment">// JS输入必须是大端格式的正数。</span></li><li>  <span class="hljs-keyword">let</span> asyKeyGeneratorBySpec = cryptoFramework.<span class="hljs-title function_">createAsyKeyGeneratorBySpec</span>(asyKeyPairSpec);</li><li>  <span class="hljs-keyword">let</span> keyGenPromise = asyKeyGeneratorBySpec.<span class="hljs-title function_">generateKeyPair</span>();</li><li>  keyGenPromise.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">keyPair</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'generateKeyPair success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"generateKeyPair error."</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2155px;">     <h3 id="generatekeypairsync12-1" device-type="phone,2in1,tablet,wearable,tv">generateKeyPairSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatekeypairsync12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateKeyPairSync(): KeyPair</p>     <p>同步获取该非对称密钥生成器生成的密钥。</p>     <p>当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">COMMON_PARAMS_SPEC</a>类型的密钥参数来创建密钥生成器时，可以得到随机生成的密钥对；当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">KEY_PAIR_SPEC</a>类型的密钥参数来创建密钥生成器时，可以得到各项数据与密钥参数一致的密钥对。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.93.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#keypair">KeyPair</a></td>         <td class="cellrowborder" width="50%">非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.93.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 配置DSA1024公钥和私钥中包含的公共参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaCommonSpec</span>: cryptoFramework.<span class="hljs-property">DSACommonParamsSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">COMMON_PARAMS_SPEC</span>,</li><li>    <span class="hljs-attr">p</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xed1501551b8ab3547f6355ffdc2913856ddeca198833dbd04f020e5f25e47c50e0b3894f7690a0d2ea5ed3a7be25c54292a698e1f086eb3a97deb4dbf04fcad2dafd94a9f35c3ae338ab35477e16981ded6a5b13d5ff20bf55f1b262303ad3a80af71aa6aa2354d20e9c82647664bdb6b333b7bea0a5f49d55ca40bc312a1729"</span>),</li><li>    <span class="hljs-attr">q</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xd23304044019d5d382cfeabf351636c7ab219694ac845051f60b047b"</span>),</li><li>    <span class="hljs-attr">g</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0x2cc266d8bd33c3009bd67f285a257ba74f0c3a7e12b722864632a0ac3f2c17c91c2f3f67eb2d57071ef47aaa8f8e17a21ad2c1072ee1ce281362aad01dcbcd3876455cd17e1dd55d4ed36fa011db40f0bbb8cba01d066f392b5eaa9404bfcb775f2196a6bc20eeec3db32d54e94d87ecdb7a0310a5a017c5cdb8ac78597778bd"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaCommonSpec;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 设置DSA1024密钥对中包含的全参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> dsaCommonSpec = <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaKeyPairSpec</span>: cryptoFramework.<span class="hljs-property">DSAKeyPairSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">KEY_PAIR_SPEC</span>,</li><li>    <span class="hljs-attr">params</span>: dsaCommonSpec,</li><li>    <span class="hljs-attr">sk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xa2dd2adb2d11392c2541930f61f1165c370aabd2d78d00342e0a2fd9"</span>),</li><li>    <span class="hljs-attr">pk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xae6b5d5042e758f3fc9a02d009d896df115811a75b5f7b382d8526270dbb3c029403fafb8573ba4ef0314ea86f09d01e82a14d1ebb67b0c331f41049bd6b1842658b0592e706a5e4d20c14b67977e17df7bdd464cce14b5f13bae6607760fcdf394e0b73ac70aaf141fa4dafd736bd0364b1d6e6c0d7683a5de6b9221e7f2d6b"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaKeyPairSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGenerateKeyPairSync</span>(<span class="hljs-params"></span>)</li><li>{</li><li>  <span class="hljs-keyword">let</span> asyKeyPairSpec = <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(); <span class="hljs-comment">// JS输入必须是大端格式的正数。</span></li><li>  <span class="hljs-keyword">let</span> asyKeyGeneratorBySpec = cryptoFramework.<span class="hljs-title function_">createAsyKeyGeneratorBySpec</span>(asyKeyPairSpec);</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> keyPairData = asyKeyGeneratorBySpec.<span class="hljs-title function_">generateKeyPairSync</span>();</li><li>    <span class="hljs-keyword">if</span> (keyPairData != <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Sync]: key pair success'</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Sync]: get key pair result fail!"</span>);</li><li>    }</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2063px;">     <h3 id="generateprikey10" device-type="phone,2in1,tablet,wearable,tv">generatePriKey<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generateprikey10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generatePriKey(callback: AsyncCallback&lt;PriKey&gt;): void</p>     <p>异步获取非对称密钥生成器生成的密钥，通过注册回调函数获取结果。</p>     <p>使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">PRIVATE_KEY_SPEC</a>类型密钥参数创建密钥生成器，生成指定私钥。使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">KEY_PAIR_SPEC</a>类型密钥参数创建密钥生成器，从生成的密钥对中获取指定私钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.94.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#prikey">PriKey</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.94.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>Mandatory parameters are left unspecified;</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 配置DSA1024公钥和私钥中包含的公共参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaCommonSpec</span>: cryptoFramework.<span class="hljs-property">DSACommonParamsSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">COMMON_PARAMS_SPEC</span>,</li><li>    <span class="hljs-attr">p</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xed1501551b8ab3547f6355ffdc2913856ddeca198833dbd04f020e5f25e47c50e0b3894f7690a0d2ea5ed3a7be25c54292a698e1f086eb3a97deb4dbf04fcad2dafd94a9f35c3ae338ab35477e16981ded6a5b13d5ff20bf55f1b262303ad3a80af71aa6aa2354d20e9c82647664bdb6b333b7bea0a5f49d55ca40bc312a1729"</span>),</li><li>    <span class="hljs-attr">q</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xd23304044019d5d382cfeabf351636c7ab219694ac845051f60b047b"</span>),</li><li>    <span class="hljs-attr">g</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0x2cc266d8bd33c3009bd67f285a257ba74f0c3a7e12b722864632a0ac3f2c17c91c2f3f67eb2d57071ef47aaa8f8e17a21ad2c1072ee1ce281362aad01dcbcd3876455cd17e1dd55d4ed36fa011db40f0bbb8cba01d066f392b5eaa9404bfcb775f2196a6bc20eeec3db32d54e94d87ecdb7a0310a5a017c5cdb8ac78597778bd"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaCommonSpec;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 设置DSA1024密钥对中包含的全参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> dsaCommonSpec = <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaKeyPairSpec</span>: cryptoFramework.<span class="hljs-property">DSAKeyPairSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">KEY_PAIR_SPEC</span>,</li><li>    <span class="hljs-attr">params</span>: dsaCommonSpec,</li><li>    <span class="hljs-attr">sk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xa2dd2adb2d11392c2541930f61f1165c370aabd2d78d00342e0a2fd9"</span>),</li><li>    <span class="hljs-attr">pk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xae6b5d5042e758f3fc9a02d009d896df115811a75b5f7b382d8526270dbb3c029403fafb8573ba4ef0314ea86f09d01e82a14d1ebb67b0c331f41049bd6b1842658b0592e706a5e4d20c14b67977e17df7bdd464cce14b5f13bae6607760fcdf394e0b73ac70aaf141fa4dafd736bd0364b1d6e6c0d7683a5de6b9221e7f2d6b"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaKeyPairSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGeneratePriKey</span>(<span class="hljs-params"></span>)</li><li>{</li><li>  <span class="hljs-keyword">let</span> asyKeyPairSpec = <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(); <span class="hljs-comment">// JS输入必须是大端格式的正数。</span></li><li>  <span class="hljs-keyword">let</span> asyKeyGeneratorBySpec = cryptoFramework.<span class="hljs-title function_">createAsyKeyGeneratorBySpec</span>(asyKeyPairSpec);</li><li>  asyKeyGeneratorBySpec.<span class="hljs-title function_">generatePriKey</span>(<span class="hljs-function">(<span class="hljs-params">err, prikey</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"generatePriKey: error."</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'generatePriKey: success.'</span>);</li><li>  })</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2107px;">     <h3 id="generateprikey10-1" device-type="phone,2in1,tablet,wearable,tv">generatePriKey<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generateprikey10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generatePriKey(): Promise&lt;PriKey&gt;</p>     <p>异步获取该非对称密钥生成器生成的密钥，通过Promise获取结果。</p>     <p>当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">PRIVATE_KEY_SPEC</a>类型的密钥参数来创建密钥生成器时，可以得到指定的私钥；当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">KEY_PAIR_SPEC</a>类型的密钥参数来创建密钥生成器时，可以从生成的密钥对中获取指定的私钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.95.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#prikey">PriKey</a>&gt;</td>         <td class="cellrowborder" width="50%">使用Promise的方式获取非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.95.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 配置DSA1024公钥和私钥中包含的公共参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaCommonSpec</span>: cryptoFramework.<span class="hljs-property">DSACommonParamsSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">COMMON_PARAMS_SPEC</span>,</li><li>    <span class="hljs-attr">p</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xed1501551b8ab3547f6355ffdc2913856ddeca198833dbd04f020e5f25e47c50e0b3894f7690a0d2ea5ed3a7be25c54292a698e1f086eb3a97deb4dbf04fcad2dafd94a9f35c3ae338ab35477e16981ded6a5b13d5ff20bf55f1b262303ad3a80af71aa6aa2354d20e9c82647664bdb6b333b7bea0a5f49d55ca40bc312a1729"</span>),</li><li>    <span class="hljs-attr">q</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xd23304044019d5d382cfeabf351636c7ab219694ac845051f60b047b"</span>),</li><li>    <span class="hljs-attr">g</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0x2cc266d8bd33c3009bd67f285a257ba74f0c3a7e12b722864632a0ac3f2c17c91c2f3f67eb2d57071ef47aaa8f8e17a21ad2c1072ee1ce281362aad01dcbcd3876455cd17e1dd55d4ed36fa011db40f0bbb8cba01d066f392b5eaa9404bfcb775f2196a6bc20eeec3db32d54e94d87ecdb7a0310a5a017c5cdb8ac78597778bd"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaCommonSpec;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 设置DSA1024密钥对中包含的全参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> dsaCommonSpec = <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaKeyPairSpec</span>: cryptoFramework.<span class="hljs-property">DSAKeyPairSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">KEY_PAIR_SPEC</span>,</li><li>    <span class="hljs-attr">params</span>: dsaCommonSpec,</li><li>    <span class="hljs-attr">sk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xa2dd2adb2d11392c2541930f61f1165c370aabd2d78d00342e0a2fd9"</span>),</li><li>    <span class="hljs-attr">pk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xae6b5d5042e758f3fc9a02d009d896df115811a75b5f7b382d8526270dbb3c029403fafb8573ba4ef0314ea86f09d01e82a14d1ebb67b0c331f41049bd6b1842658b0592e706a5e4d20c14b67977e17df7bdd464cce14b5f13bae6607760fcdf394e0b73ac70aaf141fa4dafd736bd0364b1d6e6c0d7683a5de6b9221e7f2d6b"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaKeyPairSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGeneratePriKey</span>(<span class="hljs-params"></span>)</li><li>{</li><li>  <span class="hljs-keyword">let</span> asyKeyPairSpec = <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(); <span class="hljs-comment">// JS输入必须是大端格式的正数。</span></li><li>  <span class="hljs-keyword">let</span> asyKeyGeneratorBySpec = cryptoFramework.<span class="hljs-title function_">createAsyKeyGeneratorBySpec</span>(asyKeyPairSpec);</li><li>  <span class="hljs-keyword">let</span> keyGenPromise = asyKeyGeneratorBySpec.<span class="hljs-title function_">generatePriKey</span>();</li><li>  keyGenPromise.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">priKey</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'generatePriKey success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"generatePriKey error."</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2107px;">     <h3 id="generateprikeysync12" device-type="phone,2in1,tablet,wearable,tv">generatePriKeySync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generateprikeysync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generatePriKeySync(): PriKey</p>     <p>同步获取该非对称密钥生成器生成的密钥。</p>     <p>当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">PRIVATE_KEY_SPEC</a>类型的密钥参数来创建密钥生成器时，可以得到指定的私钥；当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">KEY_PAIR_SPEC</a>类型的密钥参数来创建密钥生成器时，可以从生成的密钥对中获取指定的私钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.96.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#prikey">PriKey</a></td>         <td class="cellrowborder" width="50%">非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.96.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 配置DSA1024公钥和私钥中包含的公共参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaCommonSpec</span>: cryptoFramework.<span class="hljs-property">DSACommonParamsSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">COMMON_PARAMS_SPEC</span>,</li><li>    <span class="hljs-attr">p</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xed1501551b8ab3547f6355ffdc2913856ddeca198833dbd04f020e5f25e47c50e0b3894f7690a0d2ea5ed3a7be25c54292a698e1f086eb3a97deb4dbf04fcad2dafd94a9f35c3ae338ab35477e16981ded6a5b13d5ff20bf55f1b262303ad3a80af71aa6aa2354d20e9c82647664bdb6b333b7bea0a5f49d55ca40bc312a1729"</span>),</li><li>    <span class="hljs-attr">q</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xd23304044019d5d382cfeabf351636c7ab219694ac845051f60b047b"</span>),</li><li>    <span class="hljs-attr">g</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0x2cc266d8bd33c3009bd67f285a257ba74f0c3a7e12b722864632a0ac3f2c17c91c2f3f67eb2d57071ef47aaa8f8e17a21ad2c1072ee1ce281362aad01dcbcd3876455cd17e1dd55d4ed36fa011db40f0bbb8cba01d066f392b5eaa9404bfcb775f2196a6bc20eeec3db32d54e94d87ecdb7a0310a5a017c5cdb8ac78597778bd"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaCommonSpec;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 设置DSA1024密钥对中包含的全参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> dsaCommonSpec = <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaKeyPairSpec</span>: cryptoFramework.<span class="hljs-property">DSAKeyPairSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">KEY_PAIR_SPEC</span>,</li><li>    <span class="hljs-attr">params</span>: dsaCommonSpec,</li><li>    <span class="hljs-attr">sk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xa2dd2adb2d11392c2541930f61f1165c370aabd2d78d00342e0a2fd9"</span>),</li><li>    <span class="hljs-attr">pk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xae6b5d5042e758f3fc9a02d009d896df115811a75b5f7b382d8526270dbb3c029403fafb8573ba4ef0314ea86f09d01e82a14d1ebb67b0c331f41049bd6b1842658b0592e706a5e4d20c14b67977e17df7bdd464cce14b5f13bae6607760fcdf394e0b73ac70aaf141fa4dafd736bd0364b1d6e6c0d7683a5de6b9221e7f2d6b"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaKeyPairSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGeneratePriKeySync</span>(<span class="hljs-params"></span>)</li><li>{</li><li>  <span class="hljs-keyword">let</span> asyKeyPairSpec = <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(); <span class="hljs-comment">// JS输入必须是大端格式的正数。</span></li><li>  <span class="hljs-keyword">let</span> asyKeyGeneratorBySpec = cryptoFramework.<span class="hljs-title function_">createAsyKeyGeneratorBySpec</span>(asyKeyPairSpec);</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> priKeyData = asyKeyGeneratorBySpec.<span class="hljs-title function_">generatePriKeySync</span>();</li><li>    <span class="hljs-keyword">if</span> (priKeyData != <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Sync]: pri key success'</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Sync]: get pri key result fail!"</span>);</li><li>    }</li><li>  } <span class="hljs-keyword">catch</span> (e) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2063px;">     <h3 id="generatepubkey10" device-type="phone,2in1,tablet,wearable,tv">generatePubKey<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatepubkey10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generatePubKey(callback: AsyncCallback&lt;PubKey&gt;): void</p>     <p>异步获取非对称密钥生成器生成的密钥，通过注册回调函数获取结果。</p>     <p>当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">PUBLIC_KEY_SPEC</a>类型的密钥参数来创建密钥生成器时，可以得到指定的公钥；当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">KEY_PAIR_SPEC</a>类型的密钥参数来创建密钥生成器时，可以从生成的密钥对中获取指定的公钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version10-11系统能力为SystemCapability.Security.CryptoFramework；从API version12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.97.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#pubkey">PubKey</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.97.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>Incorrect parameter types;</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 配置DSA1024公钥和私钥中包含的公共参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaCommonSpec</span>: cryptoFramework.<span class="hljs-property">DSACommonParamsSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">COMMON_PARAMS_SPEC</span>,</li><li>    <span class="hljs-attr">p</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xed1501551b8ab3547f6355ffdc2913856ddeca198833dbd04f020e5f25e47c50e0b3894f7690a0d2ea5ed3a7be25c54292a698e1f086eb3a97deb4dbf04fcad2dafd94a9f35c3ae338ab35477e16981ded6a5b13d5ff20bf55f1b262303ad3a80af71aa6aa2354d20e9c82647664bdb6b333b7bea0a5f49d55ca40bc312a1729"</span>),</li><li>    <span class="hljs-attr">q</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xd23304044019d5d382cfeabf351636c7ab219694ac845051f60b047b"</span>),</li><li>    <span class="hljs-attr">g</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0x2cc266d8bd33c3009bd67f285a257ba74f0c3a7e12b722864632a0ac3f2c17c91c2f3f67eb2d57071ef47aaa8f8e17a21ad2c1072ee1ce281362aad01dcbcd3876455cd17e1dd55d4ed36fa011db40f0bbb8cba01d066f392b5eaa9404bfcb775f2196a6bc20eeec3db32d54e94d87ecdb7a0310a5a017c5cdb8ac78597778bd"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaCommonSpec;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 设置DSA1024密钥对中包含的全参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> dsaCommonSpec = <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaKeyPairSpec</span>: cryptoFramework.<span class="hljs-property">DSAKeyPairSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">KEY_PAIR_SPEC</span>,</li><li>    <span class="hljs-attr">params</span>: dsaCommonSpec,</li><li>    <span class="hljs-attr">sk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xa2dd2adb2d11392c2541930f61f1165c370aabd2d78d00342e0a2fd9"</span>),</li><li>    <span class="hljs-attr">pk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xae6b5d5042e758f3fc9a02d009d896df115811a75b5f7b382d8526270dbb3c029403fafb8573ba4ef0314ea86f09d01e82a14d1ebb67b0c331f41049bd6b1842658b0592e706a5e4d20c14b67977e17df7bdd464cce14b5f13bae6607760fcdf394e0b73ac70aaf141fa4dafd736bd0364b1d6e6c0d7683a5de6b9221e7f2d6b"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaKeyPairSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGeneratePubKey</span>(<span class="hljs-params"></span>)</li><li>{</li><li>  <span class="hljs-keyword">let</span> asyKeyPairSpec = <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(); <span class="hljs-comment">// JS输入必须是大端格式的正数。</span></li><li>  <span class="hljs-keyword">let</span> asyKeyGeneratorBySpec = cryptoFramework.<span class="hljs-title function_">createAsyKeyGeneratorBySpec</span>(asyKeyPairSpec);</li><li>  asyKeyGeneratorBySpec.<span class="hljs-title function_">generatePubKey</span>(<span class="hljs-function">(<span class="hljs-params">err, pubKey</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"generatePubKey: error."</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'generatePubKey: success.'</span>);</li><li>  })</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2107px;">     <h3 id="generatepubkey10-1" device-type="phone,2in1,tablet,wearable,tv">generatePubKey<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatepubkey10-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generatePubKey(): Promise&lt;PubKey&gt;</p>     <p>异步获取该非对称密钥生成器生成的密钥，通过Promise获取结果。</p>     <p>当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">PUBLIC_KEY_SPEC</a>类型的密钥参数来创建密钥生成器时，可以得到指定的公钥；当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">KEY_PAIR_SPEC</a>类型的密钥参数来创建密钥生成器时，可以从生成的密钥对中获取指定的公钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.98.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#pubkey">PubKey</a>&gt;</td>         <td class="cellrowborder" width="50%">使用Promise的方式获取非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.98.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 配置DSA1024公钥和私钥中包含的公共参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaCommonSpec</span>: cryptoFramework.<span class="hljs-property">DSACommonParamsSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">COMMON_PARAMS_SPEC</span>,</li><li>    <span class="hljs-attr">p</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xed1501551b8ab3547f6355ffdc2913856ddeca198833dbd04f020e5f25e47c50e0b3894f7690a0d2ea5ed3a7be25c54292a698e1f086eb3a97deb4dbf04fcad2dafd94a9f35c3ae338ab35477e16981ded6a5b13d5ff20bf55f1b262303ad3a80af71aa6aa2354d20e9c82647664bdb6b333b7bea0a5f49d55ca40bc312a1729"</span>),</li><li>    <span class="hljs-attr">q</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xd23304044019d5d382cfeabf351636c7ab219694ac845051f60b047b"</span>),</li><li>    <span class="hljs-attr">g</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0x2cc266d8bd33c3009bd67f285a257ba74f0c3a7e12b722864632a0ac3f2c17c91c2f3f67eb2d57071ef47aaa8f8e17a21ad2c1072ee1ce281362aad01dcbcd3876455cd17e1dd55d4ed36fa011db40f0bbb8cba01d066f392b5eaa9404bfcb775f2196a6bc20eeec3db32d54e94d87ecdb7a0310a5a017c5cdb8ac78597778bd"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaCommonSpec;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 设置DSA1024密钥对中包含的全参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> dsaCommonSpec = <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaKeyPairSpec</span>: cryptoFramework.<span class="hljs-property">DSAKeyPairSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">KEY_PAIR_SPEC</span>,</li><li>    <span class="hljs-attr">params</span>: dsaCommonSpec,</li><li>    <span class="hljs-attr">sk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xa2dd2adb2d11392c2541930f61f1165c370aabd2d78d00342e0a2fd9"</span>),</li><li>    <span class="hljs-attr">pk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xae6b5d5042e758f3fc9a02d009d896df115811a75b5f7b382d8526270dbb3c029403fafb8573ba4ef0314ea86f09d01e82a14d1ebb67b0c331f41049bd6b1842658b0592e706a5e4d20c14b67977e17df7bdd464cce14b5f13bae6607760fcdf394e0b73ac70aaf141fa4dafd736bd0364b1d6e6c0d7683a5de6b9221e7f2d6b"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaKeyPairSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGeneratePubKey</span>(<span class="hljs-params"></span>)</li><li>{</li><li>  <span class="hljs-keyword">let</span> asyKeyPairSpec = <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(); <span class="hljs-comment">// JS输入必须是大端格式的正数。</span></li><li>  <span class="hljs-keyword">let</span> asyKeyGeneratorBySpec = cryptoFramework.<span class="hljs-title function_">createAsyKeyGeneratorBySpec</span>(asyKeyPairSpec);</li><li>  <span class="hljs-keyword">let</span> keyGenPromise = asyKeyGeneratorBySpec.<span class="hljs-title function_">generatePubKey</span>();</li><li>  keyGenPromise.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">pubKey</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'generatePubKey success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"generatePubKey error."</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2107px;">     <h3 id="generatepubkeysync12" device-type="phone,2in1,tablet,wearable,tv">generatePubKeySync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatepubkeysync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generatePubKeySync(): PubKey</p>     <p>同步获取该非对称密钥生成器生成的密钥。</p>     <p>当使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">PUBLIC_KEY_SPEC</a>类型的密钥参数来创建密钥生成器时，可以得到指定的公钥；使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#asykeyspectype10">KEY_PAIR_SPEC</a>类型的密钥参数时，可以从生成的密钥对中获取指定的公钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.99.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#pubkey">PubKey</a></td>         <td class="cellrowborder" width="50%">非对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.99.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 配置DSA1024公钥和私钥中包含的公共参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaCommonSpec</span>: cryptoFramework.<span class="hljs-property">DSACommonParamsSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">COMMON_PARAMS_SPEC</span>,</li><li>    <span class="hljs-attr">p</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xed1501551b8ab3547f6355ffdc2913856ddeca198833dbd04f020e5f25e47c50e0b3894f7690a0d2ea5ed3a7be25c54292a698e1f086eb3a97deb4dbf04fcad2dafd94a9f35c3ae338ab35477e16981ded6a5b13d5ff20bf55f1b262303ad3a80af71aa6aa2354d20e9c82647664bdb6b333b7bea0a5f49d55ca40bc312a1729"</span>),</li><li>    <span class="hljs-attr">q</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xd23304044019d5d382cfeabf351636c7ab219694ac845051f60b047b"</span>),</li><li>    <span class="hljs-attr">g</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0x2cc266d8bd33c3009bd67f285a257ba74f0c3a7e12b722864632a0ac3f2c17c91c2f3f67eb2d57071ef47aaa8f8e17a21ad2c1072ee1ce281362aad01dcbcd3876455cd17e1dd55d4ed36fa011db40f0bbb8cba01d066f392b5eaa9404bfcb775f2196a6bc20eeec3db32d54e94d87ecdb7a0310a5a017c5cdb8ac78597778bd"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaCommonSpec;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 设置DSA1024密钥对中包含的全参数。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> dsaCommonSpec = <span class="hljs-title function_">genDsa1024CommonSpecBigE</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">dsaKeyPairSpec</span>: cryptoFramework.<span class="hljs-property">DSAKeyPairSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"DSA"</span>,</li><li>    <span class="hljs-attr">specType</span>: cryptoFramework.<span class="hljs-property">AsyKeySpecType</span>.<span class="hljs-property">KEY_PAIR_SPEC</span>,</li><li>    <span class="hljs-attr">params</span>: dsaCommonSpec,</li><li>    <span class="hljs-attr">sk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xa2dd2adb2d11392c2541930f61f1165c370aabd2d78d00342e0a2fd9"</span>),</li><li>    <span class="hljs-attr">pk</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">"0xae6b5d5042e758f3fc9a02d009d896df115811a75b5f7b382d8526270dbb3c029403fafb8573ba4ef0314ea86f09d01e82a14d1ebb67b0c331f41049bd6b1842658b0592e706a5e4d20c14b67977e17df7bdd464cce14b5f13bae6607760fcdf394e0b73ac70aaf141fa4dafd736bd0364b1d6e6c0d7683a5de6b9221e7f2d6b"</span>),</li><li>  }</li><li>  <span class="hljs-keyword">return</span> dsaKeyPairSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGeneratePubKeySync</span>(<span class="hljs-params"></span>)</li><li>{</li><li>  <span class="hljs-keyword">let</span> asyKeyPairSpec = <span class="hljs-title function_">genDsa1024KeyPairSpecBigE</span>(); <span class="hljs-comment">// JS输入必须是大端格式的正数。</span></li><li>  <span class="hljs-keyword">let</span> asyKeyGeneratorBySpec = cryptoFramework.<span class="hljs-title function_">createAsyKeyGeneratorBySpec</span>(asyKeyPairSpec);</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> pubKeyData = asyKeyGeneratorBySpec.<span class="hljs-title function_">generatePubKeySync</span>();</li><li>    <span class="hljs-keyword">if</span> (pubKeyData != <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Sync]: pub key success'</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Sync]: get pub key result fail!"</span>);</li><li>    }</li><li>  } <span class="hljs-keyword">catch</span> (e) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="ecckeyutil11" device-type="phone,2in1,tablet,wearable,tv">ECCKeyUtil<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ecckeyutil11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>根据椭圆曲线名生成相应的非对称公共密钥参数。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1498px;">     <h3 id="genecccommonparamsspec11" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">genECCCommonParamsSpec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="genecccommonparamsspec11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static genECCCommonParamsSpec(curveName: string): ECCCommonParamsSpec</p>     <p>根据椭圆曲线相应的NID（Name IDentifier）字符串名称生成相应的非对称公共密钥参数。详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-asym-key-generation-conversion-spec#ecc" target="_blank">ECC密钥生成规格</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-asym-key-generation-conversion-spec#sm2" target="_blank">SM2密钥生成规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.101.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">curveName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">椭圆曲线相应的NID（Name IDentifier）字符串名称。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.101.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#ecccommonparamsspec10">ECCCommonParamsSpec</a></td>         <td class="cellrowborder" width="50%">返回ECC公共密钥参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.101.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-title class_">ECCCommonParamsSpec</span> = cryptoFramework.<span class="hljs-property">ECCKeyUtil</span>.<span class="hljs-title function_">genECCCommonParamsSpec</span>(<span class="hljs-string">'NID_brainpoolP160r1'</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'genECCCommonParamsSpec success'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`genECCCommonParamsSpec error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1659px;">     <h3 id="convertpoint12" device-type="phone,2in1,tablet,wearable,tv">convertPoint<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="convertpoint12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static convertPoint(curveName: string, encodedPoint: Uint8Array): Point</p>     <p>根据椭圆曲线的曲线名，即相应的NID（Name IDentifier），将指定的点数据转换为Point对象。当前支持压缩/非压缩格式的点数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>根据RFC5480规范中第2.2节的描述：</p>       <ol>        <li>非压缩的点数据，表示为：前缀0x04|x坐标|y坐标；</li>        <li>压缩的点数据，对于Fp素数域上的点（当前暂不支持F2m域），表示为：前缀0x03|x坐标 (坐标y是奇数时)，前缀0x02|x坐标 (坐标y是偶数时)。</li>       </ol>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.102.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">curveName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">椭圆曲线的曲线名，即相应的NID（Name IDentifier）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">encodedPoint</td>         <td class="cellrowborder" width="25%">Uint8Array</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的ECC椭圆曲线上的点的数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.102.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#point10">Point</a></td>         <td class="cellrowborder" width="50%">返回ECC的Point对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.102.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 随机生成的非压缩点数据。</span></li><li><span class="hljs-keyword">let</span> pkData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">4</span>, <span class="hljs-number">143</span>, <span class="hljs-number">39</span>, <span class="hljs-number">57</span>, <span class="hljs-number">249</span>, <span class="hljs-number">145</span>, <span class="hljs-number">50</span>, <span class="hljs-number">63</span>, <span class="hljs-number">222</span>, <span class="hljs-number">35</span>, <span class="hljs-number">70</span>, <span class="hljs-number">178</span>, <span class="hljs-number">121</span>, <span class="hljs-number">202</span>, <span class="hljs-number">154</span>, <span class="hljs-number">21</span>, <span class="hljs-number">146</span>, <span class="hljs-number">129</span>, <span class="hljs-number">75</span>, <span class="hljs-number">76</span>, <span class="hljs-number">63</span>, <span class="hljs-number">8</span>, <span class="hljs-number">195</span>, <span class="hljs-number">157</span>, <span class="hljs-number">111</span>, <span class="hljs-number">40</span>, <span class="hljs-number">217</span>, <span class="hljs-number">215</span>, <span class="hljs-number">148</span>, <span class="hljs-number">120</span>, <span class="hljs-number">224</span>, <span class="hljs-number">205</span>, <span class="hljs-number">82</span>, <span class="hljs-number">83</span>, <span class="hljs-number">92</span>, <span class="hljs-number">185</span>, <span class="hljs-number">21</span>, <span class="hljs-number">211</span>, <span class="hljs-number">184</span>, <span class="hljs-number">5</span>, <span class="hljs-number">19</span>, <span class="hljs-number">114</span>, <span class="hljs-number">33</span>, <span class="hljs-number">86</span>, <span class="hljs-number">85</span>, <span class="hljs-number">228</span>, <span class="hljs-number">123</span>, <span class="hljs-number">242</span>, <span class="hljs-number">206</span>, <span class="hljs-number">200</span>, <span class="hljs-number">98</span>, <span class="hljs-number">178</span>, <span class="hljs-number">184</span>, <span class="hljs-number">130</span>, <span class="hljs-number">35</span>, <span class="hljs-number">232</span>, <span class="hljs-number">45</span>, <span class="hljs-number">5</span>, <span class="hljs-number">202</span>, <span class="hljs-number">189</span>, <span class="hljs-number">11</span>, <span class="hljs-number">46</span>, <span class="hljs-number">163</span>, <span class="hljs-number">156</span>, <span class="hljs-number">152</span>]);</li><li><span class="hljs-keyword">let</span> returnPoint = cryptoFramework.<span class="hljs-property">ECCKeyUtil</span>.<span class="hljs-title function_">convertPoint</span>(<span class="hljs-string">'NID_brainpoolP256r1'</span>, pkData);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'returnPoint: '</span> + returnPoint.<span class="hljs-property">x</span>.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1820px;">     <h3 id="getencodedpoint12" device-type="phone,2in1,tablet,wearable,tv">getEncodedPoint<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getencodedpoint12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static getEncodedPoint(curveName: string, point: Point, format: string): Uint8Array</p>     <p>根据椭圆曲线的曲线名，即相应的NID（Name IDentifier），按照指定的点数据格式，将Point对象转换为点数据。当前支持压缩/非压缩格式的点数据。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.103.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">curveName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">椭圆曲线的曲线名，即相应的NID（Name IDentifier）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">point</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#point10">Point</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">椭圆曲线上的Point点对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">format</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要获取的点数据格式，当前支持"COMPRESSED"或"UNCOMPRESSED"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.103.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Uint8Array</td>         <td class="cellrowborder" width="50%">返回指定格式的点数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.103.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">doTest</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> generator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC_BrainPoolP256r1'</span>);</li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-keyword">await</span> generator.<span class="hljs-title function_">generateKeyPair</span>();</li><li>  <span class="hljs-keyword">let</span> eccPkX = keyPair.<span class="hljs-property">pubKey</span>.<span class="hljs-title function_">getAsyKeySpec</span>(cryptoFramework.<span class="hljs-property">AsyKeySpecItem</span>.<span class="hljs-property">ECC_PK_X_BN</span>);</li><li>  <span class="hljs-keyword">let</span> eccPkY = keyPair.<span class="hljs-property">pubKey</span>.<span class="hljs-title function_">getAsyKeySpec</span>(cryptoFramework.<span class="hljs-property">AsyKeySpecItem</span>.<span class="hljs-property">ECC_PK_Y_BN</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'ECC_PK_X_BN 16：'</span> + eccPkX.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'ECC_PK_Y_BN 16：'</span> + eccPkY.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));</li><li>  <span class="hljs-comment">// 将eccPkX.toString(16)结果放入x，eccPkY.toString(16)结果放入y。</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">returnPoint</span>: cryptoFramework.<span class="hljs-property">Point</span> = {</li><li>    <span class="hljs-attr">x</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0x'</span> + eccPkX.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>)),</li><li>    <span class="hljs-attr">y</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'0x'</span> + eccPkY.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>))</li><li>  };</li><li>  <span class="hljs-keyword">let</span> returnData = cryptoFramework.<span class="hljs-property">ECCKeyUtil</span>.<span class="hljs-title function_">getEncodedPoint</span>(<span class="hljs-string">'NID_brainpoolP256r1'</span>, returnPoint, <span class="hljs-string">'UNCOMPRESSED'</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'returnData: '</span> + returnData);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="dhkeyutil11" device-type="phone,2in1,tablet,wearable,tv">DHKeyUtil<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dhkeyutil11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>根据素数P的长度和私钥长度（bit位数）生成DH公共密钥参数。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1598px;">     <h3 id="gendhcommonparamsspec11" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">genDHCommonParamsSpec<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gendhcommonparamsspec11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static genDHCommonParamsSpec(pLen: number, skLen?: number): DHCommonParamsSpec</p>     <p>根据素数P的长度和私钥长度（bit位数）生成DH公共密钥参数。详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-asym-key-generation-conversion-spec#dh" target="_blank">DH密钥生成规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Key.AsymKey</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Key.AsymKey。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.105.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pLen</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于指定DH公共密钥参数中素数P的长度，单位为bit。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">skLen</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">用于指定DH公共密钥参数中私钥的长度，单位为bit。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.105.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dhcommonparamsspec11">DHCommonParamsSpec</a></td>         <td class="cellrowborder" width="50%">返回DH公共密钥参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.105.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-title class_">DHCommonParamsSpec</span> = cryptoFramework.<span class="hljs-property">DHKeyUtil</span>.<span class="hljs-title function_">genDHCommonParamsSpec</span>(<span class="hljs-number">2048</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'genDHCommonParamsSpec success'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`genDHCommonParamsSpec error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="sm2cryptoutil12" device-type="phone,2in1,tablet,wearable,tv">SM2CryptoUtil<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sm2cryptoutil12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>用于SM2密码学运算的工具类。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1639px;">     <h3 id="genciphertextbyspec12" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">genCipherTextBySpec<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="genciphertextbyspec12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static genCipherTextBySpec(spec: SM2CipherTextSpec, mode?: string): DataBlob</p>     <p>根据指定的SM2密文参数，生成符合国密标准的ASN.1格式SM2密文。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">spec</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#sm2ciphertextspec12">SM2CipherTextSpec</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的SM2密文参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选的密文转换模式，可用于指定密文参数的拼接顺序，当前仅支持默认值"C1C3C2"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.107.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="50%">返回符合国密标准的ASN.1格式的SM2密文。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.107.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> spec : cryptoFramework.<span class="hljs-property">SM2CipherTextSpec</span> = {</li><li>    <span class="hljs-attr">xCoordinate</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'20625015362595980457695435345498579729138244358573902431560627260141789922999'</span>),</li><li>    <span class="hljs-attr">yCoordinate</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'48563164792857017065725892921053777369510340820930241057309844352421738767712'</span>),</li><li>    <span class="hljs-attr">cipherTextData</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">100</span>,<span class="hljs-number">227</span>,<span class="hljs-number">78</span>,<span class="hljs-number">195</span>,<span class="hljs-number">249</span>,<span class="hljs-number">179</span>,<span class="hljs-number">43</span>,<span class="hljs-number">70</span>,<span class="hljs-number">242</span>,<span class="hljs-number">69</span>,<span class="hljs-number">169</span>,<span class="hljs-number">10</span>,<span class="hljs-number">65</span>,<span class="hljs-number">123</span>]),</li><li>    <span class="hljs-attr">hashData</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">87</span>,<span class="hljs-number">167</span>,<span class="hljs-number">167</span>,<span class="hljs-number">247</span>,<span class="hljs-number">88</span>,<span class="hljs-number">146</span>,<span class="hljs-number">203</span>,<span class="hljs-number">234</span>,<span class="hljs-number">83</span>,<span class="hljs-number">126</span>,<span class="hljs-number">117</span>,<span class="hljs-number">129</span>,<span class="hljs-number">52</span>,<span class="hljs-number">142</span>,<span class="hljs-number">82</span>,<span class="hljs-number">54</span>,<span class="hljs-number">152</span>,<span class="hljs-number">226</span>,<span class="hljs-number">201</span>,<span class="hljs-number">111</span>,<span class="hljs-number">143</span>,<span class="hljs-number">115</span>,<span class="hljs-number">169</span>,<span class="hljs-number">125</span>,<span class="hljs-number">128</span>,<span class="hljs-number">42</span>,<span class="hljs-number">157</span>,<span class="hljs-number">31</span>,<span class="hljs-number">114</span>,<span class="hljs-number">198</span>,<span class="hljs-number">109</span>,<span class="hljs-number">244</span>]),</li><li>  }</li><li>  <span class="hljs-keyword">let</span> data = cryptoFramework.<span class="hljs-property">SM2CryptoUtil</span>.<span class="hljs-title function_">genCipherTextBySpec</span>(spec, <span class="hljs-string">'C1C3C2'</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'genCipherTextBySpec success'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`genCipherTextBySpec error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1535px;">     <h3 id="getciphertextspec12" device-type="phone,2in1,tablet,wearable,tv">getCipherTextSpec<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getciphertextspec12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static getCipherTextSpec(cipherText: DataBlob, mode?: string): SM2CipherTextSpec</p>     <p>从符合国密标准的ASN.1格式的SM2密文中，获取具体的SM2密文参数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cipherText</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">符合国密标准的ASN.1格式的SM2密文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选的密文转换模式，可用于指定密文参数的拼接顺序，当前仅支持默认值"C1C3C2"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.108.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#sm2ciphertextspec12">SM2CipherTextSpec</a></td>         <td class="cellrowborder" width="50%">返回SM2密文参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.108.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> cipherTextArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>,<span class="hljs-number">118</span>,<span class="hljs-number">2</span>,<span class="hljs-number">32</span>,<span class="hljs-number">45</span>,<span class="hljs-number">153</span>,<span class="hljs-number">88</span>,<span class="hljs-number">82</span>,<span class="hljs-number">104</span>,<span class="hljs-number">221</span>,<span class="hljs-number">226</span>,<span class="hljs-number">43</span>,<span class="hljs-number">174</span>,<span class="hljs-number">21</span>,<span class="hljs-number">122</span>,<span class="hljs-number">248</span>,<span class="hljs-number">5</span>,<span class="hljs-number">232</span>,<span class="hljs-number">105</span>,<span class="hljs-number">41</span>,<span class="hljs-number">92</span>,<span class="hljs-number">95</span>,<span class="hljs-number">102</span>,<span class="hljs-number">224</span>,<span class="hljs-number">216</span>,<span class="hljs-number">149</span>,<span class="hljs-number">85</span>,<span class="hljs-number">236</span>,<span class="hljs-number">110</span>,<span class="hljs-number">6</span>,<span class="hljs-number">64</span>,<span class="hljs-number">188</span>,<span class="hljs-number">149</span>,<span class="hljs-number">70</span>,<span class="hljs-number">70</span>,<span class="hljs-number">183</span>,<span class="hljs-number">2</span>,<span class="hljs-number">32</span>,<span class="hljs-number">107</span>,<span class="hljs-number">93</span>,<span class="hljs-number">198</span>,<span class="hljs-number">247</span>,<span class="hljs-number">119</span>,<span class="hljs-number">18</span>,<span class="hljs-number">40</span>,<span class="hljs-number">110</span>,<span class="hljs-number">90</span>,<span class="hljs-number">156</span>,<span class="hljs-number">193</span>,<span class="hljs-number">158</span>,<span class="hljs-number">205</span>,<span class="hljs-number">113</span>,<span class="hljs-number">170</span>,<span class="hljs-number">128</span>,<span class="hljs-number">146</span>,<span class="hljs-number">109</span>,<span class="hljs-number">75</span>,<span class="hljs-number">17</span>,<span class="hljs-number">181</span>,<span class="hljs-number">109</span>,<span class="hljs-number">110</span>,<span class="hljs-number">91</span>,<span class="hljs-number">149</span>,<span class="hljs-number">5</span>,<span class="hljs-number">110</span>,<span class="hljs-number">233</span>,<span class="hljs-number">209</span>,<span class="hljs-number">78</span>,<span class="hljs-number">229</span>,<span class="hljs-number">96</span>,<span class="hljs-number">4</span>,<span class="hljs-number">32</span>,<span class="hljs-number">87</span>,<span class="hljs-number">167</span>,<span class="hljs-number">167</span>,<span class="hljs-number">247</span>,<span class="hljs-number">88</span>,<span class="hljs-number">146</span>,<span class="hljs-number">203</span>,<span class="hljs-number">234</span>,<span class="hljs-number">83</span>,<span class="hljs-number">126</span>,<span class="hljs-number">117</span>,<span class="hljs-number">129</span>,<span class="hljs-number">52</span>,<span class="hljs-number">142</span>,<span class="hljs-number">82</span>,<span class="hljs-number">54</span>,<span class="hljs-number">152</span>,<span class="hljs-number">226</span>,<span class="hljs-number">201</span>,<span class="hljs-number">111</span>,<span class="hljs-number">143</span>,<span class="hljs-number">115</span>,<span class="hljs-number">169</span>,<span class="hljs-number">125</span>,<span class="hljs-number">128</span>,<span class="hljs-number">42</span>,<span class="hljs-number">157</span>,<span class="hljs-number">31</span>,<span class="hljs-number">114</span>,<span class="hljs-number">198</span>,<span class="hljs-number">109</span>,<span class="hljs-number">244</span>,<span class="hljs-number">4</span>,<span class="hljs-number">14</span>,<span class="hljs-number">100</span>,<span class="hljs-number">227</span>,<span class="hljs-number">78</span>,<span class="hljs-number">195</span>,<span class="hljs-number">249</span>,<span class="hljs-number">179</span>,<span class="hljs-number">43</span>,<span class="hljs-number">70</span>,<span class="hljs-number">242</span>,<span class="hljs-number">69</span>,<span class="hljs-number">169</span>,<span class="hljs-number">10</span>,<span class="hljs-number">65</span>,<span class="hljs-number">123</span>]);</li><li>    <span class="hljs-keyword">let</span> cipherText : cryptoFramework.<span class="hljs-property">DataBlob</span> = {data : cipherTextArray};</li><li>    <span class="hljs-keyword">let</span> spec : cryptoFramework.<span class="hljs-property">SM2CipherTextSpec</span> = cryptoFramework.<span class="hljs-property">SM2CryptoUtil</span>.<span class="hljs-title function_">getCipherTextSpec</span>(cipherText, <span class="hljs-string">'C1C3C2'</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCipherTextSpec success'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getCipherTextSpec error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1886px;">     <h2 id="cryptoframeworkcreatecipher" device-type="phone,2in1,tablet,wearable,tv">cryptoFramework.createCipher<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cryptoframeworkcreatecipher" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createCipher(transformation: string): Cipher</p>     <p>通过指定算法名称，获取相应的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">Cipher</a>实例。</p>     <p>支持的规格详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-sym-encrypt-decrypt-spec" target="_blank">对称密钥加解密算法规格</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-asym-encrypt-decrypt-spec" target="_blank">非对称密钥加解密算法规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.109.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">transformation</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待生成Cipher的算法名称（含密钥长度）、加密模式以及填充方法的组合。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ol>        <li>         <p>目前对称加解密中，PKCS5和PKCS7的实现相同，其padding长度和分组长度保持一致。在3DES中均按8字节填充，在AES中均按16字节填充。另有NoPadding表示不填充。</p>         <p>开发者需要自行了解密码学不同分组模式的差异，以便选择合适的参数规格。例如选择ECB和CBC模式时，建议启用填充，否则必须确保明文长度是分组大小的整数倍；选择其他模式时，可以不启用填充，此时密文长度和明文长度一致（即可能不是分组大小的整数倍）。</p></li>        <li>使用RSA或SM2进行非对称加解密时，必须创建两个Cipher对象，分别进行加密和解密操作，不能对同一个Cipher对象进行加解密。对称加解密没有此要求，只要算法规格一致，可以对同一个Cipher对象进行加解密操作。</li>       </ol>      </div></div></div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.109.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">Cipher</a></td>         <td class="cellrowborder" width="50%">返回加解密生成器的对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.109.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> cipherAlgName = <span class="hljs-string">'3DES192|ECB|PKCS7'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> cipher = cryptoFramework.<span class="hljs-title function_">createCipher</span>(cipherAlgName);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'cipher algName：'</span> + cipher.<span class="hljs-property">algName</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 430px;">     <h2 id="cipher" device-type="phone,2in1,tablet,wearable,tv">Cipher<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cipher" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供加解密的算法操作功能，按序调用本类中的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#update">update()</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dofinal">doFinal()</a>方法，可以实现对称加密/对称解密/非对称加密/非对称解密。</p>     <p>完整的加解密流程示例可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-encryption-decryption-overview" target="_blank">开发指南</a>。</p>     <p>一次完整的加/解密流程在对称加密和非对称加密中略有不同：</p>     <ul>      <li>对称加解密：init为必选，update为可选（且允许多次update加/解密大数据），doFinal为必选；doFinal结束后可以重新init开始新一轮加/解密流程。</li>      <li>RSA、SM2非对称加解密：init为必选，不支持update操作，doFinal为必选（允许连续多次doFinal加/解密大数据）；RSA不支持重复init，切换加解密模式或填充方式时，需要重新创建Cipher对象。</li>     </ul>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h3 id="属性-5" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-5" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">加解密生成器指定的算法名称。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1348px;">     <h3 id="init" device-type="phone,2in1,tablet,wearable,tv">init<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="init" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>init(opMode: CryptoMode, key: Key, params: ParamsSpec | null, callback: AsyncCallback&lt;void&gt;): void</p>     <p>初始化加解密的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">cipher</a>对象，通过注册回调函数获取结果。init、update、doFinal为三段式接口，需要成组使用。其中init和doFinal必选，update可选。</p>     <p>必须在使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatecipher">createCipher</a>创建<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">Cipher</a>实例后，才能使用本函数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.112.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">opMode</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptomode">CryptoMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">加密或者解密模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#key">Key</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定加密或解密的密钥。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#paramsspec">ParamsSpec</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定加密或解密的参数，对于ECB等没有参数的算法模式，可以传入null。API 10之前只支持ParamsSpec， API 10之后增加支持null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当加解密初始化成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.112.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1450px;">     <h3 id="init-1" device-type="phone,2in1,tablet,wearable,tv">init<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="init-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>init(opMode: CryptoMode, key: Key, params: ParamsSpec | null): Promise&lt;void&gt;</p>     <p>初始化加解密的cipher对象，通过Promise获取结果。init、update、doFinal为三段式接口，需要成组使用。其中init和doFinal必选，update可选。</p>     <p>必须在使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatecipher">createCipher</a>创建<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">Cipher</a>实例后，才能使用本函数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.113.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">opMode</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptomode">CryptoMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">加密或者解密模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#key">Key</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定加密或解密的密钥。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#paramsspec">ParamsSpec</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定加密或解密的参数，对于ECB等没有参数的算法模式，可以传入null。API 10之前仅支持ParamsSpec，从API 10开始增加对null的支持。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.113.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.113.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1135px;">     <h3 id="initsync12" device-type="phone,2in1,tablet,wearable,tv">initSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="initsync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>initSync(opMode: CryptoMode, key: Key, params: ParamsSpec | null): void</p>     <p>初始化加解密的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">cipher</a>对象，通过注册回调函数获取结果。initSync、updateSync、doFinalSync为三段式接口，需要成组使用。其中initSync和doFinalSync必选，updateSync可选。</p>     <p>必须在使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatecipher">createCipher</a>创建<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">Cipher</a>实例后，才能使用本函数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.114.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">opMode</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptomode">CryptoMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">加密或者解密模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#key">Key</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定加密或解密的密钥。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#paramsspec">ParamsSpec</a> | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定加密或解密的参数，对于ECB等没有参数的算法模式，可以传入null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.114.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1710px;">     <h3 id="update" device-type="phone,2in1,tablet,wearable,tv">update<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>update(data: DataBlob, callback: AsyncCallback&lt;DataBlob&gt;): void</p>     <p>分段更新加密或者解密数据操作，通过注册回调函数获取加/解密数据。</p>     <p>必须在对<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">Cipher</a>实例使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>初始化后，才能使用本函数。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ol>        <li>         <p>在进行对称加解密操作时，如果开发者对各个分组模式不够熟悉，建议对每次update和doFinal的结果进行判断，确保其不为null，并在结果不为null时取出数据进行拼接，形成完整的密文或明文。这是因选择的分组模式等各项规格可能对update和doFinal的结果产生影响。</p>         <p>例如，对于ECB和CBC模式，不论update传入的数据是否为分组长度的整数倍，都会以分组为单位进行加解密，并输出本次update新产生的加解密分组结果。</p>         <p>可以理解为update只要凑满一个新的分组就会有输出，如果没有凑满则此次update输出为null，将当前未被加解密的数据留着，等下一次update或doFinal传入数据时，拼接起来继续凑分组。</p>         <p>最后doFinal时，会将剩下的未加解密的数据根据<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatecipher">createCipher</a>时设置的填充模式进行填充，补齐到分组的整数倍长度，再输出剩余的加解密结果。</p>         <p>对于可以将分组密码转化为流模式实现的模式，还可能出现密文长度与明文长度相同的情况。</p></li>        <li>         <p>根据数据量，可以不调用update（即init完成后直接调用doFinal）或多次调用update。</p>         <p>算法库未对单次或累计的update数据量设置限制。对于大数据量的对称加解密操作，建议分多次调用update方法传入数据。</p>         <p>AES使用多次update操作的示例代码详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-aes-sym-encrypt-decrypt-gcm-by-segment" target="_blank">使用AES对称密钥分段加解密</a>。</p></li>        <li>         <p>RSA、SM2非对称加解密不支持update操作。</p></li>        <li>         <p>对于CCM模式的对称加解密算法，加密时只能调用1次update接口加密数据并调用doFinal接口获取tag，或直接调用doFinal接口加密数据并获取tag，解密时只能调用1次update接口或调用1次doFinal接口解密数据并验证tag。</p></li>       </ol>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.115.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要进行加密或解密的数据。data不能为null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。更新加/解密数据成功时，err为undefined，data为DataBlob；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.115.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1764px;">     <h3 id="update-1" device-type="phone,2in1,tablet,wearable,tv">update<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>update(data: DataBlob): Promise&lt;DataBlob&gt;</p>     <p>分段更新加密或者解密数据操作，通过Promise获取加/解密数据。</p>     <p>必须在对<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">Cipher</a>实例使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1">init()</a>初始化后，才能使用本函数。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ol>        <li>         <p>在进行对称加解密操作时，如果开发者对各分组模式不够熟悉，建议每次调用update和doFinal后，都判断结果是否为null。如果结果不为null，则取出其中的数据进行拼接，以形成完整的密文或明文。这是因为选择的分组模式等各项规格可能会影响update和doFinal的结果。</p>         <p>（例如对于ECB和CBC模式，不论update传入的数据是否为分组长度的整数倍，都会以分组作为基本单位进行加/解密，并输出本次update新产生的加/解密分组结果。</p>         <p>可以理解为，update只要凑满一个新的分组就会有输出，如果没有凑满则此次update输出为null，把当前还没被加/解密的数据留着，等下一次update/doFinal传入数据的时候，拼接起来继续凑分组。</p>         <p>最后doFinal的时候，会把剩下的还没加/解密的数据，根据<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatecipher">createCipher</a>时设置的padding模式进行填充，补齐到分组的整数倍长度，再输出剩余加解密结果。</p>         <p>而对于可以将分组密码转化为流模式实现的模式，还可能出现密文长度和明文长度相同的情况等。）</p></li>        <li>         <p>根据数据量，可以不调用update（即init完成后直接调用doFinal）或多次调用update。</p>         <p>算法库目前没有对update（单次或累计）的数据量设置大小限制，建议对于大数据量的对称加解密，可以采用多次update的方式传入数据。</p>         <p>AES使用多次update操作的示例代码详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-aes-sym-encrypt-decrypt-gcm-by-segment" target="_blank">使用AES对称密钥分段加解密</a>。</p></li>        <li>RSA、SM2非对称加解密不支持update操作。</li>        <li>对于CCM模式的对称加解密算法，加密时只能调用1次update接口加密数据并调用doFinal接口获取tag，或直接调用doFinal接口加密数据并获取tag，解密时只能调用1次update接口或调用1次doFinal接口解密数据并验证tag。</li>       </ol>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.116.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">加密或者解密的数据。data不能为null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.116.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回此次更新的加/解密结果DataBlob。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.116.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1216px;">     <h3 id="updatesync12" device-type="phone,2in1,tablet,wearable,tv">updateSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatesync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateSync(data: DataBlob): DataBlob</p>     <p>分段更新加密或者解密数据操作，通过注册回调函数获取加/解密数据。</p>     <p>必须在对<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">Cipher</a>实例使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#initsync12">initSync()</a>初始化后，才能使用本函数。</p>     <p>其他注意事项同上异步接口说明。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.117.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">加密或者解密的数据。data不能为null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.117.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="50%">返回此次更新的加/解密结果DataBlob。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.117.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3175px;">     <h3 id="dofinal" device-type="phone,2in1,tablet,wearable,tv">doFinal<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dofinal" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>doFinal(data: DataBlob | null, callback: AsyncCallback&lt;DataBlob&gt;): void</p>     <p>（1）在对称加解密中doFinal用于处理剩余数据和本次传入的数据，并最终结束加密或解密操作，通过注册回调函数获取加密或解密后的数据。如果数据量较小，可以在 doFinal 中一次性传入数据，而不使用update；如果在本次加解密流程中已经使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#update">update</a>传入过数据，可以在doFinal的data参数处传入null。根据对称加解密的模式不同，doFinal的输出有以下区别：</p>     <ul>      <li>在GCM和CCM模式的对称加密中，一次加密流程中，将每次update和doFinal的结果拼接起来，会得到“密文 + authTag”。GCM模式下，authTag为末尾的16字节；CCM模式下，authTag为末尾的12字节。其余部分均为密文。如果doFinal的data参数传入null，则doFinal的结果就是authTag。解密时，authTag需要填入<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#gcmparamsspec">GcmParamsSpec</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#ccmparamsspec">CcmParamsSpec</a>，密文作为解密时的data参数。</li>      <li>对于其他模式的对称加解密及GCM和CCM模式的对称解密：每次加/解密流程中，update和doFinal的结果拼接起来，得到完整的明文或密文。</li>     </ul>     <p>（2）在RSA、SM2非对称加解密中，doFinal加/解密本次传入的数据，通过注册回调函数获取加密或者解密数据。如果数据量较大，可以多次调用doFinal，拼接结果得到完整的明文/密文。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ol>        <li>         <p>对称加解密中，调用doFinal标志着一次加解密流程已经完成，即<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">Cipher</a>实例的状态被清除，因此当后续开启新一轮加解密流程时，需要重新调用init()并传入完整的参数列表进行初始化</p>         <p>（比如即使是对同一个Cipher实例，采用同样的对称密钥，进行加密然后解密，则解密中调用init的时候仍需填写params参数，而不能直接省略为null）。</p></li>        <li>如果遇到解密失败，需检查加解密数据和init时的参数是否匹配，包括GCM模式下加密得到的authTag是否填入解密时的GcmParamsSpec等。</li>        <li>         <p>doFinal的结果可能为null，因此使用.data字段访问doFinal结果的具体数据前，请记得先判断结果是否为null，避免产生异常。</p>         <p>对于加密，CFB、OFB和CTR模式，如果doFinal传null, 则返回结果为null。</p>         <p>对于解密，GCM、CCM、CFB、OFB和CTR模式，如果doFinal传null，则返回结果为null；对于解密，其他模式，如果明文是加密块大小的整倍数，调用update传入所有密文，调用doFinal传null, 则返回结果为null。</p></li>        <li>非对称加解密时多次doFinal操作的示例代码详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-asym-encrypt-decrypt-by-segment" target="_blank">使用RSA非对称密钥分段加解密</a>，SM2和RSA的操作类似。</li>       </ol>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.118.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">加密或解密的数据。在对称加解密中可为null，但不可传入{data: Uint8Array(空) }。API 10前仅支持DataBlob，API 10后增加null支持。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。最终加/解密成功时，err为undefined，data为加/解密结果DataBlob；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.118.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>以AES GCM模式加密为例：</strong></p>     <p>更多加解密流程的完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-aes-sym-encrypt-decrypt-gcm" target="_blank">加解密开发指导</a>。</p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">generateRandom</span>(<span class="hljs-params">len: <span class="hljs-built_in">number</span></span>) {</li><li>  <span class="hljs-keyword">let</span> rand = cryptoFramework.<span class="hljs-title function_">createRandom</span>();</li><li>  <span class="hljs-keyword">let</span> generateRandSync = rand.<span class="hljs-title function_">generateRandomSync</span>(len);</li><li>  <span class="hljs-keyword">return</span> generateRandSync;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genGcmParamsSpec</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> ivBlob = <span class="hljs-title function_">generateRandom</span>(<span class="hljs-number">12</span>);</li><li>  <span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>];</li><li>  <span class="hljs-keyword">let</span> dataAad = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arr);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">aadBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: dataAad };</li><li>  arr = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>];</li><li>  <span class="hljs-keyword">let</span> dataTag = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arr);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">tagBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = {</li><li>    <span class="hljs-attr">data</span>: dataTag</li><li>  };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">gcmParamsSpec</span>: cryptoFramework.<span class="hljs-property">GcmParamsSpec</span> = {</li><li>    <span class="hljs-attr">iv</span>: ivBlob,</li><li>    <span class="hljs-attr">aad</span>: aadBlob,</li><li>    <span class="hljs-attr">authTag</span>: tagBlob,</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"GcmParamsSpec"</span></li><li>  };</li><li>  <span class="hljs-keyword">return</span> gcmParamsSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">cipherByCallback</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> gcmParams = <span class="hljs-title function_">genGcmParamsSpec</span>();</li><li>  <span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'AES128'</span>);</li><li>  <span class="hljs-keyword">let</span> cipher = cryptoFramework.<span class="hljs-title function_">createCipher</span>(<span class="hljs-string">'AES128|GCM|PKCS7'</span>);</li><li>  symKeyGenerator.<span class="hljs-title function_">generateSymKey</span>(<span class="hljs-function">(<span class="hljs-params">err, symKey</span>) =&gt;</span> {</li><li>    cipher.<span class="hljs-title function_">init</span>(cryptoFramework.<span class="hljs-property">CryptoMode</span>.<span class="hljs-property">ENCRYPT_MODE</span>, symKey, gcmParams, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> message = <span class="hljs-string">"This is a test"</span>;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">plainText</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(message, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>      cipher.<span class="hljs-title function_">update</span>(plainText, <span class="hljs-function">(<span class="hljs-params">err, encryptUpdate</span>) =&gt;</span> {</li><li>        cipher.<span class="hljs-title function_">doFinal</span>(<span class="hljs-literal">null</span>, <span class="hljs-function">(<span class="hljs-params">err, tag</span>) =&gt;</span> {</li><li>          gcmParams.<span class="hljs-property">authTag</span> = tag;</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'encryptUpdate plainText：'</span> + encryptUpdate.<span class="hljs-property">data</span>);</li><li>        });</li><li>      });</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3213px;">     <h3 id="dofinal-1" device-type="phone,2in1,tablet,wearable,tv">doFinal<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dofinal-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>doFinal(data: DataBlob | null): Promise&lt;DataBlob&gt;</p>     <p>（1）在对称加解密中，doFinal加/解密（分组模式产生的）剩余数据和本次传入的数据，最后结束加密或者解密数据操作，通过Promise获取加密或者解密数据。</p>     <p>如果数据量较小，可以在doFinal中一次性传入数据，而不使用update；如果在本次加解密流程中，已经使用update传入过数据，可以在doFinal的data参数处传入null。</p>     <p>根据对称加解密的模式不同，doFinal的输出有如下区别：</p>     <ul>      <li>       <p>对于GCM和CCM模式的对称加密：一次加密流程中，如果将每一次update和doFinal的结果拼接起来，会得到“密文+authTag”，即末尾的16字节（GCM模式）或12字节（CCM模式）是authTag，而其余部分均为密文。（也就是说，如果doFinal的data参数传入null，则doFinal的结果就是authTag）</p>       <p>authTag需要填入解密时的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#gcmparamsspec">GcmParamsSpec</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#ccmparamsspec">CcmParamsSpec</a>；密文则作为解密时的入参data。</p></li>      <li>对于其他模式的对称加解密及GCM和CCM模式的对称解密：一次加解密流程中，每次update和doFinal的结果拼接起来，得到完整的明文或密文。</li>     </ul>     <p>（2）在RSA和SM2非对称加解密中，使用doFinal方法加解密传入的数据，并通过Promise获取加密或解密结果。如果数据量较大，可以多次调用doFinal，拼接结果以获得完整的明文或密文。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ol>        <li>         <p>对称加解密中，调用doFinal标志着一次加解密流程完成，<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipher">Cipher</a>实例状态被清除。因此，后续开启新流程时，需重新调用init并传入完整参数列表进行初始化。</p>         <p>即使是对同一个Cipher实例，使用相同对称密钥，进行加密后解密时，调用init仍需填写params参数，不能省略为null。</p></li>        <li>         <p>如果遇到解密失败，检查加解密数据和初始化时的参数是否匹配，包括GCM模式下加密得到的authTag是否填入解密时的GcmParamsSpec。</p></li>        <li>         <p>doFinal的结果可能为null，因此在使用.data字段访问doFinal结果的具体数据前，请先判断结果是否为null，以避免产生异常。</p>         <p>对于加密，CFB、OFB 和 CTR 模式，如果doFinal传入null，则返回结果为null。</p>         <p>对于解密，GCM、CCM、CFB、OFB和CTR模式，如果doFinal传null，则返回结果为null；对于其他模式，如果明文是加密块大小的整倍数，调用update传入所有密文，调用doFinal传null, 则返回结果为null。</p></li>        <li>         <p>非对称加解密时多次doFinal操作的示例代码详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-asym-encrypt-decrypt-by-segment" target="_blank">使用RSA非对称密钥分段加解密</a>，SM2和RSA的操作类似。</p></li>       </ol>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.119.13.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.13.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.13.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.13.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">加密或者解密的数据。data参数允许为null，但不允许传入{data: Uint8Array(空) }。API 10之前只支持DataBlob，API 10之后增加支持null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.119.15.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.15.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回剩余数据的加/解密结果DataBlob。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.119.18.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.18.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>以AES GCM模式加密为例：</strong></p>     <p>此外，更多加解密流程的完整示例可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-aes-sym-encrypt-decrypt-gcm" target="_blank">加解密开发指导</a>。</p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">generateRandom</span>(<span class="hljs-params">len: <span class="hljs-built_in">number</span></span>) {</li><li>  <span class="hljs-keyword">let</span> rand = cryptoFramework.<span class="hljs-title function_">createRandom</span>();</li><li>  <span class="hljs-keyword">let</span> generateRandSync = rand.<span class="hljs-title function_">generateRandomSync</span>(len);</li><li>  <span class="hljs-keyword">return</span> generateRandSync;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genGcmParamsSpec</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> ivBlob = <span class="hljs-title function_">generateRandom</span>(<span class="hljs-number">12</span>);</li><li>  <span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>];</li><li>  <span class="hljs-keyword">let</span> dataAad = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arr);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">aadBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: dataAad };</li><li>  arr = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>];</li><li>  <span class="hljs-keyword">let</span> dataTag = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arr);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">tagBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = {</li><li>    <span class="hljs-attr">data</span>: dataTag</li><li>  };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">gcmParamsSpec</span>: cryptoFramework.<span class="hljs-property">GcmParamsSpec</span> = {</li><li>    <span class="hljs-attr">iv</span>: ivBlob,</li><li>    <span class="hljs-attr">aad</span>: aadBlob,</li><li>    <span class="hljs-attr">authTag</span>: tagBlob,</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"GcmParamsSpec"</span></li><li>  };</li><li>  <span class="hljs-keyword">return</span> gcmParamsSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">cipherByPromise</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> gcmParams = <span class="hljs-title function_">genGcmParamsSpec</span>();</li><li>  <span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'AES128'</span>);</li><li>  <span class="hljs-keyword">let</span> cipher = cryptoFramework.<span class="hljs-title function_">createCipher</span>(<span class="hljs-string">'AES128|GCM|PKCS7'</span>);</li><li>  <span class="hljs-keyword">let</span> symKey = <span class="hljs-keyword">await</span> symKeyGenerator.<span class="hljs-title function_">generateSymKey</span>();</li><li>  <span class="hljs-keyword">await</span> cipher.<span class="hljs-title function_">init</span>(cryptoFramework.<span class="hljs-property">CryptoMode</span>.<span class="hljs-property">ENCRYPT_MODE</span>, symKey, gcmParams);</li><li>  <span class="hljs-keyword">let</span> message = <span class="hljs-string">"This is a test"</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">plainText</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(message, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> encryptUpdate = <span class="hljs-keyword">await</span> cipher.<span class="hljs-title function_">update</span>(plainText);</li><li>  gcmParams.<span class="hljs-property">authTag</span> = <span class="hljs-keyword">await</span> cipher.<span class="hljs-title function_">doFinal</span>(<span class="hljs-literal">null</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'encryptUpdate plainText: '</span> + encryptUpdate.<span class="hljs-property">data</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2761px;">     <h3 id="dofinalsync12" device-type="phone,2in1,tablet,wearable,tv">doFinalSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dofinalsync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>doFinalSync(data: DataBlob | null): DataBlob</p>     <p>（1）在对称加解密中，doFinalSync用于处理剩余数据和本次传入的数据，并结束加密或解密操作，通过注册回调函数获取加密或解密结果。</p>     <p>如果数据量较小，可以在doFinalSync中一次性传入数据，而不使用updateSync。如果在本次加解密流程中已经使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#updatesync12">updateSync</a>传入过数据，可以在doFinalSync的data参数处传入null。</p>     <p>根据对称加解密的模式不同，doFinalSync的输出有以下区别：</p>     <ul>      <li>       <p>对于GCM和CCM模式的对称加密：一次加密流程中，如果将每次updateSync和doFinalSync的结果拼接起来，会得到“密文 + authTag”。即末尾的16字节（GCM模式）或12字节（CCM模式）是authTag，其余部分均为密文。也就是说，如果doFinalSync的data参数传入null，则doFinalSync的结果就是 authTag。</p>       <p>authTag需要填入解密时的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#gcmparamsspec">GcmParamsSpec</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#ccmparamsspec">CcmParamsSpec</a>；密文则作为解密时的入参data。</p></li>      <li>       <p>对于其他模式的对称加解密以及GCM和CCM模式的对称解密：在一次加/解密流程中，每次updateSync和doFinalSync的结果拼接起来，得到完整的明文或密文。</p></li>     </ul>     <p>（2）在RSA和SM2非对称加解密中，doFinalSync用于加解密本次传入的数据，通过注册回调函数获取加密或解密后的数据。如果数据量超过单次处理能力，可以多次调用doFinalSync，并将结果拼接以获得完整的明文或密文。</p>     <p>其他注意事项同接口<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dofinal">doFinal()</a>说明。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.120.12.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.12.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.12.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.12.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">加密或者解密的数据。在对称加解密中允许为null，但不允许传入{data: Uint8Array(空) }。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.120.14.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.14.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="50%">返回剩余数据的加/解密结果DataBlob。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.120.17.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.17.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>以AES GCM模式加密为例：</strong></p>     <p>此外，更多加解密流程的完整示例可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-aes-sym-encrypt-decrypt-gcm" target="_blank">加解密开发指导</a>。</p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">generateRandom</span>(<span class="hljs-params">len: <span class="hljs-built_in">number</span></span>) {</li><li>  <span class="hljs-keyword">let</span> rand = cryptoFramework.<span class="hljs-title function_">createRandom</span>();</li><li>  <span class="hljs-keyword">let</span> generateRandSync = rand.<span class="hljs-title function_">generateRandomSync</span>(len);</li><li>  <span class="hljs-keyword">return</span> generateRandSync;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genGcmParamsSpec</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> ivBlob = <span class="hljs-title function_">generateRandom</span>(<span class="hljs-number">12</span>);</li><li>  <span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>];</li><li>  <span class="hljs-keyword">let</span> dataAad = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arr);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">aadBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: dataAad };</li><li>  arr = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>];</li><li>  <span class="hljs-keyword">let</span> dataTag = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arr);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">tagBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = {</li><li>    <span class="hljs-attr">data</span>: dataTag</li><li>  };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">gcmParamsSpec</span>: cryptoFramework.<span class="hljs-property">GcmParamsSpec</span> = {</li><li>    <span class="hljs-attr">iv</span>: ivBlob,</li><li>    <span class="hljs-attr">aad</span>: aadBlob,</li><li>    <span class="hljs-attr">authTag</span>: tagBlob,</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"GcmParamsSpec"</span></li><li>  };</li><li>  <span class="hljs-keyword">return</span> gcmParamsSpec;</li><li>}</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">cipherBySync</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> gcmParams = <span class="hljs-title function_">genGcmParamsSpec</span>();</li><li>  <span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'AES128'</span>);</li><li>  <span class="hljs-keyword">let</span> cipher = cryptoFramework.<span class="hljs-title function_">createCipher</span>(<span class="hljs-string">'AES128|GCM|PKCS7'</span>);</li><li>  <span class="hljs-keyword">let</span> symKey = <span class="hljs-keyword">await</span> symKeyGenerator.<span class="hljs-title function_">generateSymKey</span>();</li><li>  <span class="hljs-keyword">await</span> cipher.<span class="hljs-title function_">init</span>(cryptoFramework.<span class="hljs-property">CryptoMode</span>.<span class="hljs-property">ENCRYPT_MODE</span>, symKey, gcmParams);</li><li>  <span class="hljs-keyword">let</span> message = <span class="hljs-string">"This is a test"</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">plainText</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(message, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> encryptUpdate = cipher.<span class="hljs-title function_">updateSync</span>(plainText);</li><li>  gcmParams.<span class="hljs-property">authTag</span> = cipher.<span class="hljs-title function_">doFinalSync</span>(<span class="hljs-literal">null</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'encryptUpdate plainText: '</span> + encryptUpdate.<span class="hljs-property">data</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1371px;">     <h3 id="setcipherspec10" device-type="phone,2in1,tablet,wearable,tv">setCipherSpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcipherspec10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setCipherSpec(itemType: CipherSpecItem, itemValue: Uint8Array): void</p>     <p>设置加解密参数。常用的加解密参数可以直接通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatecipher">createCipher</a> 来指定，剩余参数可以通过本接口指定。当前只支持RSA算法。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.121.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">itemType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipherspecitem10">CipherSpecItem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于指定需要设置的加解密参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">itemValue</td>         <td class="cellrowborder" width="25%">Uint8Array</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于指定加解密参数的具体值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.121.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testsetCipherSpec</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> cipher = cryptoFramework.<span class="hljs-title function_">createCipher</span>(<span class="hljs-string">"RSA2048|PKCS1_OAEP|SHA256|MGF1_SHA1"</span>);</li><li>  <span class="hljs-keyword">let</span> pSource = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]);</li><li>  cipher.<span class="hljs-title function_">setCipherSpec</span>(cryptoFramework.<span class="hljs-property">CipherSpecItem</span>.<span class="hljs-property">OAEP_MGF1_PSRC_UINT8ARR</span>, pSource);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1497px;">     <h3 id="getcipherspec10" device-type="phone,2in1,tablet,wearable,tv">getCipherSpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcipherspec10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCipherSpec(itemType: CipherSpecItem): string | Uint8Array</p>     <p>获取加解密参数。当前只支持RSA算法和SM2算法，从API version 11开始，支持SM2算法获取加解密参数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Cipher</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Cipher。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.122.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">itemType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cipherspecitem10">CipherSpecItem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于指定需要获取的加解密参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.122.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string | Uint8Array</td>         <td class="cellrowborder" width="50%">获取的加解密参数的具体值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.122.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGetCipherSpec</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> cipher = cryptoFramework.<span class="hljs-title function_">createCipher</span>(<span class="hljs-string">"RSA2048|PKCS1_OAEP|SHA256|MGF1_SHA1"</span>);</li><li>  <span class="hljs-keyword">let</span> mdName = cipher.<span class="hljs-title function_">getCipherSpec</span>(cryptoFramework.<span class="hljs-property">CipherSpecItem</span>.<span class="hljs-property">OAEP_MD_NAME_STR</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCipherSpec: mdName ='</span> + mdName);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1738px;">     <h2 id="cryptoframeworkcreatesign" device-type="phone,2in1,tablet,wearable,tv">cryptoFramework.createSign<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cryptoframeworkcreatesign" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createSign(algName: string): Sign</p>     <p>生成Sign实例。</p>     <p>支持的规格详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-sign-sig-verify-overview" target="_blank">签名验签规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.123.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">algName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定签名算法：RSA、ECC、DSA、SM2<sup>10+</sup>或Ed25519<sup>11+</sup>。使用RSA PKCS1模式时需设置摘要；使用RSA PSS模式时需设置摘要和掩码摘要。签名时，通过设置OnlySign参数可传入数据摘要仅作签名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.123.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#sign">Sign</a></td>         <td class="cellrowborder" width="50%">返回由输入算法指定生成的Sign对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.123.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> signer1 = cryptoFramework.<span class="hljs-title function_">createSign</span>(<span class="hljs-string">'RSA1024|PKCS1|SHA256'</span>);</li><li>
</li><li><span class="hljs-keyword">let</span> signer2 = cryptoFramework.<span class="hljs-title function_">createSign</span>(<span class="hljs-string">'RSA1024|PSS|SHA256|MGF1_SHA256'</span>);</li><li>
</li><li><span class="hljs-keyword">let</span> signer3 = cryptoFramework.<span class="hljs-title function_">createSign</span>(<span class="hljs-string">'ECC224|SHA256'</span>);</li><li>
</li><li><span class="hljs-keyword">let</span> signer4 = cryptoFramework.<span class="hljs-title function_">createSign</span>(<span class="hljs-string">'DSA2048|SHA256'</span>);</li><li>
</li><li><span class="hljs-keyword">let</span> signer5 = cryptoFramework.<span class="hljs-title function_">createSign</span>(<span class="hljs-string">'RSA1024|PKCS1|SHA256|OnlySign'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 542px;">     <h2 id="sign" device-type="phone,2in1,tablet,wearable,tv">Sign<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sign" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Sign类，使用Sign方法之前需要创建该类的实例进行操作，通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatesign">createSign(algName: string): Sign</a>方法构造此实例。按序调用本类中的init、update、sign方法完成签名操作。签名操作的示例代码详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1" target="_blank">签名验签开发指导</a>。</p>     <p>Sign类不支持重复初始化，当业务方需要使用新密钥签名时，需要重新创建新Sign对象并调用init初始化。</p>     <p>业务方使用时，调用createSign接口确定签名的模式，调用init接口设置密钥。</p>     <p>当待签名数据长度较短时，可在初始化后直接调用sign接口传入数据进行签名，无需调用update。</p>     <p>当待签名数据较长时，可通过update接口分段传入切分后的原文数据，最后调用sign接口对整体原文数据进行签名。</p>     <p>当使用update分段传入原文时，sign接口API 10之前只支持传入DataBlob， API 10之后增加支持null。业务方可在循环中调用update接口，循环结束后调用sign进行签名。</p>     <p>使用DSA算法签名时，如果摘要算法设置为NoHash，则不支持update操作，调用update接口将返回错误码ERR_CRYPTO_OPERATION。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h3 id="属性-6" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-6" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">签名指定的算法名称。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1162px;">     <h3 id="init-2" device-type="phone,2in1,tablet,wearable,tv">init<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="init-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>init(priKey: PriKey, callback: AsyncCallback&lt;void&gt;): void</p>     <p>使用私钥初始化Sign对象，通过注册回调函数获取结果。init、update、sign为三段式接口，需要成组使用。其中init和sign必选，update可选。</p>     <p>Sign类不支持重复初始化。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.126.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">priKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#prikey">PriKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于Sign的初始化。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当签名初始化成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.126.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1240px;">     <h3 id="init-3" device-type="phone,2in1,tablet,wearable,tv">init<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="init-3" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>init(priKey: PriKey): Promise&lt;void&gt;</p>     <p>使用私钥初始化Sign对象，通过Promise获取结果。init、update、sign为三段式接口，需要成组使用。其中init和sign必选，update可选。</p>     <p>Sign类不支持重复初始化。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.127.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">priKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#prikey">PriKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于Sign的初始化。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.127.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.127.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 997px;">     <h3 id="initsync12-1" device-type="phone,2in1,tablet,wearable,tv">initSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="initsync12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>initSync(priKey: PriKey): void</p>     <p>使用私钥初始化Sign对象，通过同步方式获取结果。initSync、updateSync、signSync为三段式接口，需要成组使用。其中initSync和signSync必选，updateSync可选。</p>     <p>Sign类不支持重复调用initSync。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.128.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">priKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#prikey">PriKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于Sign的初始化。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.128.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1374px;">     <h3 id="update-2" device-type="phone,2in1,tablet,wearable,tv">update<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>update(data: DataBlob, callback: AsyncCallback&lt;void&gt;): void</p>     <p>追加待签名数据，通过注册回调函数完成更新。</p>     <p>必须在对<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#sign">Sign</a>实例使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-2">init()</a>初始化后，才能使用本函数。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>根据数据量，可以不调用update（即<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-2">init</a>完成后直接调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#sign-1">sign</a>）或多次调用update。</p>       <p>算法库目前没有对update（单次或累计）的数据量设置大小限制，建议对于大数据量的签名操作，采用多次update的方式传入数据，避免一次性申请过大内存。</p>       <p>签名使用多次update操作的示例代码详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1-by-segment" target="_blank">使用RSA密钥对分段签名验签</a>，其余算法操作类似。</p>       <p>OnlySign模式下，不支持update操作，需要直接使用sign传入数据。</p>       <p>当使用DSA算法进行签名，并设置了摘要算法为NoHash时，则不支持update操作，update接口会返回错误码ERR_CRYPTO_OPERATION。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.129.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当签名更新成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.129.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1452px;">     <h3 id="update-3" device-type="phone,2in1,tablet,wearable,tv">update<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update-3" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>update(data: DataBlob): Promise&lt;void&gt;</p>     <p>追加待签名数据，通过Promise方式完成更新。</p>     <p>在使用本函数前，必须先使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#sign">Sign</a>方法对<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-3">init()</a>实例进行初始化。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>根据数据量，可以不调用update（即<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-3">init</a>完成后直接调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#sign-2">sign</a>）或多次调用update。</p>       <p>算法库不对单次或累计的update数据量设置大小限制。建议在处理大数据量的签名操作时，采用多次update方式传入数据，以避免一次性申请过多内存。</p>       <p>签名使用多次update操作的示例代码详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1-by-segment" target="_blank">使用RSA密钥对分段签名验签</a>，其余算法操作类似。</p>       <p>OnlySign模式下，不支持update操作，需要直接使用sign传入数据。</p>       <p>当使用DSA算法进行签名，并设置了摘要算法为NoHash时，则不支持update操作，update接口会返回错误码ERR_CRYPTO_OPERATION。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.130.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.130.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.130.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1380px;">     <h3 id="updatesync12-1" device-type="phone,2in1,tablet,wearable,tv">updateSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatesync12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateSync(data: DataBlob): void</p>     <p>追加待签名数据，通过同步方式完成更新。</p>     <p>必须在对<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#sign">Sign</a>实例使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#initsync12-1">initSync()</a>初始化后，才能使用本函数。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>根据数据量，可以不调用updateSync（即<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#initsync12-1">initSync</a>完成后直接调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#signsync12">signSync</a>）或多次调用updateSync。</p>       <p>算法库目前没有对updateSync（单次或累计）的数据量设置大小限制，建议对于大数据量的签名操作，采用多次updateSync的方式传入数据，避免一次性申请过大内存。</p>       <p>签名使用多次updateSync操作的示例代码详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1-by-segment" target="_blank">使用RSA密钥对分段签名验签</a>，其余算法操作类似。</p>       <p>OnlySign模式下，不支持updateSync操作，需要直接使用signSync传入数据。</p>       <p>当使用DSA算法进行签名，并设置了摘要算法为NoHash时，则不支持updateSync操作，updateSync接口会返回错误码ERR_CRYPTO_OPERATION。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.131.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.131.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">void</td>         <td class="cellrowborder" width="50%">无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.131.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1114px;">     <h3 id="sign-1" device-type="phone,2in1,tablet,wearable,tv">sign<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sign-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sign(data: DataBlob | null, callback: AsyncCallback&lt;DataBlob&gt;): void</p>     <p>对数据进行签名，通过注册回调函数获取签名结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.132.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。API 10之前只支持DataBlob， API 10之后增加支持null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取DataBlob数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.132.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1168px;">     <h3 id="sign-2" device-type="phone,2in1,tablet,wearable,tv">sign<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sign-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sign(data: DataBlob | null): Promise&lt;DataBlob&gt;</p>     <p>对数据进行签名，通过Promise方式返回签名结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.133.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.133.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="50%">返回签名结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.133.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3321px;">     <h3 id="signsync12" device-type="phone,2in1,tablet,wearable,tv">signSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="signsync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>signSync(data: DataBlob | null): DataBlob</p>     <p>对数据进行签名，通过同步方式返回签名结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.134.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.134.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="50%">返回签名结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.134.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>callback示例：</strong></p>     <p>此外，更多签名验签的完整示例可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1" target="_blank">签名验签开发指导</a>。</p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">signByCallback</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">inputUpdate</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"This is Sign test plan1"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">inputVerify</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"This is Sign test plan2"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> pkData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">159</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">129</span>, <span class="hljs-number">141</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">137</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>  <span class="hljs-keyword">let</span> skData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">120</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">98</span>, <span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">94</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">111</span>, <span class="hljs-number">145</span>, <span class="hljs-number">203</span>, <span class="hljs-number">10</span>, <span class="hljs-number">88</span>, <span class="hljs-number">116</span>, <span class="hljs-number">163</span>, <span class="hljs-number">112</span>, <span class="hljs-number">126</span>, <span class="hljs-number">9</span>, <span class="hljs-number">20</span>, <span class="hljs-number">68</span>, <span class="hljs-number">34</span>, <span class="hljs-number">235</span>, <span class="hljs-number">121</span>, <span class="hljs-number">98</span>, <span class="hljs-number">14</span>, <span class="hljs-number">182</span>, <span class="hljs-number">102</span>, <span class="hljs-number">151</span>, <span class="hljs-number">125</span>, <span class="hljs-number">114</span>, <span class="hljs-number">91</span>, <span class="hljs-number">210</span>, <span class="hljs-number">122</span>, <span class="hljs-number">215</span>, <span class="hljs-number">29</span>, <span class="hljs-number">212</span>, <span class="hljs-number">5</span>, <span class="hljs-number">176</span>, <span class="hljs-number">203</span>, <span class="hljs-number">238</span>, <span class="hljs-number">146</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">41</span>, <span class="hljs-number">21</span>, <span class="hljs-number">91</span>, <span class="hljs-number">56</span>, <span class="hljs-number">125</span>, <span class="hljs-number">239</span>, <span class="hljs-number">111</span>, <span class="hljs-number">133</span>, <span class="hljs-number">53</span>, <span class="hljs-number">200</span>, <span class="hljs-number">192</span>, <span class="hljs-number">56</span>, <span class="hljs-number">132</span>, <span class="hljs-number">202</span>, <span class="hljs-number">42</span>, <span class="hljs-number">145</span>, <span class="hljs-number">120</span>, <span class="hljs-number">3</span>, <span class="hljs-number">224</span>, <span class="hljs-number">40</span>, <span class="hljs-number">223</span>, <span class="hljs-number">46</span>, <span class="hljs-number">148</span>, <span class="hljs-number">29</span>, <span class="hljs-number">41</span>, <span class="hljs-number">92</span>, <span class="hljs-number">17</span>, <span class="hljs-number">40</span>, <span class="hljs-number">12</span>, <span class="hljs-number">72</span>, <span class="hljs-number">165</span>, <span class="hljs-number">69</span>, <span class="hljs-number">192</span>, <span class="hljs-number">211</span>, <span class="hljs-number">142</span>, <span class="hljs-number">233</span>, <span class="hljs-number">81</span>, <span class="hljs-number">202</span>, <span class="hljs-number">177</span>, <span class="hljs-number">235</span>, <span class="hljs-number">156</span>, <span class="hljs-number">27</span>, <span class="hljs-number">179</span>, <span class="hljs-number">48</span>, <span class="hljs-number">18</span>, <span class="hljs-number">85</span>, <span class="hljs-number">154</span>, <span class="hljs-number">101</span>, <span class="hljs-number">193</span>, <span class="hljs-number">45</span>, <span class="hljs-number">218</span>, <span class="hljs-number">91</span>, <span class="hljs-number">24</span>, <span class="hljs-number">143</span>, <span class="hljs-number">196</span>, <span class="hljs-number">248</span>, <span class="hljs-number">16</span>, <span class="hljs-number">83</span>, <span class="hljs-number">177</span>, <span class="hljs-number">198</span>, <span class="hljs-number">136</span>, <span class="hljs-number">77</span>, <span class="hljs-number">111</span>, <span class="hljs-number">134</span>, <span class="hljs-number">60</span>, <span class="hljs-number">219</span>, <span class="hljs-number">95</span>, <span class="hljs-number">246</span>, <span class="hljs-number">23</span>, <span class="hljs-number">5</span>, <span class="hljs-number">45</span>, <span class="hljs-number">14</span>, <span class="hljs-number">83</span>, <span class="hljs-number">29</span>, <span class="hljs-number">137</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">28</span>, <span class="hljs-number">132</span>, <span class="hljs-number">142</span>, <span class="hljs-number">205</span>, <span class="hljs-number">99</span>, <span class="hljs-number">226</span>, <span class="hljs-number">213</span>, <span class="hljs-number">84</span>, <span class="hljs-number">232</span>, <span class="hljs-number">57</span>, <span class="hljs-number">130</span>, <span class="hljs-number">156</span>, <span class="hljs-number">81</span>, <span class="hljs-number">191</span>, <span class="hljs-number">237</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">158</span>, <span class="hljs-number">212</span>, <span class="hljs-number">13</span>, <span class="hljs-number">43</span>, <span class="hljs-number">132</span>, <span class="hljs-number">244</span>, <span class="hljs-number">135</span>, <span class="hljs-number">148</span>, <span class="hljs-number">161</span>, <span class="hljs-number">232</span>, <span class="hljs-number">219</span>, <span class="hljs-number">20</span>, <span class="hljs-number">81</span>, <span class="hljs-number">196</span>, <span class="hljs-number">102</span>, <span class="hljs-number">103</span>, <span class="hljs-number">44</span>, <span class="hljs-number">110</span>, <span class="hljs-number">71</span>, <span class="hljs-number">100</span>, <span class="hljs-number">62</span>, <span class="hljs-number">73</span>, <span class="hljs-number">200</span>, <span class="hljs-number">32</span>, <span class="hljs-number">138</span>, <span class="hljs-number">114</span>, <span class="hljs-number">209</span>, <span class="hljs-number">171</span>, <span class="hljs-number">150</span>, <span class="hljs-number">179</span>, <span class="hljs-number">92</span>, <span class="hljs-number">198</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">218</span>, <span class="hljs-number">79</span>, <span class="hljs-number">227</span>, <span class="hljs-number">227</span>, <span class="hljs-number">37</span>, <span class="hljs-number">32</span>, <span class="hljs-number">57</span>, <span class="hljs-number">159</span>, <span class="hljs-number">252</span>, <span class="hljs-number">107</span>, <span class="hljs-number">211</span>, <span class="hljs-number">139</span>, <span class="hljs-number">198</span>, <span class="hljs-number">202</span>, <span class="hljs-number">248</span>, <span class="hljs-number">137</span>, <span class="hljs-number">143</span>, <span class="hljs-number">186</span>, <span class="hljs-number">205</span>, <span class="hljs-number">106</span>, <span class="hljs-number">81</span>, <span class="hljs-number">85</span>, <span class="hljs-number">207</span>, <span class="hljs-number">134</span>, <span class="hljs-number">148</span>, <span class="hljs-number">110</span>, <span class="hljs-number">204</span>, <span class="hljs-number">243</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">215</span>, <span class="hljs-number">4</span>, <span class="hljs-number">181</span>, <span class="hljs-number">121</span>, <span class="hljs-number">57</span>, <span class="hljs-number">224</span>, <span class="hljs-number">170</span>, <span class="hljs-number">168</span>, <span class="hljs-number">183</span>, <span class="hljs-number">159</span>, <span class="hljs-number">152</span>, <span class="hljs-number">8</span>, <span class="hljs-number">74</span>, <span class="hljs-number">233</span>, <span class="hljs-number">80</span>, <span class="hljs-number">244</span>, <span class="hljs-number">146</span>, <span class="hljs-number">81</span>, <span class="hljs-number">48</span>, <span class="hljs-number">159</span>, <span class="hljs-number">194</span>, <span class="hljs-number">199</span>, <span class="hljs-number">36</span>, <span class="hljs-number">187</span>, <span class="hljs-number">6</span>, <span class="hljs-number">181</span>, <span class="hljs-number">182</span>, <span class="hljs-number">223</span>, <span class="hljs-number">115</span>, <span class="hljs-number">133</span>, <span class="hljs-number">151</span>, <span class="hljs-number">171</span>, <span class="hljs-number">78</span>, <span class="hljs-number">219</span>, <span class="hljs-number">90</span>, <span class="hljs-number">161</span>, <span class="hljs-number">248</span>, <span class="hljs-number">69</span>, <span class="hljs-number">6</span>, <span class="hljs-number">207</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">81</span>, <span class="hljs-number">161</span>, <span class="hljs-number">2</span>, <span class="hljs-number">60</span>, <span class="hljs-number">238</span>, <span class="hljs-number">204</span>, <span class="hljs-number">177</span>, <span class="hljs-number">12</span>, <span class="hljs-number">138</span>, <span class="hljs-number">17</span>, <span class="hljs-number">220</span>, <span class="hljs-number">179</span>, <span class="hljs-number">71</span>, <span class="hljs-number">113</span>, <span class="hljs-number">200</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">153</span>, <span class="hljs-number">252</span>, <span class="hljs-number">150</span>, <span class="hljs-number">180</span>, <span class="hljs-number">155</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">190</span>, <span class="hljs-number">202</span>, <span class="hljs-number">185</span>, <span class="hljs-number">211</span>, <span class="hljs-number">170</span>, <span class="hljs-number">171</span>, <span class="hljs-number">238</span>, <span class="hljs-number">40</span>, <span class="hljs-number">84</span>, <span class="hljs-number">84</span>, <span class="hljs-number">21</span>, <span class="hljs-number">13</span>, <span class="hljs-number">144</span>, <span class="hljs-number">57</span>, <span class="hljs-number">7</span>, <span class="hljs-number">178</span>, <span class="hljs-number">183</span>, <span class="hljs-number">71</span>, <span class="hljs-number">126</span>, <span class="hljs-number">120</span>, <span class="hljs-number">98</span>, <span class="hljs-number">229</span>, <span class="hljs-number">235</span>, <span class="hljs-number">4</span>, <span class="hljs-number">40</span>, <span class="hljs-number">229</span>, <span class="hljs-number">173</span>, <span class="hljs-number">149</span>, <span class="hljs-number">185</span>, <span class="hljs-number">209</span>, <span class="hljs-number">29</span>, <span class="hljs-number">199</span>, <span class="hljs-number">29</span>, <span class="hljs-number">54</span>, <span class="hljs-number">164</span>, <span class="hljs-number">161</span>, <span class="hljs-number">38</span>, <span class="hljs-number">8</span>, <span class="hljs-number">30</span>, <span class="hljs-number">62</span>, <span class="hljs-number">83</span>, <span class="hljs-number">179</span>, <span class="hljs-number">47</span>, <span class="hljs-number">42</span>, <span class="hljs-number">165</span>, <span class="hljs-number">0</span>, <span class="hljs-number">156</span>, <span class="hljs-number">207</span>, <span class="hljs-number">160</span>, <span class="hljs-number">39</span>, <span class="hljs-number">169</span>, <span class="hljs-number">229</span>, <span class="hljs-number">81</span>, <span class="hljs-number">180</span>, <span class="hljs-number">136</span>, <span class="hljs-number">170</span>, <span class="hljs-number">116</span>, <span class="hljs-number">182</span>, <span class="hljs-number">20</span>, <span class="hljs-number">233</span>, <span class="hljs-number">45</span>, <span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">255</span>, <span class="hljs-number">47</span>, <span class="hljs-number">198</span>, <span class="hljs-number">15</span>, <span class="hljs-number">201</span>, <span class="hljs-number">238</span>, <span class="hljs-number">133</span>, <span class="hljs-number">89</span>, <span class="hljs-number">11</span>, <span class="hljs-number">133</span>, <span class="hljs-number">153</span>, <span class="hljs-number">184</span>, <span class="hljs-number">252</span>, <span class="hljs-number">37</span>, <span class="hljs-number">239</span>, <span class="hljs-number">177</span>, <span class="hljs-number">65</span>, <span class="hljs-number">118</span>, <span class="hljs-number">80</span>, <span class="hljs-number">231</span>, <span class="hljs-number">190</span>, <span class="hljs-number">222</span>, <span class="hljs-number">66</span>, <span class="hljs-number">250</span>, <span class="hljs-number">118</span>, <span class="hljs-number">72</span>, <span class="hljs-number">166</span>, <span class="hljs-number">221</span>, <span class="hljs-number">67</span>, <span class="hljs-number">156</span>, <span class="hljs-number">245</span>, <span class="hljs-number">119</span>, <span class="hljs-number">138</span>, <span class="hljs-number">28</span>, <span class="hljs-number">6</span>, <span class="hljs-number">142</span>, <span class="hljs-number">107</span>, <span class="hljs-number">71</span>, <span class="hljs-number">122</span>, <span class="hljs-number">116</span>, <span class="hljs-number">200</span>, <span class="hljs-number">156</span>, <span class="hljs-number">199</span>, <span class="hljs-number">237</span>, <span class="hljs-number">152</span>, <span class="hljs-number">191</span>, <span class="hljs-number">239</span>, <span class="hljs-number">4</span>, <span class="hljs-number">184</span>, <span class="hljs-number">64</span>, <span class="hljs-number">114</span>, <span class="hljs-number">143</span>, <span class="hljs-number">81</span>, <span class="hljs-number">62</span>, <span class="hljs-number">48</span>, <span class="hljs-number">23</span>, <span class="hljs-number">233</span>, <span class="hljs-number">217</span>, <span class="hljs-number">95</span>, <span class="hljs-number">47</span>, <span class="hljs-number">221</span>, <span class="hljs-number">104</span>, <span class="hljs-number">171</span>, <span class="hljs-number">2</span>, <span class="hljs-number">64</span>, <span class="hljs-number">30</span>, <span class="hljs-number">219</span>, <span class="hljs-number">1</span>, <span class="hljs-number">230</span>, <span class="hljs-number">241</span>, <span class="hljs-number">70</span>, <span class="hljs-number">246</span>, <span class="hljs-number">243</span>, <span class="hljs-number">121</span>, <span class="hljs-number">174</span>, <span class="hljs-number">67</span>, <span class="hljs-number">66</span>, <span class="hljs-number">11</span>, <span class="hljs-number">99</span>, <span class="hljs-number">202</span>, <span class="hljs-number">17</span>, <span class="hljs-number">52</span>, <span class="hljs-number">234</span>, <span class="hljs-number">78</span>, <span class="hljs-number">29</span>, <span class="hljs-number">3</span>, <span class="hljs-number">57</span>, <span class="hljs-number">51</span>, <span class="hljs-number">123</span>, <span class="hljs-number">149</span>, <span class="hljs-number">86</span>, <span class="hljs-number">64</span>, <span class="hljs-number">192</span>, <span class="hljs-number">73</span>, <span class="hljs-number">199</span>, <span class="hljs-number">108</span>, <span class="hljs-number">101</span>, <span class="hljs-number">55</span>, <span class="hljs-number">232</span>, <span class="hljs-number">41</span>, <span class="hljs-number">114</span>, <span class="hljs-number">153</span>, <span class="hljs-number">237</span>, <span class="hljs-number">253</span>, <span class="hljs-number">52</span>, <span class="hljs-number">205</span>, <span class="hljs-number">148</span>, <span class="hljs-number">45</span>, <span class="hljs-number">86</span>, <span class="hljs-number">186</span>, <span class="hljs-number">241</span>, <span class="hljs-number">182</span>, <span class="hljs-number">183</span>, <span class="hljs-number">42</span>, <span class="hljs-number">77</span>, <span class="hljs-number">252</span>, <span class="hljs-number">195</span>, <span class="hljs-number">29</span>, <span class="hljs-number">158</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">182</span>, <span class="hljs-number">207</span>, <span class="hljs-number">254</span>, <span class="hljs-number">61</span>, <span class="hljs-number">71</span>, <span class="hljs-number">184</span>, <span class="hljs-number">167</span>, <span class="hljs-number">184</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">pubKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: pkData };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: skData };</li><li>  <span class="hljs-keyword">let</span> rsaGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">let</span> signer = cryptoFramework.<span class="hljs-title function_">createSign</span>(<span class="hljs-string">'RSA1024|PKCS1|SHA256'</span>);</li><li>  rsaGenerator.<span class="hljs-title function_">convertKey</span>(pubKeyBlob, priKeyBlob, <span class="hljs-function">(<span class="hljs-params">err, keyPair</span>) =&gt;</span> {</li><li>    signer.<span class="hljs-title function_">init</span>(keyPair.<span class="hljs-property">priKey</span>, <span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {</li><li>      signer.<span class="hljs-title function_">update</span>(inputUpdate, <span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {</li><li>        signer.<span class="hljs-title function_">sign</span>(inputVerify, <span class="hljs-function">(<span class="hljs-params">err, signData</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'sign output is '</span> + signData.<span class="hljs-property">data</span>);</li><li>        });</li><li>      });</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>     <p><strong>Promise示例：</strong></p>     <p>此外，更多签名验签的完整示例可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1" target="_blank">签名验签开发指导</a>。</p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">genKeyPairByData</span>(<span class="hljs-params">pubKeyData: <span class="hljs-built_in">Uint8Array</span>, priKeyData: <span class="hljs-built_in">Uint8Array</span></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">pubKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: pubKeyData };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: priKeyData };</li><li>  <span class="hljs-keyword">let</span> rsaGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-keyword">await</span> rsaGenerator.<span class="hljs-title function_">convertKey</span>(pubKeyBlob, priKeyBlob);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'convertKey success'</span>);</li><li>  <span class="hljs-keyword">return</span> keyPair;</li><li>}</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">signByPromise</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> pkData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">159</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">129</span>, <span class="hljs-number">141</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">137</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>  <span class="hljs-keyword">let</span> skData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">120</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">98</span>, <span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">94</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">111</span>, <span class="hljs-number">145</span>, <span class="hljs-number">203</span>, <span class="hljs-number">10</span>, <span class="hljs-number">88</span>, <span class="hljs-number">116</span>, <span class="hljs-number">163</span>, <span class="hljs-number">112</span>, <span class="hljs-number">126</span>, <span class="hljs-number">9</span>, <span class="hljs-number">20</span>, <span class="hljs-number">68</span>, <span class="hljs-number">34</span>, <span class="hljs-number">235</span>, <span class="hljs-number">121</span>, <span class="hljs-number">98</span>, <span class="hljs-number">14</span>, <span class="hljs-number">182</span>, <span class="hljs-number">102</span>, <span class="hljs-number">151</span>, <span class="hljs-number">125</span>, <span class="hljs-number">114</span>, <span class="hljs-number">91</span>, <span class="hljs-number">210</span>, <span class="hljs-number">122</span>, <span class="hljs-number">215</span>, <span class="hljs-number">29</span>, <span class="hljs-number">212</span>, <span class="hljs-number">5</span>, <span class="hljs-number">176</span>, <span class="hljs-number">203</span>, <span class="hljs-number">238</span>, <span class="hljs-number">146</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">41</span>, <span class="hljs-number">21</span>, <span class="hljs-number">91</span>, <span class="hljs-number">56</span>, <span class="hljs-number">125</span>, <span class="hljs-number">239</span>, <span class="hljs-number">111</span>, <span class="hljs-number">133</span>, <span class="hljs-number">53</span>, <span class="hljs-number">200</span>, <span class="hljs-number">192</span>, <span class="hljs-number">56</span>, <span class="hljs-number">132</span>, <span class="hljs-number">202</span>, <span class="hljs-number">42</span>, <span class="hljs-number">145</span>, <span class="hljs-number">120</span>, <span class="hljs-number">3</span>, <span class="hljs-number">224</span>, <span class="hljs-number">40</span>, <span class="hljs-number">223</span>, <span class="hljs-number">46</span>, <span class="hljs-number">148</span>, <span class="hljs-number">29</span>, <span class="hljs-number">41</span>, <span class="hljs-number">92</span>, <span class="hljs-number">17</span>, <span class="hljs-number">40</span>, <span class="hljs-number">12</span>, <span class="hljs-number">72</span>, <span class="hljs-number">165</span>, <span class="hljs-number">69</span>, <span class="hljs-number">192</span>, <span class="hljs-number">211</span>, <span class="hljs-number">142</span>, <span class="hljs-number">233</span>, <span class="hljs-number">81</span>, <span class="hljs-number">202</span>, <span class="hljs-number">177</span>, <span class="hljs-number">235</span>, <span class="hljs-number">156</span>, <span class="hljs-number">27</span>, <span class="hljs-number">179</span>, <span class="hljs-number">48</span>, <span class="hljs-number">18</span>, <span class="hljs-number">85</span>, <span class="hljs-number">154</span>, <span class="hljs-number">101</span>, <span class="hljs-number">193</span>, <span class="hljs-number">45</span>, <span class="hljs-number">218</span>, <span class="hljs-number">91</span>, <span class="hljs-number">24</span>, <span class="hljs-number">143</span>, <span class="hljs-number">196</span>, <span class="hljs-number">248</span>, <span class="hljs-number">16</span>, <span class="hljs-number">83</span>, <span class="hljs-number">177</span>, <span class="hljs-number">198</span>, <span class="hljs-number">136</span>, <span class="hljs-number">77</span>, <span class="hljs-number">111</span>, <span class="hljs-number">134</span>, <span class="hljs-number">60</span>, <span class="hljs-number">219</span>, <span class="hljs-number">95</span>, <span class="hljs-number">246</span>, <span class="hljs-number">23</span>, <span class="hljs-number">5</span>, <span class="hljs-number">45</span>, <span class="hljs-number">14</span>, <span class="hljs-number">83</span>, <span class="hljs-number">29</span>, <span class="hljs-number">137</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">28</span>, <span class="hljs-number">132</span>, <span class="hljs-number">142</span>, <span class="hljs-number">205</span>, <span class="hljs-number">99</span>, <span class="hljs-number">226</span>, <span class="hljs-number">213</span>, <span class="hljs-number">84</span>, <span class="hljs-number">232</span>, <span class="hljs-number">57</span>, <span class="hljs-number">130</span>, <span class="hljs-number">156</span>, <span class="hljs-number">81</span>, <span class="hljs-number">191</span>, <span class="hljs-number">237</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">158</span>, <span class="hljs-number">212</span>, <span class="hljs-number">13</span>, <span class="hljs-number">43</span>, <span class="hljs-number">132</span>, <span class="hljs-number">244</span>, <span class="hljs-number">135</span>, <span class="hljs-number">148</span>, <span class="hljs-number">161</span>, <span class="hljs-number">232</span>, <span class="hljs-number">219</span>, <span class="hljs-number">20</span>, <span class="hljs-number">81</span>, <span class="hljs-number">196</span>, <span class="hljs-number">102</span>, <span class="hljs-number">103</span>, <span class="hljs-number">44</span>, <span class="hljs-number">110</span>, <span class="hljs-number">71</span>, <span class="hljs-number">100</span>, <span class="hljs-number">62</span>, <span class="hljs-number">73</span>, <span class="hljs-number">200</span>, <span class="hljs-number">32</span>, <span class="hljs-number">138</span>, <span class="hljs-number">114</span>, <span class="hljs-number">209</span>, <span class="hljs-number">171</span>, <span class="hljs-number">150</span>, <span class="hljs-number">179</span>, <span class="hljs-number">92</span>, <span class="hljs-number">198</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">218</span>, <span class="hljs-number">79</span>, <span class="hljs-number">227</span>, <span class="hljs-number">227</span>, <span class="hljs-number">37</span>, <span class="hljs-number">32</span>, <span class="hljs-number">57</span>, <span class="hljs-number">159</span>, <span class="hljs-number">252</span>, <span class="hljs-number">107</span>, <span class="hljs-number">211</span>, <span class="hljs-number">139</span>, <span class="hljs-number">198</span>, <span class="hljs-number">202</span>, <span class="hljs-number">248</span>, <span class="hljs-number">137</span>, <span class="hljs-number">143</span>, <span class="hljs-number">186</span>, <span class="hljs-number">205</span>, <span class="hljs-number">106</span>, <span class="hljs-number">81</span>, <span class="hljs-number">85</span>, <span class="hljs-number">207</span>, <span class="hljs-number">134</span>, <span class="hljs-number">148</span>, <span class="hljs-number">110</span>, <span class="hljs-number">204</span>, <span class="hljs-number">243</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">215</span>, <span class="hljs-number">4</span>, <span class="hljs-number">181</span>, <span class="hljs-number">121</span>, <span class="hljs-number">57</span>, <span class="hljs-number">224</span>, <span class="hljs-number">170</span>, <span class="hljs-number">168</span>, <span class="hljs-number">183</span>, <span class="hljs-number">159</span>, <span class="hljs-number">152</span>, <span class="hljs-number">8</span>, <span class="hljs-number">74</span>, <span class="hljs-number">233</span>, <span class="hljs-number">80</span>, <span class="hljs-number">244</span>, <span class="hljs-number">146</span>, <span class="hljs-number">81</span>, <span class="hljs-number">48</span>, <span class="hljs-number">159</span>, <span class="hljs-number">194</span>, <span class="hljs-number">199</span>, <span class="hljs-number">36</span>, <span class="hljs-number">187</span>, <span class="hljs-number">6</span>, <span class="hljs-number">181</span>, <span class="hljs-number">182</span>, <span class="hljs-number">223</span>, <span class="hljs-number">115</span>, <span class="hljs-number">133</span>, <span class="hljs-number">151</span>, <span class="hljs-number">171</span>, <span class="hljs-number">78</span>, <span class="hljs-number">219</span>, <span class="hljs-number">90</span>, <span class="hljs-number">161</span>, <span class="hljs-number">248</span>, <span class="hljs-number">69</span>, <span class="hljs-number">6</span>, <span class="hljs-number">207</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">81</span>, <span class="hljs-number">161</span>, <span class="hljs-number">2</span>, <span class="hljs-number">60</span>, <span class="hljs-number">238</span>, <span class="hljs-number">204</span>, <span class="hljs-number">177</span>, <span class="hljs-number">12</span>, <span class="hljs-number">138</span>, <span class="hljs-number">17</span>, <span class="hljs-number">220</span>, <span class="hljs-number">179</span>, <span class="hljs-number">71</span>, <span class="hljs-number">113</span>, <span class="hljs-number">200</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">153</span>, <span class="hljs-number">252</span>, <span class="hljs-number">150</span>, <span class="hljs-number">180</span>, <span class="hljs-number">155</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">190</span>, <span class="hljs-number">202</span>, <span class="hljs-number">185</span>, <span class="hljs-number">211</span>, <span class="hljs-number">170</span>, <span class="hljs-number">171</span>, <span class="hljs-number">238</span>, <span class="hljs-number">40</span>, <span class="hljs-number">84</span>, <span class="hljs-number">84</span>, <span class="hljs-number">21</span>, <span class="hljs-number">13</span>, <span class="hljs-number">144</span>, <span class="hljs-number">57</span>, <span class="hljs-number">7</span>, <span class="hljs-number">178</span>, <span class="hljs-number">183</span>, <span class="hljs-number">71</span>, <span class="hljs-number">126</span>, <span class="hljs-number">120</span>, <span class="hljs-number">98</span>, <span class="hljs-number">229</span>, <span class="hljs-number">235</span>, <span class="hljs-number">4</span>, <span class="hljs-number">40</span>, <span class="hljs-number">229</span>, <span class="hljs-number">173</span>, <span class="hljs-number">149</span>, <span class="hljs-number">185</span>, <span class="hljs-number">209</span>, <span class="hljs-number">29</span>, <span class="hljs-number">199</span>, <span class="hljs-number">29</span>, <span class="hljs-number">54</span>, <span class="hljs-number">164</span>, <span class="hljs-number">161</span>, <span class="hljs-number">38</span>, <span class="hljs-number">8</span>, <span class="hljs-number">30</span>, <span class="hljs-number">62</span>, <span class="hljs-number">83</span>, <span class="hljs-number">179</span>, <span class="hljs-number">47</span>, <span class="hljs-number">42</span>, <span class="hljs-number">165</span>, <span class="hljs-number">0</span>, <span class="hljs-number">156</span>, <span class="hljs-number">207</span>, <span class="hljs-number">160</span>, <span class="hljs-number">39</span>, <span class="hljs-number">169</span>, <span class="hljs-number">229</span>, <span class="hljs-number">81</span>, <span class="hljs-number">180</span>, <span class="hljs-number">136</span>, <span class="hljs-number">170</span>, <span class="hljs-number">116</span>, <span class="hljs-number">182</span>, <span class="hljs-number">20</span>, <span class="hljs-number">233</span>, <span class="hljs-number">45</span>, <span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">255</span>, <span class="hljs-number">47</span>, <span class="hljs-number">198</span>, <span class="hljs-number">15</span>, <span class="hljs-number">201</span>, <span class="hljs-number">238</span>, <span class="hljs-number">133</span>, <span class="hljs-number">89</span>, <span class="hljs-number">11</span>, <span class="hljs-number">133</span>, <span class="hljs-number">153</span>, <span class="hljs-number">184</span>, <span class="hljs-number">252</span>, <span class="hljs-number">37</span>, <span class="hljs-number">239</span>, <span class="hljs-number">177</span>, <span class="hljs-number">65</span>, <span class="hljs-number">118</span>, <span class="hljs-number">80</span>, <span class="hljs-number">231</span>, <span class="hljs-number">190</span>, <span class="hljs-number">222</span>, <span class="hljs-number">66</span>, <span class="hljs-number">250</span>, <span class="hljs-number">118</span>, <span class="hljs-number">72</span>, <span class="hljs-number">166</span>, <span class="hljs-number">221</span>, <span class="hljs-number">67</span>, <span class="hljs-number">156</span>, <span class="hljs-number">245</span>, <span class="hljs-number">119</span>, <span class="hljs-number">138</span>, <span class="hljs-number">28</span>, <span class="hljs-number">6</span>, <span class="hljs-number">142</span>, <span class="hljs-number">107</span>, <span class="hljs-number">71</span>, <span class="hljs-number">122</span>, <span class="hljs-number">116</span>, <span class="hljs-number">200</span>, <span class="hljs-number">156</span>, <span class="hljs-number">199</span>, <span class="hljs-number">237</span>, <span class="hljs-number">152</span>, <span class="hljs-number">191</span>, <span class="hljs-number">239</span>, <span class="hljs-number">4</span>, <span class="hljs-number">184</span>, <span class="hljs-number">64</span>, <span class="hljs-number">114</span>, <span class="hljs-number">143</span>, <span class="hljs-number">81</span>, <span class="hljs-number">62</span>, <span class="hljs-number">48</span>, <span class="hljs-number">23</span>, <span class="hljs-number">233</span>, <span class="hljs-number">217</span>, <span class="hljs-number">95</span>, <span class="hljs-number">47</span>, <span class="hljs-number">221</span>, <span class="hljs-number">104</span>, <span class="hljs-number">171</span>, <span class="hljs-number">2</span>, <span class="hljs-number">64</span>, <span class="hljs-number">30</span>, <span class="hljs-number">219</span>, <span class="hljs-number">1</span>, <span class="hljs-number">230</span>, <span class="hljs-number">241</span>, <span class="hljs-number">70</span>, <span class="hljs-number">246</span>, <span class="hljs-number">243</span>, <span class="hljs-number">121</span>, <span class="hljs-number">174</span>, <span class="hljs-number">67</span>, <span class="hljs-number">66</span>, <span class="hljs-number">11</span>, <span class="hljs-number">99</span>, <span class="hljs-number">202</span>, <span class="hljs-number">17</span>, <span class="hljs-number">52</span>, <span class="hljs-number">234</span>, <span class="hljs-number">78</span>, <span class="hljs-number">29</span>, <span class="hljs-number">3</span>, <span class="hljs-number">57</span>, <span class="hljs-number">51</span>, <span class="hljs-number">123</span>, <span class="hljs-number">149</span>, <span class="hljs-number">86</span>, <span class="hljs-number">64</span>, <span class="hljs-number">192</span>, <span class="hljs-number">73</span>, <span class="hljs-number">199</span>, <span class="hljs-number">108</span>, <span class="hljs-number">101</span>, <span class="hljs-number">55</span>, <span class="hljs-number">232</span>, <span class="hljs-number">41</span>, <span class="hljs-number">114</span>, <span class="hljs-number">153</span>, <span class="hljs-number">237</span>, <span class="hljs-number">253</span>, <span class="hljs-number">52</span>, <span class="hljs-number">205</span>, <span class="hljs-number">148</span>, <span class="hljs-number">45</span>, <span class="hljs-number">86</span>, <span class="hljs-number">186</span>, <span class="hljs-number">241</span>, <span class="hljs-number">182</span>, <span class="hljs-number">183</span>, <span class="hljs-number">42</span>, <span class="hljs-number">77</span>, <span class="hljs-number">252</span>, <span class="hljs-number">195</span>, <span class="hljs-number">29</span>, <span class="hljs-number">158</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">182</span>, <span class="hljs-number">207</span>, <span class="hljs-number">254</span>, <span class="hljs-number">61</span>, <span class="hljs-number">71</span>, <span class="hljs-number">184</span>, <span class="hljs-number">167</span>, <span class="hljs-number">184</span>]);</li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-keyword">await</span> <span class="hljs-title function_">genKeyPairByData</span>(pkData, skData);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">inputUpdate</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"This is Sign test plan1"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">inputSign</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"This is Sign test plan2"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> signer = cryptoFramework.<span class="hljs-title function_">createSign</span>(<span class="hljs-string">'RSA1024|PKCS1|SHA256'</span>);</li><li>  <span class="hljs-keyword">await</span> signer.<span class="hljs-title function_">init</span>(keyPair.<span class="hljs-property">priKey</span>);</li><li>  <span class="hljs-keyword">await</span> signer.<span class="hljs-title function_">update</span>(inputUpdate);</li><li>  <span class="hljs-keyword">let</span> signData = <span class="hljs-keyword">await</span> signer.<span class="hljs-title function_">sign</span>(inputSign);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'signData result: '</span> + signData.<span class="hljs-property">data</span>);</li><li>}</li></ol></pre></div></div>     <p><strong>Sync示例：</strong></p>     <p>此外，更多签名验签的完整示例可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1" target="_blank">签名验签开发指导</a>。</p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genKeyPairByData</span>(<span class="hljs-params">pubKeyData: <span class="hljs-built_in">Uint8Array</span>, priKeyData: <span class="hljs-built_in">Uint8Array</span></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">pubKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: pubKeyData };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: priKeyData };</li><li>  <span class="hljs-keyword">let</span> rsaGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">let</span> keyPair = rsaGenerator.<span class="hljs-title function_">convertKeySync</span>(pubKeyBlob, priKeyBlob);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'convertKeySync success'</span>);</li><li>  <span class="hljs-keyword">return</span> keyPair;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">signBySync</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> pkData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">159</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">129</span>, <span class="hljs-number">141</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">137</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>  <span class="hljs-keyword">let</span> skData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">120</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">98</span>, <span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">94</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">111</span>, <span class="hljs-number">145</span>, <span class="hljs-number">203</span>, <span class="hljs-number">10</span>, <span class="hljs-number">88</span>, <span class="hljs-number">116</span>, <span class="hljs-number">163</span>, <span class="hljs-number">112</span>, <span class="hljs-number">126</span>, <span class="hljs-number">9</span>, <span class="hljs-number">20</span>, <span class="hljs-number">68</span>, <span class="hljs-number">34</span>, <span class="hljs-number">235</span>, <span class="hljs-number">121</span>, <span class="hljs-number">98</span>, <span class="hljs-number">14</span>, <span class="hljs-number">182</span>, <span class="hljs-number">102</span>, <span class="hljs-number">151</span>, <span class="hljs-number">125</span>, <span class="hljs-number">114</span>, <span class="hljs-number">91</span>, <span class="hljs-number">210</span>, <span class="hljs-number">122</span>, <span class="hljs-number">215</span>, <span class="hljs-number">29</span>, <span class="hljs-number">212</span>, <span class="hljs-number">5</span>, <span class="hljs-number">176</span>, <span class="hljs-number">203</span>, <span class="hljs-number">238</span>, <span class="hljs-number">146</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">41</span>, <span class="hljs-number">21</span>, <span class="hljs-number">91</span>, <span class="hljs-number">56</span>, <span class="hljs-number">125</span>, <span class="hljs-number">239</span>, <span class="hljs-number">111</span>, <span class="hljs-number">133</span>, <span class="hljs-number">53</span>, <span class="hljs-number">200</span>, <span class="hljs-number">192</span>, <span class="hljs-number">56</span>, <span class="hljs-number">132</span>, <span class="hljs-number">202</span>, <span class="hljs-number">42</span>, <span class="hljs-number">145</span>, <span class="hljs-number">120</span>, <span class="hljs-number">3</span>, <span class="hljs-number">224</span>, <span class="hljs-number">40</span>, <span class="hljs-number">223</span>, <span class="hljs-number">46</span>, <span class="hljs-number">148</span>, <span class="hljs-number">29</span>, <span class="hljs-number">41</span>, <span class="hljs-number">92</span>, <span class="hljs-number">17</span>, <span class="hljs-number">40</span>, <span class="hljs-number">12</span>, <span class="hljs-number">72</span>, <span class="hljs-number">165</span>, <span class="hljs-number">69</span>, <span class="hljs-number">192</span>, <span class="hljs-number">211</span>, <span class="hljs-number">142</span>, <span class="hljs-number">233</span>, <span class="hljs-number">81</span>, <span class="hljs-number">202</span>, <span class="hljs-number">177</span>, <span class="hljs-number">235</span>, <span class="hljs-number">156</span>, <span class="hljs-number">27</span>, <span class="hljs-number">179</span>, <span class="hljs-number">48</span>, <span class="hljs-number">18</span>, <span class="hljs-number">85</span>, <span class="hljs-number">154</span>, <span class="hljs-number">101</span>, <span class="hljs-number">193</span>, <span class="hljs-number">45</span>, <span class="hljs-number">218</span>, <span class="hljs-number">91</span>, <span class="hljs-number">24</span>, <span class="hljs-number">143</span>, <span class="hljs-number">196</span>, <span class="hljs-number">248</span>, <span class="hljs-number">16</span>, <span class="hljs-number">83</span>, <span class="hljs-number">177</span>, <span class="hljs-number">198</span>, <span class="hljs-number">136</span>, <span class="hljs-number">77</span>, <span class="hljs-number">111</span>, <span class="hljs-number">134</span>, <span class="hljs-number">60</span>, <span class="hljs-number">219</span>, <span class="hljs-number">95</span>, <span class="hljs-number">246</span>, <span class="hljs-number">23</span>, <span class="hljs-number">5</span>, <span class="hljs-number">45</span>, <span class="hljs-number">14</span>, <span class="hljs-number">83</span>, <span class="hljs-number">29</span>, <span class="hljs-number">137</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">28</span>, <span class="hljs-number">132</span>, <span class="hljs-number">142</span>, <span class="hljs-number">205</span>, <span class="hljs-number">99</span>, <span class="hljs-number">226</span>, <span class="hljs-number">213</span>, <span class="hljs-number">84</span>, <span class="hljs-number">232</span>, <span class="hljs-number">57</span>, <span class="hljs-number">130</span>, <span class="hljs-number">156</span>, <span class="hljs-number">81</span>, <span class="hljs-number">191</span>, <span class="hljs-number">237</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">158</span>, <span class="hljs-number">212</span>, <span class="hljs-number">13</span>, <span class="hljs-number">43</span>, <span class="hljs-number">132</span>, <span class="hljs-number">244</span>, <span class="hljs-number">135</span>, <span class="hljs-number">148</span>, <span class="hljs-number">161</span>, <span class="hljs-number">232</span>, <span class="hljs-number">219</span>, <span class="hljs-number">20</span>, <span class="hljs-number">81</span>, <span class="hljs-number">196</span>, <span class="hljs-number">102</span>, <span class="hljs-number">103</span>, <span class="hljs-number">44</span>, <span class="hljs-number">110</span>, <span class="hljs-number">71</span>, <span class="hljs-number">100</span>, <span class="hljs-number">62</span>, <span class="hljs-number">73</span>, <span class="hljs-number">200</span>, <span class="hljs-number">32</span>, <span class="hljs-number">138</span>, <span class="hljs-number">114</span>, <span class="hljs-number">209</span>, <span class="hljs-number">171</span>, <span class="hljs-number">150</span>, <span class="hljs-number">179</span>, <span class="hljs-number">92</span>, <span class="hljs-number">198</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">218</span>, <span class="hljs-number">79</span>, <span class="hljs-number">227</span>, <span class="hljs-number">227</span>, <span class="hljs-number">37</span>, <span class="hljs-number">32</span>, <span class="hljs-number">57</span>, <span class="hljs-number">159</span>, <span class="hljs-number">252</span>, <span class="hljs-number">107</span>, <span class="hljs-number">211</span>, <span class="hljs-number">139</span>, <span class="hljs-number">198</span>, <span class="hljs-number">202</span>, <span class="hljs-number">248</span>, <span class="hljs-number">137</span>, <span class="hljs-number">143</span>, <span class="hljs-number">186</span>, <span class="hljs-number">205</span>, <span class="hljs-number">106</span>, <span class="hljs-number">81</span>, <span class="hljs-number">85</span>, <span class="hljs-number">207</span>, <span class="hljs-number">134</span>, <span class="hljs-number">148</span>, <span class="hljs-number">110</span>, <span class="hljs-number">204</span>, <span class="hljs-number">243</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">215</span>, <span class="hljs-number">4</span>, <span class="hljs-number">181</span>, <span class="hljs-number">121</span>, <span class="hljs-number">57</span>, <span class="hljs-number">224</span>, <span class="hljs-number">170</span>, <span class="hljs-number">168</span>, <span class="hljs-number">183</span>, <span class="hljs-number">159</span>, <span class="hljs-number">152</span>, <span class="hljs-number">8</span>, <span class="hljs-number">74</span>, <span class="hljs-number">233</span>, <span class="hljs-number">80</span>, <span class="hljs-number">244</span>, <span class="hljs-number">146</span>, <span class="hljs-number">81</span>, <span class="hljs-number">48</span>, <span class="hljs-number">159</span>, <span class="hljs-number">194</span>, <span class="hljs-number">199</span>, <span class="hljs-number">36</span>, <span class="hljs-number">187</span>, <span class="hljs-number">6</span>, <span class="hljs-number">181</span>, <span class="hljs-number">182</span>, <span class="hljs-number">223</span>, <span class="hljs-number">115</span>, <span class="hljs-number">133</span>, <span class="hljs-number">151</span>, <span class="hljs-number">171</span>, <span class="hljs-number">78</span>, <span class="hljs-number">219</span>, <span class="hljs-number">90</span>, <span class="hljs-number">161</span>, <span class="hljs-number">248</span>, <span class="hljs-number">69</span>, <span class="hljs-number">6</span>, <span class="hljs-number">207</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">81</span>, <span class="hljs-number">161</span>, <span class="hljs-number">2</span>, <span class="hljs-number">60</span>, <span class="hljs-number">238</span>, <span class="hljs-number">204</span>, <span class="hljs-number">177</span>, <span class="hljs-number">12</span>, <span class="hljs-number">138</span>, <span class="hljs-number">17</span>, <span class="hljs-number">220</span>, <span class="hljs-number">179</span>, <span class="hljs-number">71</span>, <span class="hljs-number">113</span>, <span class="hljs-number">200</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">153</span>, <span class="hljs-number">252</span>, <span class="hljs-number">150</span>, <span class="hljs-number">180</span>, <span class="hljs-number">155</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">190</span>, <span class="hljs-number">202</span>, <span class="hljs-number">185</span>, <span class="hljs-number">211</span>, <span class="hljs-number">170</span>, <span class="hljs-number">171</span>, <span class="hljs-number">238</span>, <span class="hljs-number">40</span>, <span class="hljs-number">84</span>, <span class="hljs-number">84</span>, <span class="hljs-number">21</span>, <span class="hljs-number">13</span>, <span class="hljs-number">144</span>, <span class="hljs-number">57</span>, <span class="hljs-number">7</span>, <span class="hljs-number">178</span>, <span class="hljs-number">183</span>, <span class="hljs-number">71</span>, <span class="hljs-number">126</span>, <span class="hljs-number">120</span>, <span class="hljs-number">98</span>, <span class="hljs-number">229</span>, <span class="hljs-number">235</span>, <span class="hljs-number">4</span>, <span class="hljs-number">40</span>, <span class="hljs-number">229</span>, <span class="hljs-number">173</span>, <span class="hljs-number">149</span>, <span class="hljs-number">185</span>, <span class="hljs-number">209</span>, <span class="hljs-number">29</span>, <span class="hljs-number">199</span>, <span class="hljs-number">29</span>, <span class="hljs-number">54</span>, <span class="hljs-number">164</span>, <span class="hljs-number">161</span>, <span class="hljs-number">38</span>, <span class="hljs-number">8</span>, <span class="hljs-number">30</span>, <span class="hljs-number">62</span>, <span class="hljs-number">83</span>, <span class="hljs-number">179</span>, <span class="hljs-number">47</span>, <span class="hljs-number">42</span>, <span class="hljs-number">165</span>, <span class="hljs-number">0</span>, <span class="hljs-number">156</span>, <span class="hljs-number">207</span>, <span class="hljs-number">160</span>, <span class="hljs-number">39</span>, <span class="hljs-number">169</span>, <span class="hljs-number">229</span>, <span class="hljs-number">81</span>, <span class="hljs-number">180</span>, <span class="hljs-number">136</span>, <span class="hljs-number">170</span>, <span class="hljs-number">116</span>, <span class="hljs-number">182</span>, <span class="hljs-number">20</span>, <span class="hljs-number">233</span>, <span class="hljs-number">45</span>, <span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">255</span>, <span class="hljs-number">47</span>, <span class="hljs-number">198</span>, <span class="hljs-number">15</span>, <span class="hljs-number">201</span>, <span class="hljs-number">238</span>, <span class="hljs-number">133</span>, <span class="hljs-number">89</span>, <span class="hljs-number">11</span>, <span class="hljs-number">133</span>, <span class="hljs-number">153</span>, <span class="hljs-number">184</span>, <span class="hljs-number">252</span>, <span class="hljs-number">37</span>, <span class="hljs-number">239</span>, <span class="hljs-number">177</span>, <span class="hljs-number">65</span>, <span class="hljs-number">118</span>, <span class="hljs-number">80</span>, <span class="hljs-number">231</span>, <span class="hljs-number">190</span>, <span class="hljs-number">222</span>, <span class="hljs-number">66</span>, <span class="hljs-number">250</span>, <span class="hljs-number">118</span>, <span class="hljs-number">72</span>, <span class="hljs-number">166</span>, <span class="hljs-number">221</span>, <span class="hljs-number">67</span>, <span class="hljs-number">156</span>, <span class="hljs-number">245</span>, <span class="hljs-number">119</span>, <span class="hljs-number">138</span>, <span class="hljs-number">28</span>, <span class="hljs-number">6</span>, <span class="hljs-number">142</span>, <span class="hljs-number">107</span>, <span class="hljs-number">71</span>, <span class="hljs-number">122</span>, <span class="hljs-number">116</span>, <span class="hljs-number">200</span>, <span class="hljs-number">156</span>, <span class="hljs-number">199</span>, <span class="hljs-number">237</span>, <span class="hljs-number">152</span>, <span class="hljs-number">191</span>, <span class="hljs-number">239</span>, <span class="hljs-number">4</span>, <span class="hljs-number">184</span>, <span class="hljs-number">64</span>, <span class="hljs-number">114</span>, <span class="hljs-number">143</span>, <span class="hljs-number">81</span>, <span class="hljs-number">62</span>, <span class="hljs-number">48</span>, <span class="hljs-number">23</span>, <span class="hljs-number">233</span>, <span class="hljs-number">217</span>, <span class="hljs-number">95</span>, <span class="hljs-number">47</span>, <span class="hljs-number">221</span>, <span class="hljs-number">104</span>, <span class="hljs-number">171</span>, <span class="hljs-number">2</span>, <span class="hljs-number">64</span>, <span class="hljs-number">30</span>, <span class="hljs-number">219</span>, <span class="hljs-number">1</span>, <span class="hljs-number">230</span>, <span class="hljs-number">241</span>, <span class="hljs-number">70</span>, <span class="hljs-number">246</span>, <span class="hljs-number">243</span>, <span class="hljs-number">121</span>, <span class="hljs-number">174</span>, <span class="hljs-number">67</span>, <span class="hljs-number">66</span>, <span class="hljs-number">11</span>, <span class="hljs-number">99</span>, <span class="hljs-number">202</span>, <span class="hljs-number">17</span>, <span class="hljs-number">52</span>, <span class="hljs-number">234</span>, <span class="hljs-number">78</span>, <span class="hljs-number">29</span>, <span class="hljs-number">3</span>, <span class="hljs-number">57</span>, <span class="hljs-number">51</span>, <span class="hljs-number">123</span>, <span class="hljs-number">149</span>, <span class="hljs-number">86</span>, <span class="hljs-number">64</span>, <span class="hljs-number">192</span>, <span class="hljs-number">73</span>, <span class="hljs-number">199</span>, <span class="hljs-number">108</span>, <span class="hljs-number">101</span>, <span class="hljs-number">55</span>, <span class="hljs-number">232</span>, <span class="hljs-number">41</span>, <span class="hljs-number">114</span>, <span class="hljs-number">153</span>, <span class="hljs-number">237</span>, <span class="hljs-number">253</span>, <span class="hljs-number">52</span>, <span class="hljs-number">205</span>, <span class="hljs-number">148</span>, <span class="hljs-number">45</span>, <span class="hljs-number">86</span>, <span class="hljs-number">186</span>, <span class="hljs-number">241</span>, <span class="hljs-number">182</span>, <span class="hljs-number">183</span>, <span class="hljs-number">42</span>, <span class="hljs-number">77</span>, <span class="hljs-number">252</span>, <span class="hljs-number">195</span>, <span class="hljs-number">29</span>, <span class="hljs-number">158</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">182</span>, <span class="hljs-number">207</span>, <span class="hljs-number">254</span>, <span class="hljs-number">61</span>, <span class="hljs-number">71</span>, <span class="hljs-number">184</span>, <span class="hljs-number">167</span>, <span class="hljs-number">184</span>]);</li><li>  <span class="hljs-keyword">let</span> keyPair =  <span class="hljs-title function_">genKeyPairByData</span>(pkData, skData);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">inputUpdate</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"This is Sign test plan1"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">inputSign</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"This is Sign test plan2"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> signer = cryptoFramework.<span class="hljs-title function_">createSign</span>(<span class="hljs-string">'RSA1024|PKCS1|SHA256'</span>);</li><li>  signer.<span class="hljs-title function_">initSync</span>(keyPair.<span class="hljs-property">priKey</span>);</li><li>  signer.<span class="hljs-title function_">updateSync</span>(inputUpdate);</li><li>  <span class="hljs-keyword">let</span> signData = signer.<span class="hljs-title function_">signSync</span>(inputSign);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'signData result: '</span> + signData.<span class="hljs-property">data</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1491px;">     <h3 id="setsignspec10" device-type="phone,2in1,tablet,wearable,tv">setSignSpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsignspec10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSignSpec(itemType: SignSpecItem, itemValue: number): void</p>     <p>setSignSpec(itemType: SignSpecItem, itemValue: number | Uint8Array): void</p>     <p>设置签名参数。常用签名参数可通过 <a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatesign">createSign</a> 指定，其他参数则通过本接口设置。</p>     <p>只支持RSA算法、SM2算法，从API version11开始，支持SM2算法设置签名参数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.135.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">itemType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#signspecitem10">SignSpecItem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于指定需要设置的签名参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">itemValue</td>         <td class="cellrowborder" width="25%">number | Uint8Array<sup>11+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于指定签名参数的具体值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.135.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testSetSignSpec</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> signer = cryptoFramework.<span class="hljs-title function_">createSign</span>(<span class="hljs-string">"RSA|PSS|SHA256|MGF1_SHA256"</span>);</li><li>  <span class="hljs-keyword">let</span> setN = <span class="hljs-number">20</span>;</li><li>  signer.<span class="hljs-title function_">setSignSpec</span>(cryptoFramework.<span class="hljs-property">SignSpecItem</span>.<span class="hljs-property">PSS_SALT_LEN_NUM</span>, setN);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1521px;">     <h3 id="getsignspec10" device-type="phone,2in1,tablet,wearable,tv">getSignSpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsignspec10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSignSpec(itemType: SignSpecItem): string | number</p>     <p>获取签名参数。当前仅支持RSA算法。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.136.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">itemType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#signspecitem10">SignSpecItem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于指定需要获取的签名参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.136.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string | number</td>         <td class="cellrowborder" width="50%">获取的签名参数的具体值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.136.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGetSignSpec</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> signer = cryptoFramework.<span class="hljs-title function_">createSign</span>(<span class="hljs-string">"RSA|PSS|SHA256|MGF1_SHA256"</span>);</li><li>  <span class="hljs-keyword">let</span> setN = <span class="hljs-number">32</span>;</li><li>  signer.<span class="hljs-title function_">setSignSpec</span>(cryptoFramework.<span class="hljs-property">SignSpecItem</span>.<span class="hljs-property">PSS_SALT_LEN_NUM</span>, setN);</li><li>  <span class="hljs-keyword">let</span> saltLen = signer.<span class="hljs-title function_">getSignSpec</span>(cryptoFramework.<span class="hljs-property">SignSpecItem</span>.<span class="hljs-property">PSS_SALT_LEN_NUM</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1642px;">     <h2 id="cryptoframeworkcreateverify" device-type="phone,2in1,tablet,wearable,tv">cryptoFramework.createVerify<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cryptoframeworkcreateverify" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createVerify(algName: string): Verify</p>     <p>生成Verify实例。</p>     <p>支持的规格详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-sign-sig-verify-overview" target="_blank">签名验签规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.137.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">algName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定签名算法：RSA、ECC、DSA、SM2<sup>10+</sup>或Ed25519<sup>11+</sup>。使用RSA PKCS1模式时需设置摘要；使用RSA PSS模式时需设置摘要和掩码摘要。使用RSA算法验签时，设置Recover参数可支持验签恢复。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.137.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Verify</td>         <td class="cellrowborder" width="50%">返回由输入算法指定生成的Verify对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.137.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> verifier1 = cryptoFramework.<span class="hljs-title function_">createVerify</span>(<span class="hljs-string">'RSA1024|PKCS1|SHA256'</span>);</li><li>
</li><li><span class="hljs-keyword">let</span> verifier2 = cryptoFramework.<span class="hljs-title function_">createVerify</span>(<span class="hljs-string">'RSA1024|PSS|SHA256|MGF1_SHA256'</span>);</li><li>
</li><li><span class="hljs-keyword">let</span> verifier3 = cryptoFramework.<span class="hljs-title function_">createVerify</span>(<span class="hljs-string">'RSA1024|PKCS1|SHA256|Recover'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 542px;">     <h2 id="verify" device-type="phone,2in1,tablet,wearable,tv">Verify<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="verify" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Verify类，使用Verify方法之前需要创建该类的实例进行操作，通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateverify">createVerify(algName: string): Verify</a>方法构造此实例。按序调用本类中的init、update、verify方法完成签名操作。验签操作的示例代码详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1" target="_blank">签名验签开发指导</a>。</p>     <p>Verify类不支持重复初始化，当业务方需要使用新密钥验签时，需要重新创建新Verify对象并调用init初始化。</p>     <p>业务方使用时，在createVerify时确定验签的模式，调用init接口设置密钥。</p>     <p>当被签名的消息较短时，可在init初始化后，（无需update）直接调用verify接口传入被签名的消息和签名(signatureData)进行验签。</p>     <p>当被签名的消息较长时，可通过update接口分段传入被签名的消息，最后调用verify接口对消息全文进行验签。verify接口的data入参在API 10之前只支持DataBlob， API 10之后增加支持null。业务方可在循环中调用update接口，循环结束后调用verify传入签名(signatureData)进行验签。</p>     <p>当使用DSA算法进行验签，并设置了摘要算法为NoHash时，则不支持update操作，update接口会返回错误码ERR_CRYPTO_OPERATION。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h3 id="属性-7" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-7" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.139.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.139.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.139.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.139.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.139.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">验签指定的算法名称。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1138px;">     <h3 id="init-4" device-type="phone,2in1,tablet,wearable,tv">init<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="init-4" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>init(pubKey: PubKey, callback: AsyncCallback&lt;void&gt;): void</p>     <p>传入公钥初始化Verify对象，通过注册回调函数获取结果。init、update、verify为三段式接口，需要成组使用。其中init和verify必选，update可选。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.140.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pubKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#pubkey">PubKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">公钥对象，用于Verify的初始化。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当验签初始化成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.140.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1216px;">     <h3 id="init-5" device-type="phone,2in1,tablet,wearable,tv">init<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="init-5" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>init(pubKey: PubKey): Promise&lt;void&gt;</p>     <p>传入公钥初始化Verify对象，通过Promise获取结果。init、update、verify为三段式接口，需要成组使用。其中init和verify必选，update可选。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.141.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pubKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#pubkey">PubKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">公钥对象，用于Verify的初始化。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.141.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.141.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1144px;">     <h3 id="initsync12-2" device-type="phone,2in1,tablet,wearable,tv">initSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="initsync12-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>initSync(pubKey: PubKey): void</p>     <p>传入公钥初始化Verify对象，通过同步方式获取结果。initSync、updateSync、verifySync为三段式接口，需要成组使用。其中initSync和verifySync必选，updateSync可选。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.142.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pubKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#pubkey">PubKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">公钥对象，用于Verify的初始化。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.142.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">void</td>         <td class="cellrowborder" width="50%">无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.142.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1350px;">     <h3 id="update-4" device-type="phone,2in1,tablet,wearable,tv">update<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update-4" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>update(data: DataBlob, callback: AsyncCallback&lt;void&gt;): void</p>     <p>追加待验签数据，通过注册回调函数完成更新。</p>     <p>必须在对<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#verify">Verify</a>实例使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-4">init</a>初始化后，才能使用本函数。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>根据数据量，可以不调用update（即<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-4">init</a>完成后直接调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#verify-1">verify</a>）或多次调用update。</p>       <p>算法库目前没有对update（单次或累计）的数据量设置大小限制，建议对于大数据量的验签操作，采用多次update的方式传入数据，避免一次性申请过大内存。</p>       <p>验签使用多次update操作的示例代码详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1-by-segment" target="_blank">使用RSA密钥对分段签名验签</a>，其余算法操作类似。</p>       <p>当使用DSA算法进行验签，并设置了摘要算法为NoHash时，则不支持update操作，update接口会返回错误码ERR_CRYPTO_OPERATION。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.143.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当验签更新成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.143.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1428px;">     <h3 id="update-5" device-type="phone,2in1,tablet,wearable,tv">update<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update-5" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>update(data: DataBlob): Promise&lt;void&gt;</p>     <p>追加待验签数据，通过Promise方式完成更新。</p>     <p>必须在对<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#verify">Verify</a>实例使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-5">init()</a>初始化后，才能使用本函数。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>根据数据量，可以不调用update（即<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-5">init</a>完成后直接调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#verify-2">verify</a>）或多次调用update。</p>       <p>算法库目前没有对update（单次或累计）的数据量设置大小限制，建议对于大数据量的验签操作，采用多次update的方式传入数据，避免一次性申请过大内存。</p>       <p>验签使用多次update操作的示例代码详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1-by-segment" target="_blank">使用RSA密钥对分段签名验签</a>，其余算法操作类似。</p>       <p>当使用DSA算法进行验签，并设置了摘要算法为NoHash时，则不支持update操作，update接口会返回错误码ERR_CRYPTO_OPERATION。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.144.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.144.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.144.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1356px;">     <h3 id="updatesync12-2" device-type="phone,2in1,tablet,wearable,tv">updateSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatesync12-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateSync(data: DataBlob): void</p>     <p>追加待验签数据，通过同步方式完成更新。</p>     <p>必须在对<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#verify">Verify</a>实例使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#initsync12-2">initSync()</a>初始化后，才能使用本函数。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>根据数据量，可以不调用updateSync（即<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#initsync12-2">initSync</a>完成后直接调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#verifysync12">verifySync</a>）或多次调用updateSync。</p>       <p>算法库目前没有对updateSync（单次或累计）的数据量设置大小限制，建议对于大数据量的验签操作，采用多次updateSync的方式传入数据，避免一次性申请过大内存。</p>       <p>验签使用多次updateSync操作的示例代码详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1-by-segment" target="_blank">使用RSA密钥对分段签名验签</a>，其余算法操作类似。</p>       <p>当使用DSA算法进行验签，并设置了摘要算法为NoHash时，则不支持updateSync操作，updateSync接口会返回错误码ERR_CRYPTO_OPERATION。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.145.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.145.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">void</td>         <td class="cellrowborder" width="50%">无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.145.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1207px;">     <h3 id="verify-1" device-type="phone,2in1,tablet,wearable,tv">verify<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="verify-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>verify(data: DataBlob | null, signatureData: DataBlob, callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>对数据进行验签，通过注册回调函数返回验签结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.146.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。API 10之前只支持DataBlob， API 10之后增加支持null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">signatureData</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">签名数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取以boolean值表示的验签结果。返回true表示验签通过；返回false表示验签不通过。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.146.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1285px;">     <h3 id="verify-2" device-type="phone,2in1,tablet,wearable,tv">verify<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="verify-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>verify(data: DataBlob | null, signatureData: DataBlob): Promise&lt;boolean&gt;</p>     <p>对数据进行验签，通过Promise返回验签结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.147.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。API 10之前只支持DataBlob， API 10之后增加支持null。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">signatureData</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">签名数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.147.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">异步返回值，代表验签是否通过。true为通过，false为不通过。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.147.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3606px;">     <h3 id="verifysync12" device-type="phone,2in1,tablet,wearable,tv">verifySync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="verifysync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>verifySync(data: DataBlob | null, signatureData: DataBlob): boolean</p>     <p>对数据进行验签，通过同步方式返回验签结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">signatureData</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">签名数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.148.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">同步返回值，表示验签是否通过。true为通过，false为不通过。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.148.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>callback示例：</strong></p>     <p>此外，更多签名验签的完整示例可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1" target="_blank">签名验签开发指导</a>。</p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">verifyByCallback</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">inputUpdate</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"This is Sign test plan1"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">inputVerify</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"This is Sign test plan2"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-comment">// 根据密钥数据生成的密钥和输入的验签数据，这部分代码Verify与Sign中保持一致，保证验签通过。</span></li><li>  <span class="hljs-keyword">let</span> pkData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">159</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">129</span>, <span class="hljs-number">141</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">137</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>  <span class="hljs-keyword">let</span> skData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">120</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">98</span>, <span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">94</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">111</span>, <span class="hljs-number">145</span>, <span class="hljs-number">203</span>, <span class="hljs-number">10</span>, <span class="hljs-number">88</span>, <span class="hljs-number">116</span>, <span class="hljs-number">163</span>, <span class="hljs-number">112</span>, <span class="hljs-number">126</span>, <span class="hljs-number">9</span>, <span class="hljs-number">20</span>, <span class="hljs-number">68</span>, <span class="hljs-number">34</span>, <span class="hljs-number">235</span>, <span class="hljs-number">121</span>, <span class="hljs-number">98</span>, <span class="hljs-number">14</span>, <span class="hljs-number">182</span>, <span class="hljs-number">102</span>, <span class="hljs-number">151</span>, <span class="hljs-number">125</span>, <span class="hljs-number">114</span>, <span class="hljs-number">91</span>, <span class="hljs-number">210</span>, <span class="hljs-number">122</span>, <span class="hljs-number">215</span>, <span class="hljs-number">29</span>, <span class="hljs-number">212</span>, <span class="hljs-number">5</span>, <span class="hljs-number">176</span>, <span class="hljs-number">203</span>, <span class="hljs-number">238</span>, <span class="hljs-number">146</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">41</span>, <span class="hljs-number">21</span>, <span class="hljs-number">91</span>, <span class="hljs-number">56</span>, <span class="hljs-number">125</span>, <span class="hljs-number">239</span>, <span class="hljs-number">111</span>, <span class="hljs-number">133</span>, <span class="hljs-number">53</span>, <span class="hljs-number">200</span>, <span class="hljs-number">192</span>, <span class="hljs-number">56</span>, <span class="hljs-number">132</span>, <span class="hljs-number">202</span>, <span class="hljs-number">42</span>, <span class="hljs-number">145</span>, <span class="hljs-number">120</span>, <span class="hljs-number">3</span>, <span class="hljs-number">224</span>, <span class="hljs-number">40</span>, <span class="hljs-number">223</span>, <span class="hljs-number">46</span>, <span class="hljs-number">148</span>, <span class="hljs-number">29</span>, <span class="hljs-number">41</span>, <span class="hljs-number">92</span>, <span class="hljs-number">17</span>, <span class="hljs-number">40</span>, <span class="hljs-number">12</span>, <span class="hljs-number">72</span>, <span class="hljs-number">165</span>, <span class="hljs-number">69</span>, <span class="hljs-number">192</span>, <span class="hljs-number">211</span>, <span class="hljs-number">142</span>, <span class="hljs-number">233</span>, <span class="hljs-number">81</span>, <span class="hljs-number">202</span>, <span class="hljs-number">177</span>, <span class="hljs-number">235</span>, <span class="hljs-number">156</span>, <span class="hljs-number">27</span>, <span class="hljs-number">179</span>, <span class="hljs-number">48</span>, <span class="hljs-number">18</span>, <span class="hljs-number">85</span>, <span class="hljs-number">154</span>, <span class="hljs-number">101</span>, <span class="hljs-number">193</span>, <span class="hljs-number">45</span>, <span class="hljs-number">218</span>, <span class="hljs-number">91</span>, <span class="hljs-number">24</span>, <span class="hljs-number">143</span>, <span class="hljs-number">196</span>, <span class="hljs-number">248</span>, <span class="hljs-number">16</span>, <span class="hljs-number">83</span>, <span class="hljs-number">177</span>, <span class="hljs-number">198</span>, <span class="hljs-number">136</span>, <span class="hljs-number">77</span>, <span class="hljs-number">111</span>, <span class="hljs-number">134</span>, <span class="hljs-number">60</span>, <span class="hljs-number">219</span>, <span class="hljs-number">95</span>, <span class="hljs-number">246</span>, <span class="hljs-number">23</span>, <span class="hljs-number">5</span>, <span class="hljs-number">45</span>, <span class="hljs-number">14</span>, <span class="hljs-number">83</span>, <span class="hljs-number">29</span>, <span class="hljs-number">137</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">28</span>, <span class="hljs-number">132</span>, <span class="hljs-number">142</span>, <span class="hljs-number">205</span>, <span class="hljs-number">99</span>, <span class="hljs-number">226</span>, <span class="hljs-number">213</span>, <span class="hljs-number">84</span>, <span class="hljs-number">232</span>, <span class="hljs-number">57</span>, <span class="hljs-number">130</span>, <span class="hljs-number">156</span>, <span class="hljs-number">81</span>, <span class="hljs-number">191</span>, <span class="hljs-number">237</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">158</span>, <span class="hljs-number">212</span>, <span class="hljs-number">13</span>, <span class="hljs-number">43</span>, <span class="hljs-number">132</span>, <span class="hljs-number">244</span>, <span class="hljs-number">135</span>, <span class="hljs-number">148</span>, <span class="hljs-number">161</span>, <span class="hljs-number">232</span>, <span class="hljs-number">219</span>, <span class="hljs-number">20</span>, <span class="hljs-number">81</span>, <span class="hljs-number">196</span>, <span class="hljs-number">102</span>, <span class="hljs-number">103</span>, <span class="hljs-number">44</span>, <span class="hljs-number">110</span>, <span class="hljs-number">71</span>, <span class="hljs-number">100</span>, <span class="hljs-number">62</span>, <span class="hljs-number">73</span>, <span class="hljs-number">200</span>, <span class="hljs-number">32</span>, <span class="hljs-number">138</span>, <span class="hljs-number">114</span>, <span class="hljs-number">209</span>, <span class="hljs-number">171</span>, <span class="hljs-number">150</span>, <span class="hljs-number">179</span>, <span class="hljs-number">92</span>, <span class="hljs-number">198</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">218</span>, <span class="hljs-number">79</span>, <span class="hljs-number">227</span>, <span class="hljs-number">227</span>, <span class="hljs-number">37</span>, <span class="hljs-number">32</span>, <span class="hljs-number">57</span>, <span class="hljs-number">159</span>, <span class="hljs-number">252</span>, <span class="hljs-number">107</span>, <span class="hljs-number">211</span>, <span class="hljs-number">139</span>, <span class="hljs-number">198</span>, <span class="hljs-number">202</span>, <span class="hljs-number">248</span>, <span class="hljs-number">137</span>, <span class="hljs-number">143</span>, <span class="hljs-number">186</span>, <span class="hljs-number">205</span>, <span class="hljs-number">106</span>, <span class="hljs-number">81</span>, <span class="hljs-number">85</span>, <span class="hljs-number">207</span>, <span class="hljs-number">134</span>, <span class="hljs-number">148</span>, <span class="hljs-number">110</span>, <span class="hljs-number">204</span>, <span class="hljs-number">243</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">215</span>, <span class="hljs-number">4</span>, <span class="hljs-number">181</span>, <span class="hljs-number">121</span>, <span class="hljs-number">57</span>, <span class="hljs-number">224</span>, <span class="hljs-number">170</span>, <span class="hljs-number">168</span>, <span class="hljs-number">183</span>, <span class="hljs-number">159</span>, <span class="hljs-number">152</span>, <span class="hljs-number">8</span>, <span class="hljs-number">74</span>, <span class="hljs-number">233</span>, <span class="hljs-number">80</span>, <span class="hljs-number">244</span>, <span class="hljs-number">146</span>, <span class="hljs-number">81</span>, <span class="hljs-number">48</span>, <span class="hljs-number">159</span>, <span class="hljs-number">194</span>, <span class="hljs-number">199</span>, <span class="hljs-number">36</span>, <span class="hljs-number">187</span>, <span class="hljs-number">6</span>, <span class="hljs-number">181</span>, <span class="hljs-number">182</span>, <span class="hljs-number">223</span>, <span class="hljs-number">115</span>, <span class="hljs-number">133</span>, <span class="hljs-number">151</span>, <span class="hljs-number">171</span>, <span class="hljs-number">78</span>, <span class="hljs-number">219</span>, <span class="hljs-number">90</span>, <span class="hljs-number">161</span>, <span class="hljs-number">248</span>, <span class="hljs-number">69</span>, <span class="hljs-number">6</span>, <span class="hljs-number">207</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">81</span>, <span class="hljs-number">161</span>, <span class="hljs-number">2</span>, <span class="hljs-number">60</span>, <span class="hljs-number">238</span>, <span class="hljs-number">204</span>, <span class="hljs-number">177</span>, <span class="hljs-number">12</span>, <span class="hljs-number">138</span>, <span class="hljs-number">17</span>, <span class="hljs-number">220</span>, <span class="hljs-number">179</span>, <span class="hljs-number">71</span>, <span class="hljs-number">113</span>, <span class="hljs-number">200</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">153</span>, <span class="hljs-number">252</span>, <span class="hljs-number">150</span>, <span class="hljs-number">180</span>, <span class="hljs-number">155</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">190</span>, <span class="hljs-number">202</span>, <span class="hljs-number">185</span>, <span class="hljs-number">211</span>, <span class="hljs-number">170</span>, <span class="hljs-number">171</span>, <span class="hljs-number">238</span>, <span class="hljs-number">40</span>, <span class="hljs-number">84</span>, <span class="hljs-number">84</span>, <span class="hljs-number">21</span>, <span class="hljs-number">13</span>, <span class="hljs-number">144</span>, <span class="hljs-number">57</span>, <span class="hljs-number">7</span>, <span class="hljs-number">178</span>, <span class="hljs-number">183</span>, <span class="hljs-number">71</span>, <span class="hljs-number">126</span>, <span class="hljs-number">120</span>, <span class="hljs-number">98</span>, <span class="hljs-number">229</span>, <span class="hljs-number">235</span>, <span class="hljs-number">4</span>, <span class="hljs-number">40</span>, <span class="hljs-number">229</span>, <span class="hljs-number">173</span>, <span class="hljs-number">149</span>, <span class="hljs-number">185</span>, <span class="hljs-number">209</span>, <span class="hljs-number">29</span>, <span class="hljs-number">199</span>, <span class="hljs-number">29</span>, <span class="hljs-number">54</span>, <span class="hljs-number">164</span>, <span class="hljs-number">161</span>, <span class="hljs-number">38</span>, <span class="hljs-number">8</span>, <span class="hljs-number">30</span>, <span class="hljs-number">62</span>, <span class="hljs-number">83</span>, <span class="hljs-number">179</span>, <span class="hljs-number">47</span>, <span class="hljs-number">42</span>, <span class="hljs-number">165</span>, <span class="hljs-number">0</span>, <span class="hljs-number">156</span>, <span class="hljs-number">207</span>, <span class="hljs-number">160</span>, <span class="hljs-number">39</span>, <span class="hljs-number">169</span>, <span class="hljs-number">229</span>, <span class="hljs-number">81</span>, <span class="hljs-number">180</span>, <span class="hljs-number">136</span>, <span class="hljs-number">170</span>, <span class="hljs-number">116</span>, <span class="hljs-number">182</span>, <span class="hljs-number">20</span>, <span class="hljs-number">233</span>, <span class="hljs-number">45</span>, <span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">255</span>, <span class="hljs-number">47</span>, <span class="hljs-number">198</span>, <span class="hljs-number">15</span>, <span class="hljs-number">201</span>, <span class="hljs-number">238</span>, <span class="hljs-number">133</span>, <span class="hljs-number">89</span>, <span class="hljs-number">11</span>, <span class="hljs-number">133</span>, <span class="hljs-number">153</span>, <span class="hljs-number">184</span>, <span class="hljs-number">252</span>, <span class="hljs-number">37</span>, <span class="hljs-number">239</span>, <span class="hljs-number">177</span>, <span class="hljs-number">65</span>, <span class="hljs-number">118</span>, <span class="hljs-number">80</span>, <span class="hljs-number">231</span>, <span class="hljs-number">190</span>, <span class="hljs-number">222</span>, <span class="hljs-number">66</span>, <span class="hljs-number">250</span>, <span class="hljs-number">118</span>, <span class="hljs-number">72</span>, <span class="hljs-number">166</span>, <span class="hljs-number">221</span>, <span class="hljs-number">67</span>, <span class="hljs-number">156</span>, <span class="hljs-number">245</span>, <span class="hljs-number">119</span>, <span class="hljs-number">138</span>, <span class="hljs-number">28</span>, <span class="hljs-number">6</span>, <span class="hljs-number">142</span>, <span class="hljs-number">107</span>, <span class="hljs-number">71</span>, <span class="hljs-number">122</span>, <span class="hljs-number">116</span>, <span class="hljs-number">200</span>, <span class="hljs-number">156</span>, <span class="hljs-number">199</span>, <span class="hljs-number">237</span>, <span class="hljs-number">152</span>, <span class="hljs-number">191</span>, <span class="hljs-number">239</span>, <span class="hljs-number">4</span>, <span class="hljs-number">184</span>, <span class="hljs-number">64</span>, <span class="hljs-number">114</span>, <span class="hljs-number">143</span>, <span class="hljs-number">81</span>, <span class="hljs-number">62</span>, <span class="hljs-number">48</span>, <span class="hljs-number">23</span>, <span class="hljs-number">233</span>, <span class="hljs-number">217</span>, <span class="hljs-number">95</span>, <span class="hljs-number">47</span>, <span class="hljs-number">221</span>, <span class="hljs-number">104</span>, <span class="hljs-number">171</span>, <span class="hljs-number">2</span>, <span class="hljs-number">64</span>, <span class="hljs-number">30</span>, <span class="hljs-number">219</span>, <span class="hljs-number">1</span>, <span class="hljs-number">230</span>, <span class="hljs-number">241</span>, <span class="hljs-number">70</span>, <span class="hljs-number">246</span>, <span class="hljs-number">243</span>, <span class="hljs-number">121</span>, <span class="hljs-number">174</span>, <span class="hljs-number">67</span>, <span class="hljs-number">66</span>, <span class="hljs-number">11</span>, <span class="hljs-number">99</span>, <span class="hljs-number">202</span>, <span class="hljs-number">17</span>, <span class="hljs-number">52</span>, <span class="hljs-number">234</span>, <span class="hljs-number">78</span>, <span class="hljs-number">29</span>, <span class="hljs-number">3</span>, <span class="hljs-number">57</span>, <span class="hljs-number">51</span>, <span class="hljs-number">123</span>, <span class="hljs-number">149</span>, <span class="hljs-number">86</span>, <span class="hljs-number">64</span>, <span class="hljs-number">192</span>, <span class="hljs-number">73</span>, <span class="hljs-number">199</span>, <span class="hljs-number">108</span>, <span class="hljs-number">101</span>, <span class="hljs-number">55</span>, <span class="hljs-number">232</span>, <span class="hljs-number">41</span>, <span class="hljs-number">114</span>, <span class="hljs-number">153</span>, <span class="hljs-number">237</span>, <span class="hljs-number">253</span>, <span class="hljs-number">52</span>, <span class="hljs-number">205</span>, <span class="hljs-number">148</span>, <span class="hljs-number">45</span>, <span class="hljs-number">86</span>, <span class="hljs-number">186</span>, <span class="hljs-number">241</span>, <span class="hljs-number">182</span>, <span class="hljs-number">183</span>, <span class="hljs-number">42</span>, <span class="hljs-number">77</span>, <span class="hljs-number">252</span>, <span class="hljs-number">195</span>, <span class="hljs-number">29</span>, <span class="hljs-number">158</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">182</span>, <span class="hljs-number">207</span>, <span class="hljs-number">254</span>, <span class="hljs-number">61</span>, <span class="hljs-number">71</span>, <span class="hljs-number">184</span>, <span class="hljs-number">167</span>, <span class="hljs-number">184</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">pubKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: pkData };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: skData };</li><li>  <span class="hljs-comment">// 该数据取自Sign中的signData.data。</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">signMessageBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">9</span>, <span class="hljs-number">68</span>, <span class="hljs-number">164</span>, <span class="hljs-number">161</span>, <span class="hljs-number">230</span>, <span class="hljs-number">155</span>, <span class="hljs-number">255</span>, <span class="hljs-number">153</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">22</span>, <span class="hljs-number">146</span>, <span class="hljs-number">115</span>, <span class="hljs-number">209</span>, <span class="hljs-number">167</span>, <span class="hljs-number">223</span>, <span class="hljs-number">133</span>, <span class="hljs-number">89</span>, <span class="hljs-number">173</span>, <span class="hljs-number">50</span>, <span class="hljs-number">249</span>, <span class="hljs-number">176</span>, <span class="hljs-number">104</span>, <span class="hljs-number">10</span>, <span class="hljs-number">251</span>, <span class="hljs-number">219</span>, <span class="hljs-number">104</span>, <span class="hljs-number">117</span>, <span class="hljs-number">196</span>, <span class="hljs-number">105</span>, <span class="hljs-number">65</span>, <span class="hljs-number">249</span>, <span class="hljs-number">139</span>, <span class="hljs-number">119</span>, <span class="hljs-number">41</span>, <span class="hljs-number">15</span>, <span class="hljs-number">171</span>, <span class="hljs-number">191</span>, <span class="hljs-number">11</span>, <span class="hljs-number">177</span>, <span class="hljs-number">177</span>, <span class="hljs-number">1</span>, <span class="hljs-number">119</span>, <span class="hljs-number">130</span>, <span class="hljs-number">142</span>, <span class="hljs-number">87</span>, <span class="hljs-number">183</span>, <span class="hljs-number">32</span>, <span class="hljs-number">220</span>, <span class="hljs-number">226</span>, <span class="hljs-number">28</span>, <span class="hljs-number">38</span>, <span class="hljs-number">73</span>, <span class="hljs-number">222</span>, <span class="hljs-number">172</span>, <span class="hljs-number">153</span>, <span class="hljs-number">26</span>, <span class="hljs-number">87</span>, <span class="hljs-number">58</span>, <span class="hljs-number">188</span>, <span class="hljs-number">42</span>, <span class="hljs-number">150</span>, <span class="hljs-number">67</span>, <span class="hljs-number">94</span>, <span class="hljs-number">214</span>, <span class="hljs-number">147</span>, <span class="hljs-number">64</span>, <span class="hljs-number">202</span>, <span class="hljs-number">87</span>, <span class="hljs-number">155</span>, <span class="hljs-number">125</span>, <span class="hljs-number">254</span>, <span class="hljs-number">112</span>, <span class="hljs-number">95</span>, <span class="hljs-number">176</span>, <span class="hljs-number">255</span>, <span class="hljs-number">207</span>, <span class="hljs-number">106</span>, <span class="hljs-number">43</span>, <span class="hljs-number">228</span>, <span class="hljs-number">153</span>, <span class="hljs-number">131</span>, <span class="hljs-number">240</span>, <span class="hljs-number">120</span>, <span class="hljs-number">88</span>, <span class="hljs-number">253</span>, <span class="hljs-number">179</span>, <span class="hljs-number">207</span>, <span class="hljs-number">207</span>, <span class="hljs-number">110</span>, <span class="hljs-number">223</span>, <span class="hljs-number">173</span>, <span class="hljs-number">15</span>, <span class="hljs-number">113</span>, <span class="hljs-number">11</span>, <span class="hljs-number">183</span>, <span class="hljs-number">122</span>, <span class="hljs-number">237</span>, <span class="hljs-number">205</span>, <span class="hljs-number">206</span>, <span class="hljs-number">123</span>, <span class="hljs-number">246</span>, <span class="hljs-number">33</span>, <span class="hljs-number">167</span>, <span class="hljs-number">169</span>, <span class="hljs-number">251</span>, <span class="hljs-number">237</span>, <span class="hljs-number">199</span>, <span class="hljs-number">26</span>, <span class="hljs-number">220</span>, <span class="hljs-number">152</span>, <span class="hljs-number">190</span>, <span class="hljs-number">117</span>, <span class="hljs-number">131</span>, <span class="hljs-number">74</span>, <span class="hljs-number">232</span>, <span class="hljs-number">50</span>, <span class="hljs-number">39</span>, <span class="hljs-number">172</span>, <span class="hljs-number">232</span>, <span class="hljs-number">178</span>, <span class="hljs-number">112</span>, <span class="hljs-number">73</span>, <span class="hljs-number">251</span>, <span class="hljs-number">235</span>, <span class="hljs-number">131</span>, <span class="hljs-number">209</span>]) }</li><li>  <span class="hljs-keyword">let</span> rsaGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">let</span> verifier = cryptoFramework.<span class="hljs-title function_">createVerify</span>(<span class="hljs-string">'RSA1024|PKCS1|SHA256'</span>);</li><li>  rsaGenerator.<span class="hljs-title function_">convertKey</span>(pubKeyBlob, priKeyBlob, <span class="hljs-function">(<span class="hljs-params">err, keyPair</span>) =&gt;</span> {</li><li>    verifier.<span class="hljs-title function_">init</span>(keyPair.<span class="hljs-property">pubKey</span>, <span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {</li><li>      verifier.<span class="hljs-title function_">update</span>(inputUpdate, <span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {</li><li>        verifier.<span class="hljs-title function_">verify</span>(inputVerify, signMessageBlob, <span class="hljs-function">(<span class="hljs-params">err, res</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'verify result is '</span> + res);</li><li>        });</li><li>      });</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>     <p><strong>Promise示例：</strong></p>     <p>更多示例请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1" target="_blank">签名验签开发指导</a>。</p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">genKeyPairByData</span>(<span class="hljs-params">pubKeyData: <span class="hljs-built_in">Uint8Array</span>, priKeyData: <span class="hljs-built_in">Uint8Array</span></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">pubKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: pubKeyData };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: priKeyData };</li><li>  <span class="hljs-keyword">let</span> rsaGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-keyword">await</span> rsaGenerator.<span class="hljs-title function_">convertKey</span>(pubKeyBlob, priKeyBlob);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'convertKey success'</span>);</li><li>  <span class="hljs-keyword">return</span> keyPair;</li><li>}</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">verifyByPromise</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-comment">// 根据密钥数据生成的密钥和输入的验签数据，这部分代码Verify与Sign中保持一致，保证验签通过。</span></li><li>  <span class="hljs-keyword">let</span> pkData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">159</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">129</span>, <span class="hljs-number">141</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">137</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>  <span class="hljs-keyword">let</span> skData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">120</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">98</span>, <span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">94</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">111</span>, <span class="hljs-number">145</span>, <span class="hljs-number">203</span>, <span class="hljs-number">10</span>, <span class="hljs-number">88</span>, <span class="hljs-number">116</span>, <span class="hljs-number">163</span>, <span class="hljs-number">112</span>, <span class="hljs-number">126</span>, <span class="hljs-number">9</span>, <span class="hljs-number">20</span>, <span class="hljs-number">68</span>, <span class="hljs-number">34</span>, <span class="hljs-number">235</span>, <span class="hljs-number">121</span>, <span class="hljs-number">98</span>, <span class="hljs-number">14</span>, <span class="hljs-number">182</span>, <span class="hljs-number">102</span>, <span class="hljs-number">151</span>, <span class="hljs-number">125</span>, <span class="hljs-number">114</span>, <span class="hljs-number">91</span>, <span class="hljs-number">210</span>, <span class="hljs-number">122</span>, <span class="hljs-number">215</span>, <span class="hljs-number">29</span>, <span class="hljs-number">212</span>, <span class="hljs-number">5</span>, <span class="hljs-number">176</span>, <span class="hljs-number">203</span>, <span class="hljs-number">238</span>, <span class="hljs-number">146</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">41</span>, <span class="hljs-number">21</span>, <span class="hljs-number">91</span>, <span class="hljs-number">56</span>, <span class="hljs-number">125</span>, <span class="hljs-number">239</span>, <span class="hljs-number">111</span>, <span class="hljs-number">133</span>, <span class="hljs-number">53</span>, <span class="hljs-number">200</span>, <span class="hljs-number">192</span>, <span class="hljs-number">56</span>, <span class="hljs-number">132</span>, <span class="hljs-number">202</span>, <span class="hljs-number">42</span>, <span class="hljs-number">145</span>, <span class="hljs-number">120</span>, <span class="hljs-number">3</span>, <span class="hljs-number">224</span>, <span class="hljs-number">40</span>, <span class="hljs-number">223</span>, <span class="hljs-number">46</span>, <span class="hljs-number">148</span>, <span class="hljs-number">29</span>, <span class="hljs-number">41</span>, <span class="hljs-number">92</span>, <span class="hljs-number">17</span>, <span class="hljs-number">40</span>, <span class="hljs-number">12</span>, <span class="hljs-number">72</span>, <span class="hljs-number">165</span>, <span class="hljs-number">69</span>, <span class="hljs-number">192</span>, <span class="hljs-number">211</span>, <span class="hljs-number">142</span>, <span class="hljs-number">233</span>, <span class="hljs-number">81</span>, <span class="hljs-number">202</span>, <span class="hljs-number">177</span>, <span class="hljs-number">235</span>, <span class="hljs-number">156</span>, <span class="hljs-number">27</span>, <span class="hljs-number">179</span>, <span class="hljs-number">48</span>, <span class="hljs-number">18</span>, <span class="hljs-number">85</span>, <span class="hljs-number">154</span>, <span class="hljs-number">101</span>, <span class="hljs-number">193</span>, <span class="hljs-number">45</span>, <span class="hljs-number">218</span>, <span class="hljs-number">91</span>, <span class="hljs-number">24</span>, <span class="hljs-number">143</span>, <span class="hljs-number">196</span>, <span class="hljs-number">248</span>, <span class="hljs-number">16</span>, <span class="hljs-number">83</span>, <span class="hljs-number">177</span>, <span class="hljs-number">198</span>, <span class="hljs-number">136</span>, <span class="hljs-number">77</span>, <span class="hljs-number">111</span>, <span class="hljs-number">134</span>, <span class="hljs-number">60</span>, <span class="hljs-number">219</span>, <span class="hljs-number">95</span>, <span class="hljs-number">246</span>, <span class="hljs-number">23</span>, <span class="hljs-number">5</span>, <span class="hljs-number">45</span>, <span class="hljs-number">14</span>, <span class="hljs-number">83</span>, <span class="hljs-number">29</span>, <span class="hljs-number">137</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">28</span>, <span class="hljs-number">132</span>, <span class="hljs-number">142</span>, <span class="hljs-number">205</span>, <span class="hljs-number">99</span>, <span class="hljs-number">226</span>, <span class="hljs-number">213</span>, <span class="hljs-number">84</span>, <span class="hljs-number">232</span>, <span class="hljs-number">57</span>, <span class="hljs-number">130</span>, <span class="hljs-number">156</span>, <span class="hljs-number">81</span>, <span class="hljs-number">191</span>, <span class="hljs-number">237</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">158</span>, <span class="hljs-number">212</span>, <span class="hljs-number">13</span>, <span class="hljs-number">43</span>, <span class="hljs-number">132</span>, <span class="hljs-number">244</span>, <span class="hljs-number">135</span>, <span class="hljs-number">148</span>, <span class="hljs-number">161</span>, <span class="hljs-number">232</span>, <span class="hljs-number">219</span>, <span class="hljs-number">20</span>, <span class="hljs-number">81</span>, <span class="hljs-number">196</span>, <span class="hljs-number">102</span>, <span class="hljs-number">103</span>, <span class="hljs-number">44</span>, <span class="hljs-number">110</span>, <span class="hljs-number">71</span>, <span class="hljs-number">100</span>, <span class="hljs-number">62</span>, <span class="hljs-number">73</span>, <span class="hljs-number">200</span>, <span class="hljs-number">32</span>, <span class="hljs-number">138</span>, <span class="hljs-number">114</span>, <span class="hljs-number">209</span>, <span class="hljs-number">171</span>, <span class="hljs-number">150</span>, <span class="hljs-number">179</span>, <span class="hljs-number">92</span>, <span class="hljs-number">198</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">218</span>, <span class="hljs-number">79</span>, <span class="hljs-number">227</span>, <span class="hljs-number">227</span>, <span class="hljs-number">37</span>, <span class="hljs-number">32</span>, <span class="hljs-number">57</span>, <span class="hljs-number">159</span>, <span class="hljs-number">252</span>, <span class="hljs-number">107</span>, <span class="hljs-number">211</span>, <span class="hljs-number">139</span>, <span class="hljs-number">198</span>, <span class="hljs-number">202</span>, <span class="hljs-number">248</span>, <span class="hljs-number">137</span>, <span class="hljs-number">143</span>, <span class="hljs-number">186</span>, <span class="hljs-number">205</span>, <span class="hljs-number">106</span>, <span class="hljs-number">81</span>, <span class="hljs-number">85</span>, <span class="hljs-number">207</span>, <span class="hljs-number">134</span>, <span class="hljs-number">148</span>, <span class="hljs-number">110</span>, <span class="hljs-number">204</span>, <span class="hljs-number">243</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">215</span>, <span class="hljs-number">4</span>, <span class="hljs-number">181</span>, <span class="hljs-number">121</span>, <span class="hljs-number">57</span>, <span class="hljs-number">224</span>, <span class="hljs-number">170</span>, <span class="hljs-number">168</span>, <span class="hljs-number">183</span>, <span class="hljs-number">159</span>, <span class="hljs-number">152</span>, <span class="hljs-number">8</span>, <span class="hljs-number">74</span>, <span class="hljs-number">233</span>, <span class="hljs-number">80</span>, <span class="hljs-number">244</span>, <span class="hljs-number">146</span>, <span class="hljs-number">81</span>, <span class="hljs-number">48</span>, <span class="hljs-number">159</span>, <span class="hljs-number">194</span>, <span class="hljs-number">199</span>, <span class="hljs-number">36</span>, <span class="hljs-number">187</span>, <span class="hljs-number">6</span>, <span class="hljs-number">181</span>, <span class="hljs-number">182</span>, <span class="hljs-number">223</span>, <span class="hljs-number">115</span>, <span class="hljs-number">133</span>, <span class="hljs-number">151</span>, <span class="hljs-number">171</span>, <span class="hljs-number">78</span>, <span class="hljs-number">219</span>, <span class="hljs-number">90</span>, <span class="hljs-number">161</span>, <span class="hljs-number">248</span>, <span class="hljs-number">69</span>, <span class="hljs-number">6</span>, <span class="hljs-number">207</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">81</span>, <span class="hljs-number">161</span>, <span class="hljs-number">2</span>, <span class="hljs-number">60</span>, <span class="hljs-number">238</span>, <span class="hljs-number">204</span>, <span class="hljs-number">177</span>, <span class="hljs-number">12</span>, <span class="hljs-number">138</span>, <span class="hljs-number">17</span>, <span class="hljs-number">220</span>, <span class="hljs-number">179</span>, <span class="hljs-number">71</span>, <span class="hljs-number">113</span>, <span class="hljs-number">200</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">153</span>, <span class="hljs-number">252</span>, <span class="hljs-number">150</span>, <span class="hljs-number">180</span>, <span class="hljs-number">155</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">190</span>, <span class="hljs-number">202</span>, <span class="hljs-number">185</span>, <span class="hljs-number">211</span>, <span class="hljs-number">170</span>, <span class="hljs-number">171</span>, <span class="hljs-number">238</span>, <span class="hljs-number">40</span>, <span class="hljs-number">84</span>, <span class="hljs-number">84</span>, <span class="hljs-number">21</span>, <span class="hljs-number">13</span>, <span class="hljs-number">144</span>, <span class="hljs-number">57</span>, <span class="hljs-number">7</span>, <span class="hljs-number">178</span>, <span class="hljs-number">183</span>, <span class="hljs-number">71</span>, <span class="hljs-number">126</span>, <span class="hljs-number">120</span>, <span class="hljs-number">98</span>, <span class="hljs-number">229</span>, <span class="hljs-number">235</span>, <span class="hljs-number">4</span>, <span class="hljs-number">40</span>, <span class="hljs-number">229</span>, <span class="hljs-number">173</span>, <span class="hljs-number">149</span>, <span class="hljs-number">185</span>, <span class="hljs-number">209</span>, <span class="hljs-number">29</span>, <span class="hljs-number">199</span>, <span class="hljs-number">29</span>, <span class="hljs-number">54</span>, <span class="hljs-number">164</span>, <span class="hljs-number">161</span>, <span class="hljs-number">38</span>, <span class="hljs-number">8</span>, <span class="hljs-number">30</span>, <span class="hljs-number">62</span>, <span class="hljs-number">83</span>, <span class="hljs-number">179</span>, <span class="hljs-number">47</span>, <span class="hljs-number">42</span>, <span class="hljs-number">165</span>, <span class="hljs-number">0</span>, <span class="hljs-number">156</span>, <span class="hljs-number">207</span>, <span class="hljs-number">160</span>, <span class="hljs-number">39</span>, <span class="hljs-number">169</span>, <span class="hljs-number">229</span>, <span class="hljs-number">81</span>, <span class="hljs-number">180</span>, <span class="hljs-number">136</span>, <span class="hljs-number">170</span>, <span class="hljs-number">116</span>, <span class="hljs-number">182</span>, <span class="hljs-number">20</span>, <span class="hljs-number">233</span>, <span class="hljs-number">45</span>, <span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">255</span>, <span class="hljs-number">47</span>, <span class="hljs-number">198</span>, <span class="hljs-number">15</span>, <span class="hljs-number">201</span>, <span class="hljs-number">238</span>, <span class="hljs-number">133</span>, <span class="hljs-number">89</span>, <span class="hljs-number">11</span>, <span class="hljs-number">133</span>, <span class="hljs-number">153</span>, <span class="hljs-number">184</span>, <span class="hljs-number">252</span>, <span class="hljs-number">37</span>, <span class="hljs-number">239</span>, <span class="hljs-number">177</span>, <span class="hljs-number">65</span>, <span class="hljs-number">118</span>, <span class="hljs-number">80</span>, <span class="hljs-number">231</span>, <span class="hljs-number">190</span>, <span class="hljs-number">222</span>, <span class="hljs-number">66</span>, <span class="hljs-number">250</span>, <span class="hljs-number">118</span>, <span class="hljs-number">72</span>, <span class="hljs-number">166</span>, <span class="hljs-number">221</span>, <span class="hljs-number">67</span>, <span class="hljs-number">156</span>, <span class="hljs-number">245</span>, <span class="hljs-number">119</span>, <span class="hljs-number">138</span>, <span class="hljs-number">28</span>, <span class="hljs-number">6</span>, <span class="hljs-number">142</span>, <span class="hljs-number">107</span>, <span class="hljs-number">71</span>, <span class="hljs-number">122</span>, <span class="hljs-number">116</span>, <span class="hljs-number">200</span>, <span class="hljs-number">156</span>, <span class="hljs-number">199</span>, <span class="hljs-number">237</span>, <span class="hljs-number">152</span>, <span class="hljs-number">191</span>, <span class="hljs-number">239</span>, <span class="hljs-number">4</span>, <span class="hljs-number">184</span>, <span class="hljs-number">64</span>, <span class="hljs-number">114</span>, <span class="hljs-number">143</span>, <span class="hljs-number">81</span>, <span class="hljs-number">62</span>, <span class="hljs-number">48</span>, <span class="hljs-number">23</span>, <span class="hljs-number">233</span>, <span class="hljs-number">217</span>, <span class="hljs-number">95</span>, <span class="hljs-number">47</span>, <span class="hljs-number">221</span>, <span class="hljs-number">104</span>, <span class="hljs-number">171</span>, <span class="hljs-number">2</span>, <span class="hljs-number">64</span>, <span class="hljs-number">30</span>, <span class="hljs-number">219</span>, <span class="hljs-number">1</span>, <span class="hljs-number">230</span>, <span class="hljs-number">241</span>, <span class="hljs-number">70</span>, <span class="hljs-number">246</span>, <span class="hljs-number">243</span>, <span class="hljs-number">121</span>, <span class="hljs-number">174</span>, <span class="hljs-number">67</span>, <span class="hljs-number">66</span>, <span class="hljs-number">11</span>, <span class="hljs-number">99</span>, <span class="hljs-number">202</span>, <span class="hljs-number">17</span>, <span class="hljs-number">52</span>, <span class="hljs-number">234</span>, <span class="hljs-number">78</span>, <span class="hljs-number">29</span>, <span class="hljs-number">3</span>, <span class="hljs-number">57</span>, <span class="hljs-number">51</span>, <span class="hljs-number">123</span>, <span class="hljs-number">149</span>, <span class="hljs-number">86</span>, <span class="hljs-number">64</span>, <span class="hljs-number">192</span>, <span class="hljs-number">73</span>, <span class="hljs-number">199</span>, <span class="hljs-number">108</span>, <span class="hljs-number">101</span>, <span class="hljs-number">55</span>, <span class="hljs-number">232</span>, <span class="hljs-number">41</span>, <span class="hljs-number">114</span>, <span class="hljs-number">153</span>, <span class="hljs-number">237</span>, <span class="hljs-number">253</span>, <span class="hljs-number">52</span>, <span class="hljs-number">205</span>, <span class="hljs-number">148</span>, <span class="hljs-number">45</span>, <span class="hljs-number">86</span>, <span class="hljs-number">186</span>, <span class="hljs-number">241</span>, <span class="hljs-number">182</span>, <span class="hljs-number">183</span>, <span class="hljs-number">42</span>, <span class="hljs-number">77</span>, <span class="hljs-number">252</span>, <span class="hljs-number">195</span>, <span class="hljs-number">29</span>, <span class="hljs-number">158</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">182</span>, <span class="hljs-number">207</span>, <span class="hljs-number">254</span>, <span class="hljs-number">61</span>, <span class="hljs-number">71</span>, <span class="hljs-number">184</span>, <span class="hljs-number">167</span>, <span class="hljs-number">184</span>]);</li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-keyword">await</span> <span class="hljs-title function_">genKeyPairByData</span>(pkData, skData);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">inputUpdate</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"This is Sign test plan1"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">inputVerify</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"This is Sign test plan2"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-comment">// 该数据取自Sign中的signData.data。</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">signMessageBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">9</span>, <span class="hljs-number">68</span>, <span class="hljs-number">164</span>, <span class="hljs-number">161</span>, <span class="hljs-number">230</span>, <span class="hljs-number">155</span>, <span class="hljs-number">255</span>, <span class="hljs-number">153</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">22</span>, <span class="hljs-number">146</span>, <span class="hljs-number">115</span>, <span class="hljs-number">209</span>, <span class="hljs-number">167</span>, <span class="hljs-number">223</span>, <span class="hljs-number">133</span>, <span class="hljs-number">89</span>, <span class="hljs-number">173</span>, <span class="hljs-number">50</span>, <span class="hljs-number">249</span>, <span class="hljs-number">176</span>, <span class="hljs-number">104</span>, <span class="hljs-number">10</span>, <span class="hljs-number">251</span>, <span class="hljs-number">219</span>, <span class="hljs-number">104</span>, <span class="hljs-number">117</span>, <span class="hljs-number">196</span>, <span class="hljs-number">105</span>, <span class="hljs-number">65</span>, <span class="hljs-number">249</span>, <span class="hljs-number">139</span>, <span class="hljs-number">119</span>, <span class="hljs-number">41</span>, <span class="hljs-number">15</span>, <span class="hljs-number">171</span>, <span class="hljs-number">191</span>, <span class="hljs-number">11</span>, <span class="hljs-number">177</span>, <span class="hljs-number">177</span>, <span class="hljs-number">1</span>, <span class="hljs-number">119</span>, <span class="hljs-number">130</span>, <span class="hljs-number">142</span>, <span class="hljs-number">87</span>, <span class="hljs-number">183</span>, <span class="hljs-number">32</span>, <span class="hljs-number">220</span>, <span class="hljs-number">226</span>, <span class="hljs-number">28</span>, <span class="hljs-number">38</span>, <span class="hljs-number">73</span>, <span class="hljs-number">222</span>, <span class="hljs-number">172</span>, <span class="hljs-number">153</span>, <span class="hljs-number">26</span>, <span class="hljs-number">87</span>, <span class="hljs-number">58</span>, <span class="hljs-number">188</span>, <span class="hljs-number">42</span>, <span class="hljs-number">150</span>, <span class="hljs-number">67</span>, <span class="hljs-number">94</span>, <span class="hljs-number">214</span>, <span class="hljs-number">147</span>, <span class="hljs-number">64</span>, <span class="hljs-number">202</span>, <span class="hljs-number">87</span>, <span class="hljs-number">155</span>, <span class="hljs-number">125</span>, <span class="hljs-number">254</span>, <span class="hljs-number">112</span>, <span class="hljs-number">95</span>, <span class="hljs-number">176</span>, <span class="hljs-number">255</span>, <span class="hljs-number">207</span>, <span class="hljs-number">106</span>, <span class="hljs-number">43</span>, <span class="hljs-number">228</span>, <span class="hljs-number">153</span>, <span class="hljs-number">131</span>, <span class="hljs-number">240</span>, <span class="hljs-number">120</span>, <span class="hljs-number">88</span>, <span class="hljs-number">253</span>, <span class="hljs-number">179</span>, <span class="hljs-number">207</span>, <span class="hljs-number">207</span>, <span class="hljs-number">110</span>, <span class="hljs-number">223</span>, <span class="hljs-number">173</span>, <span class="hljs-number">15</span>, <span class="hljs-number">113</span>, <span class="hljs-number">11</span>, <span class="hljs-number">183</span>, <span class="hljs-number">122</span>, <span class="hljs-number">237</span>, <span class="hljs-number">205</span>, <span class="hljs-number">206</span>, <span class="hljs-number">123</span>, <span class="hljs-number">246</span>, <span class="hljs-number">33</span>, <span class="hljs-number">167</span>, <span class="hljs-number">169</span>, <span class="hljs-number">251</span>, <span class="hljs-number">237</span>, <span class="hljs-number">199</span>, <span class="hljs-number">26</span>, <span class="hljs-number">220</span>, <span class="hljs-number">152</span>, <span class="hljs-number">190</span>, <span class="hljs-number">117</span>, <span class="hljs-number">131</span>, <span class="hljs-number">74</span>, <span class="hljs-number">232</span>, <span class="hljs-number">50</span>, <span class="hljs-number">39</span>, <span class="hljs-number">172</span>, <span class="hljs-number">232</span>, <span class="hljs-number">178</span>, <span class="hljs-number">112</span>, <span class="hljs-number">73</span>, <span class="hljs-number">251</span>, <span class="hljs-number">235</span>, <span class="hljs-number">131</span>, <span class="hljs-number">209</span>]) };</li><li>  <span class="hljs-keyword">let</span> verifier = cryptoFramework.<span class="hljs-title function_">createVerify</span>(<span class="hljs-string">'RSA1024|PKCS1|SHA256'</span>);</li><li>  <span class="hljs-keyword">await</span> verifier.<span class="hljs-title function_">init</span>(keyPair.<span class="hljs-property">pubKey</span>);</li><li>  <span class="hljs-keyword">await</span> verifier.<span class="hljs-title function_">update</span>(inputUpdate);</li><li>  <span class="hljs-keyword">let</span> res = <span class="hljs-keyword">await</span> verifier.<span class="hljs-title function_">verify</span>(inputVerify, signMessageBlob);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'verify result: '</span> + res);</li><li>}</li></ol></pre></div></div>     <p><strong>Sync示例：</strong></p>     <p>此外，更多签名验签的完整示例可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-sign-sig-verify-pkcs1" target="_blank">签名验签开发指导</a>。</p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genKeyPairByData</span>(<span class="hljs-params">pubKeyData: <span class="hljs-built_in">Uint8Array</span>, priKeyData: <span class="hljs-built_in">Uint8Array</span></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">pubKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: pubKeyData };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: priKeyData };</li><li>  <span class="hljs-keyword">let</span> rsaGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">let</span> keyPair = rsaGenerator.<span class="hljs-title function_">convertKeySync</span>(pubKeyBlob, priKeyBlob);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'convertKey success'</span>);</li><li>  <span class="hljs-keyword">return</span> keyPair;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">verifyBySync</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-comment">// 根据密钥数据生成的密钥和输入的验签数据，这部分代码Verify与Sign中保持一致，保证验签通过。</span></li><li>  <span class="hljs-keyword">let</span> pkData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">159</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">129</span>, <span class="hljs-number">141</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">137</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>  <span class="hljs-keyword">let</span> skData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">120</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">98</span>, <span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">94</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">111</span>, <span class="hljs-number">145</span>, <span class="hljs-number">203</span>, <span class="hljs-number">10</span>, <span class="hljs-number">88</span>, <span class="hljs-number">116</span>, <span class="hljs-number">163</span>, <span class="hljs-number">112</span>, <span class="hljs-number">126</span>, <span class="hljs-number">9</span>, <span class="hljs-number">20</span>, <span class="hljs-number">68</span>, <span class="hljs-number">34</span>, <span class="hljs-number">235</span>, <span class="hljs-number">121</span>, <span class="hljs-number">98</span>, <span class="hljs-number">14</span>, <span class="hljs-number">182</span>, <span class="hljs-number">102</span>, <span class="hljs-number">151</span>, <span class="hljs-number">125</span>, <span class="hljs-number">114</span>, <span class="hljs-number">91</span>, <span class="hljs-number">210</span>, <span class="hljs-number">122</span>, <span class="hljs-number">215</span>, <span class="hljs-number">29</span>, <span class="hljs-number">212</span>, <span class="hljs-number">5</span>, <span class="hljs-number">176</span>, <span class="hljs-number">203</span>, <span class="hljs-number">238</span>, <span class="hljs-number">146</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">41</span>, <span class="hljs-number">21</span>, <span class="hljs-number">91</span>, <span class="hljs-number">56</span>, <span class="hljs-number">125</span>, <span class="hljs-number">239</span>, <span class="hljs-number">111</span>, <span class="hljs-number">133</span>, <span class="hljs-number">53</span>, <span class="hljs-number">200</span>, <span class="hljs-number">192</span>, <span class="hljs-number">56</span>, <span class="hljs-number">132</span>, <span class="hljs-number">202</span>, <span class="hljs-number">42</span>, <span class="hljs-number">145</span>, <span class="hljs-number">120</span>, <span class="hljs-number">3</span>, <span class="hljs-number">224</span>, <span class="hljs-number">40</span>, <span class="hljs-number">223</span>, <span class="hljs-number">46</span>, <span class="hljs-number">148</span>, <span class="hljs-number">29</span>, <span class="hljs-number">41</span>, <span class="hljs-number">92</span>, <span class="hljs-number">17</span>, <span class="hljs-number">40</span>, <span class="hljs-number">12</span>, <span class="hljs-number">72</span>, <span class="hljs-number">165</span>, <span class="hljs-number">69</span>, <span class="hljs-number">192</span>, <span class="hljs-number">211</span>, <span class="hljs-number">142</span>, <span class="hljs-number">233</span>, <span class="hljs-number">81</span>, <span class="hljs-number">202</span>, <span class="hljs-number">177</span>, <span class="hljs-number">235</span>, <span class="hljs-number">156</span>, <span class="hljs-number">27</span>, <span class="hljs-number">179</span>, <span class="hljs-number">48</span>, <span class="hljs-number">18</span>, <span class="hljs-number">85</span>, <span class="hljs-number">154</span>, <span class="hljs-number">101</span>, <span class="hljs-number">193</span>, <span class="hljs-number">45</span>, <span class="hljs-number">218</span>, <span class="hljs-number">91</span>, <span class="hljs-number">24</span>, <span class="hljs-number">143</span>, <span class="hljs-number">196</span>, <span class="hljs-number">248</span>, <span class="hljs-number">16</span>, <span class="hljs-number">83</span>, <span class="hljs-number">177</span>, <span class="hljs-number">198</span>, <span class="hljs-number">136</span>, <span class="hljs-number">77</span>, <span class="hljs-number">111</span>, <span class="hljs-number">134</span>, <span class="hljs-number">60</span>, <span class="hljs-number">219</span>, <span class="hljs-number">95</span>, <span class="hljs-number">246</span>, <span class="hljs-number">23</span>, <span class="hljs-number">5</span>, <span class="hljs-number">45</span>, <span class="hljs-number">14</span>, <span class="hljs-number">83</span>, <span class="hljs-number">29</span>, <span class="hljs-number">137</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">28</span>, <span class="hljs-number">132</span>, <span class="hljs-number">142</span>, <span class="hljs-number">205</span>, <span class="hljs-number">99</span>, <span class="hljs-number">226</span>, <span class="hljs-number">213</span>, <span class="hljs-number">84</span>, <span class="hljs-number">232</span>, <span class="hljs-number">57</span>, <span class="hljs-number">130</span>, <span class="hljs-number">156</span>, <span class="hljs-number">81</span>, <span class="hljs-number">191</span>, <span class="hljs-number">237</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">158</span>, <span class="hljs-number">212</span>, <span class="hljs-number">13</span>, <span class="hljs-number">43</span>, <span class="hljs-number">132</span>, <span class="hljs-number">244</span>, <span class="hljs-number">135</span>, <span class="hljs-number">148</span>, <span class="hljs-number">161</span>, <span class="hljs-number">232</span>, <span class="hljs-number">219</span>, <span class="hljs-number">20</span>, <span class="hljs-number">81</span>, <span class="hljs-number">196</span>, <span class="hljs-number">102</span>, <span class="hljs-number">103</span>, <span class="hljs-number">44</span>, <span class="hljs-number">110</span>, <span class="hljs-number">71</span>, <span class="hljs-number">100</span>, <span class="hljs-number">62</span>, <span class="hljs-number">73</span>, <span class="hljs-number">200</span>, <span class="hljs-number">32</span>, <span class="hljs-number">138</span>, <span class="hljs-number">114</span>, <span class="hljs-number">209</span>, <span class="hljs-number">171</span>, <span class="hljs-number">150</span>, <span class="hljs-number">179</span>, <span class="hljs-number">92</span>, <span class="hljs-number">198</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">218</span>, <span class="hljs-number">79</span>, <span class="hljs-number">227</span>, <span class="hljs-number">227</span>, <span class="hljs-number">37</span>, <span class="hljs-number">32</span>, <span class="hljs-number">57</span>, <span class="hljs-number">159</span>, <span class="hljs-number">252</span>, <span class="hljs-number">107</span>, <span class="hljs-number">211</span>, <span class="hljs-number">139</span>, <span class="hljs-number">198</span>, <span class="hljs-number">202</span>, <span class="hljs-number">248</span>, <span class="hljs-number">137</span>, <span class="hljs-number">143</span>, <span class="hljs-number">186</span>, <span class="hljs-number">205</span>, <span class="hljs-number">106</span>, <span class="hljs-number">81</span>, <span class="hljs-number">85</span>, <span class="hljs-number">207</span>, <span class="hljs-number">134</span>, <span class="hljs-number">148</span>, <span class="hljs-number">110</span>, <span class="hljs-number">204</span>, <span class="hljs-number">243</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">215</span>, <span class="hljs-number">4</span>, <span class="hljs-number">181</span>, <span class="hljs-number">121</span>, <span class="hljs-number">57</span>, <span class="hljs-number">224</span>, <span class="hljs-number">170</span>, <span class="hljs-number">168</span>, <span class="hljs-number">183</span>, <span class="hljs-number">159</span>, <span class="hljs-number">152</span>, <span class="hljs-number">8</span>, <span class="hljs-number">74</span>, <span class="hljs-number">233</span>, <span class="hljs-number">80</span>, <span class="hljs-number">244</span>, <span class="hljs-number">146</span>, <span class="hljs-number">81</span>, <span class="hljs-number">48</span>, <span class="hljs-number">159</span>, <span class="hljs-number">194</span>, <span class="hljs-number">199</span>, <span class="hljs-number">36</span>, <span class="hljs-number">187</span>, <span class="hljs-number">6</span>, <span class="hljs-number">181</span>, <span class="hljs-number">182</span>, <span class="hljs-number">223</span>, <span class="hljs-number">115</span>, <span class="hljs-number">133</span>, <span class="hljs-number">151</span>, <span class="hljs-number">171</span>, <span class="hljs-number">78</span>, <span class="hljs-number">219</span>, <span class="hljs-number">90</span>, <span class="hljs-number">161</span>, <span class="hljs-number">248</span>, <span class="hljs-number">69</span>, <span class="hljs-number">6</span>, <span class="hljs-number">207</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">81</span>, <span class="hljs-number">161</span>, <span class="hljs-number">2</span>, <span class="hljs-number">60</span>, <span class="hljs-number">238</span>, <span class="hljs-number">204</span>, <span class="hljs-number">177</span>, <span class="hljs-number">12</span>, <span class="hljs-number">138</span>, <span class="hljs-number">17</span>, <span class="hljs-number">220</span>, <span class="hljs-number">179</span>, <span class="hljs-number">71</span>, <span class="hljs-number">113</span>, <span class="hljs-number">200</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">153</span>, <span class="hljs-number">252</span>, <span class="hljs-number">150</span>, <span class="hljs-number">180</span>, <span class="hljs-number">155</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">190</span>, <span class="hljs-number">202</span>, <span class="hljs-number">185</span>, <span class="hljs-number">211</span>, <span class="hljs-number">170</span>, <span class="hljs-number">171</span>, <span class="hljs-number">238</span>, <span class="hljs-number">40</span>, <span class="hljs-number">84</span>, <span class="hljs-number">84</span>, <span class="hljs-number">21</span>, <span class="hljs-number">13</span>, <span class="hljs-number">144</span>, <span class="hljs-number">57</span>, <span class="hljs-number">7</span>, <span class="hljs-number">178</span>, <span class="hljs-number">183</span>, <span class="hljs-number">71</span>, <span class="hljs-number">126</span>, <span class="hljs-number">120</span>, <span class="hljs-number">98</span>, <span class="hljs-number">229</span>, <span class="hljs-number">235</span>, <span class="hljs-number">4</span>, <span class="hljs-number">40</span>, <span class="hljs-number">229</span>, <span class="hljs-number">173</span>, <span class="hljs-number">149</span>, <span class="hljs-number">185</span>, <span class="hljs-number">209</span>, <span class="hljs-number">29</span>, <span class="hljs-number">199</span>, <span class="hljs-number">29</span>, <span class="hljs-number">54</span>, <span class="hljs-number">164</span>, <span class="hljs-number">161</span>, <span class="hljs-number">38</span>, <span class="hljs-number">8</span>, <span class="hljs-number">30</span>, <span class="hljs-number">62</span>, <span class="hljs-number">83</span>, <span class="hljs-number">179</span>, <span class="hljs-number">47</span>, <span class="hljs-number">42</span>, <span class="hljs-number">165</span>, <span class="hljs-number">0</span>, <span class="hljs-number">156</span>, <span class="hljs-number">207</span>, <span class="hljs-number">160</span>, <span class="hljs-number">39</span>, <span class="hljs-number">169</span>, <span class="hljs-number">229</span>, <span class="hljs-number">81</span>, <span class="hljs-number">180</span>, <span class="hljs-number">136</span>, <span class="hljs-number">170</span>, <span class="hljs-number">116</span>, <span class="hljs-number">182</span>, <span class="hljs-number">20</span>, <span class="hljs-number">233</span>, <span class="hljs-number">45</span>, <span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">255</span>, <span class="hljs-number">47</span>, <span class="hljs-number">198</span>, <span class="hljs-number">15</span>, <span class="hljs-number">201</span>, <span class="hljs-number">238</span>, <span class="hljs-number">133</span>, <span class="hljs-number">89</span>, <span class="hljs-number">11</span>, <span class="hljs-number">133</span>, <span class="hljs-number">153</span>, <span class="hljs-number">184</span>, <span class="hljs-number">252</span>, <span class="hljs-number">37</span>, <span class="hljs-number">239</span>, <span class="hljs-number">177</span>, <span class="hljs-number">65</span>, <span class="hljs-number">118</span>, <span class="hljs-number">80</span>, <span class="hljs-number">231</span>, <span class="hljs-number">190</span>, <span class="hljs-number">222</span>, <span class="hljs-number">66</span>, <span class="hljs-number">250</span>, <span class="hljs-number">118</span>, <span class="hljs-number">72</span>, <span class="hljs-number">166</span>, <span class="hljs-number">221</span>, <span class="hljs-number">67</span>, <span class="hljs-number">156</span>, <span class="hljs-number">245</span>, <span class="hljs-number">119</span>, <span class="hljs-number">138</span>, <span class="hljs-number">28</span>, <span class="hljs-number">6</span>, <span class="hljs-number">142</span>, <span class="hljs-number">107</span>, <span class="hljs-number">71</span>, <span class="hljs-number">122</span>, <span class="hljs-number">116</span>, <span class="hljs-number">200</span>, <span class="hljs-number">156</span>, <span class="hljs-number">199</span>, <span class="hljs-number">237</span>, <span class="hljs-number">152</span>, <span class="hljs-number">191</span>, <span class="hljs-number">239</span>, <span class="hljs-number">4</span>, <span class="hljs-number">184</span>, <span class="hljs-number">64</span>, <span class="hljs-number">114</span>, <span class="hljs-number">143</span>, <span class="hljs-number">81</span>, <span class="hljs-number">62</span>, <span class="hljs-number">48</span>, <span class="hljs-number">23</span>, <span class="hljs-number">233</span>, <span class="hljs-number">217</span>, <span class="hljs-number">95</span>, <span class="hljs-number">47</span>, <span class="hljs-number">221</span>, <span class="hljs-number">104</span>, <span class="hljs-number">171</span>, <span class="hljs-number">2</span>, <span class="hljs-number">64</span>, <span class="hljs-number">30</span>, <span class="hljs-number">219</span>, <span class="hljs-number">1</span>, <span class="hljs-number">230</span>, <span class="hljs-number">241</span>, <span class="hljs-number">70</span>, <span class="hljs-number">246</span>, <span class="hljs-number">243</span>, <span class="hljs-number">121</span>, <span class="hljs-number">174</span>, <span class="hljs-number">67</span>, <span class="hljs-number">66</span>, <span class="hljs-number">11</span>, <span class="hljs-number">99</span>, <span class="hljs-number">202</span>, <span class="hljs-number">17</span>, <span class="hljs-number">52</span>, <span class="hljs-number">234</span>, <span class="hljs-number">78</span>, <span class="hljs-number">29</span>, <span class="hljs-number">3</span>, <span class="hljs-number">57</span>, <span class="hljs-number">51</span>, <span class="hljs-number">123</span>, <span class="hljs-number">149</span>, <span class="hljs-number">86</span>, <span class="hljs-number">64</span>, <span class="hljs-number">192</span>, <span class="hljs-number">73</span>, <span class="hljs-number">199</span>, <span class="hljs-number">108</span>, <span class="hljs-number">101</span>, <span class="hljs-number">55</span>, <span class="hljs-number">232</span>, <span class="hljs-number">41</span>, <span class="hljs-number">114</span>, <span class="hljs-number">153</span>, <span class="hljs-number">237</span>, <span class="hljs-number">253</span>, <span class="hljs-number">52</span>, <span class="hljs-number">205</span>, <span class="hljs-number">148</span>, <span class="hljs-number">45</span>, <span class="hljs-number">86</span>, <span class="hljs-number">186</span>, <span class="hljs-number">241</span>, <span class="hljs-number">182</span>, <span class="hljs-number">183</span>, <span class="hljs-number">42</span>, <span class="hljs-number">77</span>, <span class="hljs-number">252</span>, <span class="hljs-number">195</span>, <span class="hljs-number">29</span>, <span class="hljs-number">158</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">182</span>, <span class="hljs-number">207</span>, <span class="hljs-number">254</span>, <span class="hljs-number">61</span>, <span class="hljs-number">71</span>, <span class="hljs-number">184</span>, <span class="hljs-number">167</span>, <span class="hljs-number">184</span>]);</li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-title function_">genKeyPairByData</span>(pkData, skData);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">inputUpdate</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"This is Sign test plan1"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">inputVerify</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"This is Sign test plan2"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-comment">// 该数据取自Sign中的signData.data。</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">signMessageBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">9</span>, <span class="hljs-number">68</span>, <span class="hljs-number">164</span>, <span class="hljs-number">161</span>, <span class="hljs-number">230</span>, <span class="hljs-number">155</span>, <span class="hljs-number">255</span>, <span class="hljs-number">153</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">22</span>, <span class="hljs-number">146</span>, <span class="hljs-number">115</span>, <span class="hljs-number">209</span>, <span class="hljs-number">167</span>, <span class="hljs-number">223</span>, <span class="hljs-number">133</span>, <span class="hljs-number">89</span>, <span class="hljs-number">173</span>, <span class="hljs-number">50</span>, <span class="hljs-number">249</span>, <span class="hljs-number">176</span>, <span class="hljs-number">104</span>, <span class="hljs-number">10</span>, <span class="hljs-number">251</span>, <span class="hljs-number">219</span>, <span class="hljs-number">104</span>, <span class="hljs-number">117</span>, <span class="hljs-number">196</span>, <span class="hljs-number">105</span>, <span class="hljs-number">65</span>, <span class="hljs-number">249</span>, <span class="hljs-number">139</span>, <span class="hljs-number">119</span>, <span class="hljs-number">41</span>, <span class="hljs-number">15</span>, <span class="hljs-number">171</span>, <span class="hljs-number">191</span>, <span class="hljs-number">11</span>, <span class="hljs-number">177</span>, <span class="hljs-number">177</span>, <span class="hljs-number">1</span>, <span class="hljs-number">119</span>, <span class="hljs-number">130</span>, <span class="hljs-number">142</span>, <span class="hljs-number">87</span>, <span class="hljs-number">183</span>, <span class="hljs-number">32</span>, <span class="hljs-number">220</span>, <span class="hljs-number">226</span>, <span class="hljs-number">28</span>, <span class="hljs-number">38</span>, <span class="hljs-number">73</span>, <span class="hljs-number">222</span>, <span class="hljs-number">172</span>, <span class="hljs-number">153</span>, <span class="hljs-number">26</span>, <span class="hljs-number">87</span>, <span class="hljs-number">58</span>, <span class="hljs-number">188</span>, <span class="hljs-number">42</span>, <span class="hljs-number">150</span>, <span class="hljs-number">67</span>, <span class="hljs-number">94</span>, <span class="hljs-number">214</span>, <span class="hljs-number">147</span>, <span class="hljs-number">64</span>, <span class="hljs-number">202</span>, <span class="hljs-number">87</span>, <span class="hljs-number">155</span>, <span class="hljs-number">125</span>, <span class="hljs-number">254</span>, <span class="hljs-number">112</span>, <span class="hljs-number">95</span>, <span class="hljs-number">176</span>, <span class="hljs-number">255</span>, <span class="hljs-number">207</span>, <span class="hljs-number">106</span>, <span class="hljs-number">43</span>, <span class="hljs-number">228</span>, <span class="hljs-number">153</span>, <span class="hljs-number">131</span>, <span class="hljs-number">240</span>, <span class="hljs-number">120</span>, <span class="hljs-number">88</span>, <span class="hljs-number">253</span>, <span class="hljs-number">179</span>, <span class="hljs-number">207</span>, <span class="hljs-number">207</span>, <span class="hljs-number">110</span>, <span class="hljs-number">223</span>, <span class="hljs-number">173</span>, <span class="hljs-number">15</span>, <span class="hljs-number">113</span>, <span class="hljs-number">11</span>, <span class="hljs-number">183</span>, <span class="hljs-number">122</span>, <span class="hljs-number">237</span>, <span class="hljs-number">205</span>, <span class="hljs-number">206</span>, <span class="hljs-number">123</span>, <span class="hljs-number">246</span>, <span class="hljs-number">33</span>, <span class="hljs-number">167</span>, <span class="hljs-number">169</span>, <span class="hljs-number">251</span>, <span class="hljs-number">237</span>, <span class="hljs-number">199</span>, <span class="hljs-number">26</span>, <span class="hljs-number">220</span>, <span class="hljs-number">152</span>, <span class="hljs-number">190</span>, <span class="hljs-number">117</span>, <span class="hljs-number">131</span>, <span class="hljs-number">74</span>, <span class="hljs-number">232</span>, <span class="hljs-number">50</span>, <span class="hljs-number">39</span>, <span class="hljs-number">172</span>, <span class="hljs-number">232</span>, <span class="hljs-number">178</span>, <span class="hljs-number">112</span>, <span class="hljs-number">73</span>, <span class="hljs-number">251</span>, <span class="hljs-number">235</span>, <span class="hljs-number">131</span>, <span class="hljs-number">209</span>]) };</li><li>  <span class="hljs-keyword">let</span> verifier = cryptoFramework.<span class="hljs-title function_">createVerify</span>(<span class="hljs-string">'RSA1024|PKCS1|SHA256'</span>);</li><li>  verifier.<span class="hljs-title function_">initSync</span>(keyPair.<span class="hljs-property">pubKey</span>);</li><li>  verifier.<span class="hljs-title function_">updateSync</span>(inputUpdate);</li><li>  <span class="hljs-keyword">let</span> res = verifier.<span class="hljs-title function_">verifySync</span>(inputVerify, signMessageBlob);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'verify result: '</span> + res);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2125px;">     <h3 id="recover12" device-type="phone,2in1,tablet,wearable,tv">recover<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="recover12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>recover(signatureData: DataBlob): Promise&lt;DataBlob | null&gt;</p>     <p>对数据进行签名恢复原始数据，通过Promise返回恢复结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>目前仅RSA支持。</li>       </ul>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.149.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">signatureData</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">签名数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.149.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null&gt;</td>         <td class="cellrowborder" width="50%">验签恢复的数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.149.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">genKeyPairByData</span>(<span class="hljs-params">pubKeyData: <span class="hljs-built_in">Uint8Array</span>, priKeyData: <span class="hljs-built_in">Uint8Array</span></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">pubKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: pubKeyData };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: priKeyData };</li><li>  <span class="hljs-keyword">let</span> rsaGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-keyword">await</span> rsaGenerator.<span class="hljs-title function_">convertKey</span>(pubKeyBlob, priKeyBlob);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'convertKey success'</span>);</li><li>  <span class="hljs-keyword">return</span> keyPair;</li><li>}</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">recoverByPromise</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-comment">// 根据密钥数据生成的密钥和输入的验签数据，这部分代码Verify与Sign中保持一致，保证验签通过。</span></li><li>  <span class="hljs-keyword">let</span> pkData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">159</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">129</span>, <span class="hljs-number">141</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">137</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>  <span class="hljs-keyword">let</span> skData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">120</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">98</span>, <span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">94</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">214</span>, <span class="hljs-number">179</span>, <span class="hljs-number">23</span>, <span class="hljs-number">198</span>, <span class="hljs-number">183</span>, <span class="hljs-number">139</span>, <span class="hljs-number">148</span>, <span class="hljs-number">8</span>, <span class="hljs-number">173</span>, <span class="hljs-number">74</span>, <span class="hljs-number">56</span>, <span class="hljs-number">160</span>, <span class="hljs-number">15</span>, <span class="hljs-number">248</span>, <span class="hljs-number">244</span>, <span class="hljs-number">166</span>, <span class="hljs-number">209</span>, <span class="hljs-number">250</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">216</span>, <span class="hljs-number">58</span>, <span class="hljs-number">117</span>, <span class="hljs-number">215</span>, <span class="hljs-number">178</span>, <span class="hljs-number">247</span>, <span class="hljs-number">254</span>, <span class="hljs-number">39</span>, <span class="hljs-number">180</span>, <span class="hljs-number">227</span>, <span class="hljs-number">85</span>, <span class="hljs-number">201</span>, <span class="hljs-number">59</span>, <span class="hljs-number">133</span>, <span class="hljs-number">209</span>, <span class="hljs-number">221</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>, <span class="hljs-number">116</span>, <span class="hljs-number">31</span>, <span class="hljs-number">172</span>, <span class="hljs-number">151</span>, <span class="hljs-number">252</span>, <span class="hljs-number">185</span>, <span class="hljs-number">123</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">7</span>, <span class="hljs-number">92</span>, <span class="hljs-number">129</span>, <span class="hljs-number">5</span>, <span class="hljs-number">196</span>, <span class="hljs-number">239</span>, <span class="hljs-number">214</span>, <span class="hljs-number">126</span>, <span class="hljs-number">254</span>, <span class="hljs-number">154</span>, <span class="hljs-number">188</span>, <span class="hljs-number">239</span>, <span class="hljs-number">144</span>, <span class="hljs-number">161</span>, <span class="hljs-number">171</span>, <span class="hljs-number">65</span>, <span class="hljs-number">42</span>, <span class="hljs-number">31</span>, <span class="hljs-number">214</span>, <span class="hljs-number">93</span>, <span class="hljs-number">115</span>, <span class="hljs-number">247</span>, <span class="hljs-number">69</span>, <span class="hljs-number">94</span>, <span class="hljs-number">143</span>, <span class="hljs-number">54</span>, <span class="hljs-number">51</span>, <span class="hljs-number">25</span>, <span class="hljs-number">49</span>, <span class="hljs-number">146</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">165</span>, <span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">35</span>, <span class="hljs-number">184</span>, <span class="hljs-number">190</span>, <span class="hljs-number">65</span>, <span class="hljs-number">106</span>, <span class="hljs-number">12</span>, <span class="hljs-number">214</span>, <span class="hljs-number">176</span>, <span class="hljs-number">57</span>, <span class="hljs-number">125</span>, <span class="hljs-number">235</span>, <span class="hljs-number">51</span>, <span class="hljs-number">88</span>, <span class="hljs-number">135</span>, <span class="hljs-number">76</span>, <span class="hljs-number">73</span>, <span class="hljs-number">109</span>, <span class="hljs-number">112</span>, <span class="hljs-number">147</span>, <span class="hljs-number">138</span>, <span class="hljs-number">198</span>, <span class="hljs-number">252</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">245</span>, <span class="hljs-number">51</span>, <span class="hljs-number">7</span>, <span class="hljs-number">32</span>, <span class="hljs-number">108</span>, <span class="hljs-number">89</span>, <span class="hljs-number">125</span>, <span class="hljs-number">204</span>, <span class="hljs-number">50</span>, <span class="hljs-number">189</span>, <span class="hljs-number">88</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>, <span class="hljs-number">146</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>, <span class="hljs-number">149</span>, <span class="hljs-number">79</span>, <span class="hljs-number">54</span>, <span class="hljs-number">216</span>, <span class="hljs-number">45</span>, <span class="hljs-number">89</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">111</span>, <span class="hljs-number">145</span>, <span class="hljs-number">203</span>, <span class="hljs-number">10</span>, <span class="hljs-number">88</span>, <span class="hljs-number">116</span>, <span class="hljs-number">163</span>, <span class="hljs-number">112</span>, <span class="hljs-number">126</span>, <span class="hljs-number">9</span>, <span class="hljs-number">20</span>, <span class="hljs-number">68</span>, <span class="hljs-number">34</span>, <span class="hljs-number">235</span>, <span class="hljs-number">121</span>, <span class="hljs-number">98</span>, <span class="hljs-number">14</span>, <span class="hljs-number">182</span>, <span class="hljs-number">102</span>, <span class="hljs-number">151</span>, <span class="hljs-number">125</span>, <span class="hljs-number">114</span>, <span class="hljs-number">91</span>, <span class="hljs-number">210</span>, <span class="hljs-number">122</span>, <span class="hljs-number">215</span>, <span class="hljs-number">29</span>, <span class="hljs-number">212</span>, <span class="hljs-number">5</span>, <span class="hljs-number">176</span>, <span class="hljs-number">203</span>, <span class="hljs-number">238</span>, <span class="hljs-number">146</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">41</span>, <span class="hljs-number">21</span>, <span class="hljs-number">91</span>, <span class="hljs-number">56</span>, <span class="hljs-number">125</span>, <span class="hljs-number">239</span>, <span class="hljs-number">111</span>, <span class="hljs-number">133</span>, <span class="hljs-number">53</span>, <span class="hljs-number">200</span>, <span class="hljs-number">192</span>, <span class="hljs-number">56</span>, <span class="hljs-number">132</span>, <span class="hljs-number">202</span>, <span class="hljs-number">42</span>, <span class="hljs-number">145</span>, <span class="hljs-number">120</span>, <span class="hljs-number">3</span>, <span class="hljs-number">224</span>, <span class="hljs-number">40</span>, <span class="hljs-number">223</span>, <span class="hljs-number">46</span>, <span class="hljs-number">148</span>, <span class="hljs-number">29</span>, <span class="hljs-number">41</span>, <span class="hljs-number">92</span>, <span class="hljs-number">17</span>, <span class="hljs-number">40</span>, <span class="hljs-number">12</span>, <span class="hljs-number">72</span>, <span class="hljs-number">165</span>, <span class="hljs-number">69</span>, <span class="hljs-number">192</span>, <span class="hljs-number">211</span>, <span class="hljs-number">142</span>, <span class="hljs-number">233</span>, <span class="hljs-number">81</span>, <span class="hljs-number">202</span>, <span class="hljs-number">177</span>, <span class="hljs-number">235</span>, <span class="hljs-number">156</span>, <span class="hljs-number">27</span>, <span class="hljs-number">179</span>, <span class="hljs-number">48</span>, <span class="hljs-number">18</span>, <span class="hljs-number">85</span>, <span class="hljs-number">154</span>, <span class="hljs-number">101</span>, <span class="hljs-number">193</span>, <span class="hljs-number">45</span>, <span class="hljs-number">218</span>, <span class="hljs-number">91</span>, <span class="hljs-number">24</span>, <span class="hljs-number">143</span>, <span class="hljs-number">196</span>, <span class="hljs-number">248</span>, <span class="hljs-number">16</span>, <span class="hljs-number">83</span>, <span class="hljs-number">177</span>, <span class="hljs-number">198</span>, <span class="hljs-number">136</span>, <span class="hljs-number">77</span>, <span class="hljs-number">111</span>, <span class="hljs-number">134</span>, <span class="hljs-number">60</span>, <span class="hljs-number">219</span>, <span class="hljs-number">95</span>, <span class="hljs-number">246</span>, <span class="hljs-number">23</span>, <span class="hljs-number">5</span>, <span class="hljs-number">45</span>, <span class="hljs-number">14</span>, <span class="hljs-number">83</span>, <span class="hljs-number">29</span>, <span class="hljs-number">137</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">28</span>, <span class="hljs-number">132</span>, <span class="hljs-number">142</span>, <span class="hljs-number">205</span>, <span class="hljs-number">99</span>, <span class="hljs-number">226</span>, <span class="hljs-number">213</span>, <span class="hljs-number">84</span>, <span class="hljs-number">232</span>, <span class="hljs-number">57</span>, <span class="hljs-number">130</span>, <span class="hljs-number">156</span>, <span class="hljs-number">81</span>, <span class="hljs-number">191</span>, <span class="hljs-number">237</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">158</span>, <span class="hljs-number">212</span>, <span class="hljs-number">13</span>, <span class="hljs-number">43</span>, <span class="hljs-number">132</span>, <span class="hljs-number">244</span>, <span class="hljs-number">135</span>, <span class="hljs-number">148</span>, <span class="hljs-number">161</span>, <span class="hljs-number">232</span>, <span class="hljs-number">219</span>, <span class="hljs-number">20</span>, <span class="hljs-number">81</span>, <span class="hljs-number">196</span>, <span class="hljs-number">102</span>, <span class="hljs-number">103</span>, <span class="hljs-number">44</span>, <span class="hljs-number">110</span>, <span class="hljs-number">71</span>, <span class="hljs-number">100</span>, <span class="hljs-number">62</span>, <span class="hljs-number">73</span>, <span class="hljs-number">200</span>, <span class="hljs-number">32</span>, <span class="hljs-number">138</span>, <span class="hljs-number">114</span>, <span class="hljs-number">209</span>, <span class="hljs-number">171</span>, <span class="hljs-number">150</span>, <span class="hljs-number">179</span>, <span class="hljs-number">92</span>, <span class="hljs-number">198</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">218</span>, <span class="hljs-number">79</span>, <span class="hljs-number">227</span>, <span class="hljs-number">227</span>, <span class="hljs-number">37</span>, <span class="hljs-number">32</span>, <span class="hljs-number">57</span>, <span class="hljs-number">159</span>, <span class="hljs-number">252</span>, <span class="hljs-number">107</span>, <span class="hljs-number">211</span>, <span class="hljs-number">139</span>, <span class="hljs-number">198</span>, <span class="hljs-number">202</span>, <span class="hljs-number">248</span>, <span class="hljs-number">137</span>, <span class="hljs-number">143</span>, <span class="hljs-number">186</span>, <span class="hljs-number">205</span>, <span class="hljs-number">106</span>, <span class="hljs-number">81</span>, <span class="hljs-number">85</span>, <span class="hljs-number">207</span>, <span class="hljs-number">134</span>, <span class="hljs-number">148</span>, <span class="hljs-number">110</span>, <span class="hljs-number">204</span>, <span class="hljs-number">243</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">215</span>, <span class="hljs-number">4</span>, <span class="hljs-number">181</span>, <span class="hljs-number">121</span>, <span class="hljs-number">57</span>, <span class="hljs-number">224</span>, <span class="hljs-number">170</span>, <span class="hljs-number">168</span>, <span class="hljs-number">183</span>, <span class="hljs-number">159</span>, <span class="hljs-number">152</span>, <span class="hljs-number">8</span>, <span class="hljs-number">74</span>, <span class="hljs-number">233</span>, <span class="hljs-number">80</span>, <span class="hljs-number">244</span>, <span class="hljs-number">146</span>, <span class="hljs-number">81</span>, <span class="hljs-number">48</span>, <span class="hljs-number">159</span>, <span class="hljs-number">194</span>, <span class="hljs-number">199</span>, <span class="hljs-number">36</span>, <span class="hljs-number">187</span>, <span class="hljs-number">6</span>, <span class="hljs-number">181</span>, <span class="hljs-number">182</span>, <span class="hljs-number">223</span>, <span class="hljs-number">115</span>, <span class="hljs-number">133</span>, <span class="hljs-number">151</span>, <span class="hljs-number">171</span>, <span class="hljs-number">78</span>, <span class="hljs-number">219</span>, <span class="hljs-number">90</span>, <span class="hljs-number">161</span>, <span class="hljs-number">248</span>, <span class="hljs-number">69</span>, <span class="hljs-number">6</span>, <span class="hljs-number">207</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">81</span>, <span class="hljs-number">161</span>, <span class="hljs-number">2</span>, <span class="hljs-number">60</span>, <span class="hljs-number">238</span>, <span class="hljs-number">204</span>, <span class="hljs-number">177</span>, <span class="hljs-number">12</span>, <span class="hljs-number">138</span>, <span class="hljs-number">17</span>, <span class="hljs-number">220</span>, <span class="hljs-number">179</span>, <span class="hljs-number">71</span>, <span class="hljs-number">113</span>, <span class="hljs-number">200</span>, <span class="hljs-number">248</span>, <span class="hljs-number">159</span>, <span class="hljs-number">153</span>, <span class="hljs-number">252</span>, <span class="hljs-number">150</span>, <span class="hljs-number">180</span>, <span class="hljs-number">155</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">190</span>, <span class="hljs-number">202</span>, <span class="hljs-number">185</span>, <span class="hljs-number">211</span>, <span class="hljs-number">170</span>, <span class="hljs-number">171</span>, <span class="hljs-number">238</span>, <span class="hljs-number">40</span>, <span class="hljs-number">84</span>, <span class="hljs-number">84</span>, <span class="hljs-number">21</span>, <span class="hljs-number">13</span>, <span class="hljs-number">144</span>, <span class="hljs-number">57</span>, <span class="hljs-number">7</span>, <span class="hljs-number">178</span>, <span class="hljs-number">183</span>, <span class="hljs-number">71</span>, <span class="hljs-number">126</span>, <span class="hljs-number">120</span>, <span class="hljs-number">98</span>, <span class="hljs-number">229</span>, <span class="hljs-number">235</span>, <span class="hljs-number">4</span>, <span class="hljs-number">40</span>, <span class="hljs-number">229</span>, <span class="hljs-number">173</span>, <span class="hljs-number">149</span>, <span class="hljs-number">185</span>, <span class="hljs-number">209</span>, <span class="hljs-number">29</span>, <span class="hljs-number">199</span>, <span class="hljs-number">29</span>, <span class="hljs-number">54</span>, <span class="hljs-number">164</span>, <span class="hljs-number">161</span>, <span class="hljs-number">38</span>, <span class="hljs-number">8</span>, <span class="hljs-number">30</span>, <span class="hljs-number">62</span>, <span class="hljs-number">83</span>, <span class="hljs-number">179</span>, <span class="hljs-number">47</span>, <span class="hljs-number">42</span>, <span class="hljs-number">165</span>, <span class="hljs-number">0</span>, <span class="hljs-number">156</span>, <span class="hljs-number">207</span>, <span class="hljs-number">160</span>, <span class="hljs-number">39</span>, <span class="hljs-number">169</span>, <span class="hljs-number">229</span>, <span class="hljs-number">81</span>, <span class="hljs-number">180</span>, <span class="hljs-number">136</span>, <span class="hljs-number">170</span>, <span class="hljs-number">116</span>, <span class="hljs-number">182</span>, <span class="hljs-number">20</span>, <span class="hljs-number">233</span>, <span class="hljs-number">45</span>, <span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">152</span>, <span class="hljs-number">255</span>, <span class="hljs-number">47</span>, <span class="hljs-number">198</span>, <span class="hljs-number">15</span>, <span class="hljs-number">201</span>, <span class="hljs-number">238</span>, <span class="hljs-number">133</span>, <span class="hljs-number">89</span>, <span class="hljs-number">11</span>, <span class="hljs-number">133</span>, <span class="hljs-number">153</span>, <span class="hljs-number">184</span>, <span class="hljs-number">252</span>, <span class="hljs-number">37</span>, <span class="hljs-number">239</span>, <span class="hljs-number">177</span>, <span class="hljs-number">65</span>, <span class="hljs-number">118</span>, <span class="hljs-number">80</span>, <span class="hljs-number">231</span>, <span class="hljs-number">190</span>, <span class="hljs-number">222</span>, <span class="hljs-number">66</span>, <span class="hljs-number">250</span>, <span class="hljs-number">118</span>, <span class="hljs-number">72</span>, <span class="hljs-number">166</span>, <span class="hljs-number">221</span>, <span class="hljs-number">67</span>, <span class="hljs-number">156</span>, <span class="hljs-number">245</span>, <span class="hljs-number">119</span>, <span class="hljs-number">138</span>, <span class="hljs-number">28</span>, <span class="hljs-number">6</span>, <span class="hljs-number">142</span>, <span class="hljs-number">107</span>, <span class="hljs-number">71</span>, <span class="hljs-number">122</span>, <span class="hljs-number">116</span>, <span class="hljs-number">200</span>, <span class="hljs-number">156</span>, <span class="hljs-number">199</span>, <span class="hljs-number">237</span>, <span class="hljs-number">152</span>, <span class="hljs-number">191</span>, <span class="hljs-number">239</span>, <span class="hljs-number">4</span>, <span class="hljs-number">184</span>, <span class="hljs-number">64</span>, <span class="hljs-number">114</span>, <span class="hljs-number">143</span>, <span class="hljs-number">81</span>, <span class="hljs-number">62</span>, <span class="hljs-number">48</span>, <span class="hljs-number">23</span>, <span class="hljs-number">233</span>, <span class="hljs-number">217</span>, <span class="hljs-number">95</span>, <span class="hljs-number">47</span>, <span class="hljs-number">221</span>, <span class="hljs-number">104</span>, <span class="hljs-number">171</span>, <span class="hljs-number">2</span>, <span class="hljs-number">64</span>, <span class="hljs-number">30</span>, <span class="hljs-number">219</span>, <span class="hljs-number">1</span>, <span class="hljs-number">230</span>, <span class="hljs-number">241</span>, <span class="hljs-number">70</span>, <span class="hljs-number">246</span>, <span class="hljs-number">243</span>, <span class="hljs-number">121</span>, <span class="hljs-number">174</span>, <span class="hljs-number">67</span>, <span class="hljs-number">66</span>, <span class="hljs-number">11</span>, <span class="hljs-number">99</span>, <span class="hljs-number">202</span>, <span class="hljs-number">17</span>, <span class="hljs-number">52</span>, <span class="hljs-number">234</span>, <span class="hljs-number">78</span>, <span class="hljs-number">29</span>, <span class="hljs-number">3</span>, <span class="hljs-number">57</span>, <span class="hljs-number">51</span>, <span class="hljs-number">123</span>, <span class="hljs-number">149</span>, <span class="hljs-number">86</span>, <span class="hljs-number">64</span>, <span class="hljs-number">192</span>, <span class="hljs-number">73</span>, <span class="hljs-number">199</span>, <span class="hljs-number">108</span>, <span class="hljs-number">101</span>, <span class="hljs-number">55</span>, <span class="hljs-number">232</span>, <span class="hljs-number">41</span>, <span class="hljs-number">114</span>, <span class="hljs-number">153</span>, <span class="hljs-number">237</span>, <span class="hljs-number">253</span>, <span class="hljs-number">52</span>, <span class="hljs-number">205</span>, <span class="hljs-number">148</span>, <span class="hljs-number">45</span>, <span class="hljs-number">86</span>, <span class="hljs-number">186</span>, <span class="hljs-number">241</span>, <span class="hljs-number">182</span>, <span class="hljs-number">183</span>, <span class="hljs-number">42</span>, <span class="hljs-number">77</span>, <span class="hljs-number">252</span>, <span class="hljs-number">195</span>, <span class="hljs-number">29</span>, <span class="hljs-number">158</span>, <span class="hljs-number">173</span>, <span class="hljs-number">3</span>, <span class="hljs-number">182</span>, <span class="hljs-number">207</span>, <span class="hljs-number">254</span>, <span class="hljs-number">61</span>, <span class="hljs-number">71</span>, <span class="hljs-number">184</span>, <span class="hljs-number">167</span>, <span class="hljs-number">184</span>]);</li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-keyword">await</span> <span class="hljs-title function_">genKeyPairByData</span>(pkData, skData);</li><li>  <span class="hljs-comment">// 该数据取自Sign中的signData.data。</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">signMessageBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">9</span>, <span class="hljs-number">68</span>, <span class="hljs-number">164</span>, <span class="hljs-number">161</span>, <span class="hljs-number">230</span>, <span class="hljs-number">155</span>, <span class="hljs-number">255</span>, <span class="hljs-number">153</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">22</span>, <span class="hljs-number">146</span>, <span class="hljs-number">115</span>, <span class="hljs-number">209</span>, <span class="hljs-number">167</span>, <span class="hljs-number">223</span>, <span class="hljs-number">133</span>, <span class="hljs-number">89</span>, <span class="hljs-number">173</span>, <span class="hljs-number">50</span>, <span class="hljs-number">249</span>, <span class="hljs-number">176</span>, <span class="hljs-number">104</span>, <span class="hljs-number">10</span>, <span class="hljs-number">251</span>, <span class="hljs-number">219</span>, <span class="hljs-number">104</span>, <span class="hljs-number">117</span>, <span class="hljs-number">196</span>, <span class="hljs-number">105</span>, <span class="hljs-number">65</span>, <span class="hljs-number">249</span>, <span class="hljs-number">139</span>, <span class="hljs-number">119</span>, <span class="hljs-number">41</span>, <span class="hljs-number">15</span>, <span class="hljs-number">171</span>, <span class="hljs-number">191</span>, <span class="hljs-number">11</span>, <span class="hljs-number">177</span>, <span class="hljs-number">177</span>, <span class="hljs-number">1</span>, <span class="hljs-number">119</span>, <span class="hljs-number">130</span>, <span class="hljs-number">142</span>, <span class="hljs-number">87</span>, <span class="hljs-number">183</span>, <span class="hljs-number">32</span>, <span class="hljs-number">220</span>, <span class="hljs-number">226</span>, <span class="hljs-number">28</span>, <span class="hljs-number">38</span>, <span class="hljs-number">73</span>, <span class="hljs-number">222</span>, <span class="hljs-number">172</span>, <span class="hljs-number">153</span>, <span class="hljs-number">26</span>, <span class="hljs-number">87</span>, <span class="hljs-number">58</span>, <span class="hljs-number">188</span>, <span class="hljs-number">42</span>, <span class="hljs-number">150</span>, <span class="hljs-number">67</span>, <span class="hljs-number">94</span>, <span class="hljs-number">214</span>, <span class="hljs-number">147</span>, <span class="hljs-number">64</span>, <span class="hljs-number">202</span>, <span class="hljs-number">87</span>, <span class="hljs-number">155</span>, <span class="hljs-number">125</span>, <span class="hljs-number">254</span>, <span class="hljs-number">112</span>, <span class="hljs-number">95</span>, <span class="hljs-number">176</span>, <span class="hljs-number">255</span>, <span class="hljs-number">207</span>, <span class="hljs-number">106</span>, <span class="hljs-number">43</span>, <span class="hljs-number">228</span>, <span class="hljs-number">153</span>, <span class="hljs-number">131</span>, <span class="hljs-number">240</span>, <span class="hljs-number">120</span>, <span class="hljs-number">88</span>, <span class="hljs-number">253</span>, <span class="hljs-number">179</span>, <span class="hljs-number">207</span>, <span class="hljs-number">207</span>, <span class="hljs-number">110</span>, <span class="hljs-number">223</span>, <span class="hljs-number">173</span>, <span class="hljs-number">15</span>, <span class="hljs-number">113</span>, <span class="hljs-number">11</span>, <span class="hljs-number">183</span>, <span class="hljs-number">122</span>, <span class="hljs-number">237</span>, <span class="hljs-number">205</span>, <span class="hljs-number">206</span>, <span class="hljs-number">123</span>, <span class="hljs-number">246</span>, <span class="hljs-number">33</span>, <span class="hljs-number">167</span>, <span class="hljs-number">169</span>, <span class="hljs-number">251</span>, <span class="hljs-number">237</span>, <span class="hljs-number">199</span>, <span class="hljs-number">26</span>, <span class="hljs-number">220</span>, <span class="hljs-number">152</span>, <span class="hljs-number">190</span>, <span class="hljs-number">117</span>, <span class="hljs-number">131</span>, <span class="hljs-number">74</span>, <span class="hljs-number">232</span>, <span class="hljs-number">50</span>, <span class="hljs-number">39</span>, <span class="hljs-number">172</span>, <span class="hljs-number">232</span>, <span class="hljs-number">178</span>, <span class="hljs-number">112</span>, <span class="hljs-number">73</span>, <span class="hljs-number">251</span>, <span class="hljs-number">235</span>, <span class="hljs-number">131</span>, <span class="hljs-number">209</span>]) };</li><li>  <span class="hljs-keyword">let</span> verifier = cryptoFramework.<span class="hljs-title function_">createVerify</span>(<span class="hljs-string">'RSA1024|PKCS1|SHA256|Recover'</span>);</li><li>  <span class="hljs-keyword">await</span> verifier.<span class="hljs-title function_">init</span>(keyPair.<span class="hljs-property">pubKey</span>);</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> rawSignData = <span class="hljs-keyword">await</span> verifier.<span class="hljs-title function_">recover</span>(signMessageBlob);</li><li>    <span class="hljs-keyword">if</span> (rawSignData != <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Promise]: recover result: '</span> + rawSignData.<span class="hljs-property">data</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Promise]: get verify recover result fail!"</span>);</li><li>    }</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`promise error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1196px;">     <h3 id="recoversync12" device-type="phone,2in1,tablet,wearable,tv">recoverSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="recoversync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>recoverSync(signatureData: DataBlob): DataBlob | null</p>     <p>对数据进行签名恢复原始数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>目前仅RSA支持。</li>       </ul>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.150.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">signatureData</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">签名数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.150.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a> | null</td>         <td class="cellrowborder" width="50%">验签恢复的数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.150.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1539px;">     <h3 id="setverifyspec10" device-type="phone,2in1,tablet,wearable,tv">setVerifySpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setverifyspec10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setVerifySpec(itemType: SignSpecItem, itemValue: number): void</p>     <p>setVerifySpec(itemType: SignSpecItem, itemValue: number | Uint8Array): void</p>     <p>设置验签参数。常用的签名参数可以直接通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateverify">createVerify</a> 来指定，剩余参数可以通过本接口指定。</p>     <p>支持RSA算法和SM2算法，从API version 11开始，支持SM2算法设置验签参数。</p>     <p>验签的参数应当与签名的参数保持一致。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.151.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">itemType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#signspecitem10">SignSpecItem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于指定需要设置的验签参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">itemValue</td>         <td class="cellrowborder" width="25%">number | Uint8Array<sup>11+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于指定验签参数的具体值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.151.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testSetVerifySpec</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> verifier = cryptoFramework.<span class="hljs-title function_">createVerify</span>(<span class="hljs-string">"RSA2048|PSS|SHA256|MGF1_SHA256"</span>);</li><li>  <span class="hljs-keyword">let</span> setN = <span class="hljs-number">20</span>;</li><li>  verifier.<span class="hljs-title function_">setVerifySpec</span>(cryptoFramework.<span class="hljs-property">SignSpecItem</span>.<span class="hljs-property">PSS_SALT_LEN_NUM</span>, setN);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1569px;">     <h3 id="getverifyspec10" device-type="phone,2in1,tablet,wearable,tv">getVerifySpec<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getverifyspec10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getVerifySpec(itemType: SignSpecItem): string | number</p>     <p>获取验签参数。当前只支持RSA算法。</p>     <p>验签的参数应当与签名的参数保持一致。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Signature。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.152.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">itemType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#signspecitem10">SignSpecItem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于指定需要获取的验签参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.152.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string | number</td>         <td class="cellrowborder" width="50%">获取的验签参数的具体值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.152.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGetVerifySpec</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> verifier = cryptoFramework.<span class="hljs-title function_">createVerify</span>(<span class="hljs-string">"RSA2048|PSS|SHA256|MGF1_SHA256"</span>);</li><li>  <span class="hljs-keyword">let</span> setN = <span class="hljs-number">20</span>;</li><li>  verifier.<span class="hljs-title function_">setVerifySpec</span>(cryptoFramework.<span class="hljs-property">SignSpecItem</span>.<span class="hljs-property">PSS_SALT_LEN_NUM</span>, setN);</li><li>  <span class="hljs-keyword">let</span> saltLen = verifier.<span class="hljs-title function_">getVerifySpec</span>(cryptoFramework.<span class="hljs-property">SignSpecItem</span>.<span class="hljs-property">PSS_SALT_LEN_NUM</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1450px;">     <h2 id="cryptoframeworkcreatekeyagreement" device-type="phone,2in1,tablet,wearable,tv">cryptoFramework.createKeyAgreement<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cryptoframeworkcreatekeyagreement" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createKeyAgreement(algName: string): KeyAgreement</p>     <p>生成KeyAgreement实例。</p>     <p>支持的规格详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-key-agreement-overview" target="_blank">密钥协商规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.KeyAgreement</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.KeyAgreement。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.153.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">algName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定密钥协商算法：目前仅支持ECC，从API version 11开始，增加支持X25519和DH。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.153.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">KeyAgreement</td>         <td class="cellrowborder" width="50%">返回由输入算法指定生成的KeyAgreement对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.153.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> keyAgreement = cryptoFramework.<span class="hljs-title function_">createKeyAgreement</span>(<span class="hljs-string">'ECC256'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 206px;">     <h2 id="keyagreement" device-type="phone,2in1,tablet,wearable,tv">KeyAgreement<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="keyagreement" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>KeyAgreement类，使用密钥协商方法之前需要创建该类的实例进行操作，通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatekeyagreement">createKeyAgreement(algName: string): KeyAgreement</a>方法构造此实例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h3 id="属性-8" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.KeyAgreement</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.KeyAgreement。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.155.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">密钥协商指定的算法名称。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1087px;">     <h3 id="generatesecret" device-type="phone,2in1,tablet,wearable,tv">generateSecret<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatesecret" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateSecret(priKey: PriKey, pubKey: PubKey, callback: AsyncCallback&lt;DataBlob&gt;): void</p>     <p>基于传入的私钥与公钥进行密钥协商，通过注册回调函数返回共享密钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.KeyAgreement</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.KeyAgreement。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.156.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">priKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#prikey">PriKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置密钥协商的私钥输入。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">pubKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#pubkey">PubKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置密钥协商的公钥输入。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步接受共享密钥的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.156.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1213px;">     <h3 id="generatesecret-1" device-type="phone,2in1,tablet,wearable,tv">generateSecret<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatesecret-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateSecret(priKey: PriKey, pubKey: PubKey): Promise&lt;DataBlob&gt;</p>     <p>基于传入的私钥与公钥进行密钥协商，通过Promise返回共享密钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.KeyAgreement</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.KeyAgreement。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.157.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">priKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#prikey">PriKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置密钥协商的私钥输入。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">pubKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#pubkey">PubKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置密钥协商的公钥输入。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.157.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="50%">共享密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.157.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2430px;">     <h3 id="generatesecretsync12" device-type="phone,2in1,tablet,wearable,tv">generateSecretSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatesecretsync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateSecretSync(priKey: PriKey, pubKey: PubKey): DataBlob</p>     <p>基于传入的私钥与公钥进行密钥协商，通过同步返回共享密钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.KeyAgreement</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.158.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">priKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#prikey">PriKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置密钥协商的私钥输入。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">pubKey</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#pubkey">PubKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置密钥协商的公钥输入。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.158.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="50%">共享密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.158.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>callback示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testGenerateSecret</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> eccGen = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC256'</span>);</li><li>  <span class="hljs-keyword">let</span> globalKeyPair = <span class="hljs-keyword">await</span> eccGen.<span class="hljs-title function_">generateKeyPair</span>();</li><li>  <span class="hljs-keyword">let</span> keyAgreement = cryptoFramework.<span class="hljs-title function_">createKeyAgreement</span>(<span class="hljs-string">'ECC256'</span>);</li><li>  keyAgreement.<span class="hljs-title function_">generateSecret</span>(globalKeyPair.<span class="hljs-property">priKey</span>, globalKeyPair.<span class="hljs-property">pubKey</span>, <span class="hljs-function">(<span class="hljs-params">err, secret</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"keyAgreement error."</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'keyAgreement output is '</span> + secret.<span class="hljs-property">data</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>     <p><strong>Promise示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testGenerateSecret</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> eccGen = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC256'</span>);</li><li>  <span class="hljs-keyword">let</span> globalKeyPair = <span class="hljs-keyword">await</span> eccGen.<span class="hljs-title function_">generateKeyPair</span>();</li><li>  <span class="hljs-keyword">let</span> keyAgreement = cryptoFramework.<span class="hljs-title function_">createKeyAgreement</span>(<span class="hljs-string">'ECC256'</span>);</li><li>  <span class="hljs-keyword">let</span> keyAgreementPromise = keyAgreement.<span class="hljs-title function_">generateSecret</span>(globalKeyPair.<span class="hljs-property">priKey</span>, globalKeyPair.<span class="hljs-property">pubKey</span>);</li><li>  keyAgreementPromise.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">secret</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'keyAgreement output is '</span> + secret.<span class="hljs-property">data</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"keyAgreement error."</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>     <p><strong>Sync示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testGenerateSecretSync</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> eccGen = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'ECC256'</span>);</li><li>  <span class="hljs-keyword">let</span> globalKeyPair = <span class="hljs-keyword">await</span> eccGen.<span class="hljs-title function_">generateKeyPair</span>();</li><li>  <span class="hljs-keyword">let</span> keyAgreement = cryptoFramework.<span class="hljs-title function_">createKeyAgreement</span>(<span class="hljs-string">'ECC256'</span>);</li><li>  <span class="hljs-keyword">let</span> secret = keyAgreement.<span class="hljs-title function_">generateSecretSync</span>(globalKeyPair.<span class="hljs-property">priKey</span>, globalKeyPair.<span class="hljs-property">pubKey</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Sync]keyAgreement output is "</span> + secret.<span class="hljs-property">data</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1515px;">     <h2 id="cryptoframeworkcreatemd" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">cryptoFramework.createMd<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cryptoframeworkcreatemd" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>createMd(algName: string): Md</p>     <p>生成Md实例，用于进行消息摘要的计算与操作。</p>     <p>支持的规格详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-generate-message-digest-overview#支持的算法与规格" target="_blank">MD消息摘要算法规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.MessageDigest</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.MessageDigest。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.159.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">algName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定摘要算法，支持算法请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-generate-message-digest-overview#支持的算法与规格" target="_blank">MD消息摘要算法规格</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.159.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Md</td>         <td class="cellrowborder" width="50%">返回由输入算法指定生成的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#md">Md</a>对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.159.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// Set algName based on the algorithm supported.</span></li><li>  <span class="hljs-keyword">let</span> md = cryptoFramework.<span class="hljs-title function_">createMd</span>(<span class="hljs-string">'SHA256'</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="md" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">Md<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="md" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>Md类，调用Md方法可以进行MD（Message Digest）摘要计算。调用前，需要通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatemd">createMd</a>构造Md实例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h3 id="属性-9" device-type="phone,2in1,tablet,wearable,lite_wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.MessageDigest</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.MessageDigest。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.161.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">代表指定的摘要算法名。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1223px;">     <h3 id="update-6" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">update<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update-6" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>update(input: DataBlob, callback: AsyncCallback&lt;void&gt;): void</p>     <p>传入消息进行Md更新摘要状态，通过注册回调函数更新。update和digest为两段式接口，需要成组使用。其中digest必选，update可选。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>Md算法多次调用update更新的代码示例详见开发指导<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-generate-message-digest#分段摘要算法" target="_blank">消息摘要计算</a>。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.MessageDigest</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.MessageDigest。</p>     <p><strong>设备行为差异：</strong> 该接口仅在Phone、PC/2in1、Tablet、TV、Wearable设备中可正常调用，在Lite Wearable设备中返回undefined。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.162.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">input</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当摘要更新成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.162.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1301px;">     <h3 id="update-7" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">update<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update-7" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>update(input: DataBlob): Promise&lt;void&gt;</p>     <p>传入消息进行Md更新摘要状态，通过Promise更新。update和digest为两段式接口，需要成组使用。其中digest必选，update可选。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>Md算法多次调用update更新的代码示例详见开发指导<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-generate-message-digest#分段摘要算法" target="_blank">消息摘要计算</a>。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.MessageDigest</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.MessageDigest。</p>     <p><strong>设备行为差异：</strong> 该接口仅在Phone、PC/2in1、Tablet、TV、Wearable设备中可正常调用，在Lite Wearable设备中返回undefined。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.163.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">input</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.163.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.163.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 986px;">     <h3 id="updatesync12-3" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">updateSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatesync12-3" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>updateSync(input: DataBlob): void</p>     <p>传入消息进行Md更新摘要状态，通过同步方式更新。updateSync和digestSync为两段式接口，需要成组使用。其中digestSync必选，updateSync可选。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>Md算法多次调用updateSync更新的代码示例详见开发指导<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-generate-message-digest#分段摘要算法" target="_blank">消息摘要计算</a>。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.MessageDigest</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.164.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">input</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.164.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1336px;">     <h3 id="digest" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">digest<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="digest" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>digest(callback: AsyncCallback&lt;DataBlob&gt;): void</p>     <p>通过注册回调函数返回Md的计算结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.MessageDigest</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.MessageDigest。</p>     <p><strong>设备行为差异：</strong> 该接口仅在Phone、PC/2in1、Tablet、TV、Wearable设备中可正常调用，在Lite Wearable设备中返回undefined。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.165.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取DataBlob数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.165.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">mdByCallback</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> md = cryptoFramework.<span class="hljs-title function_">createMd</span>(<span class="hljs-string">'SHA256'</span>);</li><li>  md.<span class="hljs-title function_">update</span>({ <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"mdTestMessage"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) }, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    md.<span class="hljs-title function_">digest</span>(<span class="hljs-function">(<span class="hljs-params">err, digestOutput</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Callback]: MD result: '</span> + digestOutput.<span class="hljs-property">data</span>);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Callback]: MD len: '</span> + md.<span class="hljs-title function_">getMdLength</span>());</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1284px;">     <h3 id="digest-1" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">digest<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="digest-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>digest(): Promise&lt;DataBlob&gt;</p>     <p>通过Promise返回Md的计算结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.MessageDigest</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.MessageDigest。</p>     <p><strong>设备行为差异：</strong> 该接口仅在Phone、PC/2in1、Tablet、TV、Wearable设备中可正常调用，在Lite Wearable设备中返回undefined。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.166.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.166.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.166.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.166.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">mdByPromise</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> md = cryptoFramework.<span class="hljs-title function_">createMd</span>(<span class="hljs-string">'SHA256'</span>);</li><li>  <span class="hljs-keyword">await</span> md.<span class="hljs-title function_">update</span>({ <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"mdTestMessage"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) });</li><li>  <span class="hljs-keyword">let</span> mdOutput = <span class="hljs-keyword">await</span> md.<span class="hljs-title function_">digest</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Promise]: MD result: '</span> + mdOutput.<span class="hljs-property">data</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Promise]: MD len: '</span> + md.<span class="hljs-title function_">getMdLength</span>());</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1322px;">     <h3 id="digestsync12" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">digestSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="digestsync12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>digestSync(): DataBlob</p>     <p>通过同步方式返回Md的计算结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.MessageDigest</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="50%">表示生成的Md计算结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.167.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">mdBySync</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> md = cryptoFramework.<span class="hljs-title function_">createMd</span>(<span class="hljs-string">'SHA256'</span>);</li><li>  md.<span class="hljs-title function_">updateSync</span>({ <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"mdTestMessage"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) });</li><li>  <span class="hljs-keyword">let</span> mdOutput = md.<span class="hljs-title function_">digestSync</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Sync]: MD result: '</span> + mdOutput.<span class="hljs-property">data</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Sync]: MD len: '</span> + md.<span class="hljs-title function_">getMdLength</span>());</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1061px;">     <h3 id="getmdlength" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">getMdLength<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmdlength" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>getMdLength(): number</p>     <p>获取Md消息摘要的字节长度。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.MessageDigest</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.MessageDigest。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.168.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回md计算结果的字节长度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.168.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getLength</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> md = cryptoFramework.<span class="hljs-title function_">createMd</span>(<span class="hljs-string">'SHA256'</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Promise]: MD len: '</span> + md.<span class="hljs-title function_">getMdLength</span>());</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1539px;">     <h2 id="cryptoframeworkcreatemac" device-type="phone,2in1,tablet,wearable,tv">cryptoFramework.createMac<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cryptoframeworkcreatemac" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createMac(algName: string): Mac</p>     <p>生成Mac实例，用于消息认证码的计算与操作。</p>     <p>支持的规格详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-compute-mac-overview" target="_blank">HMAC消息认证码算法规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Mac。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.169.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">algName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定摘要算法，支持算法请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-compute-mac-overview" target="_blank">HMAC消息认证码算法规格</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.169.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Mac</td>         <td class="cellrowborder" width="50%">返回由输入算法指定生成的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#mac">Mac</a>对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.169.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// Set algName based on the algorithm supported.</span></li><li>  <span class="hljs-keyword">let</span> mac = cryptoFramework.<span class="hljs-title function_">createMac</span>(<span class="hljs-string">'SHA256'</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1697px;">     <h2 id="cryptoframeworkcreatemac18" device-type="phone,2in1,tablet,wearable,tv">cryptoFramework.createMac<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cryptoframeworkcreatemac18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createMac(macSpec: MacSpec): Mac</p>     <p>生成Mac实例，用于进行消息认证码的计算与操作。</p>     <p>支持的规格详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-compute-mac-overview" target="_blank">MAC消息认证码算法规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.170.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">macSpec</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#macspec18">MacSpec</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">根据消息验证码的不同算法，指定入参结构体，支持算法请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-compute-mac-overview" target="_blank">MAC消息认证码算法规格</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.170.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Mac</td>         <td class="cellrowborder" width="50%">返回由指定入参结构体生成的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#mac">Mac</a>对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.170.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// Set algName based on the algorithm supported.</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">spec</span>: cryptoFramework.<span class="hljs-property">HmacSpec</span> = {</li><li>    <span class="hljs-attr">algName</span>: <span class="hljs-string">"HMAC"</span>,</li><li>    <span class="hljs-attr">mdName</span>: <span class="hljs-string">"SHA256"</span>,</li><li>  };</li><li>  <span class="hljs-keyword">let</span> mac = cryptoFramework.<span class="hljs-title function_">createMac</span>(spec);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="mac" device-type="phone,2in1,tablet,wearable,tv">Mac<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mac" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Mac类，调用Mac方法可以进行MAC（Message Authentication Code）加密计算。调用前，需要通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatemac">createMac</a>构造Mac实例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h3 id="属性-10" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Mac。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.172.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">代表指定的摘要算法名。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1223px;">     <h3 id="init-6" device-type="phone,2in1,tablet,wearable,tv">init<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="init-6" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>init(key: SymKey, callback: AsyncCallback&lt;void&gt;): void</p>     <p>使用对称密钥初始化Mac计算，通过注册回调函数获取结果。init、update、doFinal为三段式接口，需要成组使用。其中init和doFinal必选，update可选。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>建议通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-sym-key-generation-conversion-spec#hmac" target="_blank">HMAC密钥生成规格</a>创建对称密钥生成器，调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#generatesymkey">generateSymKey</a>随机生成对称密钥或调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#convertkey">convertKey</a>传入与密钥规格长度一致的二进制密钥数据生成密钥。</p>       <p>当指定“HMAC”生成对称密钥生成器时，仅支持调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#convertkey">convertKey</a>传入长度在[1,4096]范围内（单位为byte）的任意二进制密钥数据生成密钥。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <p>API version 9-11 系统能力为SystemCapability.Security.CryptoFramework；从API version 12 开始为SystemCapability.Security.CryptoFramework.Mac。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.173.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#symkey">SymKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">对称密钥。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当HMAC初始化成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.173.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1137px;">     <h3 id="init-7" device-type="phone,2in1,tablet,wearable,tv">init<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="init-7" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>init(key: SymKey): Promise&lt;void&gt;</p>     <p>使用对称密钥初始化Mac计算，通过Promise获取结果。init、update、doFinal为三段式接口，需要成组使用。其中init和doFinal必选，update可选。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <p>API version 9-11 系统能力为SystemCapability.Security.CryptoFramework；从API version 12 开始为SystemCapability.Security.CryptoFramework.Mac。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.174.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#symkey">SymKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.174.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.174.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 894px;">     <h3 id="initsync12-3" device-type="phone,2in1,tablet,wearable,tv">initSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="initsync12-3" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>initSync(key: SymKey): void</p>     <p>使用对称密钥初始化Mac计算，通过同步方式获取结果。initSync、updateSync、doFinalSync为三段式接口，需要成组使用。其中initSync和doFinalSync必选，updateSync可选。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.175.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#symkey">SymKey</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">对称密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.175.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1127px;">     <h3 id="update-8" device-type="phone,2in1,tablet,wearable,tv">update<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update-8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>update(input: DataBlob, callback: AsyncCallback&lt;void&gt;): void</p>     <p>传入消息进行Mac更新消息认证码状态，通过注册回调函数获取结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>HMAC算法多次调用update更新的代码示例详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-compute-hmac#分段hmac" target="_blank">消息认证码计算</a>。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Mac。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.176.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">input</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当HMAC更新成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.176.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1205px;">     <h3 id="update-9" device-type="phone,2in1,tablet,wearable,tv">update<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update-9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>update(input: DataBlob): Promise&lt;void&gt;</p>     <p>传入消息进行Mac更新消息认证码状态，通过Promise获取结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>HMAC算法多次调用update更新的代码示例详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-compute-hmac#分段hmac" target="_blank">消息认证码计算</a>。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Mac。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.177.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">input</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.177.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.177.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 962px;">     <h3 id="updatesync12-4" device-type="phone,2in1,tablet,wearable,tv">updateSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatesync12-4" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateSync(input: DataBlob): void</p>     <p>传入消息进行Mac更新消息认证码状态，通过同步方式获取结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>HMAC算法多次调用updateSync更新的代码示例详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-compute-hmac#分段hmac" target="_blank">消息认证码计算</a>。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.178.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">input</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传入的消息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.178.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1456px;">     <h3 id="dofinal-2" device-type="phone,2in1,tablet,wearable,tv">doFinal<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dofinal-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>doFinal(callback: AsyncCallback&lt;DataBlob&gt;): void</p>     <p>通过注册回调函数返回Mac的计算结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Mac。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.179.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取DataBlob数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.179.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>此外，更多HMAC的完整示例可参考开发指导中<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-compute-hmac#分段hmac" target="_blank">消息认证码计算</a>。</p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">hmacByCallback</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> mac = cryptoFramework.<span class="hljs-title function_">createMac</span>(<span class="hljs-string">'SHA256'</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">keyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"12345678abcdefgh"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'AES128'</span>);</li><li>  symKeyGenerator.<span class="hljs-title function_">convertKey</span>(keyBlob, <span class="hljs-function">(<span class="hljs-params">err, symKey</span>) =&gt;</span> {</li><li>    mac.<span class="hljs-title function_">init</span>(symKey, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>      mac.<span class="hljs-title function_">update</span>({ <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"hmacTestMessage"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) }, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>        mac.<span class="hljs-title function_">doFinal</span>(<span class="hljs-function">(<span class="hljs-params">err, output</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Callback]: HMAC result: '</span> + output.<span class="hljs-property">data</span>);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Callback]: MAC len: '</span> + mac.<span class="hljs-title function_">getMacLength</span>());</li><li>        });</li><li>      });</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1356px;">     <h3 id="dofinal-3" device-type="phone,2in1,tablet,wearable,tv">doFinal<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dofinal-3" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>doFinal(): Promise&lt;DataBlob&gt;</p>     <p>通过Promise返回Mac的计算结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Mac。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.180.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.180.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.180.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.180.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>此外，更多HMAC的完整示例可参考开发指导<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-compute-hmac#分段hmac" target="_blank">消息认证码计算</a>。</p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">hmacByPromise</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> mac = cryptoFramework.<span class="hljs-title function_">createMac</span>(<span class="hljs-string">'SHA256'</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">keyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"12345678abcdefgh"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'AES128'</span>);</li><li>  <span class="hljs-keyword">let</span> symKey = <span class="hljs-keyword">await</span> symKeyGenerator.<span class="hljs-title function_">convertKey</span>(keyBlob);</li><li>  <span class="hljs-keyword">await</span> mac.<span class="hljs-title function_">init</span>(symKey);</li><li>  <span class="hljs-keyword">await</span> mac.<span class="hljs-title function_">update</span>({ <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"hmacTestMessage"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) });</li><li>  <span class="hljs-keyword">let</span> macOutput = <span class="hljs-keyword">await</span> mac.<span class="hljs-title function_">doFinal</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Promise]: HMAC result: '</span> + macOutput.<span class="hljs-property">data</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Promise]: MAC len: '</span> + mac.<span class="hljs-title function_">getMacLength</span>());</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1466px;">     <h3 id="dofinalsync12-1" device-type="phone,2in1,tablet,wearable,tv">doFinalSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dofinalsync12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>doFinalSync(): DataBlob</p>     <p>通过同步方式返回Mac的计算结果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.181.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="50%">返回Mac的计算结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.181.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>此外，更多HMAC的完整示例可参考开发指导<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-compute-hmac#分段hmac" target="_blank">消息认证码计算</a>。</p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">hmacBySync</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> mac = cryptoFramework.<span class="hljs-title function_">createMac</span>(<span class="hljs-string">'SHA256'</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">keyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"12345678abcdefgh"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'AES128'</span>);</li><li>  <span class="hljs-keyword">let</span> symKey = symKeyGenerator.<span class="hljs-title function_">convertKeySync</span>(keyBlob);</li><li>  mac.<span class="hljs-title function_">initSync</span>(symKey);</li><li>  mac.<span class="hljs-title function_">updateSync</span>({ <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(<span class="hljs-string">"hmacTestMessage"</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) });</li><li>  <span class="hljs-keyword">let</span> macOutput = mac.<span class="hljs-title function_">doFinalSync</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Sync]: HMAC result: '</span> + macOutput.<span class="hljs-property">data</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Sync]: MAC len: '</span> + mac.<span class="hljs-title function_">getMacLength</span>());</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1589px;">     <h3 id="getmaclength" device-type="phone,2in1,tablet,wearable,tv">getMacLength<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmaclength" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getMacLength(): number</p>     <p>获取Mac消息认证码的长度（字节数）。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Mac</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Mac。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.182.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回Mac计算结果的字节长度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.182.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGetMacLength</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> mac = cryptoFramework.<span class="hljs-title function_">createMac</span>(<span class="hljs-string">'SHA256'</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Mac algName is: '</span> + mac.<span class="hljs-property">algName</span>);</li><li>  <span class="hljs-keyword">let</span> keyData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">83</span>, <span class="hljs-number">217</span>, <span class="hljs-number">231</span>, <span class="hljs-number">76</span>, <span class="hljs-number">28</span>, <span class="hljs-number">113</span>, <span class="hljs-number">23</span>, <span class="hljs-number">219</span>, <span class="hljs-number">250</span>, <span class="hljs-number">71</span>, <span class="hljs-number">209</span>, <span class="hljs-number">210</span>, <span class="hljs-number">205</span>, <span class="hljs-number">97</span>, <span class="hljs-number">32</span>, <span class="hljs-number">159</span>]);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">keyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: keyData };</li><li>  <span class="hljs-keyword">let</span> symKeyGenerator = cryptoFramework.<span class="hljs-title function_">createSymKeyGenerator</span>(<span class="hljs-string">'AES128'</span>);</li><li>  <span class="hljs-keyword">let</span> promiseConvertKey = symKeyGenerator.<span class="hljs-title function_">convertKey</span>(keyBlob);</li><li>  promiseConvertKey.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">symKey</span> =&gt;</span> {</li><li>    <span class="hljs-keyword">let</span> promiseMacInit = mac.<span class="hljs-title function_">init</span>(symKey);</li><li>    <span class="hljs-keyword">return</span> promiseMacInit;</li><li>  }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">blob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { data : <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">83</span>])};</li><li>    <span class="hljs-keyword">let</span> promiseMacUpdate = mac.<span class="hljs-title function_">update</span>(blob);</li><li>    <span class="hljs-keyword">return</span> promiseMacUpdate;</li><li>  }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-keyword">let</span> promiseMacDoFinal = mac.<span class="hljs-title function_">doFinal</span>();</li><li>    <span class="hljs-keyword">return</span> promiseMacDoFinal;</li><li>  }).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">macOutput</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Promise]: HMAC result: '</span> + macOutput.<span class="hljs-property">data</span>);</li><li>    <span class="hljs-keyword">let</span> macLen = mac.<span class="hljs-title function_">getMacLength</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'MAC len: '</span> + macLen);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Promise]: error: "</span> + error.<span class="hljs-property">message</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1189px;">     <h2 id="cryptoframeworkcreaterandom" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">cryptoFramework.createRandom<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cryptoframeworkcreaterandom" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>createRandom(): Random</p>     <p>生成Random实例，用于进行随机数的计算与设置种子。</p>     <p>支持的规格详见框架概述<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-generate-random-number#支持的算法与规格" target="_blank">随机数算法规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Rand</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Rand。</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.183.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#random">Random</a></td>         <td class="cellrowborder" width="50%">返回由输入算法指定生成的<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#random">Random</a>对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.183.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> rand = cryptoFramework.<span class="hljs-title function_">createRandom</span>();</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="random" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">Random<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="random" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>Random类，调用Random方法可以进行随机数计算。调用前，需要通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreaterandom">createRandom</a>构造Random实例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 429px;">     <h3 id="属性-11" device-type="phone,2in1,tablet,wearable,lite_wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Rand</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Rand。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.185.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName<sup>10+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">代表当前使用的随机数生成算法，目前只支持“CTR_DRBG"。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1508px;">     <h3 id="generaterandom" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">generateRandom<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generaterandom" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>generateRandom(len: number, callback: AsyncCallback&lt;DataBlob&gt;): void</p>     <p>异步生成指定长度的随机数，通过注册回调函数返回。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Rand</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Rand。</p>     <p><strong>设备行为差异：</strong> 该接口仅在Phone、PC/2in1、Tablet、TV、Wearable设备中可正常调用，在Lite Wearable设备中返回undefined。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.186.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">len</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示生成随机数的长度，单位为byte，范围在[1, INT_MAX]。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取DataBlob数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.186.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> rand = cryptoFramework.<span class="hljs-title function_">createRandom</span>();</li><li>rand.<span class="hljs-title function_">generateRandom</span>(<span class="hljs-number">12</span>, <span class="hljs-function">(<span class="hljs-params">err, randData</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Callback] err: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Callback]: generate random result: '</span> + randData.<span class="hljs-property">data</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1610px;">     <h3 id="generaterandom-1" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">generateRandom<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generaterandom-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>generateRandom(len: number): Promise&lt;DataBlob&gt;</p>     <p>异步生成指定长度的随机数，通过Promise返回。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Rand</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Rand。</p>     <p><strong>设备行为差异：</strong> 该接口仅在Phone、PC/2in1、Tablet、TV、Wearable设备中可正常调用，在Lite Wearable设备中返回undefined。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.187.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">len</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示生成随机数的长度，单位为byte，范围在[1, INT_MAX]。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.187.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.187.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> rand = cryptoFramework.<span class="hljs-title function_">createRandom</span>();</li><li><span class="hljs-keyword">let</span> promiseGenerateRand = rand.<span class="hljs-title function_">generateRandom</span>(<span class="hljs-number">12</span>);</li><li>promiseGenerateRand.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">randData</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Promise]: rand result: '</span> + randData.<span class="hljs-property">data</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Promise]: error: "</span> + error.<span class="hljs-property">message</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1658px;">     <h3 id="generaterandomsync10" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">generateRandomSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generaterandomsync10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>generateRandomSync(len: number): DataBlob</p>     <p>同步生成指定长度的随机数。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Rand</p>     <p>API version 10-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Rand。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.188.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">len</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示生成随机数的长度，单位为byte，范围在[1, INT_MAX]。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.188.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="50%">表示生成的随机数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.188.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> rand = cryptoFramework.<span class="hljs-title function_">createRandom</span>();</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> randData = rand.<span class="hljs-title function_">generateRandomSync</span>(<span class="hljs-number">12</span>);</li><li>  <span class="hljs-keyword">if</span> (randData != <span class="hljs-literal">null</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Sync]: rand result: '</span> + randData.<span class="hljs-property">data</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Sync]: get rand result fail!"</span>);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1271px;">     <h3 id="enablehardwareentropy21" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">enableHardwareEntropy<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enablehardwareentropy21" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>enableHardwareEntropy(): void</p>     <p>开启硬件熵源。</p>     <p><strong>元服务API：</strong> 从API version 21开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Rand</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.189.8.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.8.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> rand = cryptoFramework.<span class="hljs-title function_">createRandom</span>();</li><li>rand.<span class="hljs-title function_">enableHardwareEntropy</span>();</li><li>rand.<span class="hljs-title function_">generateRandom</span>(<span class="hljs-number">12</span>, <span class="hljs-function">(<span class="hljs-params">err, randData</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Callback] err: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Callback]: generate random result: '</span> + randData.<span class="hljs-property">data</span>);</li><li>    <span class="hljs-keyword">try</span> {</li><li>      rand.<span class="hljs-title function_">setSeed</span>(randData);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1305px;">     <h3 id="setseed" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">setSeed<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setseed" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>setSeed(seed: DataBlob): void</p>     <p>设置指定的种子。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Rand</p>     <p>API version 9-11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Rand。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.190.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">seed</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置的种子。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.190.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> rand = cryptoFramework.<span class="hljs-title function_">createRandom</span>();</li><li>rand.<span class="hljs-title function_">generateRandom</span>(<span class="hljs-number">12</span>, <span class="hljs-function">(<span class="hljs-params">err, randData</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[Callback] err: "</span> + err.<span class="hljs-property">code</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[Callback]: generate random result: '</span> + randData.<span class="hljs-property">data</span>);</li><li>    <span class="hljs-keyword">try</span> {</li><li>      rand.<span class="hljs-title function_">setSeed</span>(randData);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sync error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1570px;">     <h2 id="cryptoframeworkcreatekdf11" device-type="phone,2in1,tablet,wearable,tv">cryptoFramework.createKdf<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cryptoframeworkcreatekdf11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createKdf(algName: string): Kdf</p>     <p>密钥派生函数（key derivation function）实例生成。</p>     <p>支持的规格详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-key-derivation-overview" target="_blank">密钥派生函数规格</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Kdf</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Kdf。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.191.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">algName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定密钥派生算法（包含HMAC配套的散列函数）：目前支持PBKDF2、HKDF算法、SCRYPT算法，如"PBKDF2|SHA256", "HKDF|SHA256", "SCRYPT"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.191.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#kdf11">Kdf</a></td>         <td class="cellrowborder" width="50%">返回由输入算法指定生成的Kdf对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.191.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">this operation is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <ul>      <li>PBKDF2算法</li>     </ul>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> kdf = cryptoFramework.<span class="hljs-title function_">createKdf</span>(<span class="hljs-string">'PBKDF2|SHA256'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 206px;">     <h2 id="kdf11" device-type="phone,2in1,tablet,wearable,tv">Kdf<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="kdf11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>密钥派生函数（key derivation function）类，使用密钥派生方法之前需要创建该类的实例进行操作，通过createKdf(algName: string): Kdf方法构造此实例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h3 id="属性-12" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Kdf</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Kdf。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.193.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">algName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">密钥派生函数的算法名称。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2128px;">     <h3 id="generatesecret11" device-type="phone,2in1,tablet,wearable,tv">generateSecret<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatesecret11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateSecret(params: KdfSpec, callback: AsyncCallback&lt;DataBlob&gt;): void</p>     <p>基于传入的密钥派生参数进行密钥派生，通过注册回调函数返回派生得到的密钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Kdf</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Kdf。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.194.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#kdfspec11">KdfSpec</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置密钥派生函数的参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取派生得到的密钥DataBlob数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.194.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <ul>      <li>       <p>PBKDF2算法</p>       <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">spec</span>: cryptoFramework.<span class="hljs-property">PBKDF2Spec</span> = {</li><li>  <span class="hljs-attr">algName</span>: <span class="hljs-string">'PBKDF2'</span>,</li><li>  <span class="hljs-attr">password</span>: <span class="hljs-string">'123456'</span>,</li><li>  <span class="hljs-attr">salt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">16</span>),</li><li>  <span class="hljs-attr">iterations</span>: <span class="hljs-number">10000</span>,</li><li>  <span class="hljs-attr">keySize</span>: <span class="hljs-number">32</span></li><li>};</li><li><span class="hljs-keyword">let</span> kdf = cryptoFramework.<span class="hljs-title function_">createKdf</span>(<span class="hljs-string">'PBKDF2|SHA256'</span>);</li><li>kdf.<span class="hljs-title function_">generateSecret</span>(spec, <span class="hljs-function">(<span class="hljs-params">err, secret</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"key derivation error."</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'key derivation output is '</span> + secret.<span class="hljs-property">data</span>);</li><li>});</li></ol></pre></div></div></li>      <li>       <p>HKDF算法</p>       <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">spec</span>: cryptoFramework.<span class="hljs-property">HKDFSpec</span> = {</li><li>  <span class="hljs-attr">algName</span>: <span class="hljs-string">'HKDF'</span>,</li><li>  <span class="hljs-attr">key</span>: <span class="hljs-string">'123456'</span>,</li><li>  <span class="hljs-attr">salt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">16</span>),</li><li>  <span class="hljs-attr">info</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">16</span>),</li><li>  <span class="hljs-attr">keySize</span>: <span class="hljs-number">32</span></li><li>};</li><li><span class="hljs-keyword">let</span> kdf = cryptoFramework.<span class="hljs-title function_">createKdf</span>(<span class="hljs-string">'HKDF|SHA256|EXTRACT_AND_EXPAND'</span>);</li><li>kdf.<span class="hljs-title function_">generateSecret</span>(spec, <span class="hljs-function">(<span class="hljs-params">err, secret</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"key derivation error."</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'key derivation output is '</span> + secret.<span class="hljs-property">data</span>);</li><li>});</li></ol></pre></div></div></li>     </ul>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2230px;">     <h3 id="generatesecret11-1" device-type="phone,2in1,tablet,wearable,tv">generateSecret<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatesecret11-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateSecret(params: KdfSpec): Promise&lt;DataBlob&gt;</p>     <p>基于传入的密钥派生参数进行密钥派生，通过Promise形式返回派生得到的密钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Kdf</p>     <p>API version 11系统能力为SystemCapability.Security.CryptoFramework；从API version 12开始为SystemCapability.Security.CryptoFramework.Kdf。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.195.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#kdfspec11">KdfSpec</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置密钥派生函数的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.195.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a>&gt;</td>         <td class="cellrowborder" width="50%">通过Promise形式返回派生得到的密钥。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.195.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <ul>      <li>       <p>PBKDF2算法</p>       <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">spec</span>: cryptoFramework.<span class="hljs-property">PBKDF2Spec</span> = {</li><li>  <span class="hljs-attr">algName</span>: <span class="hljs-string">'PBKDF2'</span>,</li><li>  <span class="hljs-attr">password</span>: <span class="hljs-string">'123456'</span>,</li><li>  <span class="hljs-attr">salt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">16</span>),</li><li>  <span class="hljs-attr">iterations</span>: <span class="hljs-number">10000</span>,</li><li>  <span class="hljs-attr">keySize</span>: <span class="hljs-number">32</span></li><li>};</li><li><span class="hljs-keyword">let</span> kdf = cryptoFramework.<span class="hljs-title function_">createKdf</span>(<span class="hljs-string">'PBKDF2|SHA256'</span>);</li><li><span class="hljs-keyword">let</span> kdfPromise = kdf.<span class="hljs-title function_">generateSecret</span>(spec);</li><li>kdfPromise.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">secret</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'key derivation output is '</span> + secret.<span class="hljs-property">data</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"key derivation error, "</span> + error.<span class="hljs-property">message</span>);</li><li>});</li></ol></pre></div></div></li>      <li>       <p>HKDF算法</p>       <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">spec</span>: cryptoFramework.<span class="hljs-property">HKDFSpec</span> = {</li><li>  <span class="hljs-attr">algName</span>: <span class="hljs-string">'HKDF'</span>,</li><li>  <span class="hljs-attr">key</span>: <span class="hljs-string">'123456'</span>,</li><li>  <span class="hljs-attr">salt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">16</span>),</li><li>  <span class="hljs-attr">info</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">16</span>),</li><li>  <span class="hljs-attr">keySize</span>: <span class="hljs-number">32</span></li><li>};</li><li><span class="hljs-keyword">let</span> kdf = cryptoFramework.<span class="hljs-title function_">createKdf</span>(<span class="hljs-string">'HKDF|SHA256|EXTRACT_AND_EXPAND'</span>);</li><li><span class="hljs-keyword">let</span> kdfPromise = kdf.<span class="hljs-title function_">generateSecret</span>(spec);</li><li>kdfPromise.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">secret</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'key derivation output is '</span> + secret.<span class="hljs-property">data</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"key derivation error, "</span> + error.<span class="hljs-property">message</span>);</li><li>});</li></ol></pre></div></div></li>     </ul>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1973px;">     <h3 id="generatesecretsync12-1" device-type="phone,2in1,tablet,wearable,tv">generateSecretSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="generatesecretsync12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>generateSecretSync(params: KdfSpec): DataBlob</p>     <p>基于传入的密钥派生参数进行密钥派生，通过同步方式返回派生得到的密钥。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Kdf</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.196.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#kdfspec11">KdfSpec</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置密钥派生函数的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.196.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#datablob">DataBlob</a></td>         <td class="cellrowborder" width="50%">用于获取派生得到的密钥DataBlob数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.196.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>invalid parameters. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified;</p>          <p>2. Incorrect parameter types;</p>          <p>3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <ul>      <li>       <p>PBKDF2算法</p>       <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">spec</span>: cryptoFramework.<span class="hljs-property">PBKDF2Spec</span> = {</li><li>  <span class="hljs-attr">algName</span>: <span class="hljs-string">'PBKDF2'</span>,</li><li>  <span class="hljs-attr">password</span>: <span class="hljs-string">'123456'</span>,</li><li>  <span class="hljs-attr">salt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">16</span>),</li><li>  <span class="hljs-attr">iterations</span>: <span class="hljs-number">10000</span>,</li><li>  <span class="hljs-attr">keySize</span>: <span class="hljs-number">32</span></li><li>};</li><li><span class="hljs-keyword">let</span> kdf = cryptoFramework.<span class="hljs-title function_">createKdf</span>(<span class="hljs-string">'PBKDF2|SHA256'</span>);</li><li><span class="hljs-keyword">let</span> secret = kdf.<span class="hljs-title function_">generateSecretSync</span>(spec);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Sync]key derivation output is "</span> + secret.<span class="hljs-property">data</span>);</li></ol></pre></div></div></li>      <li>       <p>HKDF算法</p>       <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">spec</span>: cryptoFramework.<span class="hljs-property">HKDFSpec</span> = {</li><li>  <span class="hljs-attr">algName</span>: <span class="hljs-string">'HKDF'</span>,</li><li>  <span class="hljs-attr">key</span>: <span class="hljs-string">'123456'</span>,</li><li>  <span class="hljs-attr">salt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">16</span>),</li><li>  <span class="hljs-attr">info</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">16</span>),</li><li>  <span class="hljs-attr">keySize</span>: <span class="hljs-number">32</span></li><li>};</li><li><span class="hljs-keyword">let</span> kdf = cryptoFramework.<span class="hljs-title function_">createKdf</span>(<span class="hljs-string">'HKDF|SHA256|EXTRACT_AND_EXPAND'</span>);</li><li><span class="hljs-keyword">let</span> secret = kdf.<span class="hljs-title function_">generateSecretSync</span>(spec);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Sync]key derivation output is "</span> + secret.<span class="hljs-property">data</span>);</li></ol></pre></div></div></li>     </ul>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="signatureutils20" device-type="phone,2in1,tablet,wearable,tv">SignatureUtils<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="signatureutils20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>用于SM2数据转换的工具类。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1553px;">     <h3 id="geneccsignaturespec20" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">genEccSignatureSpec<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geneccsignaturespec20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static genEccSignatureSpec(data: Uint8Array): EccSignatureSpec</p>     <p>从ASN1 DER格式的sm2签名数据获取r和s。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.198.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%">Uint8Array</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">ASN1 DER格式的签名数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.198.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#eccsignaturespec20">EccSignatureSpec</a></td>         <td class="cellrowborder" width="50%">包含r和s的数据结构体。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.198.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620003</td>         <td class="cellrowborder" width="50%">          <p>parameter check failed. Possible causes:</p>          <p>1. The length of the data parameter is 0 or too large.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGenEccSignatureSpec</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> data =</li><li>      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">69</span>, <span class="hljs-number">2</span>, <span class="hljs-number">33</span>, <span class="hljs-number">0</span>, <span class="hljs-number">216</span>, <span class="hljs-number">15</span>, <span class="hljs-number">76</span>, <span class="hljs-number">238</span>, <span class="hljs-number">158</span>, <span class="hljs-number">165</span>, <span class="hljs-number">108</span>, <span class="hljs-number">76</span>, <span class="hljs-number">72</span>, <span class="hljs-number">63</span>, <span class="hljs-number">115</span>, <span class="hljs-number">52</span>, <span class="hljs-number">255</span>, <span class="hljs-number">51</span>, <span class="hljs-number">149</span>, <span class="hljs-number">54</span>, <span class="hljs-number">224</span>,</li><li>        <span class="hljs-number">179</span>, <span class="hljs-number">49</span>, <span class="hljs-number">225</span>, <span class="hljs-number">70</span>, <span class="hljs-number">36</span>, <span class="hljs-number">117</span>, <span class="hljs-number">88</span>, <span class="hljs-number">154</span>, <span class="hljs-number">154</span>, <span class="hljs-number">27</span>, <span class="hljs-number">194</span>, <span class="hljs-number">161</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">115</span>, <span class="hljs-number">2</span>, <span class="hljs-number">32</span>, <span class="hljs-number">51</span>, <span class="hljs-number">9</span>, <span class="hljs-number">53</span>, <span class="hljs-number">55</span>, <span class="hljs-number">248</span>, <span class="hljs-number">82</span>, <span class="hljs-number">7</span>, <span class="hljs-number">159</span>, <span class="hljs-number">179</span>,</li><li>        <span class="hljs-number">144</span>, <span class="hljs-number">57</span>, <span class="hljs-number">151</span>, <span class="hljs-number">195</span>, <span class="hljs-number">17</span>, <span class="hljs-number">31</span>, <span class="hljs-number">106</span>, <span class="hljs-number">123</span>, <span class="hljs-number">32</span>, <span class="hljs-number">139</span>, <span class="hljs-number">219</span>, <span class="hljs-number">6</span>, <span class="hljs-number">253</span>, <span class="hljs-number">62</span>, <span class="hljs-number">240</span>, <span class="hljs-number">181</span>, <span class="hljs-number">134</span>, <span class="hljs-number">214</span>, <span class="hljs-number">107</span>, <span class="hljs-number">27</span>, <span class="hljs-number">230</span>, <span class="hljs-number">175</span>, <span class="hljs-number">40</span>])</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">spec</span>: cryptoFramework.<span class="hljs-property">EccSignatureSpec</span> = cryptoFramework.<span class="hljs-property">SignatureUtils</span>.<span class="hljs-title function_">genEccSignatureSpec</span>(data)</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'genEccSignatureSpec success'</span>);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ecc error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1617px;">     <h3 id="geneccsignature20" device-type="phone,2in1,tablet,wearable,tv">genEccSignature<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geneccsignature20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static genEccSignature(spec: EccSignatureSpec): Uint8Array;</p>     <p>将（r、s）的sm2签名数据转换为ASN1 DER格式。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Security.CryptoFramework.Signature</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">spec</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#eccsignaturespec20">EccSignatureSpec</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">（r、s）的sm2签名数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.199.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Uint8Array</td>         <td class="cellrowborder" width="50%">ASN1 DER格式的签名数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-crypto-framework">crypto framework错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.199.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">17620001</td>         <td class="cellrowborder" width="50%">memory operation failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620002</td>         <td class="cellrowborder" width="50%">failed to convert parameters between arkts and c.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17620003</td>         <td class="cellrowborder" width="50%">          <p>parameter check failed. Possible causes:</p>          <p>1. The r or s value of the spec parameter is 0 or too large.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">17630001</td>         <td class="cellrowborder" width="50%">crypto operation error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-euy-c106="" class="highlight-div"><div _ngcontent-euy-c106="" class="highlight-div-header"><div _ngcontent-euy-c106="" class="highlight-div-header-left"><div _ngcontent-euy-c106="" class="handle-button expand-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-euy-c106="" class="highlight-div-header-right"><div _ngcontent-euy-c106="" class="handle-button ai-button"></div><div _ngcontent-euy-c106="" class="handle-button line-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-euy-c106="" class="handle-button theme-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-euy-c106="" class="handle-button copy-button"><div _ngcontent-euy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-euy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGenEccSignature</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">spec</span>: cryptoFramework.<span class="hljs-property">EccSignatureSpec</span> = {</li><li>      <span class="hljs-attr">r</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'97726608965854271693043443511967021777934035174185659091642456228829830775155'</span>),</li><li>      <span class="hljs-attr">s</span>: <span class="hljs-title class_">BigInt</span>(<span class="hljs-string">'23084224202834231287427338597254751764391338275617140205467537273296855150376'</span>),</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> data = cryptoFramework.<span class="hljs-property">SignatureUtils</span>.<span class="hljs-title function_">genEccSignature</span>(spec)</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'genEccSignature success'</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data is '</span> + data)</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ecc error, <span class="hljs-subst">${e.code}</span>, <span class="hljs-subst">${e.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>